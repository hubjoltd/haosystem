var EM=Object.defineProperty,wM=Object.defineProperties;var OM=Object.getOwnPropertyDescriptors;var Cl=Object.getOwnPropertySymbols;var E_=Object.prototype.hasOwnProperty,w_=Object.prototype.propertyIsEnumerable;var P_=(n,t,e)=>t in n?EM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,T=(n,t)=>{for(var e in t||={})E_.call(t,e)&&P_(n,e,t[e]);if(Cl)for(var e of Cl(t))w_.call(t,e)&&P_(n,e,t[e]);return n},me=(n,t)=>wM(n,OM(t));var Vm=(n,t)=>{var e={};for(var i in n)E_.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&Cl)for(var i of Cl(n))t.indexOf(i)<0&&w_.call(n,i)&&(e[i]=n[i]);return e};var Bt=null,xl=!1,Wm=1,IM=null,Yt=Symbol("SIGNAL");function Pe(n){let t=Bt;return Bt=n,t}function Ml(){return Bt}var Pa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ea(n){if(xl)throw new Error("");if(Bt===null)return;Bt.consumerOnSignalRead(n);let t=Bt.producersTail;if(t!==void 0&&t.producer===n)return;let e,i=Bt.recomputing;if(i&&(e=t!==void 0?t.nextProducer:Bt.producers,e!==void 0&&e.producer===n)){Bt.producersTail=e,e.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===Bt&&(!i||TM(r,Bt)))return;let s=fo(Bt),p={producer:n,consumer:Bt,nextProducer:e,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};Bt.producersTail=p,t!==void 0?t.nextProducer=p:Bt.producers=p,s&&T_(n,p)}function O_(){Wm++}function jm(n){if(!(fo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Wm)){if(!n.producerMustRecompute(n)&&!Pl(n)){Bm(n);return}n.producerRecomputeValue(n),Bm(n)}}function qm(n){if(n.consumers===void 0)return;let t=xl;xl=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let i=e.consumer;i.dirty||DM(i)}}finally{xl=t}}function Hm(){return Bt?.consumerAllowSignalWrites!==!1}function DM(n){n.dirty=!0,qm(n),n.consumerMarkedDirty?.(n)}function Bm(n){n.dirty=!1,n.lastCleanEpoch=Wm}function wa(n){return n&&I_(n),Pe(n)}function I_(n){n.producersTail=void 0,n.recomputing=!0}function Sl(n,t){Pe(t),n&&D_(n)}function D_(n){n.recomputing=!1;let t=n.producersTail,e=t!==void 0?t.nextProducer:n.producers;if(e!==void 0){if(fo(n))do e=zm(e);while(e!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Pl(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,i=t.lastReadVersion;if(i!==e.version||(jm(e),i!==e.version))return!0}return!1}function Oa(n){if(fo(n)){let t=n.producers;for(;t!==void 0;)t=zm(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function T_(n,t){let e=n.consumersTail,i=fo(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)T_(r.producer,r)}function zm(n){let t=n.producer,e=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:t.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(t.consumers=i,!fo(t)){let s=t.producers;for(;s!==void 0;)s=zm(s)}return e}function fo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Gm(n){IM?.(n)}function TM(n,t){let e=t.producersTail;if(e!==void 0){let i=t.producers;do{if(i===n)return!0;if(i===e)break;i=i.nextProducer}while(i!==void 0)}return!1}function $m(n,t){return Object.is(n,t)}function El(n,t){let e=Object.create(kM);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(jm(e),Ea(e),e.value===bl)throw e.error;return e.value};return i[Yt]=e,Gm(e),i}var Lm=Symbol("UNSET"),Um=Symbol("COMPUTING"),bl=Symbol("ERRORED"),kM=me(T({},Pa),{value:Lm,dirty:!0,error:null,equal:$m,kind:"computed",producerMustRecompute(n){return n.value===Lm||n.value===Um},producerRecomputeValue(n){if(n.value===Um)throw new Error("");let t=n.value;n.value=Um;let e=wa(n),i,r=!1;try{i=n.computation(),Pe(null),r=t!==Lm&&t!==bl&&i!==bl&&n.equal(t,i)}catch(s){i=bl,n.error=s}finally{Sl(n,e)}if(r){n.value=t;return}n.value=i,n.version++}});function RM(){throw new Error}var k_=RM;function R_(n){k_(n)}function Qm(n){k_=n}var AM=null;function Jm(n,t){let e=Object.create(wl);e.value=n,t!==void 0&&(e.equal=t);let i=()=>A_(e);return i[Yt]=e,Gm(e),[i,p=>Ia(e,p),p=>N_(e,p)]}function A_(n){return Ea(n),n.value}function Ia(n,t){Hm()||R_(n),n.equal(n.value,t)||(n.value=t,NM(n))}function N_(n,t){Hm()||R_(n),Ia(n,t(n.value))}var wl=me(T({},Pa),{equal:$m,value:void 0,kind:"signal"});function NM(n){n.version++,O_(),qm(n),AM?.(n)}function Km(n){let t=Pe(null);try{return n()}finally{Pe(t)}}function Me(n){return typeof n=="function"}function ho(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ol=ho(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function br(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var yt=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let s of e)s.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(Me(i))try{i()}catch(s){t=s instanceof Ol?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{F_(s)}catch(p){t=t??[],p instanceof Ol?t=[...t,...p.errors]:t.push(p)}}if(t)throw new Ol(t)}}add(t){var e;if(t&&t!==this)if(this.closed)F_(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&br(e,t)}remove(t){let{_finalizers:e}=this;e&&br(e,t),t instanceof n&&t._removeParent(this)}};yt.EMPTY=(()=>{let n=new yt;return n.closed=!0,n})();var Ym=yt.EMPTY;function Il(n){return n instanceof yt||n&&"closed"in n&&Me(n.remove)&&Me(n.add)&&Me(n.unsubscribe)}function F_(n){Me(n)?n():n.unsubscribe()}var jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(n,t,...e){let{delegate:i}=_o;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=_o;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Dl(n){_o.setTimeout(()=>{let{onUnhandledError:t}=jn;if(t)t(n);else throw n})}function Da(){}var V_=Zm("C",void 0,void 0);function L_(n){return Zm("E",void 0,n)}function U_(n){return Zm("N",n,void 0)}function Zm(n,t,e){return{kind:n,value:t,error:e}}var Mr=null;function vo(n){if(jn.useDeprecatedSynchronousErrorHandling){let t=!Mr;if(t&&(Mr={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=Mr;if(Mr=null,e)throw i}}else n()}function B_(n){jn.useDeprecatedSynchronousErrorHandling&&Mr&&(Mr.errorThrown=!0,Mr.error=n)}var Sr=class extends yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Il(t)&&t.add(this)):this.destination=LM}static create(t,e,i){return new yo(t,e,i)}next(t){this.isStopped?e0(U_(t),this):this._next(t)}error(t){this.isStopped?e0(L_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?e0(V_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FM=Function.prototype.bind;function Xm(n,t){return FM.call(n,t)}var t0=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Tl(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Tl(i)}else Tl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Tl(e)}}},yo=class extends Sr{constructor(t,e,i){super();let r;if(Me(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&jn.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Xm(t.next,s),error:t.error&&Xm(t.error,s),complete:t.complete&&Xm(t.complete,s)}):r=t}this.destination=new t0(r)}};function Tl(n){jn.useDeprecatedSynchronousErrorHandling?B_(n):Dl(n)}function VM(n){throw n}function e0(n,t){let{onStoppedNotification:e}=jn;e&&_o.setTimeout(()=>e(n,t))}var LM={closed:!0,next:Da,error:VM,complete:Da};var Co=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qn(n){return n}function n0(...n){return i0(n)}function i0(n){return n.length===0?qn:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var Re=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let s=BM(e)?e:new yo(e,i,r);return vo(()=>{let{operator:p,source:h}=this;s.add(p?p.call(s,h):h?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=W_(i),new i((r,s)=>{let p=new yo({next:h=>{try{e(h)}catch(y){s(y),p.unsubscribe()}},error:s,complete:r});this.subscribe(p)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Co](){return this}pipe(...e){return i0(e)(this)}toPromise(e){return e=W_(e),new e((i,r)=>{let s;this.subscribe(p=>s=p,p=>r(p),()=>i(s))})}}return n.create=t=>new n(t),n})();function W_(n){var t;return(t=n??jn.Promise)!==null&&t!==void 0?t:Promise}function UM(n){return n&&Me(n.next)&&Me(n.error)&&Me(n.complete)}function BM(n){return n&&n instanceof Sr||UM(n)&&Il(n)}function WM(n){return Me(n?.lift)}function qe(n){return t=>{if(WM(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function He(n,t,e,i,r){return new r0(n,t,e,i,r)}var r0=class extends Sr{constructor(t,e,i,r,s,p){super(t),this.onFinalize=s,this.shouldUnsubscribe=p,this._next=e?function(h){try{e(h)}catch(y){t.error(y)}}:super._next,this._error=r?function(h){try{r(h)}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var j_=ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new kl(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new j_}next(e){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Ym:(this.currentObservers=null,s.push(e),new yt(()=>{this.currentObservers=null,br(s,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){let e=new Re;return e.source=this,e}}return n.create=(t,e)=>new kl(t,e),n})(),kl=class extends Ct{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:Ym}};var Ze=class extends Ct{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var o0={now(){return(o0.delegate||Date).now()},delegate:void 0};var Rl=class extends yt{constructor(t,e){super()}schedule(t,e=0){return this}};var Ta={setInterval(n,t,...e){let{delegate:i}=Ta;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Ta;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Al=class extends Rl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Ta.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&Ta.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,r;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,br(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var xo=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};xo.now=o0.now;var Nl=class extends xo{constructor(t,e=xo.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var a0=new Nl(Al),q_=a0;var ln=new Re(n=>n.complete());function Fl(n){return n&&Me(n.schedule)}function H_(n){return n[n.length-1]}function Vl(n){return Me(H_(n))?n.pop():void 0}function ji(n){return Fl(H_(n))?n.pop():void 0}function G_(n,t,e,i){function r(s){return s instanceof e?s:new e(function(p){p(s)})}return new(e||(e=Promise))(function(s,p){function h(P){try{S(i.next(P))}catch(I){p(I)}}function y(P){try{S(i.throw(P))}catch(I){p(I)}}function S(P){P.done?s(P.value):r(P.value).then(h,y)}S((i=i.apply(n,t||[])).next())})}function z_(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pr(n){return this instanceof Pr?(this.v=n,this):new Pr(n)}function $_(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(D){return function(j){return Promise.resolve(j).then(D,I)}}function h(D,j){i[D]&&(r[D]=function(Y){return new Promise(function(X,ie){s.push([D,Y,X,ie])>1||y(D,Y)})},j&&(r[D]=j(r[D])))}function y(D,j){try{S(i[D](j))}catch(Y){R(s[0][3],Y)}}function S(D){D.value instanceof Pr?Promise.resolve(D.value.v).then(P,I):R(s[0][2],D)}function P(D){y("next",D)}function I(D){y("throw",D)}function R(D,j){D(j),s.shift(),s.length&&y(s[0][0],s[0][1])}}function Q_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof z_=="function"?z_(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(p){return new Promise(function(h,y){p=n[s](p),r(h,y,p.done,p.value)})}}function r(s,p,h,y){Promise.resolve(y).then(function(S){s({value:S,done:h})},p)}}var Ll=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ul(n){return Me(n?.then)}function Bl(n){return Me(n[Co])}function Wl(n){return Symbol.asyncIterator&&Me(n?.[Symbol.asyncIterator])}function jl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ql=jM();function Hl(n){return Me(n?.[ql])}function zl(n){return $_(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield Pr(e.read());if(r)return yield Pr(void 0);yield yield Pr(i)}}finally{e.releaseLock()}})}function Gl(n){return Me(n?.getReader)}function gt(n){if(n instanceof Re)return n;if(n!=null){if(Bl(n))return qM(n);if(Ll(n))return HM(n);if(Ul(n))return zM(n);if(Wl(n))return J_(n);if(Hl(n))return GM(n);if(Gl(n))return $M(n)}throw jl(n)}function qM(n){return new Re(t=>{let e=n[Co]();if(Me(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HM(n){return new Re(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function zM(n){return new Re(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Dl)})}function GM(n){return new Re(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function J_(n){return new Re(t=>{QM(n,t).catch(e=>t.error(e))})}function $M(n){return J_(zl(n))}function QM(n,t){var e,i,r,s;return G_(this,void 0,void 0,function*(){try{for(e=Q_(n);i=yield e.next(),!i.done;){let p=i.value;if(t.next(p),t.closed)return}}catch(p){r={error:p}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})}function cn(n,t,e,i=0,r=!1){let s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function $l(n,t=0){return qe((e,i)=>{e.subscribe(He(i,r=>cn(i,n,()=>i.next(r),t),()=>cn(i,n,()=>i.complete(),t),r=>cn(i,n,()=>i.error(r),t)))})}function Ql(n,t=0){return qe((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function K_(n,t){return gt(n).pipe(Ql(t),$l(t))}function Y_(n,t){return gt(n).pipe(Ql(t),$l(t))}function Z_(n,t){return new Re(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function X_(n,t){return new Re(e=>{let i;return cn(e,t,()=>{i=n[ql](),cn(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(p){e.error(p);return}s?e.complete():e.next(r)},0,!0)}),()=>Me(i?.return)&&i.return()})}function Jl(n,t){if(!n)throw new Error("Iterable cannot be null");return new Re(e=>{cn(e,t,()=>{let i=n[Symbol.asyncIterator]();cn(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function ev(n,t){return Jl(zl(n),t)}function tv(n,t){if(n!=null){if(Bl(n))return K_(n,t);if(Ll(n))return Z_(n,t);if(Ul(n))return Y_(n,t);if(Wl(n))return Jl(n,t);if(Hl(n))return X_(n,t);if(Gl(n))return ev(n,t)}throw jl(n)}function lt(n,t){return t?tv(n,t):gt(n)}function ye(...n){let t=ji(n);return lt(n,t)}function ka(n,t){let e=Me(n)?n:()=>n,i=r=>r.error(e());return new Re(t?r=>t.schedule(i,0,r):i)}function Kl(n){return!!n&&(n instanceof Re||Me(n.lift)&&Me(n.subscribe))}var Er=ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function nv(n){return n instanceof Date&&!isNaN(n)}function Ne(n,t){return qe((e,i)=>{let r=0;e.subscribe(He(i,s=>{i.next(n.call(t,s,r++))}))})}var{isArray:JM}=Array;function KM(n,t){return JM(t)?n(...t):n(t)}function Yl(n){return Ne(t=>KM(n,t))}var{isArray:YM}=Array,{getPrototypeOf:ZM,prototype:XM,keys:eS}=Object;function Zl(n){if(n.length===1){let t=n[0];if(YM(t))return{args:t,keys:null};if(tS(t)){let e=eS(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function tS(n){return n&&typeof n=="object"&&ZM(n)===XM}function Xl(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function ec(...n){let t=ji(n),e=Vl(n),{args:i,keys:r}=Zl(n);if(i.length===0)return lt([],t);let s=new Re(nS(i,t,r?p=>Xl(r,p):qn));return e?s.pipe(Yl(e)):s}function nS(n,t,e=qn){return i=>{iv(t,()=>{let{length:r}=n,s=new Array(r),p=r,h=r;for(let y=0;y<r;y++)iv(t,()=>{let S=lt(n[y],t),P=!1;S.subscribe(He(i,I=>{s[y]=I,P||(P=!0,h--),h||i.next(e(s.slice()))},()=>{--p||i.complete()}))},i)},i)}}function iv(n,t,e){n?cn(e,n,t):t()}function rv(n,t,e,i,r,s,p,h){let y=[],S=0,P=0,I=!1,R=()=>{I&&!y.length&&!S&&t.complete()},D=Y=>S<i?j(Y):y.push(Y),j=Y=>{s&&t.next(Y),S++;let X=!1;gt(e(Y,P++)).subscribe(He(t,ie=>{r?.(ie),s?D(ie):t.next(ie)},()=>{X=!0},void 0,()=>{if(X)try{for(S--;y.length&&S<i;){let ie=y.shift();p?cn(t,p,()=>j(ie)):j(ie)}R()}catch(ie){t.error(ie)}}))};return n.subscribe(He(t,D,()=>{I=!0,R()})),()=>{h?.()}}function Tt(n,t,e=1/0){return Me(t)?Tt((i,r)=>Ne((s,p)=>t(i,s,r,p))(gt(n(i,r))),e):(typeof t=="number"&&(e=t),qe((i,r)=>rv(i,r,n,e)))}function bo(n=1/0){return Tt(qn,n)}function ov(){return bo(1)}function Mo(...n){return ov()(lt(n,ji(n)))}function Ra(n){return new Re(t=>{gt(n()).subscribe(t)})}function wr(...n){let t=Vl(n),{args:e,keys:i}=Zl(n),r=new Re(s=>{let{length:p}=e;if(!p){s.complete();return}let h=new Array(p),y=p,S=p;for(let P=0;P<p;P++){let I=!1;gt(e[P]).subscribe(He(s,R=>{I||(I=!0,S--),h[P]=R},()=>y--,void 0,()=>{(!y||!I)&&(S||s.next(i?Xl(i,h):h),s.complete())}))}});return t?r.pipe(Yl(t)):r}function av(n=0,t,e=q_){let i=-1;return t!=null&&(Fl(t)?e=t:i=t),new Re(r=>{let s=nv(n)?+n-e.now():n;s<0&&(s=0);let p=0;return e.schedule(function(){r.closed||(r.next(p++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function s0(n=0,t=a0){return n<0&&(n=0),av(n,n,t)}function dn(n,t){return qe((e,i)=>{let r=0;e.subscribe(He(i,s=>n.call(t,s,r++)&&i.next(s)))})}function yn(n){return qe((t,e)=>{let i=null,r=!1,s;i=t.subscribe(He(e,void 0,void 0,p=>{s=gt(n(p,yn(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function qi(n,t){return Me(t)?Tt(n,t,1):Tt(n,1)}function l0(n){return qe((t,e)=>{let i=!1;t.subscribe(He(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Pi(n){return n<=0?()=>ln:qe((t,e)=>{let i=0;t.subscribe(He(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function sv(n=iS){return qe((t,e)=>{let i=!1;t.subscribe(He(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function iS(){return new Er}function So(n){return qe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Ei(n,t){let e=arguments.length>=2;return i=>i.pipe(n?dn((r,s)=>n(r,s,i)):qn,Pi(1),e?l0(t):sv(()=>new Er))}function tc(n){return n<=0?()=>ln:qe((t,e)=>{let i=[];t.subscribe(He(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Aa(...n){let t=ji(n);return qe((e,i)=>{(t?Mo(n,e,t):Mo(n,e)).subscribe(i)})}function Zt(n,t){return qe((e,i)=>{let r=null,s=0,p=!1,h=()=>p&&!r&&i.complete();e.subscribe(He(i,y=>{r?.unsubscribe();let S=0,P=s++;gt(n(y,P)).subscribe(r=He(i,I=>i.next(t?t(y,I,P,S++):I),()=>{r=null,h()}))},()=>{p=!0,h()}))})}function Na(n){return qe((t,e)=>{gt(n).subscribe(He(e,()=>e.complete(),Da)),!e.closed&&t.subscribe(e)})}function nt(n,t,e){let i=Me(n)||t||e?{next:n,error:t,complete:e}:n;return i?qe((r,s)=>{var p;(p=i.subscribe)===null||p===void 0||p.call(i);let h=!0;r.subscribe(He(s,y=>{var S;(S=i.next)===null||S===void 0||S.call(i,y),s.next(y)},()=>{var y;h=!1,(y=i.complete)===null||y===void 0||y.call(i),s.complete()},y=>{var S;h=!1,(S=i.error)===null||S===void 0||S.call(i,y),s.error(y)},()=>{var y,S;h&&((y=i.unsubscribe)===null||y===void 0||y.call(i)),(S=i.finalize)===null||S===void 0||S.call(i)}))}):qn}var c0;function nc(){return c0}function si(n){let t=c0;return c0=n,t}var lv=Symbol("NotFound");function Po(n){return n===lv||n?.name==="\u0275NotFound"}var sc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",J=class extends Error{code;constructor(t,e){super(Ii(t,e)),this.code=t}};function aS(n){return`NG0${Math.abs(n)}`}function Ii(n,t){return`${aS(n)}${t?": "+t:""}`}var At=globalThis;function ze(n){for(let t in n)if(n[t]===ze)return t;throw Error("")}function mv(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Oi(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Oi).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function lc(n,t){return n?t?`${n} ${t}`:n:t||""}var sS=ze({__forward_ref__:ze});function tn(n){return n.__forward_ref__=tn,n.toString=function(){return Oi(this())},n}function kt(n){return S0(n)?n():n}function S0(n){return typeof n=="function"&&n.hasOwnProperty(sS)&&n.__forward_ref__===tn}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wa(n){return lS(n,cc)}function P0(n){return Wa(n)!==null}function lS(n,t){return n.hasOwnProperty(t)&&n[t]||null}function cS(n){let t=n?.[cc]??null;return t||null}function p0(n){return n&&n.hasOwnProperty(rc)?n[rc]:null}var cc=ze({\u0275prov:ze}),rc=ze({\u0275inj:ze}),oe=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=W({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function E0(n){return n&&!!n.\u0275providers}var w0=ze({\u0275cmp:ze}),O0=ze({\u0275dir:ze}),I0=ze({\u0275pipe:ze}),D0=ze({\u0275mod:ze}),Va=ze({\u0275fac:ze}),kr=ze({__NG_ELEMENT_ID__:ze}),cv=ze({__NG_ENV_ID__:ze});function T0(n){return n[D0]||null}function Di(n){return n[w0]||null}function k0(n){return n[O0]||null}function gv(n){return n[I0]||null}function ci(n){return typeof n=="string"?n:n==null?"":String(n)}function fv(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ci(n)}var hv=ze({ngErrorCode:ze}),dS=ze({ngErrorMessage:ze}),pS=ze({ngTokenPath:ze});function R0(n,t){return _v("",-200,t)}function dc(n,t){throw new J(-201,!1)}function _v(n,t,e){let i=new J(t,n);return i[hv]=t,i[dS]=n,e&&(i[pS]=e),i}function uS(n){return n[hv]}var u0;function vv(){return u0}function Xt(n){let t=u0;return u0=n,t}function A0(n,t,e){let i=Wa(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&8)return null;if(t!==void 0)return t;dc(n,"Injector")}var mS={},Or=mS,gS="__NG_DI_FLAG__",m0=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=Ir(e)||0;try{return this.injector.get(t,i&8?null:Or,i)}catch(r){if(Po(r))return r;throw r}}};function fS(n,t=0){let e=nc();if(e===void 0)throw new J(-203,!1);if(e===null)return A0(n,void 0,t);{let i=hS(t),r=e.retrieve(n,i);if(Po(r)){if(i.optional)return null;throw r}return r}}function Q(n,t=0){return(vv()||fS)(kt(n),t)}function K(n,t){return Q(n,Ir(t))}function Ir(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function hS(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function g0(n){let t=[];for(let e=0;e<n.length;e++){let i=kt(n[e]);if(Array.isArray(i)){if(i.length===0)throw new J(900,!1);let r,s=0;for(let p=0;p<i.length;p++){let h=i[p],y=_S(h);typeof y=="number"?y===-1?r=h.token:s|=y:r=h}t.push(Q(r,s))}else t.push(Q(i))}return t}function _S(n){return n[gS]}function Hi(n,t){let e=n.hasOwnProperty(Va);return e?n[Va]:null}function pc(n,t){n.forEach(e=>Array.isArray(e)?pc(e,t):t(e))}function N0(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ja(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function yv(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let s=r-2;n[r]=n[s],r--}n[t]=e,n[t+1]=i}}function uc(n,t,e){let i=wo(n,t);return i>=0?n[i|1]=e:(i=~i,yv(n,i,t,e)),i}function mc(n,t){let e=wo(n,t);if(e>=0)return n[e|1]}function wo(n,t){return vS(n,t,1)}function vS(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let s=i+(r-i>>1),p=n[s<<e];if(t===p)return s<<e;p>t?r=s:i=s+1}return~(r<<e)}var $i={},en=[],Oo=new oe(""),F0=new oe("",-1),V0=new oe(""),La=class{get(t,e=Or){if(e===Or){let r=_v("",-201);throw r.name="\u0275NotFound",r}return e}};function Rr(n){return{\u0275providers:n}}function Cv(...n){return{\u0275providers:L0(!0,n),\u0275fromNgModule:!0}}function L0(n,...t){let e=[],i=new Set,r,s=p=>{e.push(p)};return pc(t,p=>{let h=p;oc(h,s,[],i)&&(r||=[],r.push(h))}),r!==void 0&&xv(r,s),e}function xv(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];U0(r,s=>{t(s,i)})}}function oc(n,t,e,i){if(n=kt(n),!n)return!1;let r=null,s=p0(n),p=!s&&Di(n);if(!s&&!p){let y=n.ngModule;if(s=p0(y),s)r=y;else return!1}else{if(p&&!p.standalone)return!1;r=n}let h=i.has(r);if(p){if(h)return!1;if(i.add(r),p.dependencies){let y=typeof p.dependencies=="function"?p.dependencies():p.dependencies;for(let S of y)oc(S,t,e,i)}}else if(s){if(s.imports!=null&&!h){i.add(r);let S;try{pc(s.imports,P=>{oc(P,t,e,i)&&(S||=[],S.push(P))})}finally{}S!==void 0&&xv(S,t)}if(!h){let S=Hi(r)||(()=>new r);t({provide:r,useFactory:S,deps:en},r),t({provide:V0,useValue:r,multi:!0},r),t({provide:Oo,useValue:()=>Q(r),multi:!0},r)}let y=s.providers;if(y!=null&&!h){let S=n;U0(y,P=>{t(P,S)})}}else return!1;return r!==n&&n.providers!==void 0}function U0(n,t){for(let e of n)E0(e)&&(e=e.\u0275providers),Array.isArray(e)?U0(e,t):t(e)}var yS=ze({provide:String,useValue:ze});function bv(n){return n!==null&&typeof n=="object"&&yS in n}function CS(n){return!!(n&&n.useExisting)}function xS(n){return!!(n&&n.useFactory)}function Dr(n){return typeof n=="function"}function Mv(n){return!!n.useClass}var qa=new oe(""),ic={},dv={},d0;function Ha(){return d0===void 0&&(d0=new La),d0}var pt=class{},Tr=class extends pt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,h0(t,p=>this.processProvider(p)),this.records.set(F0,Eo(void 0,this)),r.has("environment")&&this.records.set(pt,Eo(void 0,this));let s=this.records.get(qa);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(V0,en,{self:!0}))}retrieve(t,e){let i=Ir(e)||0;try{return this.get(t,Or,i)}catch(r){if(Po(r))return r;throw r}}destroy(){Fa(this),this._destroyed=!0;let t=Pe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(t)}}onDestroy(t){return Fa(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Fa(this);let e=si(this),i=Xt(void 0),r;try{return t()}finally{si(e),Xt(i)}}get(t,e=Or,i){if(Fa(this),t.hasOwnProperty(cv))return t[cv](this);let r=Ir(i),s,p=si(this),h=Xt(void 0);try{if(!(r&4)){let S=this.records.get(t);if(S===void 0){let P=ES(t)&&Wa(t);P&&this.injectableDefInScope(P)?S=Eo(f0(t),ic):S=null,this.records.set(t,S)}if(S!=null)return this.hydrate(t,S,r)}let y=r&2?Ha():this.parent;return e=r&8&&e===Or?null:e,y.get(t,e)}catch(y){let S=uS(y);throw S===-200||S===-201?new J(S,null):y}finally{Xt(h),si(p)}}resolveInjectorInitializers(){let t=Pe(null),e=si(this),i=Xt(void 0),r;try{let s=this.get(Oo,en,{self:!0});for(let p of s)p()}finally{si(e),Xt(i),Pe(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Oi(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=kt(t);let e=Dr(t)?t:kt(t&&t.provide),i=MS(t);if(!Dr(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Eo(void 0,ic,!0),r.factory=()=>g0(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let r=Pe(null);try{if(e.value===dv)throw R0(Oi(t));return e.value===ic&&(e.value=dv,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&PS(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Pe(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=kt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function f0(n){let t=Wa(n),e=t!==null?t.factory:Hi(n);if(e!==null)return e;if(n instanceof oe)throw new J(204,!1);if(n instanceof Function)return bS(n);throw new J(204,!1)}function bS(n){if(n.length>0)throw new J(204,!1);let e=cS(n);return e!==null?()=>e.factory(n):()=>new n}function MS(n){if(bv(n))return Eo(void 0,n.useValue);{let t=B0(n);return Eo(t,ic)}}function B0(n,t,e){let i;if(Dr(n)){let r=kt(n);return Hi(r)||f0(r)}else if(bv(n))i=()=>kt(n.useValue);else if(xS(n))i=()=>n.useFactory(...g0(n.deps||[]));else if(CS(n))i=(r,s)=>Q(kt(n.useExisting),s!==void 0&&s&8?8:void 0);else{let r=kt(n&&(n.useClass||n.provide));if(SS(n))i=()=>new r(...g0(n.deps));else return Hi(r)||f0(r)}return i}function Fa(n){if(n.destroyed)throw new J(205,!1)}function Eo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function SS(n){return!!n.deps}function PS(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function ES(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function h0(n,t){for(let e of n)Array.isArray(e)?h0(e,t):e&&E0(e)?h0(e.\u0275providers,t):t(e)}function Et(n,t){let e;n instanceof Tr?(Fa(n),e=n):e=new m0(n);let i,r=si(e),s=Xt(void 0);try{return t()}finally{si(r),Xt(s)}}function W0(){return vv()!==void 0||nc()!=null}var Hn=0,xe=1,Ce=2,Rt=3,En=4,wn=5,za=6,Io=7,jt=8,Qi=9,di=10,it=11,Do=12,j0=13,Ar=14,On=15,Nr=16,Fr=17,Vr=18,Ga=19,q0=20,wi=21,gc=22,$a=23,Cn=24,Lr=25,Qa=26,Nt=27,Sv=1;var Ji=7,Ja=8,Ka=9,pn=10;function pi(n){return Array.isArray(n)&&typeof n[Sv]=="object"}function zn(n){return Array.isArray(n)&&n[Sv]===!0}function H0(n){return(n.flags&4)!==0}function Ki(n){return n.componentOffset>-1}function To(n){return(n.flags&1)===1}function ui(n){return!!n.template}function ko(n){return(n[Ce]&512)!==0}function Ur(n){return(n[Ce]&256)===256}var z0="svg",Pv="math";function In(n){for(;Array.isArray(n);)n=n[Hn];return n}function G0(n,t){return In(t[n])}function Gn(n,t){return In(t[n.index])}function fc(n,t){return n.data[t]}function $0(n,t){return n[t]}function Q0(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function Dn(n,t){let e=t[n];return pi(e)?e:e[Hn]}function hc(n){return(n[Ce]&128)===128}function Ev(n){return zn(n[Rt])}function Ya(n,t){return t==null?null:n[t]}function J0(n){n[Fr]=0}function K0(n){n[Ce]&1024||(n[Ce]|=1024,hc(n)&&Ro(n))}function wv(n,t){for(;n>0;)t=t[Ar],n--;return t}function Za(n){return!!(n[Ce]&9216||n[Cn]?.dirty)}function _c(n){n[di].changeDetectionScheduler?.notify(8),n[Ce]&64&&(n[Ce]|=1024),Za(n)&&Ro(n)}function Ro(n){n[di].changeDetectionScheduler?.notify(0);let t=zi(n);for(;t!==null&&!(t[Ce]&8192||(t[Ce]|=8192,!hc(t)));)t=zi(t)}function Y0(n,t){if(Ur(n))throw new J(911,!1);n[wi]===null&&(n[wi]=[]),n[wi].push(t)}function Ov(n,t){if(n[wi]===null)return;let e=n[wi].indexOf(t);e!==-1&&n[wi].splice(e,1)}function zi(n){let t=n[Rt];return zn(t)?t[Rt]:t}function Iv(n){return n[Io]??=[]}function Dv(n){return n.cleanup??=[]}var we={lFrame:zv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _0=!1;function Tv(){return we.lFrame.elementDepthCount}function kv(){we.lFrame.elementDepthCount++}function Rv(){we.lFrame.elementDepthCount--}function vc(){return we.bindingsEnabled}function Av(){return we.skipHydrationRootTNode!==null}function Nv(n){return we.skipHydrationRootTNode===n}function Fv(){we.skipHydrationRootTNode=null}function Te(){return we.lFrame.lView}function qt(){return we.lFrame.tView}function m(n){return we.lFrame.contextLView=n,n[jt]}function g(n){return we.lFrame.contextLView=null,n}function Ht(){let n=Z0();for(;n!==null&&n.type===64;)n=n.parent;return n}function Z0(){return we.lFrame.currentTNode}function Vv(){let n=we.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Ao(n,t){let e=we.lFrame;e.currentTNode=n,e.isParent=t}function X0(){return we.lFrame.isParent}function Lv(){we.lFrame.isParent=!1}function eg(){return _0}function tg(n){let t=_0;return _0=n,t}function Br(){let n=we.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ng(){return we.lFrame.bindingIndex}function Uv(n){return we.lFrame.bindingIndex=n}function Xa(){return we.lFrame.bindingIndex++}function es(n){let t=we.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Bv(){return we.lFrame.inI18n}function Wv(n,t){let e=we.lFrame;e.bindingIndex=e.bindingRootIndex=n,yc(t)}function jv(){return we.lFrame.currentDirectiveIndex}function yc(n){we.lFrame.currentDirectiveIndex=n}function qv(n){let t=we.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function ig(n){we.lFrame.currentQueryIndex=n}function wS(n){let t=n[xe];return t.type===2?t.declTNode:t.type===1?n[wn]:null}function rg(n,t,e){if(e&4){let r=t,s=n;for(;r=r.parent,r===null&&!(e&1);)if(r=wS(s),r===null||(s=s[Ar],r.type&10))break;if(r===null)return!1;t=r,n=s}let i=we.lFrame=Hv();return i.currentTNode=t,i.lView=n,!0}function Cc(n){let t=Hv(),e=n[xe];we.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Hv(){let n=we.lFrame,t=n===null?null:n.child;return t===null?zv(n):t}function zv(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function Gv(){let n=we.lFrame;return we.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var og=Gv;function xc(){let n=Gv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $v(n){return(we.lFrame.contextLView=wv(n,we.lFrame.contextLView))[jt]}function mi(){return we.lFrame.selectedIndex}function Yi(n){we.lFrame.selectedIndex=n}function bc(){let n=we.lFrame;return fc(n.tView,n.selectedIndex)}function Mc(){we.lFrame.currentNamespace=z0}function Sc(){OS()}function OS(){we.lFrame.currentNamespace=null}function Qv(){return we.lFrame.currentNamespace}var Jv=!0;function Pc(){return Jv}function ts(n){Jv=n}function v0(n,t=null,e=null,i){let r=ag(n,t,e,i);return r.resolveInjectorInitializers(),r}function ag(n,t=null,e=null,i,r=new Set){let s=[e||en,Cv(n)];return i=i||(typeof n=="object"?void 0:Oi(n)),new Tr(s,t||Ha(),i||null,r)}var Wt=class n{static THROW_IF_NOT_FOUND=Or;static NULL=new La;static create(t,e){if(Array.isArray(t))return v0({name:""},e,t,"");{let i=t.name??"";return v0({name:i},t.parent,t.providers,i)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>Q(F0)});static __NG_ELEMENT_ID__=-1},et=new oe(""),Tn=(()=>{class n{static __NG_ELEMENT_ID__=IS;static __NG_ENV_ID__=e=>e}return n})(),y0=class extends Tn{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ur(this._lView)}onDestroy(t){let e=this._lView;return Y0(e,t),()=>Ov(e,t)}};function IS(){return new y0(Te())}var Kv=!1,Ti=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ze(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Re(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),C0=class extends Ct{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,W0()&&(this.destroyRef=K(Tn,{optional:!0})??void 0,this.pendingTasks=K(Ti,{optional:!0})??void 0)}emit(t){let e=Pe(null);try{super.next(t)}finally{Pe(e)}}subscribe(t,e,i){let r=t,s=e||(()=>null),p=i;if(t&&typeof t=="object"){let y=t;r=y.next?.bind(y),s=y.error?.bind(y),p=y.complete?.bind(y)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),p&&(p=this.wrapInTimeout(p)));let h=super.subscribe({next:r,error:s,complete:p});return t instanceof yt&&t.add(h),h}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},dt=C0;function ac(...n){}function sg(n){let t,e;function i(){n=ac;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function lg(n){return queueMicrotask(()=>n()),()=>{n=ac}}var cg="isAngularZone",Ua=cg+"_ID",DS=0,ft=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new dt(!1);onMicrotaskEmpty=new dt(!1);onStable=new dt(!1);onError=new dt(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=Kv}=t;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!r&&i,p.shouldCoalesceRunChangeDetection=r,p.callbackScheduled=!1,p.scheduleInRootZone=s,RS(p)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(cg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new J(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let s=this._inner,p=s.scheduleEventTask("NgZoneEvent: "+r,t,TS,ac,ac);try{return s.runTask(p,e,i)}finally{s.cancelTask(p)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},TS={};function dg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kS(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){sg(()=>{n.callbackScheduled=!1,x0(n),n.isCheckStableRunning=!0,dg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),x0(n)}function RS(n){let t=()=>{kS(n)},e=DS++;n._inner=n._inner.fork({name:"angular",properties:{[cg]:!0,[Ua]:e,[Ua+e]:!0},onInvokeTask:(i,r,s,p,h,y)=>{if(AS(y))return i.invokeTask(s,p,h,y);try{return pv(n),i.invokeTask(s,p,h,y)}finally{(n.shouldCoalesceEventChangeDetection&&p.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),uv(n)}},onInvoke:(i,r,s,p,h,y,S)=>{try{return pv(n),i.invoke(s,p,h,y,S)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!NS(y)&&t(),uv(n)}},onHasTask:(i,r,s,p)=>{i.hasTask(s,p),r===s&&(p.change=="microTask"?(n._hasPendingMicrotasks=p.microTask,x0(n),dg(n)):p.change=="macroTask"&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(i,r,s,p)=>(i.handleError(s,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}function x0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function pv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uv(n){n._nesting--,dg(n)}var Ba=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new dt;onMicrotaskEmpty=new dt;onStable=new dt;onError=new dt;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function AS(n){return Yv(n,"__ignore_ng_zone__")}function NS(n){return Yv(n,"__scheduler_tick__")}function Yv(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var li=class{_console=console;handleError(t){this._console.error("ERROR",t)}},kn=new oe("",{factory:()=>{let n=K(ft),t=K(pt),e;return i=>{n.runOutsideAngular(()=>{t.destroyed&&!e?setTimeout(()=>{throw i}):(e??=t.get(li),e.handleError(i))})}}}),Zv={provide:Oo,useValue:()=>{let n=K(li,{optional:!0})},multi:!0};function Rn(n,t){let[e,i,r]=Jm(n,t?.equal),s=e,p=s[Yt];return s.set=i,s.update=r,s.asReadonly=Xv.bind(s),s}function Xv(){let n=this[Yt];if(n.readonlyFn===void 0){let t=()=>this();t[Yt]=n,n.readonlyFn=t}return n.readonlyFn}var Ec=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=FS}return n})();function FS(){return new Ec(Te(),Ht())}var Gi=class{},ns=new oe("",{factory:()=>!0});var pg=new oe(""),is=(()=>{class n{internalPendingTasks=K(Ti);scheduler=K(Gi);errorHandler=K(kn);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let i=this.add();e().catch(this.errorHandler).finally(i)}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),ug=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new b0})}return n})(),b0=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||i.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,i]of this.queues)e===null?t||=this.flushQueue(i):t||=e.run(()=>this.flushQueue(i));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let i of t)i.dirty&&(this.dirtyEffectCount--,e=!0,i.run());return e}},M0=class{[Yt];constructor(t){this[Yt]=t}destroy(){this[Yt].destroy()}};function xt(n){return Km(n)}function ms(n){return{toString:n}.toString()}function Iy(n){let t=At.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function jS(n){return typeof n=="function"}function Dy(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var Rc=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}},Ri=(()=>{let n=()=>Ty;return n.ngInherit=!0,n})();function Ty(n){return n.type.prototype.ngOnChanges&&(n.setInput=HS),qS}function qS(){let n=Ry(this),t=n?.current;if(t){let e=n.previous;if(e===$i)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function HS(n,t,e,i,r){let s=this.declaredInputs[i],p=Ry(n)||zS(n,{previous:$i,current:null}),h=p.current||(p.current={}),y=p.previous,S=y[s];h[s]=new Rc(S&&S.currentValue,e,y===$i),Dy(n,t,r,e)}var ky="__ngSimpleChanges__";function Ry(n){return n[ky]||null}function zS(n,t){return n[ky]=t}var ey=[];var $e=function(n,t=null,e){for(let i=0;i<ey.length;i++){let r=ey[i];r(n,t,e)}},Be=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Be||{});function GS(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){let p=Ty(t);(e.preOrderHooks??=[]).push(n,p),(e.preOrderCheckHooks??=[]).push(n,p)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}function Ay(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let s=n.data[e].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:h,ngAfterViewInit:y,ngAfterViewChecked:S,ngOnDestroy:P}=s;p&&(n.contentHooks??=[]).push(-e,p),h&&((n.contentHooks??=[]).push(e,h),(n.contentCheckHooks??=[]).push(e,h)),y&&(n.viewHooks??=[]).push(-e,y),S&&((n.viewHooks??=[]).push(e,S),(n.viewCheckHooks??=[]).push(e,S)),P!=null&&(n.destroyHooks??=[]).push(e,P)}}function Dc(n,t,e){Ny(n,t,3,e)}function Tc(n,t,e,i){(n[Ce]&3)===e&&Ny(n,t,e,i)}function mg(n,t){let e=n[Ce];(e&3)===t&&(e&=16383,e+=1,n[Ce]=e)}function Ny(n,t,e,i){let r=i!==void 0?n[Fr]&65535:0,s=i??-1,p=t.length-1,h=0;for(let y=r;y<p;y++)if(typeof t[y+1]=="number"){if(h=t[y],i!=null&&h>=i)break}else t[y]<0&&(n[Fr]+=65536),(h<s||s==-1)&&($S(n,e,t,y),n[Fr]=(n[Fr]&4294901760)+y+2),y++}function ty(n,t){$e(Be.LifecycleHookStart,n,t);let e=Pe(null);try{t.call(n)}finally{Pe(e),$e(Be.LifecycleHookEnd,n,t)}}function $S(n,t,e,i){let r=e[i]<0,s=e[i+1],p=r?-e[i]:e[i],h=n[p];r?n[Ce]>>14<n[Fr]>>16&&(n[Ce]&3)===t&&(n[Ce]+=16384,ty(h,s)):ty(h,s)}var Fo=-1,jr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i,r){this.factory=t,this.name=r,this.canSeeViewProviders=e,this.injectImpl=i}};function QS(n){return(n.flags&8)!==0}function JS(n){return(n.flags&16)!==0}function KS(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let s=e[i++],p=e[i++],h=e[i++];n.setAttribute(t,p,h,s)}else{let s=r,p=e[++i];YS(s)?n.setProperty(t,s,p):n.setAttribute(t,s,p),i++}}return i}function Fy(n){return n===3||n===4||n===6}function YS(n){return n.charCodeAt(0)===64}function ss(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?ny(n,e,r,null,t[++i]):ny(n,e,r,null,null))}}return n}function ny(n,t,e,i,r){let s=0,p=n.length;if(t===-1)p=-1;else for(;s<n.length;){let h=n[s++];if(typeof h=="number"){if(h===t){p=-1;break}else if(h>t){p=s-1;break}}}for(;s<n.length;){let h=n[s];if(typeof h=="number")break;if(h===e){r!==null&&(n[s+1]=r);return}s++,r!==null&&s++}p!==-1&&(n.splice(p,0,t),s=p+1),n.splice(s++,0,e),r!==null&&n.splice(s++,0,r)}function Vy(n){return n!==Fo}function Ac(n){return n&32767}function ZS(n){return n>>16}function Nc(n,t){let e=ZS(n),i=t;for(;e>0;)i=i[Ar],e--;return i}var Sg=!0;function Fc(n){let t=Sg;return Sg=n,t}var XS=256,Ly=XS-1,Uy=5,eP=0,gi={};function tP(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(kr)&&(i=e[kr]),i==null&&(i=e[kr]=eP++);let r=i&Ly,s=1<<r;t.data[n+(r>>Uy)]|=s}function Vc(n,t){let e=By(n,t);if(e!==-1)return e;let i=t[xe];i.firstCreatePass&&(n.injectorIndex=t.length,gg(i.data,n),gg(t,null),gg(i.blueprint,null));let r=Wg(n,t),s=n.injectorIndex;if(Vy(r)){let p=Ac(r),h=Nc(r,t),y=h[xe].data;for(let S=0;S<8;S++)t[s+S]=h[p+S]|y[p+S]}return t[s+8]=r,s}function gg(n,t){n.push(0,0,0,0,0,0,0,0,t)}function By(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Wg(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=zy(r),i===null)return Fo;if(e++,r=r[Ar],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Fo}function Pg(n,t,e){tP(n,t,e)}function nP(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,r=0;for(;r<i;){let s=e[r];if(Fy(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof e[r]=="string";)r++;else{if(s===t)return e[r+1];r=r+2}}}return null}function Wy(n,t,e){if(e&8||n!==void 0)return n;dc(t,"NodeInjector")}function jy(n,t,e,i){if(e&8&&i===void 0&&(i=null),(e&3)===0){let r=n[Qi],s=Xt(void 0);try{return r?r.get(t,i,e&8):A0(t,i,e&8)}finally{Xt(s)}}return Wy(i,t,e)}function qy(n,t,e,i=0,r){if(n!==null){if(t[Ce]&2048&&!(i&2)){let p=sP(n,t,e,i,gi);if(p!==gi)return p}let s=Hy(n,t,e,i,gi);if(s!==gi)return s}return jy(t,e,i,r)}function Hy(n,t,e,i,r){let s=oP(e);if(typeof s=="function"){if(!rg(t,n,i))return i&1?Wy(r,e,i):jy(t,e,i,r);try{let p;if(p=s(i),p==null&&!(i&8))dc(e);else return p}finally{og()}}else if(typeof s=="number"){let p=null,h=By(n,t),y=Fo,S=i&1?t[On][wn]:null;for((h===-1||i&4)&&(y=h===-1?Wg(n,t):t[h+8],y===Fo||!ry(i,!1)?h=-1:(p=t[xe],h=Ac(y),t=Nc(y,t)));h!==-1;){let P=t[xe];if(iy(s,h,P.data)){let I=iP(h,t,e,p,i,S);if(I!==gi)return I}y=t[h+8],y!==Fo&&ry(i,t[xe].data[h+8]===S)&&iy(s,h,t)?(p=P,h=Ac(y),t=Nc(y,t)):h=-1}}return r}function iP(n,t,e,i,r,s){let p=t[xe],h=p.data[n+8],y=i==null?Ki(h)&&Sg:i!=p&&(h.type&3)!==0,S=r&1&&s===h,P=rP(h,p,e,y,S);return P!==null?Lc(t,p,P,h,r):gi}function rP(n,t,e,i,r){let s=n.providerIndexes,p=t.data,h=s&1048575,y=n.directiveStart,S=n.directiveEnd,P=s>>20,I=i?h:h+P,R=r?h+P:S;for(let D=I;D<R;D++){let j=p[D];if(D<y&&e===j||D>=y&&j.type===e)return D}if(r){let D=p[y];if(D&&ui(D)&&D.type===e)return y}return null}function Lc(n,t,e,i,r){let s=n[e],p=t.data;if(s instanceof jr){let h=s;if(h.resolving){let D=fv(p[e]);throw R0(D)}let y=Fc(h.canSeeViewProviders);h.resolving=!0;let S=p[e].type||p[e],P,I=h.injectImpl?Xt(h.injectImpl):null,R=rg(n,i,0);try{s=n[e]=h.factory(void 0,r,p,n,i),t.firstCreatePass&&e>=i.directiveStart&&GS(e,p[e],t)}finally{I!==null&&Xt(I),Fc(y),h.resolving=!1,og()}}return s}function oP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(kr)?n[kr]:void 0;return typeof t=="number"?t>=0?t&Ly:aP:t}function iy(n,t,e){let i=1<<n;return!!(e[t+(n>>Uy)]&i)}function ry(n,t){return!(n&2)&&!(n&1&&t)}var Wr=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return qy(this._tNode,this._lView,t,Ir(i),e)}};function aP(){return new Wr(Ht(),Te())}function un(n){return ms(()=>{let t=n.prototype.constructor,e=t[Va]||Eg(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[Va]||Eg(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Eg(n){return S0(n)?()=>{let t=Eg(kt(n));return t&&t()}:Hi(n)}function sP(n,t,e,i,r){let s=n,p=t;for(;s!==null&&p!==null&&p[Ce]&2048&&!ko(p);){let h=Hy(s,p,e,i|2,gi);if(h!==gi)return h;let y=s.parent;if(!y){let S=p[q0];if(S){let P=S.get(e,gi,i);if(P!==gi)return P}y=zy(p),p=p[Ar]}s=y}return r}function zy(n){let t=n[xe],e=t.type;return e===2?t.declTNode:e===1?n[wn]:null}function gs(n){return nP(Ht(),n)}function lP(){return $c(Ht(),Te())}function $c(n,t){return new An(Gn(n,t))}var An=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=lP}return n})();function Gy(n){return(n.flags&128)===128}var jg=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(jg||{}),$y=new Map,cP=0;function dP(){return cP++}function pP(n){$y.set(n[Ga],n)}function wg(n){$y.delete(n[Ga])}var oy="__ngContext__";function Vo(n,t){pi(t)?(n[oy]=t[Ga],pP(t)):n[oy]=t}function Qy(n){return Ky(n[Do])}function Jy(n){return Ky(n[En])}function Ky(n){for(;n!==null&&!zn(n);)n=n[En];return n}var uP;function qg(n){uP=n}var Qc=new oe("",{factory:()=>mP}),mP="ng";var Jc=new oe(""),fs=new oe("",{providedIn:"platform",factory:()=>"unknown"}),Kc=new oe(""),Yc=new oe("",{factory:()=>K(et).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Yy=!1,Zy=new oe("",{factory:()=>Yy});var Hg=new oe("");var gP=(n,t,e,i)=>{};function fP(n,t,e,i){gP(n,t,e,i)}function zg(n){return(n.flags&32)===32}var hP=()=>null;function Xy(n,t,e=!1){return hP(n,t,e)}function eC(n,t){let e=n.contentQueries;if(e!==null){let i=Pe(null);try{for(let r=0;r<e.length;r+=2){let s=e[r],p=e[r+1];if(p!==-1){let h=n.data[p];ig(s),h.contentQueries(2,t[p],p)}}}finally{Pe(i)}}}function Og(n,t,e){ig(0);let i=Pe(null);try{t(n,e)}finally{Pe(i)}}function Gg(n,t,e){if(H0(t)){let i=Pe(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let p=r;p<s;p++){let h=n.data[p];if(h.contentQueries){let y=e[p];h.contentQueries(1,y,p)}}}finally{Pe(i)}}}var Jn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Jn||{});var wc;function _P(){if(wc===void 0&&(wc=null,At.trustedTypes))try{wc=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wc}function ay(n){return _P()?.createScriptURL(n)||n}var Uc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sc})`}};function Bo(n){return n instanceof Uc?n.changingThisBreaksApplicationSecurity:n}function $g(n,t){let e=tC(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${sc})`)}return e===t}function tC(n){return n instanceof Uc&&n.getTypeName()||null}var vP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nC(n){return n=String(n),n.match(vP)?n:"unsafe:"+n}var yP=/^>|^->|<!--|-->|--!>|<!-$/g,CP=/(<|>)/g,xP="\u200B$1\u200B";function bP(n){return n.replace(yP,t=>t.replace(CP,xP))}function MP(n,t){return n.createText(t)}function SP(n,t,e){n.setValue(t,e)}function PP(n,t){return n.createComment(bP(t))}function iC(n,t,e){return n.createElement(t,e)}function Bc(n,t,e,i,r){n.insertBefore(t,e,i,r)}function rC(n,t,e){n.appendChild(t,e)}function sy(n,t,e,i,r){i!==null?Bc(n,t,e,i,r):rC(n,t,e)}function EP(n,t,e,i){n.removeChild(null,t,e,i)}function wP(n,t,e){n.setAttribute(t,"style",e)}function OP(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function oC(n,t,e){let{mergedAttrs:i,classes:r,styles:s}=e;i!==null&&KS(n,t,i),r!==null&&OP(n,t,r),s!==null&&wP(n,t,s)}var Zc=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Zc||{});function aC(n){let t=lC();return t?t.sanitize(Zc.URL,n)||"":$g(n,"URL")?Bo(n):nC(ci(n))}function sC(n){let t=lC();if(t)return ay(t.sanitize(Zc.RESOURCE_URL,n)||"");if($g(n,"ResourceURL"))return ay(Bo(n));throw new J(904,!1)}function IP(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?sC:aC}function Qg(n,t,e){return IP(t,e)(n)}function lC(){let n=Te();return n&&n[di].sanitizer}function Jg(n){return n.ownerDocument.defaultView}function cC(n){return n instanceof Function?n():n}function DP(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}var dC="ng-template";function TP(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&DP(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(Kg(n))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===e)return!0}return!1}function Kg(n){return n.type===4&&n.value!==dC}function kP(n,t,e){let i=n.type===4&&!e?dC:n.value;return t===i}function RP(n,t,e){let i=4,r=n.attrs,s=r!==null?FP(r):0,p=!1;for(let h=0;h<t.length;h++){let y=t[h];if(typeof y=="number"){if(!p&&!$n(i)&&!$n(y))return!1;if(p&&$n(y))continue;p=!1,i=y|i&1;continue}if(!p)if(i&4){if(i=2|i&1,y!==""&&!kP(n,y,e)||y===""&&t.length===1){if($n(i))return!1;p=!0}}else if(i&8){if(r===null||!TP(n,r,y,e)){if($n(i))return!1;p=!0}}else{let S=t[++h],P=AP(y,r,Kg(n),e);if(P===-1){if($n(i))return!1;p=!0;continue}if(S!==""){let I;if(P>s?I="":I=r[P+1].toLowerCase(),i&2&&S!==I){if($n(i))return!1;p=!0}}}}return $n(i)||p}function $n(n){return(n&1)===0}function AP(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){let p=t[r];if(p===n)return r;if(p===3||p===6)s=!0;else if(p===1||p===2){let h=t[++r];for(;typeof h=="string";)h=t[++r];continue}else{if(p===4)break;if(p===0){r+=4;continue}}r+=s?1:2}return-1}else return VP(t,n)}function NP(n,t,e=!1){for(let i=0;i<t.length;i++)if(RP(n,t[i],e))return!0;return!1}function FP(n){for(let t=0;t<n.length;t++){let e=n[t];if(Fy(e))return t}return n.length}function VP(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function ly(n,t){return n?":not("+t.trim()+")":t}function LP(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let p=n[e];if(typeof p=="string")if(i&2){let h=n[++e];r+="["+p+(h.length>0?'="'+h+'"':"")+"]"}else i&8?r+="."+p:i&4&&(r+=" "+p);else r!==""&&!$n(p)&&(t+=ly(s,r),r=""),i=p,s=s||!$n(i);e++}return r!==""&&(t+=ly(s,r)),t}function UP(n){return n.map(LP).join(",")}function BP(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&t.push(s,n[++i]):r===8&&e.push(s);else{if(!$n(r))break;r=s}i++}return e.length&&t.push(1,...e),t}var zt={};function Yg(n,t,e,i,r,s,p,h,y,S,P){let I=Nt+i,R=I+r,D=WP(I,R),j=typeof S=="function"?S():S;return D[xe]={type:n,blueprint:D,template:e,queries:null,viewQuery:h,declTNode:t,data:D.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof p=="function"?p():p,firstChild:null,schemas:y,consts:j,incompleteFirstPass:!1,ssrId:P}}function WP(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:zt);return e}function jP(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Yg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Zg(n,t,e,i,r,s,p,h,y,S,P){let I=t.blueprint.slice();return I[Hn]=r,I[Ce]=i|4|128|8|64|1024,(S!==null||n&&n[Ce]&2048)&&(I[Ce]|=2048),J0(I),I[Rt]=I[Ar]=n,I[jt]=e,I[di]=p||n&&n[di],I[it]=h||n&&n[it],I[Qi]=y||n&&n[Qi]||null,I[wn]=s,I[Ga]=dP(),I[za]=P,I[q0]=S,I[On]=t.type==2?n[On]:I,I}function qP(n,t,e){let i=Gn(t,n),r=jP(e),s=n[di].rendererFactory,p=Xg(n,Zg(n,r,null,pC(e),i,t,null,s.createRenderer(i,e),null,null,null));return n[t.index]=p}function pC(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function uC(n,t,e,i){if(e===0)return-1;let r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Xg(n,t){return n[Do]?n[j0][En]=t:n[Do]=t,n[j0]=t,t}function c(n=1){mC(qt(),Te(),mi()+n,!1)}function mC(n,t,e,i){if(!i)if((t[Ce]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Dc(t,s,e)}else{let s=n.preOrderHooks;s!==null&&Tc(t,s,0,e)}Yi(e)}var Xc=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Xc||{});function Ig(n,t,e,i){let r=Pe(null);try{let[s,p,h]=n.inputs[e],y=null;(p&Xc.SignalBased)!==0&&(y=t[s][Yt]),y!==null&&y.transformFn!==void 0?i=y.transformFn(i):h!==null&&(i=h.call(t,i)),n.setInput!==null?n.setInput(t,y,i,e,s):Dy(t,y,s,i)}finally{Pe(r)}}var fi=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(fi||{}),HP;function ef(n,t){return HP(n,t)}var Lo=new Set,ed=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ed||{}),Ai=new oe(""),cy=new Set;function Gr(n){cy.has(n)||(cy.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var tf=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),gC=[0,1,2,3],fC=(()=>{class n{ngZone=K(ft);scheduler=K(Gi);errorHandler=K(li,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){K(Ai,{optional:!0})}execute(){let e=this.sequences.size>0;e&&$e(Be.AfterRenderHooksStart),this.executing=!0;for(let i of gC)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=r.hooks[i];return s(r.pipelinedValue)},r.snapshot))}catch(s){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&$e(Be.AfterRenderHooksEnd)}register(e){let{view:i}=e;i!==void 0?((i[Lr]??=[]).push(e),Ro(i),i[Ce]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(ed.AFTER_NEXT_RENDER,e):e()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),Wc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,r,s,p=null){this.impl=t,this.hooks=e,this.view=i,this.once=r,this.snapshot=p,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Lr];t&&(this.view[Lr]=t.filter(e=>e!==this))}};function hs(n,t){let e=t?.injector??K(Wt);return Gr("NgAfterNextRender"),GP(n,e,t,!0)}function zP(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function GP(n,t,e,i){let r=t.get(tf);r.impl??=t.get(fC);let s=t.get(Ai,null,{optional:!0}),p=e?.manualCleanup!==!0?t.get(Tn):null,h=t.get(Ec,null,{optional:!0}),y=new Wc(r.impl,zP(n),h?.view,i,p,s?.snapshot(null));return r.impl.register(y),y}var $P=new oe("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:K(pt)})});function hC(n,t,e){let i=n.get($P);if(Array.isArray(t))for(let r of t)i.queue.add(r),e?.detachedLeaveAnimationFns?.push(r);else i.queue.add(t),e?.detachedLeaveAnimationFns?.push(t);i.scheduler&&i.scheduler(n)}function QP(n,t){for(let[e,i]of t)hC(n,i.animateFns)}function dy(n,t,e,i){let r=n?.[Qa]?.enter;t!==null&&r&&r.has(e.index)&&QP(i,r)}function No(n,t,e,i,r,s,p,h){if(r!=null){let y,S=!1;zn(r)?y=r:pi(r)&&(S=!0,r=r[Hn]);let P=In(r);n===0&&i!==null?(dy(h,i,s,e),p==null?rC(t,i,P):Bc(t,i,P,p||null,!0)):n===1&&i!==null?(dy(h,i,s,e),Bc(t,i,P,p||null,!0)):n===2?py(h,s,e,I=>{EP(t,P,S,I)}):n===3&&py(h,s,e,()=>{t.destroyNode(P)}),y!=null&&sE(t,n,e,y,s,i,p)}}function JP(n,t){_C(n,t),t[Hn]=null,t[wn]=null}function KP(n,t,e,i,r,s){i[Hn]=r,i[wn]=t,td(n,i,e,1,r,s)}function _C(n,t){t[di].changeDetectionScheduler?.notify(9),td(n,t,t[it],2,null,null)}function YP(n){let t=n[Do];if(!t)return fg(n[xe],n);for(;t;){let e=null;if(pi(t))e=t[Do];else{let i=t[pn];i&&(e=i)}if(!e){for(;t&&!t[En]&&t!==n;)pi(t)&&fg(t[xe],t),t=t[Rt];t===null&&(t=n),pi(t)&&fg(t[xe],t),e=t&&t[En]}t=e}}function nf(n,t){let e=n[Ka],i=e.indexOf(t);e.splice(i,1)}function vC(n,t){if(Ur(t))return;let e=t[it];e.destroyNode&&td(n,t,e,3,null,null),YP(t)}function fg(n,t){if(Ur(t))return;let e=Pe(null);try{t[Ce]&=-129,t[Ce]|=256,t[Cn]&&Oa(t[Cn]),eE(n,t),XP(n,t),t[xe].type===1&&t[it].destroy();let i=t[Nr];if(i!==null&&zn(t[Rt])){i!==t[Rt]&&nf(i,t);let r=t[Vr];r!==null&&r.detachView(n)}wg(t)}finally{Pe(e)}}function py(n,t,e,i){let r=n?.[Qa];if(r==null||r.leave==null||!r.leave.has(t.index))return i(!1);n&&Lo.add(n),hC(e,()=>{if(r.leave&&r.leave.has(t.index)){let p=r.leave.get(t.index),h=[];if(p){for(let y=0;y<p.animateFns.length;y++){let S=p.animateFns[y],{promise:P}=S();h.push(P)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(h),ZP(n,i)}else n&&Lo.delete(n),i(!1)},r)}function ZP(n,t){let e=n[Qa]?.running;if(e){e.then(()=>{n[Qa].running=void 0,Lo.delete(n),t(!0)});return}t(!1)}function XP(n,t){let e=n.cleanup,i=t[Io];if(e!==null)for(let p=0;p<e.length-1;p+=2)if(typeof e[p]=="string"){let h=e[p+3];h>=0?i[h]():i[-h].unsubscribe(),p+=2}else{let h=i[e[p+1]];e[p].call(h)}i!==null&&(t[Io]=null);let r=t[wi];if(r!==null){t[wi]=null;for(let p=0;p<r.length;p++){let h=r[p];h()}}let s=t[$a];if(s!==null){t[$a]=null;for(let p of s)p.destroy()}}function eE(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof jr)){let s=e[i+1];if(Array.isArray(s))for(let p=0;p<s.length;p+=2){let h=r[s[p]],y=s[p+1];$e(Be.LifecycleHookStart,h,y);try{y.call(h)}finally{$e(Be.LifecycleHookEnd,h,y)}}else{$e(Be.LifecycleHookStart,r,s);try{s.call(r)}finally{$e(Be.LifecycleHookEnd,r,s)}}}}}function tE(n,t,e){return nE(n,t.parent,e)}function nE(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[Hn];if(Ki(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===Jn.None||r===Jn.Emulated)return null}return Gn(i,e)}function iE(n,t,e){return oE(n,t,e)}function rE(n,t,e){return n.type&40?Gn(n,e):null}var oE=rE,uy;function rf(n,t,e,i){let r=tE(n,i,t),s=t[it],p=i.parent||t[wn],h=iE(p,i,t);if(r!=null)if(Array.isArray(e))for(let y=0;y<e.length;y++)sy(s,r,e[y],h,!1);else sy(s,r,e,h,!1);uy!==void 0&&uy(s,i,t,e,r)}function os(n,t){if(t!==null){let e=t.type;if(e&3)return Gn(t,n);if(e&4)return Dg(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return os(n,i);{let r=n[t.index];return zn(r)?Dg(-1,r):In(r)}}else{if(e&128)return os(n,t.next);if(e&32)return ef(t,n)()||In(n[t.index]);{let i=yC(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=zi(n[On]);return os(r,i)}else return os(n,t.next)}}}return null}function yC(n,t){if(t!==null){let i=n[On][wn],r=t.projection;return i.projection[r]}return null}function Dg(n,t){let e=pn+n+1;if(e<t.length){let i=t[e],r=i[xe].firstChild;if(r!==null)return os(i,r)}return t[Ji]}function of(n,t,e,i,r,s,p){for(;e!=null;){let h=i[Qi];if(e.type===128){e=e.next;continue}let y=i[e.index],S=e.type;if(p&&t===0&&(y&&Vo(In(y),i),e.flags|=2),!zg(e))if(S&8)of(n,t,e.child,i,r,s,!1),No(t,n,h,r,y,e,s,i);else if(S&32){let P=ef(e,i),I;for(;I=P();)No(t,n,h,r,I,e,s,i);No(t,n,h,r,y,e,s,i)}else S&16?aE(n,t,i,e,r,s):No(t,n,h,r,y,e,s,i);e=p?e.projectionNext:e.next}}function td(n,t,e,i,r,s){of(e,i,n.firstChild,t,r,s,!1)}function aE(n,t,e,i,r,s){let p=e[On],y=p[wn].projection[i.projection];if(Array.isArray(y))for(let S=0;S<y.length;S++){let P=y[S];No(t,n,e[Qi],r,P,i,s,e)}else{let S=y,P=p[Rt];Gy(i)&&(S.flags|=128),of(n,t,S,P,r,s,!0)}}function sE(n,t,e,i,r,s,p){let h=i[Ji],y=In(i);h!==y&&No(t,n,e,s,h,r,p);for(let S=pn;S<i.length;S++){let P=i[S];td(P[xe],P,n,t,s,h)}}function lE(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=i.indexOf("-")===-1?void 0:fi.DashCase;r==null?n.removeStyle(e,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=fi.Important),n.setStyle(e,i,r,s))}}function CC(n,t,e,i,r){let s=mi(),p=i&2;try{Yi(-1),p&&t.length>Nt&&mC(n,t,Nt,!1);let h=p?Be.TemplateUpdateStart:Be.TemplateCreateStart;$e(h,r,e),e(i,r)}finally{Yi(s);let h=p?Be.TemplateUpdateEnd:Be.TemplateCreateEnd;$e(h,r,e)}}function nd(n,t,e){fE(n,t,e),(e.flags&64)===64&&hE(n,t,e)}function af(n,t,e=Gn){let i=t.localNames;if(i!==null){let r=t.index+1;for(let s=0;s<i.length;s+=2){let p=i[s+1],h=p===-1?e(t,n):n[p];n[r++]=h}}}function cE(n,t,e,i){let s=i.get(Zy,Yy)||e===Jn.ShadowDom||e===Jn.ExperimentalIsolatedShadowDom,p=n.selectRootElement(t,s);return dE(p),p}function dE(n){pE(n)}var pE=()=>null;function uE(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function xC(n,t,e,i,r,s){let p=t[xe];if(lf(n,p,t,e,i)){Ki(n)&&gE(t,n.index);return}n.type&3&&(e=uE(e)),mE(n,t,e,i,r,s)}function mE(n,t,e,i,r,s){if(n.type&3){let p=Gn(n,t);i=s!=null?s(i,n.value||"",e):i,r.setProperty(p,e,i)}else n.type&12}function gE(n,t){let e=Dn(t,n);e[Ce]&16||(e[Ce]|=64)}function fE(n,t,e){let i=e.directiveStart,r=e.directiveEnd;Ki(e)&&qP(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Vc(e,t);let s=e.initialInputs;for(let p=i;p<r;p++){let h=n.data[p],y=Lc(t,n,p,e);if(Vo(y,t),s!==null&&CE(t,p-i,y,h,e,s),ui(h)){let S=Dn(e.index,t);S[jt]=Lc(t,n,p,e)}}}function hE(n,t,e){let i=e.directiveStart,r=e.directiveEnd,s=e.index,p=jv();try{Yi(s);for(let h=i;h<r;h++){let y=n.data[h],S=t[h];yc(h),(y.hostBindings!==null||y.hostVars!==0||y.hostAttrs!==null)&&_E(y,S)}}finally{Yi(-1),yc(p)}}function _E(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function sf(n,t){let e=n.directiveRegistry,i=null;if(e)for(let r=0;r<e.length;r++){let s=e[r];NP(t,s.selectors,!1)&&(i??=[],ui(s)?i.unshift(s):i.push(s))}return i}function vE(n,t,e,i,r,s){let p=Gn(n,t);yE(t[it],p,s,n.value,e,i,r)}function yE(n,t,e,i,r,s,p){if(s==null)n.removeAttribute(t,r,e);else{let h=p==null?ci(s):p(s,i||"",r);n.setAttribute(t,r,h,e)}}function CE(n,t,e,i,r,s){let p=s[t];if(p!==null)for(let h=0;h<p.length;h+=2){let y=p[h],S=p[h+1];Ig(i,e,y,S)}}function bC(n,t,e,i,r){let s=Nt+e,p=t[xe],h=r(p,t,n,i,e);t[s]=h,Ao(n,!0);let y=n.type===2;return y?(oC(t[it],h,n),(Tv()===0||To(n))&&Vo(h,t),kv()):Vo(h,t),Pc()&&(!y||!zg(n))&&rf(p,t,h,n),n}function MC(n){let t=n;return X0()?Lv():(t=t.parent,Ao(t,!1)),t}function xE(n,t){let e=n[Qi];if(!e)return;let i;try{i=e.get(kn,null)}catch{i=null}i?.(t)}function lf(n,t,e,i,r){let s=n.inputs?.[i],p=n.hostDirectiveInputs?.[i],h=!1;if(p)for(let y=0;y<p.length;y+=2){let S=p[y],P=p[y+1],I=t.data[S];Ig(I,e[S],P,r),h=!0}if(s)for(let y of s){let S=e[y],P=t.data[y];Ig(P,S,i,r),h=!0}return h}function bE(n,t){let e=Dn(t,n),i=e[xe];ME(i,e);let r=e[Hn];r!==null&&e[za]===null&&(e[za]=Xy(r,e[Qi])),$e(Be.ComponentStart);try{cf(i,e,e[jt])}finally{$e(Be.ComponentEnd,e[jt])}}function ME(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function cf(n,t,e){Cc(t);try{let i=n.viewQuery;i!==null&&Og(1,i,e);let r=n.template;r!==null&&CC(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Vr]?.finishViewCreation(n),n.staticContentQueries&&eC(n,t),n.staticViewQueries&&Og(2,n.viewQuery,e);let s=n.components;s!==null&&SE(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Ce]&=-5,xc()}}function SE(n,t){for(let e=0;e<t.length;e++)bE(n,t[e])}function PE(n,t,e,i){let r=Pe(null);try{let s=t.tView,h=n[Ce]&4096?4096:16,y=Zg(n,s,e,h,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),S=n[t.index];y[Nr]=S;let P=n[Vr];return P!==null&&(y[Vr]=P.createEmbeddedView(s)),cf(s,y,e),y}finally{Pe(r)}}function my(n,t){return!t||t.firstChild===null||Gy(n)}function ls(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let s=t[e.index];s!==null&&i.push(In(s)),zn(s)&&SC(s,i);let p=e.type;if(p&8)ls(n,t,e.child,i);else if(p&32){let h=ef(e,t),y;for(;y=h();)i.push(y)}else if(p&16){let h=yC(t,e);if(Array.isArray(h))i.push(...h);else{let y=zi(t[On]);ls(y[xe],y,h,i,!0)}}e=r?e.projectionNext:e.next}return i}function SC(n,t){for(let e=pn;e<n.length;e++){let i=n[e],r=i[xe].firstChild;r!==null&&ls(i[xe],i,r,t)}n[Ji]!==n[Hn]&&t.push(n[Ji])}function PC(n){if(n[Lr]!==null){for(let t of n[Lr])t.impl.addSequence(t);n[Lr].length=0}}var EC=[];function EE(n){return n[Cn]??wE(n)}function wE(n){let t=EC.pop()??Object.create(IE);return t.lView=n,t}function OE(n){n.lView[Cn]!==n&&(n.lView=null,EC.push(n))}var IE=me(T({},Pa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ro(n.lView)},consumerOnSignalRead(){this.lView[Cn]=this}});function DE(n){let t=n[Cn]??Object.create(TE);return t.lView=n,t}var TE=me(T({},Pa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=zi(n.lView);for(;t&&!wC(t[xe]);)t=zi(t);t&&K0(t)},consumerOnSignalRead(){this.lView[Cn]=this}});function wC(n){return n.type!==2}function OC(n){if(n[$a]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[$a])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[Ce]&8192)}}var kE=100;function IC(n,t=0){let i=n[di].rendererFactory,r=!1;r||i.begin?.();try{RE(n,t)}finally{r||i.end?.()}}function RE(n,t){let e=eg();try{tg(!0),Tg(n,t);let i=0;for(;Za(n);){if(i===kE)throw new J(103,!1);i++,Tg(n,1)}}finally{tg(e)}}function AE(n,t,e,i){if(Ur(t))return;let r=t[Ce],s=!1,p=!1;Cc(t);let h=!0,y=null,S=null;s||(wC(n)?(S=EE(t),y=wa(S)):Ml()===null?(h=!1,S=DE(t),y=wa(S)):t[Cn]&&(Oa(t[Cn]),t[Cn]=null));try{J0(t),Uv(n.bindingStartIndex),e!==null&&CC(n,t,e,2,i);let P=(r&3)===3;if(!s)if(P){let D=n.preOrderCheckHooks;D!==null&&Dc(t,D,null)}else{let D=n.preOrderHooks;D!==null&&Tc(t,D,0,null),mg(t,0)}if(p||NE(t),OC(t),DC(t,0),n.contentQueries!==null&&eC(n,t),!s)if(P){let D=n.contentCheckHooks;D!==null&&Dc(t,D)}else{let D=n.contentHooks;D!==null&&Tc(t,D,1),mg(t,1)}VE(n,t);let I=n.components;I!==null&&kC(t,I,0);let R=n.viewQuery;if(R!==null&&Og(2,R,i),!s)if(P){let D=n.viewCheckHooks;D!==null&&Dc(t,D)}else{let D=n.viewHooks;D!==null&&Tc(t,D,2),mg(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[gc]){for(let D of t[gc])D();t[gc]=null}s||(PC(t),t[Ce]&=-73)}catch(P){throw s||Ro(t),P}finally{S!==null&&(Sl(S,y),h&&OE(S)),xc()}}function DC(n,t){for(let e=Qy(n);e!==null;e=Jy(e))for(let i=pn;i<e.length;i++){let r=e[i];TC(r,t)}}function NE(n){for(let t=Qy(n);t!==null;t=Jy(t)){if(!(t[Ce]&2))continue;let e=t[Ka];for(let i=0;i<e.length;i++){let r=e[i];K0(r)}}}function FE(n,t,e){$e(Be.ComponentStart);let i=Dn(t,n);try{TC(i,e)}finally{$e(Be.ComponentEnd,i[jt])}}function TC(n,t){hc(n)&&Tg(n,t)}function Tg(n,t){let i=n[xe],r=n[Ce],s=n[Cn],p=!!(t===0&&r&16);if(p||=!!(r&64&&t===0),p||=!!(r&1024),p||=!!(s?.dirty&&Pl(s)),p||=!1,s&&(s.dirty=!1),n[Ce]&=-9217,p)AE(i,n,i.template,n[jt]);else if(r&8192){let h=Pe(null);try{OC(n),DC(n,1);let y=i.components;y!==null&&kC(n,y,1),PC(n)}finally{Pe(h)}}}function kC(n,t,e){for(let i=0;i<t.length;i++)FE(n,t[i],e)}function VE(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)Yi(~r);else{let s=r,p=e[++i],h=e[++i];Wv(p,s);let y=t[s];$e(Be.HostBindingsUpdateStart,y);try{h(2,y)}finally{$e(Be.HostBindingsUpdateEnd,y)}}}}finally{Yi(-1)}}function df(n,t){let e=eg()?64:1088;for(n[di].changeDetectionScheduler?.notify(t);n;){n[Ce]|=e;let i=zi(n);if(ko(n)&&!i)return n;n=i}return null}function RC(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function LE(n,t,e,i=!0){let r=t[xe];if(UE(r,t,n,e),i){let p=Dg(e,n),h=t[it],y=h.parentNode(n[Ji]);y!==null&&KP(r,n[wn],h,t,y,p)}let s=t[za];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function kg(n,t){if(n.length<=pn)return;let e=pn+t,i=n[e];if(i){let r=i[Nr];r!==null&&r!==n&&nf(r,i),t>0&&(n[e-1][En]=i[En]);let s=ja(n,pn+t);JP(i[xe],i);let p=s[Vr];p!==null&&p.detachView(s[xe]),i[Rt]=null,i[En]=null,i[Ce]&=-129}return i}function UE(n,t,e,i){let r=pn+i,s=e.length;i>0&&(e[r-1][En]=t),i<s-pn?(t[En]=e[r],N0(e,pn+i,t)):(e.push(t),t[En]=null),t[Rt]=e;let p=t[Nr];p!==null&&e!==p&&AC(p,t);let h=t[Vr];h!==null&&h.insertView(n),_c(t),t[Ce]|=128}function AC(n,t){let e=n[Ka],i=t[Rt];if(pi(i))n[Ce]|=2;else{let r=i[Rt][On];t[On]!==r&&(n[Ce]|=2)}e===null?n[Ka]=[t]:e.push(t)}var Zi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[xe];return ls(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[jt]}set context(t){this._lView[jt]=t}get destroyed(){return Ur(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Rt];if(zn(t)){let e=t[Ja],i=e?e.indexOf(this):-1;i>-1&&(kg(t,i),ja(e,i))}this._attachedToViewContainer=!1}vC(this._lView[xe],this._lView)}onDestroy(t){Y0(this._lView,t)}markForCheck(){df(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ce]&=-129}reattach(){_c(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,IC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ko(this._lView),e=this._lView[Nr];e!==null&&!t&&nf(e,this._lView),_C(this._lView[xe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=t;let e=ko(this._lView),i=this._lView[Nr];i!==null&&!e&&AC(i,this._lView),_c(this._lView)}};var _s=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=BE;constructor(e,i,r){this._declarationLView=e,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,r){let s=PE(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:r});return new Zi(s)}}return n})();function BE(){return WE(Ht(),Te())}function WE(n,t){return n.type&4?new _s(t,n,$c(n,t)):null}function pf(n,t,e,i,r){let s=n.data[t];if(s===null)s=jE(n,t,e,i,r),Bv()&&(s.flags|=32);else if(s.type&64){s.type=e,s.value=i,s.attrs=r;let p=Vv();s.injectorIndex=p===null?-1:p.injectorIndex}return Ao(s,!0),s}function jE(n,t,e,i,r){let s=Z0(),p=X0(),h=p?s:s&&s.parent,y=n.data[t]=HE(n,h,e,t,i,r);return qE(n,y,s,p),y}function qE(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function HE(n,t,e,i,r,s){let p=t?t.injectorIndex:-1,h=0;return Av()&&(h|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:h,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var zE=()=>null;function gy(n,t){return zE(n,t)}var NC=class{},id=class{},Rg=class{resolveComponentFactory(t){throw new J(917,!1)}},vs=class{static NULL=new Rg},ki=class{},Kn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>GE()}return n})();function GE(){let n=Te(),t=Ht(),e=Dn(t.index,n);return(pi(e)?e:n)[it]}var FC=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var kc={},Ag=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){let r=this.injector.get(t,kc,i);return r!==kc||e===kc?r:this.parentInjector.get(t,e,i)}};function fy(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(t!==null)for(let p=0;p<t.length;p++){let h=t[p];if(typeof h=="number")s=h;else if(s==1)r=lc(r,h);else if(s==2){let y=h,S=t[++p];i=lc(i,y+": "+S+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function w(n,t=0){let e=Te();if(e===null)return Q(n,t);let i=Ht();return qy(i,e,kt(n),t)}function uf(){let n="invalid";throw new Error(n)}function VC(n,t,e,i,r){let s=i===null?null:{"":-1},p=r(n,e);if(p!==null){let h=p,y=null,S=null;for(let P of p)if(P.resolveHostDirectives!==null){[h,y,S]=P.resolveHostDirectives(p);break}JE(n,t,e,h,s,y,S)}s!==null&&i!==null&&$E(e,i,s)}function $E(n,t,e){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let s=e[t[r+1]];if(s==null)throw new J(-301,!1);i.push(t[r],s)}}function QE(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function JE(n,t,e,i,r,s,p){let h=i.length,y=null;for(let R=0;R<h;R++){let D=i[R];y===null&&ui(D)&&(y=D,QE(n,e,R)),Pg(Vc(e,t),n,D.type)}tw(e,n.data.length,h),y?.viewProvidersResolver&&y.viewProvidersResolver(y);for(let R=0;R<h;R++){let D=i[R];D.providersResolver&&D.providersResolver(D)}let S=!1,P=!1,I=uC(n,t,h,null);h>0&&(e.directiveToIndex=new Map);for(let R=0;R<h;R++){let D=i[R];if(e.mergedAttrs=ss(e.mergedAttrs,D.hostAttrs),YE(n,e,t,I,D),ew(I,D,r),p!==null&&p.has(D)){let[Y,X]=p.get(D);e.directiveToIndex.set(D.type,[I,Y+e.directiveStart,X+e.directiveStart])}else(s===null||!s.has(D))&&e.directiveToIndex.set(D.type,I);D.contentQueries!==null&&(e.flags|=4),(D.hostBindings!==null||D.hostAttrs!==null||D.hostVars!==0)&&(e.flags|=64);let j=D.type.prototype;!S&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),S=!0),!P&&(j.ngOnChanges||j.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),P=!0),I++}KE(n,e,s)}function KE(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=n.data[i];if(e===null||!e.has(r))hy(0,t,r,i),hy(1,t,r,i),vy(t,i,!1);else{let s=e.get(r);_y(0,t,s,i),_y(1,t,s,i),vy(t,i,!0)}}}function hy(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let s in r)if(r.hasOwnProperty(s)){let p;n===0?p=t.inputs??={}:p=t.outputs??={},p[s]??=[],p[s].push(i),LC(t,s)}}function _y(n,t,e,i){let r=n===0?e.inputs:e.outputs;for(let s in r)if(r.hasOwnProperty(s)){let p=r[s],h;n===0?h=t.hostDirectiveInputs??={}:h=t.hostDirectiveOutputs??={},h[p]??=[],h[p].push(i,s),LC(t,p)}}function LC(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function vy(n,t,e){let{attrs:i,inputs:r,hostDirectiveInputs:s}=n;if(i===null||!e&&r===null||e&&s===null||Kg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let p=null,h=0;for(;h<i.length;){let y=i[h];if(y===0){h+=4;continue}else if(y===5){h+=2;continue}else if(typeof y=="number")break;if(!e&&r.hasOwnProperty(y)){let S=r[y];for(let P of S)if(P===t){p??=[],p.push(y,i[h+1]);break}}else if(e&&s.hasOwnProperty(y)){let S=s[y];for(let P=0;P<S.length;P+=2)if(S[P]===t){p??=[],p.push(S[P+1],i[h+1]);break}}h+=2}n.initialInputs??=[],n.initialInputs.push(p)}function YE(n,t,e,i,r){n.data[i]=r;let s=r.factory||(r.factory=Hi(r.type,!0)),p=new jr(s,ui(r),w,null);n.blueprint[i]=p,e[i]=p,ZE(n,t,i,uC(n,e,r.hostVars,zt),r)}function ZE(n,t,e,i,r){let s=r.hostBindings;if(s){let p=n.hostBindingOpCodes;p===null&&(p=n.hostBindingOpCodes=[]);let h=~t.index;XE(p)!=h&&p.push(h),p.push(e,i,s)}}function XE(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function ew(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ui(t)&&(e[""]=n)}}function tw(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function mf(n,t,e,i,r,s,p,h){let y=t[xe],S=y.consts,P=Ya(S,p),I=pf(y,n,e,i,P);return s&&VC(y,t,I,Ya(S,h),r),I.mergedAttrs=ss(I.mergedAttrs,I.attrs),I.attrs!==null&&fy(I,I.attrs,!1),I.mergedAttrs!==null&&fy(I,I.mergedAttrs,!0),y.queries!==null&&y.queries.elementStart(y,I),I}function gf(n,t){Ay(n,t),H0(t)&&n.queries.elementEnd(t)}function ff(n){return BC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function UC(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function BC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ys(n,t,e){return n[t]=e}function nw(n,t){return n[t]}function hi(n,t,e){if(e===zt)return!1;let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function cs(n,t,e,i){let r=hi(n,t,e);return hi(n,t+1,i)||r}function WC(n,t,e,i,r){let s=cs(n,t,e,i);return hi(n,t+2,r)||s}function iw(n,t,e,i,r,s){let p=cs(n,t,e,i);return cs(n,t+2,r,s)||p}function hg(n,t,e){return function i(r){let s=Ki(n)?Dn(n.index,t):t;df(s,5);let p=t[jt],h=yy(t,p,e,r),y=i.__ngNextListenerFn__;for(;y;)h=yy(t,p,y,r)&&h,y=y.__ngNextListenerFn__;return h}}function yy(n,t,e,i){let r=Pe(null);try{return $e(Be.OutputStart,t,e),e(i)!==!1}catch(s){return xE(n,s),!1}finally{$e(Be.OutputEnd,t,e),Pe(r)}}function rw(n,t,e,i,r,s,p,h){let y=To(n),S=!1,P=null;if(!i&&y&&(P=aw(t,e,s,n.index)),P!==null){let I=P.__ngLastListenerFn__||P;I.__ngNextListenerFn__=p,P.__ngLastListenerFn__=p,S=!0}else{let I=Gn(n,e),R=i?i(I):I;fP(e,R,s,h);let D=r.listen(R,s,h);if(!ow(s)){let j=i?Y=>i(In(Y[n.index])):n.index;jC(j,t,e,s,h,D,!1)}}return S}function ow(n){return n.startsWith("animation")||n.startsWith("transition")}function aw(n,t,e,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let p=r[s];if(p===e&&r[s+1]===i){let h=t[Io],y=r[s+2];return h&&h.length>y?h[y]:null}typeof p=="string"&&(s+=2)}return null}function jC(n,t,e,i,r,s,p){let h=t.firstCreatePass?Dv(t):null,y=Iv(e),S=y.length;y.push(r,s),h&&h.push(i,n,S,(S+1)*(p?-1:1))}function Cy(n,t,e,i,r,s){let p=t[e],h=t[xe],S=h.data[e].outputs[i],I=p[S].subscribe(s);jC(n.index,h,t,r,s,I,!0)}var Ng=Symbol("BINDING");var jc=class extends vs{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Di(t);return new qr(e,this.ngModule)}};function sw(n){return Object.keys(n).map(t=>{let[e,i,r]=n[t],s={propName:e,templateName:t,isSignal:(i&Xc.SignalBased)!==0};return r&&(s.transform=r),s})}function lw(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function cw(n,t,e){let i=t instanceof pt?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Ag(e,i):e}function dw(n){let t=n.get(ki,null);if(t===null)throw new J(407,!1);let e=n.get(FC,null),i=n.get(Gi,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i,ngReflect:!1}}function pw(n,t){let e=qC(n);return iC(t,e,e==="svg"?z0:e==="math"?Pv:null)}function qC(n){return(n.selectors[0][0]||"div").toLowerCase()}var qr=class extends id{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sw(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=lw(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=UP(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,r,s,p){$e(Be.DynamicComponentStart);let h=Pe(null);try{let y=this.componentDef,S=uw(i,y,p,s),P=cw(y,r||this.ngModule,t),I=dw(P),R=I.rendererFactory.createRenderer(null,y),D=i?cE(R,i,y.encapsulation,P):pw(y,R),j=p?.some(xy)||s?.some(ie=>typeof ie!="function"&&ie.bindings.some(xy)),Y=Zg(null,S,null,512|pC(y),null,null,I,R,P,null,Xy(D,P,!0));Y[Nt]=D,Cc(Y);let X=null;try{let ie=mf(Nt,Y,2,"#host",()=>S.directiveRegistry,!0,0);oC(R,D,ie),Vo(D,Y),nd(S,Y,ie),Gg(S,ie,Y),gf(S,ie),e!==void 0&&gw(ie,this.ngContentSelectors,e),X=Dn(ie.index,Y),Y[jt]=X[jt],cf(S,Y,null)}catch(ie){throw X!==null&&wg(X),wg(Y),ie}finally{$e(Be.DynamicComponentEnd),xc()}return new qc(this.componentType,Y,!!j)}finally{Pe(h)}}};function uw(n,t,e,i){let r=n?["ng-version","21.0.5"]:BP(t.selectors[0]),s=null,p=null,h=0;if(e)for(let P of e)h+=P[Ng].requiredVars,P.create&&(P.targetIdx=0,(s??=[]).push(P)),P.update&&(P.targetIdx=0,(p??=[]).push(P));if(i)for(let P=0;P<i.length;P++){let I=i[P];if(typeof I!="function")for(let R of I.bindings){h+=R[Ng].requiredVars;let D=P+1;R.create&&(R.targetIdx=D,(s??=[]).push(R)),R.update&&(R.targetIdx=D,(p??=[]).push(R))}}let y=[t];if(i)for(let P of i){let I=typeof P=="function"?P:P.type,R=k0(I);y.push(R)}return Yg(0,null,mw(s,p),1,h,y,null,null,null,[r],null)}function mw(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let i of n)i.create();if(e&2&&t)for(let i of t)i.update()}}function xy(n){let t=n[Ng].kind;return t==="input"||t==="twoWay"}var qc=class extends NC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,i){super(),this._rootLView=e,this._hasInputBindings=i,this._tNode=fc(e[xe],Nt),this.location=$c(this._tNode,e),this.instance=Dn(this._tNode.index,e)[jt],this.hostView=this.changeDetectorRef=new Zi(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let r=this._rootLView,s=lf(i,r[xe],r,t,e);this.previousInputValues.set(t,e);let p=Dn(i.index,r);df(p,1)}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function gw(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let s=e[r];i.push(s!=null&&s.length?Array.from(s):null)}}var $r=(()=>{class n{static __NG_ELEMENT_ID__=fw}return n})();function fw(){let n=Ht();return _w(n,Te())}var hw=$r,HC=class extends hw{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return $c(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Wg(this._hostTNode,this._hostLView);if(Vy(t)){let e=Nc(t,this._hostLView),i=Ac(t),r=e[xe].data[i+8];return new Wr(r,e)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=by(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(t,e,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let p=gy(this._lContainer,t.ssrId),h=t.createEmbeddedViewImpl(e||{},s,p);return this.insertImpl(h,r,my(this._hostTNode,p)),h}createComponent(t,e,i,r,s,p,h){let y=t&&!jS(t),S;if(y)S=e;else{let X=e||{};S=X.index,i=X.injector,r=X.projectableNodes,s=X.environmentInjector||X.ngModuleRef,p=X.directives,h=X.bindings}let P=y?t:new qr(Di(t)),I=i||this.parentInjector;if(!s&&P.ngModule==null){let ie=(y?I:this.parentInjector).get(pt,null);ie&&(s=ie)}let R=Di(P.componentType??{}),D=gy(this._lContainer,R?.id??null),j=D?.firstChild??null,Y=P.create(I,r,j,s,p,h);return this.insertImpl(Y.hostView,S,my(this._hostTNode,D)),Y}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(Ev(r)){let h=this.indexOf(t);if(h!==-1)this.detach(h);else{let y=r[Rt],S=new HC(y,y[wn],y[Rt]);S.detach(S.indexOf(t))}}let s=this._adjustIndex(e),p=this._lContainer;return LE(p,r,s,i),t.attachToViewContainerRef(),N0(_g(p),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=by(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=kg(this._lContainer,e);i&&(ja(_g(this._lContainer),e),vC(i[xe],i))}detach(t){let e=this._adjustIndex(t,-1),i=kg(this._lContainer,e);return i&&ja(_g(this._lContainer),e)!=null?new Zi(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function by(n){return n[Ja]}function _g(n){return n[Ja]||(n[Ja]=[])}function _w(n,t){let e,i=t[n.index];return zn(i)?e=i:(e=RC(i,t,null,n),t[n.index]=e,Xg(t,e)),yw(e,t,n,i),new HC(e,n,t)}function vw(n,t){let e=n[it],i=e.createComment(""),r=Gn(t,n),s=e.parentNode(r);return Bc(e,s,i,e.nextSibling(r),!1),i}var yw=bw,Cw=()=>!1;function xw(n,t,e){return Cw(n,t,e)}function bw(n,t,e,i){if(n[Ji])return;let r;e.type&8?r=In(i):r=vw(t,e),n[Ji]=r}var Fg=new Map,Mw=new Set;async function zC(n){let t=Fg;Fg=new Map;let e=new Map;function i(s){let p=e.get(s);if(p)return p;let h=n(s).then(y=>Sw(s,y));return e.set(s,h),h}let r=Array.from(t).map(async([s,p])=>{if(p.styleUrl&&p.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");let h=[];p.templateUrl&&h.push(i(p.templateUrl).then(I=>{p.template=I}));let y=typeof p.styles=="string"?[p.styles]:p.styles??[];p.styles=y;let{styleUrl:S,styleUrls:P}=p;if(S&&(P=[S],p.styleUrl=void 0),P?.length){let I=Promise.all(P.map(R=>i(R))).then(R=>{y.push(...R),p.styleUrls=void 0});h.push(I)}await Promise.all(h),Mw.delete(s)});await Promise.all(r)}function GC(){return Fg.size===0}async function Sw(n,t){if(typeof t=="string")return t;if(t.status!==void 0&&t.status!==200)throw new J(918,!1);return t.text()}var Hr=class{},rd=class{};var ds=class extends Hr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jc(this);constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e;let s=T0(t);this._bootstrapComponents=cC(s.bootstrap),this._r3Injector=ag(t,e,[{provide:Hr,useValue:this},{provide:vs,useValue:this.componentFactoryResolver},...i],Oi(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ps=class extends rd{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new ds(this.moduleType,t,[])}};function $C(n,t,e){return new ds(n,t,e,!1)}var Hc=class extends Hr{injector;componentFactoryResolver=new jc(this);instance=null;constructor(t){super();let e=new Tr([...t.providers,{provide:Hr,useValue:this},{provide:vs,useValue:this.componentFactoryResolver}],t.parent||Ha(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Wo(n,t,e=null){return new Hc({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var Pw=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=L0(!1,e.type),r=i.length>0?Wo([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(Q(pt))})}return n})();function k(n){return ms(()=>{let t=QC(n),e=me(T({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(Pw).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Jn.Emulated,styles:n.styles||en,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Gr("NgStandalone"),JC(e);let i=n.dependencies;return e.directiveDefs=My(i,Ew),e.pipeDefs=My(i,gv),e.id=Iw(e),e})}function Ew(n){return Di(n)||k0(n)}function mt(n){return ms(()=>({type:n.type,bootstrap:n.bootstrap||en,declarations:n.declarations||en,imports:n.imports||en,exports:n.exports||en,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ww(n,t){if(n==null)return $i;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,p,h,y;Array.isArray(r)?(h=r[0],s=r[1],p=r[2]??s,y=r[3]||null):(s=r,p=r,h=Xc.None,y=null),e[s]=[i,h,y],t[s]=p}return e}function Ow(n){if(n==null)return $i;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Qe(n){return ms(()=>{let t=QC(n);return JC(t),t})}function Cs(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function QC(n){let t={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||$i,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||en,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ww(n.inputs,t),outputs:Ow(n.outputs),debugInfo:null}}function JC(n){n.features?.forEach(t=>t(n))}function My(n,t){return n?()=>{let e=typeof n=="function"?n():n,i=[];for(let r of e){let s=t(r);s!==null&&i.push(s)}return i}:null}function Iw(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of i.join("|"))t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Dw(n){return Object.getPrototypeOf(n.prototype).constructor}function Gt(n){let t=Dw(n.type),e=!0,i=[n];for(;t;){let r;if(ui(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new J(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let p=n;p.inputs=vg(n.inputs),p.declaredInputs=vg(n.declaredInputs),p.outputs=vg(n.outputs);let h=r.hostBindings;h&&Nw(n,h);let y=r.viewQuery,S=r.contentQueries;if(y&&Rw(n,y),S&&Aw(n,S),Tw(n,r),mv(n.outputs,r.outputs),ui(r)&&r.data.animation){let P=n.data;P.animation=(P.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let p=0;p<s.length;p++){let h=s[p];h&&h.ngInherit&&h(n),h===Gt&&(e=!1)}}t=Object.getPrototypeOf(t)}kw(i)}function Tw(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function kw(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ss(r.hostAttrs,e=ss(e,r.hostAttrs))}}function vg(n){return n===$i?{}:n===en?[]:n}function Rw(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function Aw(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,s)=>{t(i,r,s),e(i,r,s)}:n.contentQueries=t}function Nw(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}function Fw(n,t,e,i,r,s,p,h){if(e.firstCreatePass){n.mergedAttrs=ss(n.mergedAttrs,n.attrs);let P=n.tView=Yg(2,n,r,s,p,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),P.queries=e.queries.embeddedTView(n))}h&&(n.flags|=h),Ao(n,!1);let y=Lw(e,t,n,i);Pc()&&rf(e,t,y,n),Vo(y,t);let S=RC(y,t,y,n);t[i+Nt]=S,Xg(t,S),xw(S,n,t)}function Vw(n,t,e,i,r,s,p,h,y,S,P){let I=e+Nt,R;return t.firstCreatePass?(R=pf(t,I,4,p||null,h||null),vc()&&VC(t,n,R,Ya(t.consts,S),sf),Ay(t,R)):R=t.data[I],Fw(R,n,t,e,i,r,s,y),To(R)&&nd(t,n,R),S!=null&&af(n,R,P),R}function M(n,t,e,i,r,s,p,h){let y=Te(),S=qt(),P=Ya(S.consts,s);return Vw(y,S,n,t,e,i,r,P,void 0,p,h),M}var Lw=Uw;function Uw(n,t,e,i){return ts(!0),t[it].createComment("")}var hf=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function KC(n){return typeof n=="function"&&n[Yt]!==void 0}function _f(n){return KC(n)&&typeof n.set=="function"}var od=new oe(""),ad=new oe(""),xs=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,r){this._ngZone=e,this.registry=i,W0()&&(this._destroyRef=K(Tn,{optional:!0})??void 0),vf||(ZC(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==s),e()},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static \u0275fac=function(i){return new(i||n)(Q(ft),Q(YC),Q(ad))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),YC=(()=>{class n{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return vf?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ZC(n){vf=n}var vf;function Xi(n){return!!n&&typeof n.then=="function"}function yf(n){return!!n&&typeof n.subscribe=="function"}var Cf=new oe("");function sd(n){return Rr([{provide:Cf,multi:!0,useValue:n}])}var xf=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=K(Cf,{optional:!0})??[];injector=K(Wt);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let s=Et(this.injector,r);if(Xi(s))e.push(s);else if(yf(s)){let p=new Promise((h,y)=>{s.subscribe({complete:h,error:y})});e.push(p)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ld=new oe("");function XC(){Qm(()=>{let n="";throw new J(600,n)})}function ex(n){return n.isBoundToModule}var Bw=10;function bf(n,t){return Array.isArray(t)?t.reduce(bf,n):T(T({},n),t)}var _i=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=K(kn);afterRenderManager=K(tf);zonelessEnabled=K(ns);rootEffectScheduler=K(ug);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ct;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=K(Ti);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ne(e=>!e))}constructor(){K(Ai,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=K(pt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,r=Wt.NULL){return this._injector.get(ft).run(()=>{$e(Be.BootstrapComponentStart);let p=e instanceof id;if(!this._injector.get(xf).done){let j="";throw new J(405,j)}let y;p?y=e:y=this._injector.get(vs).resolveComponentFactory(e),this.componentTypes.push(y.componentType);let S=ex(y)?void 0:this._injector.get(Hr),P=i||y.selector,I=y.create(r,[],P,S),R=I.location.nativeElement,D=I.injector.get(od,null);return D?.registerApplication(R),I.onDestroy(()=>{this.detachView(I.hostView),as(this.components,I),D?.unregisterApplication(R)}),this._loadComponent(I),$e(Be.BootstrapComponentEnd,I),I})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){$e(Be.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ed.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw $e(Be.ChangeDetectionEnd),new J(101,!1);let e=Pe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Pe(e),this.afterTick.next(),$e(Be.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ki,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<Bw;){$e(Be.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{$e(Be.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Za(r))continue;let s=i&&!this.zonelessEnabled?0:1;IC(r,s),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Za(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;as(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(e),this._injector.get(ld,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>as(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new J(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function as(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function er(n,t,e,i){let r=Te(),s=Xa();if(hi(r,s,t)){let p=qt(),h=bc();vE(h,r,n,t,e,i)}return er}var aJ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function u(n,t,e){let i=Te(),r=Xa();if(hi(i,r,t)){let s=qt(),p=bc();xC(p,i,n,t,i[it],e)}return u}function Vg(n,t,e,i,r){lf(t,n,e,r?"class":"style",i)}function o(n,t,e,i){let r=Te(),s=r[xe],p=n+Nt,h=s.firstCreatePass?mf(p,r,2,t,sf,vc(),e,i):s.data[p];if(bC(h,r,n,t,Ww),To(h)){let y=r[xe];nd(y,r,h),Gg(y,h,r)}return i!=null&&af(r,h),o}function a(){let n=qt(),t=Ht(),e=MC(t);return n.firstCreatePass&&gf(n,e),Nv(e)&&Fv(),Rv(),e.classesWithoutHost!=null&&QS(e)&&Vg(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JS(e)&&Vg(n,e,Te(),e.stylesWithoutHost,!1),a}function v(n,t,e,i){return o(n,t,e,i),a(),v}var Ww=(n,t,e,i,r)=>(ts(!0),iC(t[it],i,Qv()));function Qr(n,t,e){let i=Te(),r=i[xe],s=n+Nt,p=r.firstCreatePass?mf(s,i,8,"ng-container",sf,vc(),t,e):r.data[s];if(bC(p,i,n,"ng-container",jw),To(p)){let h=i[xe];nd(h,i,p),Gg(h,p,i)}return e!=null&&af(i,p),Qr}function Jr(){let n=qt(),t=Ht(),e=MC(t);return n.firstCreatePass&&gf(n,e),Jr}var jw=(n,t,e,i,r)=>(ts(!0),PP(t[it],""));function O(){return Te()}var rs=void 0;function qw(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var Hw=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",rs,rs,rs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",qw],yg={};function nn(n){let t=zw(n),e=Sy(t);if(e)return e;let i=t.split("-")[0];if(e=Sy(i),e)return e;if(i==="en")return Hw;throw new J(701,!1)}function Sy(n){return n in yg||(yg[n]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[n]),yg[n]}var ct=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(ct||{});function zw(n){return n.toLowerCase().replace(/_/g,"-")}var bs="en-US",Gw="USD";var $w=bs;function tx(n){typeof n=="string"&&($w=n.toLowerCase().replace(/_/g,"-"))}function _(n,t,e){let i=Te(),r=qt(),s=Ht();return nx(r,i,i[it],s,n,t,e),_}function nx(n,t,e,i,r,s,p){let h=!0,y=null;if((i.type&3||p)&&(y??=hg(i,t,s),rw(i,n,t,p,e,r,s,y)&&(h=!1)),h){let S=i.outputs?.[r],P=i.hostDirectiveOutputs?.[r];if(P&&P.length)for(let I=0;I<P.length;I+=2){let R=P[I],D=P[I+1];y??=hg(i,t,s),Cy(i,t,R,D,r,y)}if(S&&S.length)for(let I of S)y??=hg(i,t,s),Cy(i,t,I,r,r,y)}}function d(n=1){return $v(n)}function Oc(n,t){return n<<17|t<<2}function zr(n){return n>>17&32767}function Qw(n){return(n&2)==2}function Jw(n,t){return n&131071|t<<17}function Lg(n){return n|2}function Uo(n){return(n&131068)>>2}function Cg(n,t){return n&-131069|t<<2}function Kw(n){return(n&1)===1}function Ug(n){return n|1}function Yw(n,t,e,i,r,s){let p=s?t.classBindings:t.styleBindings,h=zr(p),y=Uo(p);n[i]=e;let S=!1,P;if(Array.isArray(e)){let I=e;P=I[1],(P===null||wo(I,P)>0)&&(S=!0)}else P=e;if(r)if(y!==0){let R=zr(n[h+1]);n[i+1]=Oc(R,h),R!==0&&(n[R+1]=Cg(n[R+1],i)),n[h+1]=Jw(n[h+1],i)}else n[i+1]=Oc(h,0),h!==0&&(n[h+1]=Cg(n[h+1],i)),h=i;else n[i+1]=Oc(y,0),h===0?h=i:n[y+1]=Cg(n[y+1],i),y=i;S&&(n[i+1]=Lg(n[i+1])),Py(n,P,i,!0),Py(n,P,i,!1),Zw(t,P,n,i,s),p=Oc(h,y),s?t.classBindings=p:t.styleBindings=p}function Zw(n,t,e,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof t=="string"&&wo(s,t)>=0&&(e[i+1]=Ug(e[i+1]))}function Py(n,t,e,i){let r=n[e+1],s=t===null,p=i?zr(r):Uo(r),h=!1;for(;p!==0&&(h===!1||s);){let y=n[p],S=n[p+1];Xw(y,t)&&(h=!0,n[p+1]=i?Ug(S):Lg(S)),p=i?zr(S):Uo(S)}h&&(n[e+1]=i?Lg(r):Ug(r))}function Xw(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?wo(n,t)>=0:!1}var Qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eO(n){return n.substring(Qn.key,Qn.keyEnd)}function tO(n){return nO(n),ix(n,rx(n,0,Qn.textEnd))}function ix(n,t){let e=Qn.textEnd;return e===t?-1:(t=Qn.keyEnd=iO(n,Qn.key=t,e),rx(n,t,e))}function nO(n){Qn.key=0,Qn.keyEnd=0,Qn.value=0,Qn.valueEnd=0,Qn.textEnd=n.length}function rx(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function iO(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function de(n,t,e){return ox(n,t,e,!1),de}function L(n,t){return ox(n,t,null,!0),L}function bt(n){oO(pO,rO,n,!0)}function rO(n,t){for(let e=tO(t);e>=0;e=ix(t,e))uc(n,eO(t),!0)}function ox(n,t,e,i){let r=Te(),s=qt(),p=es(2);if(s.firstUpdatePass&&sx(s,n,p,i),t!==zt&&hi(r,p,t)){let h=s.data[mi()];lx(s,h,r,r[it],n,r[p+1]=mO(t,e),i,p)}}function oO(n,t,e,i){let r=qt(),s=es(2);r.firstUpdatePass&&sx(r,null,s,i);let p=Te();if(e!==zt&&hi(p,s,e)){let h=r.data[mi()];if(cx(h,i)&&!ax(r,s)){let y=i?h.classesWithoutHost:h.stylesWithoutHost;y!==null&&(e=lc(y,e||"")),Vg(r,h,p,e,i)}else uO(r,h,p,p[it],p[s+1],p[s+1]=dO(n,t,e),i,s)}}function ax(n,t){return t>=n.expandoStartIndex}function sx(n,t,e,i){let r=n.data;if(r[e+1]===null){let s=r[mi()],p=ax(n,e);cx(s,i)&&t===null&&!p&&(t=!1),t=aO(r,s,t,i),Yw(r,s,t,e,p,i)}}function aO(n,t,e,i){let r=qv(n),s=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=xg(null,n,t,e,i),e=us(e,t.attrs,i),s=null);else{let p=t.directiveStylingLast;if(p===-1||n[p]!==r)if(e=xg(r,n,t,e,i),s===null){let y=sO(n,t,i);y!==void 0&&Array.isArray(y)&&(y=xg(null,n,t,y[1],i),y=us(y,t.attrs,i),lO(n,t,i,y))}else s=cO(n,t,i)}return s!==void 0&&(i?t.residualClasses=s:t.residualStyles=s),e}function sO(n,t,e){let i=e?t.classBindings:t.styleBindings;if(Uo(i)!==0)return n[zr(i)]}function lO(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[zr(r)]=i}function cO(n,t,e){let i,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let p=n[s].hostAttrs;i=us(i,p,e)}return us(i,t.attrs,e)}function xg(n,t,e,i,r){let s=null,p=e.directiveEnd,h=e.directiveStylingLast;for(h===-1?h=e.directiveStart:h++;h<p&&(s=t[h],i=us(i,s.hostAttrs,r),s!==n);)h++;return n!==null&&(e.directiveStylingLast=h),i}function us(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let p=t[s];typeof p=="number"?r=p:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),uc(n,p,e?!0:t[++s]))}return n===void 0?null:n}function dO(n,t,e){if(e==null||e==="")return en;let i=[],r=Bo(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&t(i,r);return i}function pO(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&uc(n,i,e)}function uO(n,t,e,i,r,s,p,h){r===zt&&(r=en);let y=0,S=0,P=0<r.length?r[0]:null,I=0<s.length?s[0]:null;for(;P!==null||I!==null;){let R=y<r.length?r[y+1]:void 0,D=S<s.length?s[S+1]:void 0,j=null,Y;P===I?(y+=2,S+=2,R!==D&&(j=I,Y=D)):I===null||P!==null&&P<I?(y+=2,j=P):(S+=2,j=I,Y=D),j!==null&&lx(n,t,e,i,j,Y,p,h),P=y<r.length?r[y]:null,I=S<s.length?s[S]:null}}function lx(n,t,e,i,r,s,p,h){if(!(t.type&3))return;let y=n.data,S=y[h+1],P=Kw(S)?Ey(y,t,e,r,Uo(S),p):void 0;if(!zc(P)){zc(s)||Qw(S)&&(s=Ey(y,null,e,r,h,p));let I=G0(mi(),e);lE(i,p,I,r,s)}}function Ey(n,t,e,i,r,s){let p=t===null,h;for(;r>0;){let y=n[r],S=Array.isArray(y),P=S?y[1]:y,I=P===null,R=e[r+1];R===zt&&(R=I?en:void 0);let D=I?mc(R,i):P===i?R:void 0;if(S&&!zc(D)&&(D=mc(y,i)),zc(D)&&(h=D,p))return h;let j=n[r+1];r=p?zr(j):Uo(j)}if(t!==null){let y=s?t.residualClasses:t.residualStyles;y!=null&&(h=mc(y,i))}return h}function zc(n){return n!==void 0}function mO(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Oi(Bo(n)))),n}function cx(n,t){return(n.flags&(t?8:16))!==0}function l(n,t=""){let e=Te(),i=qt(),r=n+Nt,s=i.firstCreatePass?pf(i,r,1,t,null):i.data[r],p=gO(i,e,s,t,n);e[r]=p,Pc()&&rf(i,e,p,s),Ao(s,!1)}var gO=(n,t,e,i,r)=>(ts(!0),MP(t[it],i));function fO(n,t,e,i=""){return hi(n,Xa(),e)?t+ci(e)+i:zt}function hO(n,t,e,i,r,s=""){let p=ng(),h=cs(n,p,e,r);return es(2),h?t+ci(e)+i+ci(r)+s:zt}function _O(n,t,e,i,r,s,p,h=""){let y=ng(),S=WC(n,y,e,r,p);return es(3),S?t+ci(e)+i+ci(r)+s+ci(p)+h:zt}function f(n){return E("",n),f}function E(n,t,e){let i=Te(),r=fO(i,n,t,e);return r!==zt&&Mf(i,mi(),r),E}function ne(n,t,e,i,r){let s=Te(),p=hO(s,n,t,e,i,r);return p!==zt&&Mf(s,mi(),p),ne}function tr(n,t,e,i,r,s,p){let h=Te(),y=_O(h,n,t,e,i,r,s,p);return y!==zt&&Mf(h,mi(),y),tr}function Mf(n,t,e){let i=G0(t,n);SP(n[it],i,e)}function C(n,t,e){_f(t)&&(t=t());let i=Te(),r=Xa();if(hi(i,r,t)){let s=qt(),p=bc();xC(p,i,n,t,i[it],e)}return C}function b(n,t){let e=_f(n);return e&&n.set(t),e}function x(n,t){let e=Te(),i=qt(),r=Ht();return nx(i,e,e[it],r,n,t),x}function wy(n,t,e){let i=qt();i.firstCreatePass&&dx(t,i.data,i.blueprint,ui(n),e)}function dx(n,t,e,i,r){if(n=kt(n),Array.isArray(n))for(let s=0;s<n.length;s++)dx(n[s],t,e,i,r);else{let s=qt(),p=Te(),h=Ht(),y=Dr(n)?n:kt(n.provide),S=B0(n),P=h.providerIndexes&1048575,I=h.directiveStart,R=h.providerIndexes>>20;if(Dr(n)||!n.multi){let D=new jr(S,r,w,null),j=Mg(y,t,r?P:P+R,I);j===-1?(Pg(Vc(h,p),s,y),bg(s,n,t.length),t.push(y),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(D),p.push(D)):(e[j]=D,p[j]=D)}else{let D=Mg(y,t,P+R,I),j=Mg(y,t,P,P+R),Y=D>=0&&e[D],X=j>=0&&e[j];if(r&&!X||!r&&!Y){Pg(Vc(h,p),s,y);let ie=CO(r?yO:vO,e.length,r,i,S,n);!r&&X&&(e[j].providerFactory=ie),bg(s,n,t.length,0),t.push(y),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(ie),p.push(ie)}else{let ie=px(e[r?j:D],S,!r&&i);bg(s,n,D>-1?D:j,ie)}!r&&i&&X&&e[j].componentProviders++}}}function bg(n,t,e,i){let r=Dr(t),s=Mv(t);if(r||s){let y=(s?kt(t.useClass):t).prototype.ngOnDestroy;if(y){let S=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let P=S.indexOf(e);P===-1?S.push(e,[i,y]):S[P+1].push(i,y)}else S.push(e,y)}}}function px(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Mg(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function vO(n,t,e,i,r){return Bg(this.multi,[])}function yO(n,t,e,i,r){let s=this.multi,p;if(this.providerFactory){let h=this.providerFactory.componentProviders,y=Lc(i,i[xe],this.providerFactory.index,r);p=y.slice(0,h),Bg(s,p);for(let S=h;S<y.length;S++)p.push(y[S])}else p=[],Bg(s,p);return p}function Bg(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function CO(n,t,e,i,r,s){let p=new jr(n,e,w,null);return p.multi=[],p.index=t,p.componentProviders=0,px(p,r,i&&!e),p}function Nn(n,t){return e=>{e.providersResolver=(i,r)=>wy(i,r?r(n):n,!1),t&&(e.viewProvidersResolver=(i,r)=>wy(i,r?r(t):t,!0))}}function Kr(n,t,e){let i=Br()+n,r=Te();return r[i]===zt?ys(r,i,e?t.call(e):t()):nw(r,i)}function Sf(n,t,e,i){return ux(Te(),Br(),n,t,e,i)}function cd(n,t,e,i,r,s){return bO(Te(),Br(),n,t,e,i,r,s)}function Pf(n,t,e,i,r,s,p){return MO(Te(),Br(),n,t,e,i,r,s,p)}function dd(n,t){let e=n[t];return e===zt?void 0:e}function ux(n,t,e,i,r,s){let p=t+e;return hi(n,p,r)?ys(n,p+1,s?i.call(s,r):i(r)):dd(n,p+1)}function xO(n,t,e,i,r,s,p){let h=t+e;return cs(n,h,r,s)?ys(n,h+2,p?i.call(p,r,s):i(r,s)):dd(n,h+2)}function bO(n,t,e,i,r,s,p,h){let y=t+e;return WC(n,y,r,s,p)?ys(n,y+3,h?i.call(h,r,s,p):i(r,s,p)):dd(n,y+3)}function MO(n,t,e,i,r,s,p,h,y){let S=t+e;return iw(n,S,r,s,p,h)?ys(n,S+4,y?i.call(y,r,s,p,h):i(r,s,p,h)):dd(n,S+4)}function U(n,t){let e=qt(),i,r=n+Nt;e.firstCreatePass?(i=SO(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let s=i.factory||(i.factory=Hi(i.type,!0)),p,h=Xt(w);try{let y=Fc(!1),S=s();return Fc(y),Q0(e,Te(),r,S),S}finally{Xt(h)}}function SO(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function mn(n,t,e){let i=n+Nt,r=Te(),s=$0(r,i);return mx(r,i)?ux(r,Br(),t,s.transform,e,s):s.transform(e)}function $(n,t,e,i){let r=n+Nt,s=Te(),p=$0(s,r);return mx(s,r)?xO(s,Br(),t,p.transform,e,i,p):p.transform(e,i)}function mx(n,t){return n[xe].data[t].pure}var Ic=null;function gx(n){Ic!==null&&(n.defaultEncapsulation!==Ic.defaultEncapsulation||n.preserveWhitespaces!==Ic.preserveWhitespaces)||(Ic=n)}var Gc=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},Ef=(()=>{class n{compileModuleSync(e){return new ps(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=T0(e),s=cC(r.declarations).reduce((p,h)=>{let y=Di(h);return y&&p.push(new qr(y)),p},[]);return new Gc(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fx=new oe("");var hx=(()=>{class n{applicationErrorHandler=K(kn);appRef=K(_i);taskService=K(Ti);ngZone=K(ft);zonelessEnabled=K(ns);tracing=K(Ai,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ua):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(pg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?lg:sg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ua+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(e),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _x(){return[{provide:Gi,useExisting:hx},{provide:ft,useClass:Ba},{provide:ns,useValue:!0}]}function PO(){return typeof $localize<"u"&&$localize.locale||bs}var Yr=new oe("",{factory:()=>K(Yr,{optional:!0,skipSelf:!0})||PO()}),wf=new oe("",{factory:()=>Gw});function jo(n,t){return El(n,t?.equal)}var Px=Symbol("InputSignalNode#UNSET"),FO=me(T({},wl),{transformFn:void 0,applyValueToInputSignal(n,t){Ia(n,t)}});function Ex(n,t){let e=Object.create(FO);e.value=n,e.transformFn=t?.transform;function i(){if(Ea(e),e.value===Px){let r=null;throw new J(-950,r)}return e.value}return i[Yt]=e,i}var pd=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>gs(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function vx(n,t){return Ex(n,t)}function VO(n){return Ex(Px,n)}var wx=(vx.required=VO,vx);function LO(n,t,e){let i=new ps(e);return Promise.resolve(i)}function yx(n){for(let t=n.length-1;t>=0;t--)if(n[t]!==void 0)return n[t]}var ud=new oe(""),UO=new oe("");function Ms(n){return!n.moduleRef}function BO(n){let t=Ms(n)?n.r3Injector:n.moduleRef.injector,e=t.get(ft);return e.run(()=>{Ms(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(kn),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:i})}),Ms(n)){let s=()=>t.destroy(),p=n.platformInjector.get(ud);p.add(s),t.onDestroy(()=>{r.unsubscribe(),p.delete(s)})}else{let s=()=>n.moduleRef.destroy(),p=n.platformInjector.get(ud);p.add(s),n.moduleRef.onDestroy(()=>{as(n.allPlatformModules,n.moduleRef),r.unsubscribe(),p.delete(s)})}return jO(i,e,()=>{let s=t.get(Ti),p=s.add(),h=t.get(xf);return h.runInitializers(),h.donePromise.then(()=>{let y=t.get(Yr,bs);if(tx(y||bs),!t.get(UO,!0))return Ms(n)?t.get(_i):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ms(n)){let P=t.get(_i);return n.rootComponent!==void 0&&P.bootstrap(n.rootComponent),P}else return Ox?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void s.remove(p))})})}var Ox;function Cx(){Ox=WO}function WO(n,t){let e=n.injector.get(_i);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new J(-403,!1);t.push(n)}function jO(n,t,e){try{let i=e();return Xi(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n(i)),i}}var Ix=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,i){let r=[_x(),...i?.applicationProviders??[],Zv],s=$C(e.moduleType,this.injector,r);return Cx(),BO({moduleRef:s,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,i=[]){let r=bf({},i);return Cx(),LO(this.injector,r,e).then(s=>this.bootstrapModuleFactory(s,r))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let e=this._injector.get(ud,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(i){return new(i||n)(Q(Wt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),kf=null;function qO(n){if(Af())throw new J(400,!1);XC(),kf=n;let t=n.get(Ix);return GO(n),t}function Rf(n,t,e=[]){let i=`Platform: ${t}`,r=new oe(i);return(s=[])=>{let p=Af();if(!p){let h=[...e,...s,{provide:r,useValue:!0}];p=n?.(h)??qO(HO(h,i))}return zO(r)}}function HO(n=[],t){return Wt.create({name:t,providers:[{provide:qa,useValue:"platform"},{provide:ud,useValue:new Set([()=>kf=null])},...n]})}function zO(n){let t=Af();if(!t)throw new J(-401,!1);return t}function Af(){return kf?.get(Ix)??null}function GO(n){let t=n.get(Jc,null);Et(n,()=>{t?.forEach(e=>e())})}var nr=(()=>{class n{static __NG_ELEMENT_ID__=$O}return n})();function $O(n){return QO(Ht(),Te(),(n&16)===16)}function QO(n,t,e){if(Ki(n)&&!e){let i=Dn(n.index,t);return new Zi(i,i)}else if(n.type&175){let i=t[On];return new Zi(i,t)}return null}var Of=class{constructor(){}supports(t){return ff(t)}create(t){return new If(t)}},JO=(n,t)=>t,If=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||JO}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){let p=!i||e&&e.currentIndex<xx(i,r,s)?e:i,h=xx(p,r,s),y=p.currentIndex;if(p===i)r--,i=i._nextRemoved;else if(e=e._next,p.previousIndex==null)r++;else{s||(s=[]);let S=h-r,P=y-r;if(S!=P){for(let R=0;R<S;R++){let D=R<s.length?s[R]:s[R]=0,j=D+R;P<=j&&j<S&&(s[R]=D+1)}let I=p.previousIndex;s[I]=P-S}}h!==y&&t(p,h,y)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!ff(t))throw new J(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,s,p;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)s=t[h],p=this._trackByFn(h,s),e===null||!Object.is(e.trackById,p)?(e=this._mismatch(e,s,p,h),i=!0):(i&&(e=this._verifyReinsertion(e,s,p,h)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next}else r=0,UC(t,h=>{p=this._trackByFn(r,h),e===null||!Object.is(e.trackById,p)?(e=this._mismatch(e,h,p,r),i=!0):(i&&(e=this._verifyReinsertion(e,h,p,r)),Object.is(e.item,h)||this._addIdentityChange(e,h)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Df(e,i),s,r)),t}_verifyReinsertion(t,e,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new md),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new md),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Df=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Tf=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},md=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new Tf,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function xx(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}function bx(){return new Nf([new Of])}var Nf=(()=>{class n{factories;static \u0275prov=W({token:n,providedIn:"root",factory:bx});constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let i=K(n,{optional:!0,skipSelf:!0});return n.create(e,i||bx())}}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new J(901,!1)}}return n})();var Dx=Rf(null,"core",[]),Tx=(()=>{class n{constructor(e){}static \u0275fac=function(i){return new(i||n)(Q(_i))};static \u0275mod=mt({type:n});static \u0275inj=ut({})}return n})();function ir(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function kx(n){let t=Di(n);if(!t)return null;let e=new qr(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Rx=null;function xn(){return Rx}function Ff(n){Rx??=n}var Ss=class{},rr=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:()=>K(Ax),providedIn:"platform"})}return n})(),Vf=new oe(""),Ax=(()=>{class n extends rr{_location;_history;_doc=K(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(e){let i=xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=xn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function gd(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function Nx(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Yn(n){return n&&n[0]!=="?"?`?${n}`:n}var Zn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:()=>K(hd),providedIn:"root"})}return n})(),fd=new oe(""),hd=(()=>{class n extends Zn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??K(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return gd(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Yn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){let p=this.prepareExternalUrl(r+Yn(s));this._platformLocation.pushState(e,i,p)}replaceState(e,i,r,s){let p=this.prepareExternalUrl(r+Yn(s));this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(Q(rr),Q(fd,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),or=(()=>{class n{_subject=new Ct;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=ZO(Nx(Fx(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Yn(i))}normalize(e){return n.stripTrailingSlash(YO(this._basePath,Fx(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Yn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Yn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Yn;static joinWithSlash=gd;static stripTrailingSlash=Nx;static \u0275fac=function(i){return new(i||n)(Q(Zn))};static \u0275prov=W({token:n,factory:()=>KO(),providedIn:"root"})}return n})();function KO(){return new or(Q(Zn))}function YO(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Fx(n){return n.replace(/\/index.html$/,"")}function ZO(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Hf=(()=>{class n extends Zn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=gd(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let p=this.prepareExternalUrl(r+Yn(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,p)}replaceState(e,i,r,s){let p=this.prepareExternalUrl(r+Yn(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(Q(rr),Q(fd,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),qx={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Ed=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Ed||{});var $t=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})($t||{}),Je=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Je||{}),gn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(gn||{}),Ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Hx(n){return nn(n)[ct.LocaleId]}function zx(n,t,e){let i=nn(n),r=[i[ct.DayPeriodsFormat],i[ct.DayPeriodsStandalone]],s=Fn(r,t);return Fn(s,e)}function Gx(n,t,e){let i=nn(n),r=[i[ct.DaysFormat],i[ct.DaysStandalone]],s=Fn(r,t);return Fn(s,e)}function $x(n,t,e){let i=nn(n),r=[i[ct.MonthsFormat],i[ct.MonthsStandalone]],s=Fn(r,t);return Fn(s,e)}function Qx(n,t){let i=nn(n)[ct.Eras];return Fn(i,t)}function Ps(n,t){let e=nn(n);return Fn(e[ct.DateFormat],t)}function Es(n,t){let e=nn(n);return Fn(e[ct.TimeFormat],t)}function ws(n,t){let i=nn(n)[ct.DateTimeFormat];return Fn(i,t)}function ei(n,t){let e=nn(n),i=e[ct.NumberSymbols][t];if(typeof i>"u"){if(t===Ft.CurrencyDecimal)return e[ct.NumberSymbols][Ft.Decimal];if(t===Ft.CurrencyGroup)return e[ct.NumberSymbols][Ft.Group]}return i}function zf(n,t){return nn(n)[ct.NumberFormats][t]}function XO(n){return nn(n)[ct.Currencies]}function Jx(n){if(!n[ct.ExtraData])throw new J(2303,!1)}function Kx(n){let t=nn(n);return Jx(t),(t[ct.ExtraData][2]||[]).map(i=>typeof i=="string"?Lf(i):[Lf(i[0]),Lf(i[1])])}function Yx(n,t,e){let i=nn(n);Jx(i);let r=[i[ct.ExtraData][0],i[ct.ExtraData][1]],s=Fn(r,t)||[];return Fn(s,e)||[]}function Fn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new J(2304,!1)}function Lf(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}function Zx(n,t,e="en"){let i=XO(e)[n]||qx[n]||[],r=i[1];return t==="narrow"&&typeof r=="string"?r:i[0]||n}var e3=2;function Xx(n){let t,e=qx[n];return e&&(t=e[2]),typeof t=="number"?t:e3}var t3=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_d={},n3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function e1(n,t,e,i){let r=p3(n);t=Ni(e,t)||t;let p=[],h;for(;t;)if(h=n3.exec(t),h){p=p.concat(h.slice(1));let P=p.pop();if(!P)break;t=P}else{p.push(t);break}let y=r.getTimezoneOffset();i&&(y=n1(i,y),r=d3(r,i));let S="";return p.forEach(P=>{let I=l3(P);S+=I?I(r,e,y):P==="''"?"'":P.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function bd(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ni(n,t){let e=Hx(n);if(_d[e]??={},_d[e][t])return _d[e][t];let i="";switch(t){case"shortDate":i=Ps(n,gn.Short);break;case"mediumDate":i=Ps(n,gn.Medium);break;case"longDate":i=Ps(n,gn.Long);break;case"fullDate":i=Ps(n,gn.Full);break;case"shortTime":i=Es(n,gn.Short);break;case"mediumTime":i=Es(n,gn.Medium);break;case"longTime":i=Es(n,gn.Long);break;case"fullTime":i=Es(n,gn.Full);break;case"short":let r=Ni(n,"shortTime"),s=Ni(n,"shortDate");i=vd(ws(n,gn.Short),[r,s]);break;case"medium":let p=Ni(n,"mediumTime"),h=Ni(n,"mediumDate");i=vd(ws(n,gn.Medium),[p,h]);break;case"long":let y=Ni(n,"longTime"),S=Ni(n,"longDate");i=vd(ws(n,gn.Long),[y,S]);break;case"full":let P=Ni(n,"fullTime"),I=Ni(n,"fullDate");i=vd(ws(n,gn.Full),[P,I]);break}return i&&(_d[e][t]=i),i}function vd(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function Xn(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=e));let p=String(n);for(;p.length<t;)p="0"+p;return i&&(p=p.slice(p.length-t)),s+p}function i3(n,t){return Xn(n,3).substring(0,t)}function ht(n,t,e=0,i=!1,r=!1){return function(s,p){let h=r3(n,s);if((e>0||h>-e)&&(h+=e),n===3)h===0&&e===-12&&(h=12);else if(n===6)return i3(h,t);let y=ei(p,Ft.MinusSign);return Xn(h,t,y,i,r)}}function r3(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new J(2301,!1)}}function Xe(n,t,e=$t.Format,i=!1){return function(r,s){return o3(r,s,n,t,e,i)}}function o3(n,t,e,i,r,s){switch(e){case 2:return $x(t,r,i)[n.getMonth()];case 1:return Gx(t,r,i)[n.getDay()];case 0:let p=n.getHours(),h=n.getMinutes();if(s){let S=Kx(t),P=Yx(t,r,i),I=S.findIndex(R=>{if(Array.isArray(R)){let[D,j]=R,Y=p>=D.hours&&h>=D.minutes,X=p<j.hours||p===j.hours&&h<j.minutes;if(D.hours<j.hours){if(Y&&X)return!0}else if(Y||X)return!0}else if(R.hours===p&&R.minutes===h)return!0;return!1});if(I!==-1)return P[I]}return zx(t,r,i)[p<12?0:1];case 3:return Qx(t,i)[n.getFullYear()<=0?0:1];default:let y=e;throw new J(2302,!1)}}function yd(n){return function(t,e,i){let r=-1*i,s=ei(e,Ft.MinusSign),p=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Xn(p,2,s)+Xn(Math.abs(r%60),2,s);case 1:return"GMT"+(r>=0?"+":"")+Xn(p,1,s);case 2:return"GMT"+(r>=0?"+":"")+Xn(p,2,s)+":"+Xn(Math.abs(r%60),2,s);case 3:return i===0?"Z":(r>=0?"+":"")+Xn(p,2,s)+":"+Xn(Math.abs(r%60),2,s);default:throw new J(2310,!1)}}}var a3=0,xd=4;function s3(n){let t=bd(n,a3,1).getDay();return bd(n,0,1+(t<=xd?xd:xd+7)-t)}function t1(n){let t=n.getDay(),e=t===0?-3:xd-t;return bd(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Uf(n,t=!1){return function(e,i){let r;if(t){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,p=e.getDate();r=1+Math.floor((p+s)/7)}else{let s=t1(e),p=s3(s.getFullYear()),h=s.getTime()-p.getTime();r=1+Math.round(h/6048e5)}return Xn(r,n,ei(i,Ft.MinusSign))}}function Cd(n,t=!1){return function(e,i){let s=t1(e).getFullYear();return Xn(s,n,ei(i,Ft.MinusSign),t)}}var Bf={};function l3(n){if(Bf[n])return Bf[n];let t;switch(n){case"G":case"GG":case"GGG":t=Xe(3,Je.Abbreviated);break;case"GGGG":t=Xe(3,Je.Wide);break;case"GGGGG":t=Xe(3,Je.Narrow);break;case"y":t=ht(0,1,0,!1,!0);break;case"yy":t=ht(0,2,0,!0,!0);break;case"yyy":t=ht(0,3,0,!1,!0);break;case"yyyy":t=ht(0,4,0,!1,!0);break;case"Y":t=Cd(1);break;case"YY":t=Cd(2,!0);break;case"YYY":t=Cd(3);break;case"YYYY":t=Cd(4);break;case"M":case"L":t=ht(1,1,1);break;case"MM":case"LL":t=ht(1,2,1);break;case"MMM":t=Xe(2,Je.Abbreviated);break;case"MMMM":t=Xe(2,Je.Wide);break;case"MMMMM":t=Xe(2,Je.Narrow);break;case"LLL":t=Xe(2,Je.Abbreviated,$t.Standalone);break;case"LLLL":t=Xe(2,Je.Wide,$t.Standalone);break;case"LLLLL":t=Xe(2,Je.Narrow,$t.Standalone);break;case"w":t=Uf(1);break;case"ww":t=Uf(2);break;case"W":t=Uf(1,!0);break;case"d":t=ht(2,1);break;case"dd":t=ht(2,2);break;case"c":case"cc":t=ht(7,1);break;case"ccc":t=Xe(1,Je.Abbreviated,$t.Standalone);break;case"cccc":t=Xe(1,Je.Wide,$t.Standalone);break;case"ccccc":t=Xe(1,Je.Narrow,$t.Standalone);break;case"cccccc":t=Xe(1,Je.Short,$t.Standalone);break;case"E":case"EE":case"EEE":t=Xe(1,Je.Abbreviated);break;case"EEEE":t=Xe(1,Je.Wide);break;case"EEEEE":t=Xe(1,Je.Narrow);break;case"EEEEEE":t=Xe(1,Je.Short);break;case"a":case"aa":case"aaa":t=Xe(0,Je.Abbreviated);break;case"aaaa":t=Xe(0,Je.Wide);break;case"aaaaa":t=Xe(0,Je.Narrow);break;case"b":case"bb":case"bbb":t=Xe(0,Je.Abbreviated,$t.Standalone,!0);break;case"bbbb":t=Xe(0,Je.Wide,$t.Standalone,!0);break;case"bbbbb":t=Xe(0,Je.Narrow,$t.Standalone,!0);break;case"B":case"BB":case"BBB":t=Xe(0,Je.Abbreviated,$t.Format,!0);break;case"BBBB":t=Xe(0,Je.Wide,$t.Format,!0);break;case"BBBBB":t=Xe(0,Je.Narrow,$t.Format,!0);break;case"h":t=ht(3,1,-12);break;case"hh":t=ht(3,2,-12);break;case"H":t=ht(3,1);break;case"HH":t=ht(3,2);break;case"m":t=ht(4,1);break;case"mm":t=ht(4,2);break;case"s":t=ht(5,1);break;case"ss":t=ht(5,2);break;case"S":t=ht(6,1);break;case"SS":t=ht(6,2);break;case"SSS":t=ht(6,3);break;case"Z":case"ZZ":case"ZZZ":t=yd(0);break;case"ZZZZZ":t=yd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=yd(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=yd(2);break;default:return null}return Bf[n]=t,t}function n1(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function c3(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function d3(n,t,e){let r=n.getTimezoneOffset(),s=n1(t,r);return c3(n,-1*(s-r))}function p3(n){if(Vx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,p=1]=n.split("-").map(h=>+h);return bd(r,s-1,p)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(t3))return u3(i)}let t=new Date(n);if(!Vx(t))throw new J(2311,!1);return t}function u3(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let p=Number(n[4]||0)-e,h=Number(n[5]||0)-i,y=Number(n[6]||0),S=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(t,p,h,y,S),t}function Vx(n){return n instanceof Date&&!isNaN(n.valueOf())}var m3=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Lx=22,Md=".",Os="0",g3=";",f3=",",Wf="#",Ux="\xA4";function i1(n,t,e,i,r,s,p=!1){let h="",y=!1;if(!isFinite(n))h=ei(e,Ft.Infinity);else{let S=_3(n);p&&(S=h3(S));let P=t.minInt,I=t.minFrac,R=t.maxFrac;if(s){let Ie=s.match(m3);if(Ie===null)throw new J(2306,!1);let Ye=Ie[1],Ee=Ie[3],Kt=Ie[5];Ye!=null&&(P=jf(Ye)),Ee!=null&&(I=jf(Ee)),Kt!=null?R=jf(Kt):Ee!=null&&I>R&&(R=I)}v3(S,I,R);let D=S.digits,j=S.integerLen,Y=S.exponent,X=[];for(y=D.every(Ie=>!Ie);j<P;j++)D.unshift(0);for(;j<0;j++)D.unshift(0);j>0?X=D.splice(j,D.length):(X=D,D=[0]);let ie=[];for(D.length>=t.lgSize&&ie.unshift(D.splice(-t.lgSize,D.length).join(""));D.length>t.gSize;)ie.unshift(D.splice(-t.gSize,D.length).join(""));D.length&&ie.unshift(D.join("")),h=ie.join(ei(e,i)),X.length&&(h+=ei(e,r)+X.join("")),Y&&(h+=ei(e,Ft.Exponential)+"+"+Y)}return n<0&&!y?h=t.negPre+h+t.negSuf:h=t.posPre+h+t.posSuf,h}function r1(n,t,e,i,r){let s=zf(t,Ed.Currency),p=a1(s,ei(t,Ft.MinusSign));return p.minFrac=Xx(i),p.maxFrac=p.minFrac,i1(n,p,t,Ft.CurrencyGroup,Ft.CurrencyDecimal,r).replace(Ux,e).replace(Ux,"").trim()}function o1(n,t,e){let i=zf(t,Ed.Decimal),r=a1(i,ei(t,Ft.MinusSign));return i1(n,r,t,Ft.Group,Ft.Decimal,e)}function a1(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(g3),r=i[0],s=i[1],p=r.indexOf(Md)!==-1?r.split(Md):[r.substring(0,r.lastIndexOf(Os)+1),r.substring(r.lastIndexOf(Os)+1)],h=p[0],y=p[1]||"";e.posPre=h.substring(0,h.indexOf(Wf));for(let P=0;P<y.length;P++){let I=y.charAt(P);I===Os?e.minFrac=e.maxFrac=P+1:I===Wf?e.maxFrac=P+1:e.posSuf+=I}let S=h.split(f3);if(e.gSize=S[1]?S[1].length:0,e.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,s){let P=r.length-e.posPre.length-e.posSuf.length,I=s.indexOf(Wf);e.negPre=s.substring(0,I).replace(/'/g,""),e.negSuf=s.slice(I+P).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function h3(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function _3(n){let t=Math.abs(n)+"",e=0,i,r,s,p,h;for((r=t.indexOf(Md))>-1&&(t=t.replace(Md,"")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charAt(s)===Os;s++);if(s===(h=t.length))i=[0],r=1;else{for(h--;t.charAt(h)===Os;)h--;for(r-=s,i=[],p=0;s<=h;s++,p++)i[p]=Number(t.charAt(s))}return r>Lx&&(i=i.splice(0,Lx-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}function v3(n,t,e){if(t>e)throw new J(2307,!1);let i=n.digits,r=i.length-n.integerLen,s=Math.min(Math.max(t,r),e),p=s+n.integerLen,h=i[p];if(p>0){i.splice(Math.max(n.integerLen,p));for(let I=p;I<i.length;I++)i[I]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,p=s+1),i[0]=0;for(let I=1;I<p;I++)i[I]=0}if(h>=5)if(p-1<0){for(let I=0;I>p;I--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[p-1]++;for(;r<Math.max(0,s);r++)i.push(0);let y=s!==0,S=t+n.integerLen,P=i.reduceRight(function(I,R,D,j){return R=R+I,j[D]=R<10?R:R-10,y&&(j[D]===0&&D>=S?j.pop():y=!1),R>=10?1:0},0);P&&(i.unshift(P),n.integerLen++)}function jf(n){let t=parseInt(n);if(isNaN(t))throw new J(2305,!1);return t}var qf=/\s+/,Bx=[],ae=(()=>{class n{_ngEl;_renderer;initialClasses=Bx;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(qf):Bx}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(qf):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(qf).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(w(An),w(Kn))};static \u0275dir=Qe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Sd=class{$implicit;ngForOf;index;count;constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},A=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,s,p)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Sd(r.item,this._ngForOf,-1,-1),p===null?void 0:p);else if(p==null)i.remove(s===null?void 0:s);else if(s!==null){let h=i.get(s);i.move(h,p),Wx(h,r)}});for(let r=0,s=i.length;r<s;r++){let h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);Wx(s,r)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(w($r),w(_s),w(Nf))};static \u0275dir=Qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Wx(n,t){n.context.$implicit=t.item}var N=(()=>{class n{_viewContainer;_context=new Pd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){jx(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){jx(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(w($r),w(_s))};static \u0275dir=Qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Pd=class{$implicit=null;ngIf=null};function jx(n,t){if(n&&!n.createEmbeddedView)throw new J(2020,!1)}function Gf(n,t){return new J(2100,!1)}var y3="mediumDate",s1=new oe(""),l1=new oe(""),Vt=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(e==null||e===""||e!==e)return null;try{let p=i??this.defaultOptions?.dateFormat??y3,h=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return e1(e,p,s||this.locale,h)}catch(p){throw Gf(n,p.message)}}static \u0275fac=function(i){return new(i||n)(w(Yr,16),w(s1,24),w(l1,24))};static \u0275pipe=Cs({name:"date",type:n,pure:!0})}return n})();var he=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,r){if(!c1(e))return null;r||=this._locale;try{let s=d1(e);return o1(s,r,i)}catch(s){throw Gf(n,s.message)}}static \u0275fac=function(i){return new(i||n)(w(Yr,16))};static \u0275pipe=Cs({name:"number",type:n,pure:!0})}return n})();var $f=(()=>{class n{_locale;_defaultCurrencyCode;constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",s,p){if(!c1(e))return null;p||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let h=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?h=Zx(h,r==="symbol"?"wide":"narrow",p):h=r);try{let y=d1(e);return r1(y,p,h,i,s)}catch(y){throw Gf(n,y.message)}}static \u0275fac=function(i){return new(i||n)(w(Yr,16),w(wf,16))};static \u0275pipe=Cs({name:"currency",type:n,pure:!0})}return n})();function c1(n){return!(n==null||n===""||n!==n)}function d1(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new J(2309,!1);return n}var Ae=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({})}return n})();function Is(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,s]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var Zr=class{};var p1="browser";var u1=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new Qf(K(et),window)})}return n})(),Qf=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo(me(T({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let i=C3(this.document,t);i&&(this.scrollToElement(i,e),i.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Ii(2400,!1))}}scrollToElement(t,e){let i=t.getBoundingClientRect(),r=i.left+this.window.pageXOffset,s=i.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(me(T({},e),{left:r-p[0],top:s-p[1]}))}};function C3(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let p=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(p)return p}r=i.nextNode()}}return null}var Ds=class{_doc;constructor(t){this._doc=t}manager},wd=(()=>{class n extends Ds{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,s){return e.addEventListener(i,r,s),()=>this.removeEventListener(e,i,r,s)}removeEventListener(e,i,r,s){return e.removeEventListener(i,r,s)}static \u0275fac=function(i){return new(i||n)(Q(et))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Dd=new oe(""),Zf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(p=>{p.manager=this});let r=e.filter(p=>!(p instanceof wd));this._plugins=r.slice().reverse();let s=e.find(p=>p instanceof wd);s&&this._plugins.push(s)}addEventListener(e,i,r,s){return this._findPluginFor(i).addEventListener(e,i,r,s)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new J(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(Q(Dd),Q(ft))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Jf="ng-app-id";function m1(n){for(let t of n)t.remove()}function g1(n,t){let e=t.createElement("style");return e.textContent=n,e}function x3(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Jf}="${t}"],link[${Jf}="${t}"]`);if(r)for(let s of r)s.removeAttribute(Jf),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function Yf(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Xf=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,x3(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,g1);i?.forEach(r=>this.addUsage(r,this.external,Yf))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let s=i.get(e);s?s.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(p=>this.addElement(p,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(m1(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])m1(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,g1(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Yf(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(Q(et),Q(Qc),Q(Yc,8),Q(fs))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Kf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eh=/%COMP%/g;var h1="%COMP%",b3=`_nghost-${h1}`,M3=`_ngcontent-${h1}`,S3=!0,P3=new oe("",{factory:()=>S3});function E3(n){return M3.replace(eh,n)}function w3(n){return b3.replace(eh,n)}function _1(n,t){return t.map(e=>e.replace(eh,n))}var Rs=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,s,p,h,y=null,S=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=p,this.ngZone=h,this.nonce=y,this.tracingService=S,this.platformIsServer=!1,this.defaultRenderer=new Ts(e,p,h,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,i);return r instanceof Id?r.applyToHost(e):r instanceof ks&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let p=this.doc,h=this.ngZone,y=this.eventManager,S=this.sharedStylesHost,P=this.removeStylesOnCompDestroy,I=this.platformIsServer,R=this.tracingService;switch(i.encapsulation){case Jn.Emulated:s=new Id(y,S,i,this.appId,P,p,h,I,R);break;case Jn.ShadowDom:return new Od(y,e,i,p,h,this.nonce,I,R,S);case Jn.ExperimentalIsolatedShadowDom:return new Od(y,e,i,p,h,this.nonce,I,R);default:s=new ks(y,S,i,P,p,h,I,R);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(Q(Zf),Q(Xf),Q(Qc),Q(P3),Q(et),Q(ft),Q(Yc),Q(Ai,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Ts=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,s){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Kf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(f1(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(f1(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new J(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let s=Kf[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Kf[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(fi.DashCase|fi.Important)?t.style.setProperty(e,i,r&fi.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&fi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=xn().getGlobalEventTarget(this.doc,t),!t))throw new J(5102,!1);let s=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function f1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Od=class extends Ts{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,i,r,s,p,h,y,S){super(t,r,s,h,y),this.hostEl=e,this.sharedStylesHost=S,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let P=i.styles;P=_1(i.id,P);for(let R of P){let D=document.createElement("style");p&&D.setAttribute("nonce",p),D.textContent=R,this.shadowRoot.appendChild(D)}let I=i.getExternalStyles?.();if(I)for(let R of I){let D=Yf(R,r);p&&D.setAttribute("nonce",p),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ks=class extends Ts{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,s,p,h,y,S){super(t,s,p,h,y),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let P=i.styles;this.styles=S?_1(S,P):P,this.styleUrls=i.getExternalStyles?.(S)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Lo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Id=class extends ks{contentAttr;hostAttr;constructor(t,e,i,r,s,p,h,y,S){let P=r+"-"+i.id;super(t,e,i,s,p,h,y,S,P),this.contentAttr=E3(P),this.hostAttr=w3(P)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var Td=class n extends Ss{supportsDOMEvents=!0;static makeCurrent(){Ff(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=O3();return e==null?null:I3(e)}resetBaseElement(){As=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Is(document.cookie,t)}},As=null;function O3(){return As=As||document.head.querySelector("base"),As?As.getAttribute("href"):null}function I3(n){return new URL(n,document.baseURI).pathname}var kd=class{addToWindow(t){At.getAngularTestability=(i,r=!0)=>{let s=t.findTestabilityInTree(i,r);if(s==null)throw new J(5103,!1);return s},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let r=At.getAllAngularTestabilities(),s=r.length,p=function(){s--,s==0&&i()};r.forEach(h=>{h.whenStable(p)})};At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let r=t.getTestability(e);return r??(i?xn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},D3=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),v1=["alt","control","meta","shift"],T3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},y1=(()=>{class n extends Ds{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,s){let p=n.parseEventName(i),h=n.eventCallback(p.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(e,p.domEventName,h,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),p="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),p="code."),v1.forEach(S=>{let P=i.indexOf(S);P>-1&&(i.splice(P,1),p+=S+".")}),p+=s,i.length!=0||s.length===0)return null;let y={};return y.domEventName=r,y.fullKey=p,y}static matchEventFullKeyCode(e,i){let r=T3[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),v1.forEach(p=>{if(p!==r){let h=k3[p];h(e)&&(s+=p+".")}}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(Q(et))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function R3(){Td.makeCurrent()}function A3(){return new li}function N3(){return qg(document),document}var F3=[{provide:fs,useValue:p1},{provide:Jc,useValue:R3,multi:!0},{provide:et,useFactory:N3}],th=Rf(Dx,"browser",F3);var V3=[{provide:ad,useClass:kd},{provide:od,useClass:xs},{provide:xs,useClass:xs}],L3=[{provide:qa,useValue:"root"},{provide:li,useFactory:A3},{provide:Dd,useClass:wd,multi:!0},{provide:Dd,useClass:y1,multi:!0},Rs,Xf,Zf,{provide:ki,useExisting:Rs},{provide:Zr,useClass:D3},[]],Ns=(()=>{class n{constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({providers:[...L3,...V3],imports:[Ae,Tx]})}return n})();var ar=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),s=e.slice(i+1).trim();this.addHeaderEntry(r,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let p=this.headers.get(e);if(!p)return;p=p.filter(h=>s.indexOf(h)===-1),p.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,p)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Ad=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},Nd=class{encodeKey(t){return C1(t)}encodeValue(t){return C1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function U3(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[p,h]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],y=e.get(p)||[];y.push(h),e.set(p,y)}),e}var B3=/%(\d[a-f0-9])/gi,W3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function C1(n){return encodeURIComponent(n).replace(B3,(t,e)=>W3[e]??t)}function Rd(n){return`${n}`}var wt=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Nd,t.fromString){if(t.fromObject)throw new J(2805,!1);this.map=U3(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(Rd):[Rd(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Rd(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Rd(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function j3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function x1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function b1(n){return typeof Blob<"u"&&n instanceof Blob}function M1(n){return typeof FormData<"u"&&n instanceof FormData}function q3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var S1="Content-Type",P1="Accept",w1="text/plain",O1="application/json",H3=`${O1}, ${w1}, */*`,qo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let s;if(j3(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new J(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new ar,this.context??=new Ad,!this.params)this.params=new wt,this.urlWithParams=e;else{let p=this.params.toString();if(p.length===0)this.urlWithParams=e;else{let h=e.indexOf("?"),y=h===-1?"?":h<e.length-1?"&":"";this.urlWithParams=e+y+p}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||x1(this.body)||b1(this.body)||M1(this.body)||q3(this.body)?this.body:this.body instanceof wt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||M1(this.body)?null:b1(this.body)?this.body.type||null:x1(this.body)?null:typeof this.body=="string"?w1:this.body instanceof wt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?O1:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.keepalive??this.keepalive,p=t.priority||this.priority,h=t.cache||this.cache,y=t.mode||this.mode,S=t.redirect||this.redirect,P=t.credentials||this.credentials,I=t.referrer||this.referrer,R=t.integrity||this.integrity,D=t.referrerPolicy||this.referrerPolicy,j=t.transferCache??this.transferCache,Y=t.timeout??this.timeout,X=t.body!==void 0?t.body:this.body,ie=t.withCredentials??this.withCredentials,Ie=t.reportProgress??this.reportProgress,Ye=t.headers||this.headers,Ee=t.params||this.params,Kt=t.context??this.context;return t.setHeaders!==void 0&&(Ye=Object.keys(t.setHeaders).reduce((Lt,at)=>Lt.set(at,t.setHeaders[at]),Ye)),t.setParams&&(Ee=Object.keys(t.setParams).reduce((Lt,at)=>Lt.set(at,t.setParams[at]),Ee)),new n(e,i,X,{params:Ee,headers:Ye,context:Kt,reportProgress:Ie,responseType:r,withCredentials:ie,transferCache:j,keepalive:s,cache:h,priority:p,timeout:Y,mode:y,redirect:S,credentials:P,referrer:I,integrity:R,referrerPolicy:D})}},Xr=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Xr||{}),zo=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,i="OK"){this.headers=t.headers||new ar,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Fd=class n extends zo{constructor(t={}){super(t)}type=Xr.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Fs=class n extends zo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Xr.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},Ho=class extends zo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},z3=200,G3=204;var $3=new oe("");var Q3=/^\)\]\}',?\n/;var ih=(()=>{class n{xhrFactory;tracingService=K(Ai,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new J(-2800,!1);let i=this.xhrFactory;return ye(null).pipe(Zt(()=>new Re(s=>{let p=i.build();if(p.open(e.method,e.urlWithParams),e.withCredentials&&(p.withCredentials=!0),e.headers.forEach((X,ie)=>p.setRequestHeader(X,ie.join(","))),e.headers.has(P1)||p.setRequestHeader(P1,H3),!e.headers.has(S1)){let X=e.detectContentTypeHeader();X!==null&&p.setRequestHeader(S1,X)}if(e.timeout&&(p.timeout=e.timeout),e.responseType){let X=e.responseType.toLowerCase();p.responseType=X!=="json"?X:"text"}let h=e.serializeBody(),y=null,S=()=>{if(y!==null)return y;let X=p.statusText||"OK",ie=new ar(p.getAllResponseHeaders()),Ie=p.responseURL||e.url;return y=new Fd({headers:ie,status:p.status,statusText:X,url:Ie}),y},P=this.maybePropagateTrace(()=>{let{headers:X,status:ie,statusText:Ie,url:Ye}=S(),Ee=null;ie!==G3&&(Ee=typeof p.response>"u"?p.responseText:p.response),ie===0&&(ie=Ee?z3:0);let Kt=ie>=200&&ie<300;if(e.responseType==="json"&&typeof Ee=="string"){let Lt=Ee;Ee=Ee.replace(Q3,"");try{Ee=Ee!==""?JSON.parse(Ee):null}catch(at){Ee=Lt,Kt&&(Kt=!1,Ee={error:at,text:Ee})}}Kt?(s.next(new Fs({body:Ee,headers:X,status:ie,statusText:Ie,url:Ye||void 0})),s.complete()):s.error(new Ho({error:Ee,headers:X,status:ie,statusText:Ie,url:Ye||void 0}))}),I=this.maybePropagateTrace(X=>{let{url:ie}=S(),Ie=new Ho({error:X,status:p.status||0,statusText:p.statusText||"Unknown Error",url:ie||void 0});s.error(Ie)}),R=I;e.timeout&&(R=this.maybePropagateTrace(X=>{let{url:ie}=S(),Ie=new Ho({error:new DOMException("Request timed out","TimeoutError"),status:p.status||0,statusText:p.statusText||"Request timeout",url:ie||void 0});s.error(Ie)}));let D=!1,j=this.maybePropagateTrace(X=>{D||(s.next(S()),D=!0);let ie={type:Xr.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(ie.total=X.total),e.responseType==="text"&&p.responseText&&(ie.partialText=p.responseText),s.next(ie)}),Y=this.maybePropagateTrace(X=>{let ie={type:Xr.UploadProgress,loaded:X.loaded};X.lengthComputable&&(ie.total=X.total),s.next(ie)});return p.addEventListener("load",P),p.addEventListener("error",I),p.addEventListener("timeout",R),p.addEventListener("abort",I),e.reportProgress&&(p.addEventListener("progress",j),h!==null&&p.upload&&p.upload.addEventListener("progress",Y)),p.send(h),s.next({type:Xr.Sent}),()=>{p.removeEventListener("error",I),p.removeEventListener("abort",I),p.removeEventListener("load",P),p.removeEventListener("timeout",R),e.reportProgress&&(p.removeEventListener("progress",j),h!==null&&p.upload&&p.upload.removeEventListener("progress",Y)),p.readyState!==p.DONE&&p.abort()}})))}static \u0275fac=function(i){return new(i||n)(Q(Zr))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I1(n,t){return t(n)}function J3(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}function K3(n,t,e){return(i,r)=>Et(e,()=>t(i,s=>n(s,r)))}var Ld=new oe(""),rh=new oe("",{factory:()=>[]}),D1=new oe(""),oh=new oe("",{providedIn:"root",factory:()=>!0});function Y3(){let n=null;return(t,e)=>{n===null&&(n=(K(Ld,{optional:!0})??[]).reduceRight(J3,I1));let i=K(is);if(K(oh)){let s=i.add();return n(t,e).pipe(So(s))}else return n(t,e)}}var ah=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=Q(ih),r},providedIn:"root"})}return n})();var Vd=(()=>{class n{backend;injector;chain=null;pendingTasks=K(is);contributeToStability=K(oh);constructor(e,i){this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(rh),...this.injector.get(D1,[])]));this.chain=i.reduceRight((r,s)=>K3(r,s,this.injector),I1)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(So(i))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(Q(ah),Q(pt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=Q(Vd),r},providedIn:"root"})}return n})();function nh(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var le=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof qo)s=e;else{let y;r.headers instanceof ar?y=r.headers:y=new ar(r.headers);let S;r.params&&(r.params instanceof wt?S=r.params:S=new wt({fromObject:r.params})),s=new qo(e,i,r.body!==void 0?r.body:null,{headers:y,context:r.context,params:S,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let p=ye(s).pipe(qi(y=>this.handler.handle(y)));if(e instanceof qo||r.observe==="events")return p;let h=p.pipe(dn(y=>y instanceof Fs));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe(Ne(y=>{if(y.body!==null&&!(y.body instanceof ArrayBuffer))throw new J(2806,!1);return y.body}));case"blob":return h.pipe(Ne(y=>{if(y.body!==null&&!(y.body instanceof Blob))throw new J(2807,!1);return y.body}));case"text":return h.pipe(Ne(y=>{if(y.body!==null&&typeof y.body!="string")throw new J(2808,!1);return y.body}));case"json":default:return h.pipe(Ne(y=>y.body))}case"response":return h;default:throw new J(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new wt().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,nh(r,i))}post(e,i,r={}){return this.request("POST",e,nh(r,i))}put(e,i,r={}){return this.request("PUT",e,nh(r,i))}static \u0275fac=function(i){return new(i||n)(Q(sh))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z3=new oe("",{factory:()=>!0}),X3="XSRF-TOKEN",eI=new oe("",{providedIn:"root",factory:()=>X3}),tI="X-XSRF-TOKEN",nI=new oe("",{providedIn:"root",factory:()=>tI}),iI=(()=>{class n{cookieName=K(eI);doc=K(et);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Is(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T1=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=Q(iI),r},providedIn:"root"})}return n})();function rI(n,t){if(!K(Z3)||n.method==="GET"||n.method==="HEAD")return t(n);try{let r=K(rr).href,{origin:s}=new URL(r),{origin:p}=new URL(n.url,s);if(s!==p)return t(n)}catch{return t(n)}let e=K(T1).getToken(),i=K(nI);return e!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,e)})),t(n)}var lh=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(lh||{});function oI(n,t){return{\u0275kind:n,\u0275providers:t}}function k1(...n){let t=[le,Vd,{provide:sh,useExisting:Vd},{provide:ah,useFactory:()=>K($3,{optional:!0})??K(ih)},{provide:rh,useValue:rI,multi:!0}];for(let e of n)t.push(...e.\u0275providers);return Rr(t)}var E1=new oe("");function R1(){return oI(lh.LegacyInterceptors,[{provide:E1,useFactory:Y3},{provide:rh,useExisting:E1,multi:!0}])}var ch=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({providers:[k1(R1())]})}return n})();var A1=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(Q(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var De=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(De||{}),ti="*";function N1(n,t=null){return{type:De.Sequence,steps:n,options:t}}function dh(n){return{type:De.Style,styles:n,offset:null}}var Fi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Go=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++e==s&&this._onFinish()}),p.onDestroy(()=>{++i==s&&this._onDestroy()}),p.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((p,h)=>Math.max(p,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Vs="!";function F1(n){return new J(3e3,!1)}function sI(){return new J(3100,!1)}function lI(){return new J(3101,!1)}function cI(n){return new J(3001,!1)}function dI(n){return new J(3003,!1)}function pI(n){return new J(3004,!1)}function L1(n,t){return new J(3005,!1)}function U1(){return new J(3006,!1)}function B1(){return new J(3007,!1)}function W1(n,t){return new J(3008,!1)}function j1(n){return new J(3002,!1)}function q1(n,t,e,i,r){return new J(3010,!1)}function H1(){return new J(3011,!1)}function z1(){return new J(3012,!1)}function G1(){return new J(3200,!1)}function $1(){return new J(3202,!1)}function Q1(){return new J(3013,!1)}function J1(n){return new J(3014,!1)}function K1(n){return new J(3015,!1)}function Y1(n){return new J(3016,!1)}function Z1(n,t){return new J(3404,!1)}function uI(n){return new J(3502,!1)}function X1(n){return new J(3503,!1)}function eb(){return new J(3300,!1)}function tb(n){return new J(3504,!1)}function nb(n){return new J(3301,!1)}function ib(n,t){return new J(3302,!1)}function rb(n){return new J(3303,!1)}function ob(n,t){return new J(3400,!1)}function ab(n){return new J(3401,!1)}function sb(n){return new J(3402,!1)}function lb(n,t){return new J(3505,!1)}function Vi(n){switch(n.length){case 0:return new Fi;case 1:return n[0];default:return new Go(n)}}function gh(n,t,e=new Map,i=new Map){let r=[],s=[],p=-1,h=null;if(t.forEach(y=>{let S=y.get("offset"),P=S==p,I=P&&h||new Map;y.forEach((R,D)=>{let j=D,Y=R;if(D!=="offset")switch(j=n.normalizePropertyName(j,r),Y){case Vs:Y=e.get(D);break;case ti:Y=i.get(D);break;default:Y=n.normalizeStyleValue(D,j,Y,r);break}I.set(j,Y)}),P||s.push(I),h=I,p=S}),r.length)throw uI(r);return s}function Ud(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ph(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ph(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ph(e,"destroy",n)));break}}function ph(n,t,e){let i=e.totalTime,r=!!e.disabled,s=Bd(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),p=n._data;return p!=null&&(s._data=p),s}function Bd(n,t,e,i,r="",s=0,p){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!p}}function fn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function fh(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var mI=typeof document>"u"?null:document.documentElement;function Wd(n){let t=n.parentNode||n.host||null;return t===mI?null:t}function gI(n){return n.substring(1,6)=="ebkit"}var eo=null,V1=!1;function cb(n){eo||(eo=fI()||{},V1=eo.style?"WebkitAppearance"in eo.style:!1);let t=!0;return eo.style&&!gI(n)&&(t=n in eo.style,!t&&V1&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in eo.style)),t}function fI(){return typeof document<"u"?document.body:null}function hh(n,t){for(;t;){if(t===n)return!0;t=Wd(t)}return!1}function _h(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var hI=1e3,vh="{{",_I="}}",yh="ng-enter",jd="ng-leave",Ls="ng-trigger",Us=".ng-trigger",Ch="ng-animating",qd=".ng-animating";function vi(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:uh(parseFloat(t[1]),t[2])}function uh(n,t){switch(t){case"s":return n*hI;default:return n}}function Bs(n,t,e){return n.hasOwnProperty("duration")?n:yI(n,t,e)}var vI=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function yI(n,t,e){let i,r=0,s="";if(typeof n=="string"){let p=n.match(vI);if(p===null)return t.push(F1(n)),{duration:0,delay:0,easing:""};i=uh(parseFloat(p[1]),p[2]);let h=p[3];h!=null&&(r=uh(parseFloat(h),p[4]));let y=p[5];y&&(s=y)}else i=n;if(!e){let p=!1,h=t.length;i<0&&(t.push(sI()),p=!0),r<0&&(t.push(lI()),p=!0),p&&t.splice(h,0,F1(n))}return{duration:i,delay:r,easing:s}}function db(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function ni(n,t,e){t.forEach((i,r)=>{let s=Hd(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function sr(n,t){t.forEach((e,i)=>{let r=Hd(i);n.style[r]=""})}function $o(n){return Array.isArray(n)?n.length==1?n[0]:N1(n):n}function pb(n,t,e){let i=t.params||{},r=xh(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(cI(s))})}var mh=new RegExp(`${vh}\\s*(.+?)\\s*${_I}`,"g");function xh(n){let t=[];if(typeof n=="string"){let e;for(;e=mh.exec(n);)t.push(e[1]);mh.lastIndex=0}return t}function Qo(n,t,e){let i=`${n}`,r=i.replace(mh,(s,p)=>{let h=t[p];return h==null&&(e.push(dI(p)),h=""),h.toString()});return r==i?n:r}var CI=/-+([a-z0-9])/g;function Hd(n){return n.replace(CI,(...t)=>t[1].toUpperCase())}function ub(n,t){return n===0||t===0}function mb(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,p)=>{i.has(p)||r.push(p),i.set(p,s)}),r.length)for(let s=1;s<t.length;s++){let p=t[s];r.forEach(h=>p.set(h,zd(n,h)))}}return t}function hn(n,t,e){switch(t.type){case De.Trigger:return n.visitTrigger(t,e);case De.State:return n.visitState(t,e);case De.Transition:return n.visitTransition(t,e);case De.Sequence:return n.visitSequence(t,e);case De.Group:return n.visitGroup(t,e);case De.Animate:return n.visitAnimate(t,e);case De.Keyframes:return n.visitKeyframes(t,e);case De.Style:return n.visitStyle(t,e);case De.Reference:return n.visitReference(t,e);case De.AnimateChild:return n.visitAnimateChild(t,e);case De.AnimateRef:return n.visitAnimateRef(t,e);case De.Query:return n.visitQuery(t,e);case De.Stagger:return n.visitStagger(t,e);default:throw pI(t.type)}}function zd(n,t){return window.getComputedStyle(n)[t]}var Lh=(()=>{class n{validateStyleProperty(e){return cb(e)}containsElement(e,i){return hh(e,i)}getParentElement(e){return Wd(e)}query(e,i,r){return _h(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,p,h=[],y){return new Fi(r,s)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),no=class{static NOOP=new Lh},io=class{};var xI=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Kd=class extends io{normalizePropertyName(t,e){return Hd(t)}normalizeStyleValue(t,e,i,r){let s="",p=i.toString().trim();if(xI.has(e)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&h[1].length==0&&r.push(L1(t,i))}return p+s}};var Yd="*";function bI(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>MI(i,e,t)):e.push(n),e}function MI(n,t,e){if(n[0]==":"){let y=SI(n,e);if(typeof y=="function"){t.push(y);return}n=y}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(K1(n)),t;let r=i[1],s=i[2],p=i[3];t.push(gb(r,p));let h=r==Yd&&p==Yd;s[0]=="<"&&!h&&t.push(gb(p,r))}function SI(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(Y1(n)),"* => *"}}var Gd=new Set(["true","1"]),$d=new Set(["false","0"]);function gb(n,t){let e=Gd.has(n)||$d.has(n),i=Gd.has(t)||$d.has(t);return(r,s)=>{let p=n==Yd||n==r,h=t==Yd||t==s;return!p&&e&&typeof r=="boolean"&&(p=r?Gd.has(n):$d.has(n)),!h&&i&&typeof s=="boolean"&&(h=s?Gd.has(t):$d.has(t)),p&&h}}var Sb=":self",PI=new RegExp(`s*${Sb}s*,?`,"g");function Pb(n,t,e,i){return new wh(n).build(t,e,i)}var fb="",wh=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new Oh(e);return this._resetContextStyleTimingState(r),hn(this,$o(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=fb,t.collectedStyles=new Map,t.collectedStyles.set(fb,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,s=[],p=[];return t.name.charAt(0)=="@"&&e.errors.push(U1()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),h.type==De.State){let y=h,S=y.name;S.toString().split(/\s*,\s*/).forEach(P=>{y.name=P,s.push(this.visitState(y,e))}),y.name=S}else if(h.type==De.Transition){let y=this.visitTransition(h,e);i+=y.queryCount,r+=y.depCount,p.push(y)}else e.errors.push(B1())}),{type:De.Trigger,name:t.name,states:s,transitions:p,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let s=new Set,p=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(y=>{xh(y).forEach(S=>{p.hasOwnProperty(S)||s.add(S)})})}),s.size&&e.errors.push(W1(t.name,[...s.values()]))}return{type:De.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=hn(this,$o(t.animation),e),r=bI(t.expr,e.errors);return{type:De.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:to(t.options)}}visitSequence(t,e){return{type:De.Sequence,steps:t.steps.map(i=>hn(this,i,e)),options:to(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,s=t.steps.map(p=>{e.currentTime=i;let h=hn(this,p,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:De.Group,steps:s,options:to(t.options)}}visitAnimate(t,e){let i=II(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:dh({});if(s.type==De.Keyframes)r=this.visitKeyframes(s,e);else{let p=t.styles,h=!1;if(!p){h=!0;let S={};i.easing&&(S.easing=i.easing),p=dh(S)}e.currentTime+=i.duration+i.delay;let y=this.visitStyle(p,e);y.isEmptyStep=h,r=y}return e.currentAnimateTimings=null,{type:De.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)typeof h=="string"?h===ti?i.push(h):e.errors.push(j1(h)):i.push(new Map(Object.entries(h)));let s=!1,p=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(p=h.get("easing"),h.delete("easing")),!s)){for(let y of h.values())if(y.toString().indexOf(vh)>=0){s=!0;break}}}),{type:De.Style,styles:i,easing:p,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(p=>{typeof p!="string"&&p.forEach((h,y)=>{let S=e.collectedStyles.get(e.currentQuerySelector),P=S.get(y),I=!0;P&&(s!=r&&s>=P.startTime&&r<=P.endTime&&(e.errors.push(q1(y,P.startTime,P.endTime,s,r)),I=!1),s=P.startTime),I&&S.set(y,{startTime:s,endTime:r}),e.options&&pb(h,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:De.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(H1()),i;let r=1,s=0,p=[],h=!1,y=!1,S=0,P=t.steps.map(ie=>{let Ie=this._makeStyleAst(ie,e),Ye=Ie.offset!=null?Ie.offset:OI(Ie.styles),Ee=0;return Ye!=null&&(s++,Ee=Ie.offset=Ye),y=y||Ee<0||Ee>1,h=h||Ee<S,S=Ee,p.push(Ee),Ie});y&&e.errors.push(z1()),h&&e.errors.push(G1());let I=t.steps.length,R=0;s>0&&s<I?e.errors.push($1()):s==0&&(R=r/(I-1));let D=I-1,j=e.currentTime,Y=e.currentAnimateTimings,X=Y.duration;return P.forEach((ie,Ie)=>{let Ye=R>0?Ie==D?1:R*Ie:p[Ie],Ee=Ye*X;e.currentTime=j+Y.delay+Ee,Y.duration=Ee,this._validateStyleAst(ie,e),ie.offset=Ye,i.styles.push(ie)}),i}visitReference(t,e){return{type:De.Reference,animation:hn(this,$o(t.animation),e),options:to(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:De.AnimateChild,options:to(t.options)}}visitAnimateRef(t,e){return{type:De.AnimateRef,animation:this.visitReference(t.animation,e),options:to(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,p]=EI(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,fn(e.collectedStyles,e.currentQuerySelector,new Map);let h=hn(this,$o(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:De.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:p,animation:h,originalSelector:t.selector,options:to(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Q1());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Bs(t.timings,e.errors,!0);return{type:De.Stagger,animation:hn(this,$o(t.animation),e),timings:i,options:null}}};function EI(n){let t=!!n.split(/\s*,\s*/).find(e=>e==Sb);return t&&(n=n.replace(PI,"")),n=n.replace(/@\*/g,Us).replace(/@\w+/g,e=>Us+"-"+e.slice(1)).replace(/:animating/g,qd),[n,t]}function wI(n){return n?T({},n):null}var Oh=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function OI(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function II(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Bs(n,t).duration;return bh(s,0,"")}let e=n;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=bh(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=Bs(e,t);return bh(r.duration,r.delay,r.easing)}function to(n){return n?(n=T({},n),n.params&&(n.params=wI(n.params))):n={},n}function bh(n,t,e){return{duration:n,delay:t,easing:e}}function Uh(n,t,e,i,r,s,p=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:p,subTimeline:h}}var js=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},DI=1,TI=":enter",kI=new RegExp(TI,"g"),RI=":leave",AI=new RegExp(RI,"g");function Eb(n,t,e,i,r,s=new Map,p=new Map,h,y,S=[]){return new Ih().buildKeyframes(n,t,e,i,r,s,p,h,y,S)}var Ih=class{buildKeyframes(t,e,i,r,s,p,h,y,S,P=[]){S=S||new js;let I=new Dh(t,e,S,r,s,P,[]);I.options=y;let R=y.delay?vi(y.delay):0;I.currentTimeline.delayNextStep(R),I.currentTimeline.setStyles([p],null,I.errors,y),hn(this,i,I);let D=I.timelines.filter(j=>j.containsAnimation());if(D.length&&h.size){let j;for(let Y=D.length-1;Y>=0;Y--){let X=D[Y];if(X.element===e){j=X;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,I.errors,y)}return D.length?D.map(j=>j.buildKeyframes()):[Uh(e,[],[],[],0,R,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,p=this._visitSubInstructions(i,r,r.options);s!=p&&e.transformIntoNewTimeline(p)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let s=r?.delay;if(s){let p=typeof s=="number"?s:vi(Qo(s,r?.params??{},e.errors));i.delayNextStep(p)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime,p=i.duration!=null?vi(i.duration):null,h=i.delay!=null?vi(i.delay):null;return p!==0&&t.forEach(y=>{let S=e.appendInstructionToTimeline(y,p,h);s=Math.max(s,S.duration+S.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),hn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==De.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Zd);let p=vi(s.delay);r.delayNextStep(p)}t.steps.length&&(t.steps.forEach(p=>hn(this,p,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?vi(t.options.delay):0;t.steps.forEach(p=>{let h=e.createSubContext(t.options);s&&h.delayNextStep(s),hn(this,p,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(p=>e.currentTimeline.mergeTimelineCollectedStyles(p)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?Qo(i,e.params,e.errors):i;return Bs(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let s=t.style;s.type==De.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(y=>{let S=y.offset||0;h.forwardTime(S*s),h.setStyles(y.styles,y.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?vi(r.delay):0;s&&(e.previousNode.type===De.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zd);let p=i,h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let y=null;h.forEach((S,P)=>{e.currentQueryIndex=P;let I=e.createSubContext(t.options,S);s&&I.delayNextStep(s),S===e.element&&(y=I.currentTimeline),hn(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe();let R=I.currentTimeline.currentTime;p=Math.max(p,R)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(p),y&&(e.currentTimeline.mergeTimelineCollectedStyles(y),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,s=t.timings,p=Math.abs(s.duration),h=p*(e.currentQueryTotal-1),y=p*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":y=h-y;break;case"full":y=i.currentStaggerTime;break}let P=e.currentTimeline;y&&P.delayNextStep(y);let I=P.currentTime;hn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}},Zd={},Dh=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Zd;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,s,p,h,y){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=p,this.timelines=h,this.currentTimeline=y||new Xd(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=vi(i.duration)),i.delay!=null&&(r.delay=vi(i.delay));let s=i.params;if(s){let p=r.params;p||(p=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!p.hasOwnProperty(h))&&(p[h]=Qo(s[h],p,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Zd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Th(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,p){let h=[];if(r&&h.push(this.element),t.length>0){t=t.replace(kI,"."+this._enterClassName),t=t.replace(AI,"."+this._leaveClassName);let y=i!=1,S=this._driver.query(this.element,t,y);i!==0&&(S=i<0?S.slice(S.length+i,S.length):S.slice(0,i)),h.push(...S)}return!s&&h.length==0&&p.push(J1(e)),h}},Xd=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=DI,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ti),this._currentKeyframe.set(e,ti);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},p=NI(t,this._globalTimelineStyles);for(let[h,y]of p){let S=Qo(y,s,i);this._pendingStyles.set(h,S),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ti),this._updateStyle(h,S)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((h,y)=>{let S=new Map([...this._backFill,...h]);S.forEach((P,I)=>{P===Vs?t.add(I):P===ti&&e.add(I)}),i||S.set("offset",y/this.duration),r.push(S)});let s=[...t.values()],p=[...e.values()];if(i){let h=r[0],y=new Map(h);h.set("offset",0),y.set("offset",1),r=[h,y]}return Uh(this.element,r,s,p,this.duration,this.startTime,this.easing,!1)}},Th=class extends Xd{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,s,p,h=!1){super(t,e,p.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],p=i+e,h=e/p,y=new Map(t[0]);y.set("offset",0),s.push(y);let S=new Map(t[0]);S.set("offset",hb(h)),s.push(S);let P=t.length-1;for(let I=1;I<=P;I++){let R=new Map(t[I]),D=R.get("offset"),j=e+D*i;R.set("offset",hb(j/p)),s.push(R)}i=p,e=0,r="",t=s}return Uh(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function hb(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function NI(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let s of i)e.set(s,ti)}else for(let[s,p]of r)e.set(s,p)}),e}function _b(n,t,e,i,r,s,p,h,y,S,P,I,R){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:p,timelines:h,queriedElements:y,preStyleProps:S,postStyleProps:P,totalTime:I,errors:R}}var Mh={},ep=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return FI(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,p,h,y,S,P){let I=[],R=this.ast.options&&this.ast.options.params||Mh,D=h&&h.params||Mh,j=this.buildStyles(i,D,I),Y=y&&y.params||Mh,X=this.buildStyles(r,Y,I),ie=new Set,Ie=new Map,Ye=new Map,Ee=r==="void",Kt={params:wb(Y,R),delay:this.ast.options?.delay},Lt=P?[]:Eb(t,e,this.ast.animation,s,p,j,X,Kt,S,I),at=0;return Lt.forEach(sn=>{at=Math.max(sn.duration+sn.delay,at)}),I.length?_b(e,this._triggerName,i,r,Ee,j,X,[],[],Ie,Ye,at,I):(Lt.forEach(sn=>{let yr=sn.element,go=fn(Ie,yr,new Set);sn.preStyleProps.forEach(Cr=>go.add(Cr));let x_=fn(Ye,yr,new Set);sn.postStyleProps.forEach(Cr=>x_.add(Cr)),yr!==e&&ie.add(yr)}),_b(e,this._triggerName,i,r,Ee,j,X,Lt,[...ie.values()],Ie,Ye,at))}};function FI(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}function wb(n,t){let e=T({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var kh=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=wb(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((p,h)=>{p&&(p=Qo(p,r,e));let y=this.normalizer.normalizePropertyName(h,e);p=this.normalizer.normalizeStyleValue(h,y,p,e),i.set(h,p)})}),i}};function VI(n,t,e){return new Rh(n,t,e)}var Rh=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new kh(r.style,s,i))}),vb(this.states,"true","1"),vb(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new ep(t,r,this.states))}),this.fallbackTransition=LI(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(p=>p.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function LI(n,t,e){let i=[(p,h)=>!0],r={type:De.Sequence,steps:[],options:null},s={type:De.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new ep(n,s,t)}function vb(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var UI=new js,Ah=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],s=Pb(this._driver,e,i,r);if(i.length)throw X1(i);this._animations.set(t,s)}_buildPlayer(t,e,i){let r=t.element,s=gh(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],s=this._animations.get(t),p,h=new Map;if(s?(p=Eb(this._driver,e,s,yh,jd,new Map,new Map,i,UI,r),p.forEach(P=>{let I=fn(h,P.element,new Map);P.postStyleProps.forEach(R=>I.set(R,null))})):(r.push(eb()),p=[]),r.length)throw tb(r);h.forEach((P,I)=>{P.forEach((R,D)=>{P.set(D,this._driver.computeStyle(I,D,ti))})});let y=p.map(P=>{let I=h.get(P.element);return this._buildPlayer(P,new Map,I)}),S=Vi(y);return this._playersById.set(t,S),S.onDestroy(()=>this.destroy(t)),this.players.push(S),S}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw nb(t);return e}listen(t,e,i,r){let s=Bd(e,"","","");return Ud(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let p=r[0]||{};this.create(t,e,p);return}let s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},yb="ng-animate-queued",BI=".ng-animate-queued",Sh="ng-animate-disabled",WI=".ng-animate-disabled",jI="ng-star-inserted",qI=".ng-star-inserted",HI=[],Ob={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ii="__ng_removed",qs=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=$I(r),i){let s=t,{value:p}=s,h=Vm(s,["value"]);this.options=h}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Ws="void",Ph=new qs(Ws),Nh=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Vn(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw ib(i,e);if(i==null||i.length==0)throw rb(e);if(!QI(i))throw ob(i,e);let s=fn(this._elementListeners,t,[]),p={name:e,phase:i,callback:r};s.push(p);let h=fn(this._engine.statesByElement,t,new Map);return h.has(e)||(Vn(t,Ls),Vn(t,Ls+"-"+e),h.set(e,Ph)),()=>{this._engine.afterFlush(()=>{let y=s.indexOf(p);y>=0&&s.splice(y,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw ab(t);return e}trigger(t,e,i,r=!0){let s=this._getTrigger(e),p=new Hs(this.id,e,t),h=this._engine.statesByElement.get(t);h||(Vn(t,Ls),Vn(t,Ls+"-"+e),this._engine.statesByElement.set(t,h=new Map));let y=h.get(e),S=new qs(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&S.absorbOptions(y.options),h.set(e,S),y||(y=Ph),!(S.value===Ws)&&y.value===S.value){if(!YI(y.params,S.params)){let Y=[],X=s.matchStyles(y.value,y.params,Y),ie=s.matchStyles(S.value,S.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{sr(t,X),ni(t,ie)})}return}let R=fn(this._engine.playersByElement,t,[]);R.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let D=s.matchTransition(y.value,S.value,t,S.params),j=!1;if(!D){if(!r)return;D=s.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:D,fromState:y,toState:S,player:p,isFallbackTransition:j}),j||(Vn(t,yb),p.onStart(()=>{Jo(t,yb)})),p.onDone(()=>{let Y=this.players.indexOf(p);Y>=0&&this.players.splice(Y,1);let X=this._engine.playersByElement.get(t);if(X){let ie=X.indexOf(p);ie>=0&&X.splice(ie,1)}}),this.players.push(p),R.push(p),p}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,Us,!0);i.forEach(r=>{if(r[ii])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(p=>p.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let s=this._engine.statesByElement.get(t),p=new Map;if(s){let h=[];if(s.forEach((y,S)=>{if(p.set(S,y.value),this._triggers.has(S)){let P=this.trigger(t,S,Ws,r);P&&h.push(P)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,p),i&&Vi(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(s=>{let p=s.name;if(r.has(p))return;r.add(p);let y=this._triggers.get(p).fallbackTransition,S=i.get(p)||Ph,P=new qs(Ws),I=new Hs(this.id,p,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:p,transition:y,fromState:S,toState:P,player:I,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let p=t;for(;p=p.parentNode;)if(i.statesByElement.get(p)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let s=t[ii];(!s||s===Ob)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Vn(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,p=this._elementListeners.get(s);p&&p.forEach(h=>{if(h.name==i.triggerName){let y=Bd(s,i.triggerName,i.fromState.value,i.toState.value);y._data=t,Ud(i.player,h.phase,y,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let s=i.transition.ast.depCount,p=r.transition.ast.depCount;return s==0||p==0?s-p:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Fh=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new Nh(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let p=!1,h=this.driver.getParentElement(e);for(;h;){let y=r.get(h);if(y){let S=i.indexOf(y);i.splice(S+1,0,t),p=!0;break}h=this.driver.getParentElement(h)}p||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,i,r){if(Qd(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Qd(e))return;let s=e[ii];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let p=this.collectedLeaveElements.indexOf(e);p>=0&&this.collectedLeaveElements.splice(p,1)}if(t){let p=this._fetchNamespace(t);p&&p.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Vn(t,Sh)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Jo(t,Sh))}removeNode(t,e,i){if(Qd(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ii]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Qd(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Us,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,qd,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Vi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[ii];if(e&&e.setForRemoval){if(t[ii]=Ob,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Sh)&&this.markElementAsDisabled(t,!1),this.driver.query(t,WI,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Vn(r,jI)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Vi(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw sb(t)}_flushAnimations(t,e){let i=new js,r=[],s=new Map,p=[],h=new Map,y=new Map,S=new Map,P=new Set;this.disabledNodes.forEach(ce=>{P.add(ce);let ge=this.driver.query(ce,BI,!0);for(let _e=0;_e<ge.length;_e++)P.add(ge[_e])});let I=this.bodyNode,R=Array.from(this.statesByElement.keys()),D=bb(R,this.collectedEnterElements),j=new Map,Y=0;D.forEach((ce,ge)=>{let _e=yh+Y++;j.set(ge,_e),ce.forEach(Le=>Vn(Le,_e))});let X=[],ie=new Set,Ie=new Set;for(let ce=0;ce<this.collectedLeaveElements.length;ce++){let ge=this.collectedLeaveElements[ce],_e=ge[ii];_e&&_e.setForRemoval&&(X.push(ge),ie.add(ge),_e.hasAnimation?this.driver.query(ge,qI,!0).forEach(Le=>ie.add(Le)):Ie.add(ge))}let Ye=new Map,Ee=bb(R,Array.from(ie));Ee.forEach((ce,ge)=>{let _e=jd+Y++;Ye.set(ge,_e),ce.forEach(Le=>Vn(Le,_e))}),t.push(()=>{D.forEach((ce,ge)=>{let _e=j.get(ge);ce.forEach(Le=>Jo(Le,_e))}),Ee.forEach((ce,ge)=>{let _e=Ye.get(ge);ce.forEach(Le=>Jo(Le,_e))}),X.forEach(ce=>{this.processLeaveNode(ce)})});let Kt=[],Lt=[];for(let ce=this._namespaceList.length-1;ce>=0;ce--)this._namespaceList[ce].drainQueuedTransitions(e).forEach(_e=>{let Le=_e.player,Pt=_e.element;if(Kt.push(Le),this.collectedEnterElements.length){let Ut=Pt[ii];if(Ut&&Ut.setForMove){if(Ut.previousTriggersValues&&Ut.previousTriggersValues.has(_e.triggerName)){let xr=Ut.previousTriggersValues.get(_e.triggerName),Pn=this.statesByElement.get(_e.element);if(Pn&&Pn.has(_e.triggerName)){let yl=Pn.get(_e.triggerName);yl.value=xr,Pn.set(_e.triggerName,yl)}}Le.destroy();return}}let ai=!I||!this.driver.containsElement(I,Pt),vn=Ye.get(Pt),Wi=j.get(Pt),st=this._buildInstruction(_e,i,Wi,vn,ai);if(st.errors&&st.errors.length){Lt.push(st);return}if(ai){Le.onStart(()=>sr(Pt,st.fromStyles)),Le.onDestroy(()=>ni(Pt,st.toStyles)),r.push(Le);return}if(_e.isFallbackTransition){Le.onStart(()=>sr(Pt,st.fromStyles)),Le.onDestroy(()=>ni(Pt,st.toStyles)),r.push(Le);return}let S_=[];st.timelines.forEach(Ut=>{Ut.stretchStartingKeyframe=!0,this.disabledNodes.has(Ut.element)||S_.push(Ut)}),st.timelines=S_,i.append(Pt,st.timelines);let PM={instruction:st,player:Le,element:Pt};p.push(PM),st.queriedElements.forEach(Ut=>fn(h,Ut,[]).push(Le)),st.preStyleProps.forEach((Ut,xr)=>{if(Ut.size){let Pn=y.get(xr);Pn||y.set(xr,Pn=new Set),Ut.forEach((yl,Fm)=>Pn.add(Fm))}}),st.postStyleProps.forEach((Ut,xr)=>{let Pn=S.get(xr);Pn||S.set(xr,Pn=new Set),Ut.forEach((yl,Fm)=>Pn.add(Fm))})});if(Lt.length){let ce=[];Lt.forEach(ge=>{ce.push(lb(ge.triggerName,ge.errors))}),Kt.forEach(ge=>ge.destroy()),this.reportError(ce)}let at=new Map,sn=new Map;p.forEach(ce=>{let ge=ce.element;i.has(ge)&&(sn.set(ge,ge),this._beforeAnimationBuild(ce.player.namespaceId,ce.instruction,at))}),r.forEach(ce=>{let ge=ce.element;this._getPreviousPlayers(ge,!1,ce.namespaceId,ce.triggerName,null).forEach(Le=>{fn(at,ge,[]).push(Le),Le.destroy()})});let yr=X.filter(ce=>Mb(ce,y,S)),go=new Map;xb(go,this.driver,Ie,S,ti).forEach(ce=>{Mb(ce,y,S)&&yr.push(ce)});let Cr=new Map;D.forEach((ce,ge)=>{xb(Cr,this.driver,new Set(ce),y,Vs)}),yr.forEach(ce=>{let ge=go.get(ce),_e=Cr.get(ce);go.set(ce,new Map([...ge?.entries()??[],..._e?.entries()??[]]))});let Nm=[],b_=[],M_={};p.forEach(ce=>{let{element:ge,player:_e,instruction:Le}=ce;if(i.has(ge)){if(P.has(ge)){_e.onDestroy(()=>ni(ge,Le.toStyles)),_e.disabled=!0,_e.overrideTotalTime(Le.totalTime),r.push(_e);return}let Pt=M_;if(sn.size>1){let vn=ge,Wi=[];for(;vn=vn.parentNode;){let st=sn.get(vn);if(st){Pt=st;break}Wi.push(vn)}Wi.forEach(st=>sn.set(st,Pt))}let ai=this._buildAnimation(_e.namespaceId,Le,at,s,Cr,go);if(_e.setRealPlayer(ai),Pt===M_)Nm.push(_e);else{let vn=this.playersByElement.get(Pt);vn&&vn.length&&(_e.parentPlayer=Vi(vn)),r.push(_e)}}else sr(ge,Le.fromStyles),_e.onDestroy(()=>ni(ge,Le.toStyles)),b_.push(_e),P.has(ge)&&r.push(_e)}),b_.forEach(ce=>{let ge=s.get(ce.element);if(ge&&ge.length){let _e=Vi(ge);ce.setRealPlayer(_e)}}),r.forEach(ce=>{ce.parentPlayer?ce.syncPlayerEvents(ce.parentPlayer):ce.destroy()});for(let ce=0;ce<X.length;ce++){let ge=X[ce],_e=ge[ii];if(Jo(ge,jd),_e&&_e.hasAnimation)continue;let Le=[];if(h.size){let ai=h.get(ge);ai&&ai.length&&Le.push(...ai);let vn=this.driver.query(ge,qd,!0);for(let Wi=0;Wi<vn.length;Wi++){let st=h.get(vn[Wi]);st&&st.length&&Le.push(...st)}}let Pt=Le.filter(ai=>!ai.destroyed);Pt.length?JI(this,ge,Pt):this.processLeaveNode(ge)}return X.length=0,Nm.forEach(ce=>{this.players.push(ce),ce.onDone(()=>{ce.destroy();let ge=this.players.indexOf(ce);this.players.splice(ge,1)}),ce.play()}),Nm}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let p=[];if(e){let h=this.playersByQueriedElement.get(t);h&&(p=h)}else{let h=this.playersByElement.get(t);if(h){let y=!s||s==Ws;h.forEach(S=>{S.queued||!y&&S.triggerName!=r||p.push(S)})}}return(i||r)&&(p=p.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),p}_beforeAnimationBuild(t,e,i){let r=e.triggerName,s=e.element,p=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:r;for(let y of e.timelines){let S=y.element,P=S!==s,I=fn(i,S,[]);this._getPreviousPlayers(S,P,p,h,e.toState).forEach(D=>{let j=D.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),D.destroy(),I.push(D)})}sr(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,p){let h=e.triggerName,y=e.element,S=[],P=new Set,I=new Set,R=e.timelines.map(j=>{let Y=j.element;P.add(Y);let X=Y[ii];if(X&&X.removedBeforeQueried)return new Fi(j.duration,j.delay);let ie=Y!==y,Ie=KI((i.get(Y)||HI).map(at=>at.getRealPlayer())).filter(at=>{let sn=at;return sn.element?sn.element===Y:!1}),Ye=s.get(Y),Ee=p.get(Y),Kt=gh(this._normalizer,j.keyframes,Ye,Ee),Lt=this._buildPlayer(j,Kt,Ie);if(j.subTimeline&&r&&I.add(Y),ie){let at=new Hs(t,h,Y);at.setRealPlayer(Lt),S.push(at)}return Lt});S.forEach(j=>{fn(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>GI(this.playersByQueriedElement,j.element,j))}),P.forEach(j=>Vn(j,Ch));let D=Vi(R);return D.onDestroy(()=>{P.forEach(j=>Jo(j,Ch)),ni(y,e.toStyles)}),I.forEach(j=>{fn(r,j,[]).push(D)}),D}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Fi(t.duration,t.delay)}},Hs=class{namespaceId;triggerName;element;_player=new Fi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Ud(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function GI(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function $I(n){return n??null}function Qd(n){return n&&n.nodeType===1}function QI(n){return n=="start"||n=="done"}function Cb(n,t){let e=n.style.display;return n.style.display=t??"none",e}function xb(n,t,e,i,r){let s=[];e.forEach(y=>s.push(Cb(y)));let p=[];i.forEach((y,S)=>{let P=new Map;y.forEach(I=>{let R=t.computeStyle(S,I,r);P.set(I,R),(!R||R.length==0)&&(S[ii]=zI,p.push(S))}),n.set(S,P)});let h=0;return e.forEach(y=>Cb(y,s[h++])),p}function bb(n,t){let e=new Map;if(n.forEach(h=>e.set(h,[])),t.length==0)return e;let i=1,r=new Set(t),s=new Map;function p(h){if(!h)return i;let y=s.get(h);if(y)return y;let S=h.parentNode;return e.has(S)?y=S:r.has(S)?y=i:y=p(S),s.set(h,y),y}return t.forEach(h=>{let y=p(h);y!==i&&e.get(y).push(h)}),e}function Vn(n,t){n.classList?.add(t)}function Jo(n,t){n.classList?.remove(t)}function JI(n,t,e){Vi(e).onDone(()=>n.processLeaveNode(t))}function KI(n){let t=[];return Ib(n,t),t}function Ib(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof Go?Ib(i.players,t):t.push(i)}}function YI(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}function Mb(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}var Ko=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new Fh(t.body,e,i),this._timelineEngine=new Ah(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){let p=t+"-"+r,h=this._triggerCache[p];if(!h){let y=[],S=[],P=Pb(this._driver,s,y,S);if(y.length)throw Z1(r,y);h=VI(r,P,this._normalizer),this._triggerCache[p]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[s,p]=fh(i),h=r;this._timelineEngine.command(s,e,p,h)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if(i.charAt(0)=="@"){let[p,h]=fh(i);return this._timelineEngine.listen(p,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function ZI(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Eh(t[0]),t.length>1&&(i=Eh(t[t.length-1]))):t instanceof Map&&(e=Eh(t)),e||i?new XI(n,e,i):null}var XI=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ni(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ni(this._element,this._initialStyles),this._endStyles&&(ni(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(sr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sr(this._element,this._endStyles),this._endStyles=null),ni(this._element,this._initialStyles),this._state=3)}}return n})();function Eh(n){let t=null;return n.forEach((e,i)=>{eD(i)&&(t=t||new Map,t.set(i,e))}),t}function eD(n){return n==="display"||n==="position"}var tp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let i=()=>this._onFinish();return e.addEventListener("finish",i),this.onDestroy(()=>{e.removeEventListener("finish",i)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){let r=this._convertKeyframesToObject(e);try{return t.animate(r,i)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:zd(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},np=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return hh(t,e)}getParentElement(t){return Wd(t)}query(t,e,i){return _h(t,e,i)}computeStyle(t,e,i){return zd(t,e)}animate(t,e,i,r,s,p=[]){let h=r==0?"both":"forwards",y={duration:i,delay:r,fill:h};s&&(y.easing=s);let S=new Map,P=p.filter(D=>D instanceof tp);ub(i,r)&&P.forEach(D=>{D.currentSnapshot.forEach((j,Y)=>S.set(Y,j))});let I=db(e).map(D=>new Map(D));I=mb(t,I,S);let R=ZI(t,I);return new tp(t,I,y,R)}};var Jd="@",Db="@.disabled",ip=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i,r){if(r){this.delegate.removeChild(t,e,i,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Jd&&e==Db?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Vh=class extends ip{factory;constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Jd?e.charAt(1)=="."&&e==Db?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==Jd){let s=tD(t),p=e.slice(1),h="";return p.charAt(0)!=Jd&&([p,h]=nD(p)),this.engine.listen(this.namespaceId,s,p,h,y=>{let S=y._data||-1;this.factory.scheduleListenerCallback(S,i,y)})}return this.delegate.listen(t,e,i,r)}};function tD(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function nD(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var rp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let S=this._rendererCache,P=S.get(r);if(!P){let I=()=>S.delete(r);P=new ip("",r,this.engine,I),S.set(r,P)}return P}let s=e.id,p=e.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);let h=S=>{Array.isArray(S)?S.forEach(h):this.engine.registerTrigger(s,p,t,S.name,S)};return e.data.animation.forEach(h),new Vh(this,p,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[p,h]=s;p(h)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var rD=(()=>{class n extends Ko{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(Q(et),Q(no),Q(io))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function oD(){return new Kd}function aD(){return new rp(K(Rs),K(Ko),K(ft))}var kb=[{provide:io,useFactory:oD},{provide:Ko,useClass:rD},{provide:ki,useFactory:aD}],sD=[{provide:no,useClass:Lh},{provide:Kc,useValue:"NoopAnimations"},...kb],Tb=[{provide:no,useFactory:()=>new np},{provide:Kc,useFactory:()=>"BrowserAnimations"},...kb],Rb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?sD:Tb}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({providers:Tb,imports:[Ns]})}return n})();var qb=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(w(Kn),w(An))};static \u0275dir=Qe({type:n})}return n})(),Ys=(()=>{class n extends qb{static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275dir=Qe({type:n,features:[Gt]})}return n})(),ea=new oe(""),lD={provide:ea,useExisting:tn(()=>fe),multi:!0},fe=(()=>{class n extends Ys{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275dir=Qe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&_("change",function(p){return r.onChange(p.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Nn([lD]),Gt]})}return n})(),cD={provide:ea,useExisting:tn(()=>B),multi:!0};function dD(){let n=xn()?xn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var pD=new oe(""),B=(()=>{class n extends qb{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!dD())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(w(Kn),w(An),w(pD,8))};static \u0275dir=Qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&_("input",function(p){return r._handleInput(p.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(p){return r._compositionEnd(p.target.value)})},standalone:!1,features:[Nn([cD]),Gt]})}return n})();function uD(n){return n==null||mD(n)===0}function mD(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Zs=new oe(""),Hb=new oe("");function gD(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function fD(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function hD(n){return uD(n.value)?{required:!0}:null}function Ab(n){return null}function zb(n){return n!=null}function Gb(n){return Xi(n)?lt(n):n}function $b(n){let t={};return n.forEach(e=>{t=e!=null?T(T({},t),e):t}),Object.keys(t).length===0?null:t}function Qb(n,t){return t.map(e=>e(n))}function _D(n){return!n.validate}function Jb(n){return n.map(t=>_D(t)?t:e=>t.validate(e))}function vD(n){if(!n)return null;let t=n.filter(zb);return t.length==0?null:function(e){return $b(Qb(e,t))}}function jh(n){return n!=null?vD(Jb(n)):null}function yD(n){if(!n)return null;let t=n.filter(zb);return t.length==0?null:function(e){let i=Qb(e,t).map(Gb);return wr(i).pipe(Ne($b))}}function qh(n){return n!=null?yD(Jb(n)):null}function Nb(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function CD(n){return n._rawValidators}function xD(n){return n._rawAsyncValidators}function Bh(n){return n?Array.isArray(n)?n:[n]:[]}function ap(n,t){return Array.isArray(n)?n.includes(t):n===t}function Fb(n,t){let e=Bh(t);return Bh(n).forEach(r=>{ap(e,r)||e.push(r)}),e}function Vb(n,t){return Bh(t).filter(e=>!ap(n,e))}var sp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Xo=class extends sp{name;get formDirective(){return null}get path(){return null}},Ks=class extends sp{_parent=null;name=null;valueAccessor=null},lp=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var V=(()=>{class n extends lp{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(w(Ks,2))};static \u0275dir=Qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&L("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Gt]})}return n})(),rt=(()=>{class n extends lp{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(w(Xo,10))};static \u0275dir=Qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&L("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Gt]})}return n})();var zs="VALID",op="INVALID",Yo="PENDING",Gs="DISABLED",lr=class{},cp=class extends lr{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Qs=class extends lr{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Js=class extends lr{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Zo=class extends lr{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Wh=class extends lr{source;constructor(t){super(),this.source=t}},dp=class extends lr{source;constructor(t){super(),this.source=t}};function Kb(n){return(mp(n)?n.validators:n)||null}function bD(n){return Array.isArray(n)?jh(n):n||null}function Yb(n,t){return(mp(t)?t.asyncValidators:n)||null}function MD(n){return Array.isArray(n)?qh(n):n||null}function mp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function SD(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new J(1e3,"");if(!i[e])throw new J(1001,"")}function PD(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new J(1002,"")})}var pp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return xt(this.statusReactive)}set status(t){xt(()=>this.statusReactive.set(t))}_status=jo(()=>this.statusReactive());statusReactive=Rn(void 0);get valid(){return this.status===zs}get invalid(){return this.status===op}get pending(){return this.status==Yo}get disabled(){return this.status===Gs}get enabled(){return this.status!==Gs}errors;get pristine(){return xt(this.pristineReactive)}set pristine(t){xt(()=>this.pristineReactive.set(t))}_pristine=jo(()=>this.pristineReactive());pristineReactive=Rn(!0);get dirty(){return!this.pristine}get touched(){return xt(this.touchedReactive)}set touched(t){xt(()=>this.touchedReactive.set(t))}_touched=jo(()=>this.touchedReactive());touchedReactive=Rn(!1);get untouched(){return!this.touched}_events=new Ct;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Fb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Fb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Vb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Vb(t,this._rawAsyncValidators))}hasValidator(t){return ap(this._rawValidators,t)}hasAsyncValidator(t){return ap(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(me(T({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Js(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Js(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(me(T({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Qs(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Qs(!0,i))}markAsPending(t={}){this.status=Yo;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(me(T({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Gs,this.errors=null,this._forEachChild(r=>{r.disable(me(T({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cp(this.value,i)),this._events.next(new Zo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(T({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=zs,this._forEachChild(i=>{i.enable(me(T({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(me(T({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zs||this.status===Yo)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cp(this.value,e)),this._events.next(new Zo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(me(T({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gs:zs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Yo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=Gb(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Zo(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new dt,this.statusChanges=new dt}_calculateStatus(){return this._allControlsDisabled()?Gs:this.errors?op:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yo)?Yo:this._anyControlsHaveStatus(op)?op:zs}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Qs(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Js(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mp(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=bD(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=MD(this._rawAsyncValidators)}},up=class extends pp{constructor(t,e,i){super(Kb(e),Yb(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){PD(this,!0,t),Object.keys(t).forEach(i=>{SD(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,me(T({},e),{onlySelf:!0}))}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new dp(this))}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var gp=new oe("",{factory:()=>fp}),fp="always";function ED(n,t){return[...t.path,n]}function Zb(n,t,e=fp){Xb(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),OD(n,t),DD(n,t),ID(n,t),wD(n,t)}function Lb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wD(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Xb(n,t){let e=CD(n);t.validator!==null?n.setValidators(Nb(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=xD(n);t.asyncValidator!==null?n.setAsyncValidators(Nb(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Lb(t._rawValidators,r),Lb(t._rawAsyncValidators,r)}function OD(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&e2(n,t)})}function ID(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&e2(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function e2(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function DD(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function TD(n,t){n==null,Xb(n,t)}function kD(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function RD(n){return Object.getPrototypeOf(n.constructor)===Ys}function AD(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ND(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(s=>{s.constructor===B?e=s:RD(s)?i=s:r=s}),r||i||e||null}var FD={provide:Xo,useExisting:tn(()=>tt)},$s=Promise.resolve(),tt=(()=>{class n extends Xo{callSetDisabledState;get submitted(){return xt(this.submittedReactive)}_submitted=jo(()=>this.submittedReactive());submittedReactive=Rn(!1);_directives=new Set;form;ngSubmit=new dt;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new up({},jh(e),qh(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){$s.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Zb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){$s.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){$s.then(()=>{let i=this._findContainer(e.path),r=new up({});TD(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){$s.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){$s.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),AD(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new Wh(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(w(Zs,10),w(Hb,10),w(gp,8))};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&_("submit",function(p){return r.onSubmit(p)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Nn([FD]),Gt]})}return n})();function Ub(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Bb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var VD=class extends pp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(Kb(e),Yb(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Bb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),e.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new dp(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ub(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ub(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Bb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var LD={provide:Ks,useExisting:tn(()=>F)},Wb=Promise.resolve(),F=(()=>{class n extends Ks{_changeDetectorRef;callSetDisabledState;control=new VD;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new dt;constructor(e,i,r,s,p,h){super(),this._changeDetectorRef=p,this.callSetDisabledState=h,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ND(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),kD(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Zb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Wb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&ir(i);Wb.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ED(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(w(Xo,9),w(Zs,10),w(Hb,10),w(ea,10),w(nr,8),w(gp,8))};static \u0275dir=Qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Nn([LD]),Gt,Ri]})}return n})();var ot=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),UD={provide:ea,useExisting:tn(()=>pe),multi:!0},pe=(()=>{class n extends Ys{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275dir=Qe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&_("input",function(p){return r.onChange(p.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Nn([UD]),Gt]})}return n})();var BD=new oe("");var WD={provide:ea,useExisting:tn(()=>H),multi:!0};function t2(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function jD(n){return n.split(":")[0]}var H=(()=>{class n extends Ys{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=K(_i).injector;destroyRef=K(Tn);cdr=K(nr);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,hs({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=t2(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=jD(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275dir=Qe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&_("change",function(p){return r.onChange(p.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Nn([WD]),Gt]})}return n})(),z=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(t2(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(w(An),w(Kn),w(H,9))};static \u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),qD={provide:ea,useExisting:tn(()=>n2),multi:!0};function jb(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function HD(n){return n.split(":")[0]}var n2=(()=>{class n extends Ys{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(s=>this._getOptionId(s));i=(s,p)=>{s._setSelected(r.indexOf(p.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let p=s;for(let h=0;h<p.length;h++){let y=p[h],S=this._getOptionValue(y.value);r.push(S)}}else{let p=i.options;for(let h=0;h<p.length;h++){let y=p[h];if(y.selected){let S=this._getOptionValue(y.value);r.push(S)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=HD(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275dir=Qe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&_("change",function(p){return r.onChange(p.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Nn([qD]),Gt]})}return n})(),G=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(jb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(jb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(w(An),w(Kn),w(n2,9))};static \u0275dir=Qe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function i2(n){return typeof n=="number"?n:parseFloat(n)}var Hh=(()=>{class n{_validator=Ab;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ab,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Qe({type:n,features:[Ri]})}return n})(),zD={provide:Zs,useExisting:tn(()=>rn),multi:!0},rn=(()=>{class n extends Hh{max;inputName="max";normalizeInput=e=>i2(e);createValidator=e=>fD(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275dir=Qe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&er("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[Nn([zD]),Gt]})}return n})(),GD={provide:Zs,useExisting:tn(()=>Se),multi:!0},Se=(()=>{class n extends Hh{min;inputName="min";normalizeInput=e=>i2(e);createValidator=e=>gD(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275dir=Qe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&er("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Nn([GD]),Gt]})}return n})(),$D={provide:Zs,useExisting:tn(()=>ve),multi:!0};var ve=(()=>{class n extends Hh{required;inputName="required";normalizeInput=ir;createValidator=e=>hD;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275dir=Qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&er("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Nn([$D]),Gt]})}return n})();var r2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({})}return n})();var Fe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:gp,useValue:e.callSetDisabledState??fp}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({imports:[r2]})}return n})(),o2=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:BD,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:gp,useValue:e.callSetDisabledState??fp}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({imports:[r2]})}return n})();var Ln=class n{constructor(t){this.http=t;this.loadUserFromStorage()}baseUrl="/api/auth";currentUserSubject=new Ze(null);currentUser$=this.currentUserSubject.asObservable();loadUserFromStorage(){let t=localStorage.getItem("token"),e=localStorage.getItem("user");t&&e&&this.currentUserSubject.next(JSON.parse(e))}parsePermissions(t){if(!t)return{};if(t==="all")return{all:["all"]};try{return JSON.parse(t)}catch{return{}}}login(t){return this.http.post(`${this.baseUrl}/login`,t).pipe(nt(e=>{localStorage.setItem("token",e.token);let i={username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,role:e.role,permissions:this.parsePermissions(e.permissions)};localStorage.setItem("user",JSON.stringify(i)),this.currentUserSubject.next(i)}))}register(t){return this.http.post(`${this.baseUrl}/register`,t).pipe(nt(e=>{localStorage.setItem("token",e.token);let i={username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,role:e.role,permissions:this.parsePermissions(e.permissions)};localStorage.setItem("user",JSON.stringify(i)),this.currentUserSubject.next(i)}))}logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.currentUserSubject.next(null)}getToken(){return localStorage.getItem("token")}isLoggedIn(){return!!this.getToken()}getCurrentUser(){return this.currentUserSubject.value}hasRole(t){return this.getCurrentUser()?.role===t}isAdmin(){let t=this.getCurrentUser();return t?t.role==="ADMIN"||(t.permissions?.all?.includes("all")??!1):!1}hasFeatureAccess(t){let e=this.getCurrentUser();return e?this.isAdmin()?!0:!!e.permissions[t]&&e.permissions[t].length>0:!1}hasPermission(t,e){let i=this.getCurrentUser();return i?this.isAdmin()?!0:i.permissions[t]?.includes(e)||!1:!1}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var be="primary",dl=Symbol("RouteTitle"),Jh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function so(n){return new Jh(n)}function g2(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let p=i[s],h=n[s];if(p[0]===":")r[p.substring(1)]=h;else if(p!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function xp(n){return new Promise((t,e)=>{n.pipe(Ei()).subscribe({next:i=>t(i),error:i=>e(i)})})}function QD(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!yi(n[e],t[e]))return!1;return!0}function yi(n,t){let e=n?Kh(n):void 0,i=t?Kh(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!f2(n[r],t[r]))return!1;return!0}function Kh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function f2(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}else return n===t}function h2(n){return n.length>0?n[n.length-1]:null}function lo(n){return Kl(n)?n:Xi(n)?lt(Promise.resolve(n)):ye(n)}function _2(n){return Kl(n)?xp(n):Promise.resolve(n)}var JD={exact:y2,subset:C2},v2={exact:KD,subset:YD,ignored:()=>!0};function a2(n,t,e){return JD[e.paths](n.root,t.root,e.matrixParams)&&v2[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function KD(n,t){return yi(n,t)}function y2(n,t,e){if(!oo(n.segments,t.segments)||!vp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!y2(n.children[i],t.children[i],e))return!1;return!0}function YD(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>f2(n[e],t[e]))}function C2(n,t,e){return x2(n,t,t.segments,e)}function x2(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!oo(r,e)||t.hasChildren()||!vp(r,e,i))}else if(n.segments.length===e.length){if(!oo(n.segments,e)||!vp(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!C2(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!oo(n.segments,r)||!vp(n.segments,r,i)||!n.children[be]?!1:x2(n.children[be],t,s,i)}}function vp(n,t,e){return t.every((i,r)=>v2[e](n[r].parameters,i.parameters))}var oi=class{root;queryParams;fragment;_queryParamMap;constructor(t=new je([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){return eT.serialize(this)}},je=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yp(this)}},cr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=so(this.parameters),this._parameterMap}toString(){return M2(this)}};function ZD(n,t){return oo(n,t)&&n.every((e,i)=>yi(e.parameters,t[i].parameters))}function oo(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function XD(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===be&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==be&&(e=e.concat(t(r,i)))}),e}var co=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:()=>new Li,providedIn:"root"})}return n})(),Li=class{parse(t){let e=new Zh(t);return new oi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${el(t.root,!0)}`,i=iT(t.queryParams),r=typeof t.fragment=="string"?`#${tT(t.fragment)}`:"";return`${e}${i}${r}`}},eT=new Li;function yp(n){return n.segments.map(t=>M2(t)).join("/")}function el(n,t){if(!n.hasChildren())return yp(n);if(t){let e=n.children[be]?el(n.children[be],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==be&&i.push(`${r}:${el(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=XD(n,(i,r)=>r===be?[el(n.children[be],!1)]:[`${r}:${el(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[be]!=null?`${yp(n)}/${e[0]}`:`${yp(n)}/(${e.join("//")})`}}function b2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hp(n){return b2(n).replace(/%3B/gi,";")}function tT(n){return encodeURI(n)}function Yh(n){return b2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cp(n){return decodeURIComponent(n)}function s2(n){return Cp(n.replace(/\+/g,"%20"))}function M2(n){return`${Yh(n.path)}${nT(n.parameters)}`}function nT(n){return Object.entries(n).map(([t,e])=>`;${Yh(t)}=${Yh(e)}`).join("")}function iT(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${hp(e)}=${hp(r)}`).join("&"):`${hp(e)}=${hp(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var rT=/^[^\/()?;#]+/;function zh(n){let t=n.match(rT);return t?t[0]:""}var oT=/^[^\/()?;=#]+/;function aT(n){let t=n.match(oT);return t?t[0]:""}var sT=/^[^=?&#]+/;function lT(n){let t=n.match(sT);return t?t[0]:""}var cT=/^[^&#]+/;function dT(n){let t=n.match(cT);return t?t[0]:""}var Zh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[be]=new je(t,e)),i}parseSegment(){let t=zh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(t),new cr(Cp(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=aT(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=zh(this.remaining);r&&(i=r,this.capture(i))}t[Cp(e)]=Cp(i)}parseQueryParam(t){let e=lT(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let p=dT(this.remaining);p&&(i=p,this.capture(i))}let r=s2(e),s=s2(i);if(t.hasOwnProperty(r)){let p=t[r];Array.isArray(p)||(p=[p],t[r]=p),p.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=zh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new J(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=be);let p=this.parseChildren();e[s??be]=Object.keys(p).length===1&&p[be]?p[be]:new je([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new J(4011,!1)}};function S2(n){return n.segments.length>0?new je([],{[be]:n}):n}function P2(n){let t={};for(let[i,r]of Object.entries(n.children)){let s=P2(r);if(i===be&&s.segments.length===0&&s.hasChildren())for(let[p,h]of Object.entries(s.children))t[p]=h;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let e=new je(n.segments,t);return pT(e)}function pT(n){if(n.numberOfChildren===1&&n.children[be]){let t=n.children[be];return new je(n.segments.concat(t.segments),t.children)}return n}function dr(n){return n instanceof oi}function E2(n,t,e=null,i=null,r=new Li){let s=w2(n);return O2(s,t,e,i,r)}function w2(n){let t;function e(s){let p={};for(let y of s.children){let S=e(y);p[y.outlet]=S}let h=new je(s.url,p);return s===n&&(t=h),h}let i=e(n.root),r=S2(i);return t??r}function O2(n,t,e,i,r){let s=n;for(;s.parent;)s=s.parent;if(t.length===0)return Gh(s,s,s,e,i,r);let p=uT(t);if(p.toRoot())return Gh(s,s,new je([],{}),e,i,r);let h=mT(p,s,n),y=h.processChildren?nl(h.segmentGroup,h.index,p.commands):D2(h.segmentGroup,h.index,p.commands);return Gh(s,h.segmentGroup,y,e,i,r)}function bp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function rl(n){return typeof n=="object"&&n!=null&&n.outlets}function l2(n,t,e){n||="\u0275";let i=new oi;return i.queryParams={[n]:t},e.parse(e.serialize(i)).queryParams[n]}function Gh(n,t,e,i,r,s){let p={};for(let[S,P]of Object.entries(i??{}))p[S]=Array.isArray(P)?P.map(I=>l2(S,I,s)):l2(S,P,s);let h;n===t?h=e:h=I2(n,t,e);let y=S2(P2(h));return new oi(y,p,r)}function I2(n,t,e){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===t?i[r]=e:i[r]=I2(s,t,e)}),new je(n.segments,i)}var Mp=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&bp(i[0]))throw new J(4003,!1);let r=i.find(rl);if(r&&r!==h2(i))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uT(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Mp(!0,0,n);let t=0,e=!1,i=n.reduce((r,s,p)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let h={};return Object.entries(s.outlets).forEach(([y,S])=>{h[y]=typeof S=="string"?S.split("/"):S}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:p===0?(s.split("/").forEach((h,y)=>{y==0&&h==="."||(y==0&&h===""?e=!0:h===".."?t++:h!=""&&r.push(h))}),r):[...r,s]},[]);return new Mp(e,t,i)}var na=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function mT(n,t,e){if(n.isAbsolute)return new na(t,!0,0);if(!e)return new na(t,!1,NaN);if(e.parent===null)return new na(e,!0,0);let i=bp(n.commands[0])?0:1,r=e.segments.length-1+i;return gT(e,r,n.numberOfDoubleDots)}function gT(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new J(4005,!1);r=i.segments.length}return new na(i,!1,r-s)}function fT(n){return rl(n[0])?n[0].outlets:{[be]:n}}function D2(n,t,e){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return nl(n,t,e);let i=hT(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new je(n.segments.slice(0,i.pathIndex),{});return s.children[be]=new je(n.segments.slice(i.pathIndex),n.children),nl(s,0,r)}else return i.match&&r.length===0?new je(n.segments,{}):i.match&&!n.hasChildren()?Xh(n,t,e):i.match?nl(n,0,r):Xh(n,t,e)}function nl(n,t,e){if(e.length===0)return new je(n.segments,{});{let i=fT(e),r={};if(Object.keys(i).some(s=>s!==be)&&n.children[be]&&n.numberOfChildren===1&&n.children[be].segments.length===0){let s=nl(n.children[be],t,e);return new je(n.segments,s.children)}return Object.entries(i).forEach(([s,p])=>{typeof p=="string"&&(p=[p]),p!==null&&(r[s]=D2(n.children[s],t,p))}),Object.entries(n.children).forEach(([s,p])=>{i[s]===void 0&&(r[s]=p)}),new je(n.segments,r)}}function hT(n,t,e){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;let p=n.segments[r],h=e[i];if(rl(h))break;let y=`${h}`,S=i<e.length-1?e[i+1]:null;if(r>0&&y===void 0)break;if(y&&S&&typeof S=="object"&&S.outlets===void 0){if(!d2(y,S,p))return s;i+=2}else{if(!d2(y,{},p))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Xh(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(rl(s)){let y=_T(s.outlets);return new je(i,y)}if(r===0&&bp(e[0])){let y=n.segments[t];i.push(new cr(y.path,c2(e[0]))),r++;continue}let p=rl(s)?s.outlets[be]:`${s}`,h=r<e.length-1?e[r+1]:null;p&&h&&bp(h)?(i.push(new cr(p,c2(h))),r+=2):(i.push(new cr(p,{})),r++)}return new je(i,{})}function _T(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Xh(new je([],{}),0,i))}),t}function c2(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function d2(n,t,e){return n==e.path&&yi(t,e.parameters)}var ia="imperative",Mt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Mt||{}),Mn=class{id;url;constructor(t,e){this.id=t,this.url=e}},pr=class extends Mn{type=Mt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Un=class extends Mn{urlAfterRedirects;type=Mt.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(on||{}),oa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(oa||{}),Ci=class extends Mn{reason;code;type=Mt.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xi=class extends Mn{reason;code;type=Mt.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},aa=class extends Mn{error;target;type=Mt.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ol=class extends Mn{urlAfterRedirects;state;type=Mt.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sp=class extends Mn{urlAfterRedirects;state;type=Mt.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pp=class extends Mn{urlAfterRedirects;state;shouldActivate;type=Mt.GuardsCheckEnd;constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ep=class extends Mn{urlAfterRedirects;state;type=Mt.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wp=class extends Mn{urlAfterRedirects;state;type=Mt.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class{route;type=Mt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ip=class{route;type=Mt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dp=class{snapshot;type=Mt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tp=class{snapshot;type=Mt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kp=class{snapshot;type=Mt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rp=class{snapshot;type=Mt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sa=class{routerEvent;position;anchor;type=Mt.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},al=class{},la=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function vT(n){return!(n instanceof al)&&!(n instanceof la)}function yT(n,t){return n.providers&&!n._injector&&(n._injector=Wo(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ri(n){return n.outlet||be}function CT(n,t){let e=n.filter(i=>ri(i)===t);return e.push(...n.filter(i=>ri(i)!==t)),e}function pa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ap=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return pa(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new po(this.rootInjector)}},po=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Ap(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(Q(pt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Np=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=e_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=e_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=t_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return t_(t,this._root).map(e=>e.value)}};function e_(n,t){if(n===t.value)return t;for(let e of t.children){let i=e_(n,e);if(i)return i}return null}function t_(n,t){if(n===t.value)return[t];for(let e of t.children){let i=t_(n,e);if(i.length)return i.unshift(t),i}return[]}var bn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ta(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var sl=class extends Np{snapshot;constructor(t,e){super(t),this.snapshot=e,s_(this,t)}toString(){return this.snapshot.toString()}};function T2(n){let t=xT(n),e=new Ze([new cr("",{})]),i=new Ze({}),r=new Ze({}),s=new Ze({}),p=new Ze(""),h=new Ge(e,i,s,p,r,be,n,t.root);return h.snapshot=t.root,new sl(new bn(h,[]),t)}function xT(n){let t={},e={},i={},s=new ao([],t,i,"",e,be,n,null,{});return new ll("",new bn(s,[]))}var Ge=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,s,p,h,y){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=p,this.component=h,this._futureSnapshot=y,this.title=this.dataSubject?.pipe(Ne(S=>S[dl]))??ye(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(t=>so(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(t=>so(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fp(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:T(T({},t.params),n.params),data:T(T({},t.data),n.data),resolve:T(T(T(T({},n.data),t.data),r?.data),n._resolvedData)}:i={params:T({},n.params),data:T({},n.data),resolve:T(T({},n.data),n._resolvedData??{})},r&&R2(r)&&(i.resolve[dl]=r.title),i}var ao=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[dl]}constructor(t,e,i,r,s,p,h,y,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=p,this.component=h,this.routeConfig=y,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=so(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ll=class extends Np{url;constructor(t,e){super(e),this.url=t,s_(this,e)}toString(){return k2(this._root)}};function s_(n,t){t.value._routerState=n,t.children.forEach(e=>s_(n,e))}function k2(n){let t=n.children.length>0?` { ${n.children.map(k2).join(", ")} } `:"";return`${n.value}${t}`}function $h(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,yi(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),yi(t.params,e.params)||n.paramsSubject.next(e.params),QD(t.url,e.url)||n.urlSubject.next(e.url),yi(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function n_(n,t){let e=yi(n.params,t.params)&&ZD(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||n_(n.parent,t.parent))}function R2(n){return typeof n.title=="string"||n.title===null}var A2=new oe(""),uo=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=be;activateEvents=new dt;deactivateEvents=new dt;attachEvents=new dt;detachEvents=new dt;routerOutletData=wx();parentContexts=K(po);location=K($r);changeDetector=K(nr);inputBinder=K(pl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=e;let r=this.location,p=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,y=new i_(e,h,r.injector,this.routerOutletData);this.activated=r.createComponent(p,{index:r.length,injector:y,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ri]})}return n})(),i_=class{route;childContexts;parent;outletData;constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===Ge?this.route:t===po?this.childContexts:t===A2?this.outletData:this.parent.get(t,e)}},pl=new oe(""),l_=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=ec([i.queryParams,i.params,i.data]).pipe(Zt(([s,p,h],y)=>(h=T(T(T({},s),p),h),y===0?ye(h):Promise.resolve(h)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let p=kx(i.component);if(!p){this.unsubscribeFromRouteData(e);return}for(let{templateName:h}of p.inputs)e.activatedComponentRef.setInput(h,s[h])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),c_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=k({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&v(0,"router-outlet")},dependencies:[uo],encapsulation:2})}return n})();function d_(n){let t=n.children&&n.children.map(d_),e=t?me(T({},n),{children:t}):T({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==be&&(e.component=c_),e}function bT(n,t,e){let i=cl(n,t._root,e?e._root:void 0);return new sl(i,t)}function cl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=MT(n,t,e);return new bn(i,r)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let p=s.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(h=>cl(n,h)),p}}let i=ST(t.value),r=t.children.map(s=>cl(n,s));return new bn(i,r)}}function MT(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cl(n,i,r);return cl(n,i)})}function ST(n){return new Ge(new Ze(n.url),new Ze(n.params),new Ze(n.queryParams),new Ze(n.fragment),new Ze(n.data),n.outlet,n.component,n)}var ca=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},N2="ngNavigationCancelingError";function Vp(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=dr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=F2(!1,on.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function F2(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[N2]=!0,e.cancellationCode=t,e}function PT(n){return V2(n)&&dr(n.url)}function V2(n){return!!n&&n[N2]}var ET=(n,t,e,i)=>Ne(r=>(new r_(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),r_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),$h(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=ta(e);t.children.forEach(s=>{let p=s.value.outlet;this.deactivateRoutes(s,r[p],i),delete r[p]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let p=i.getContext(r.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ta(t);for(let p of Object.values(s))this.deactivateRouteAndItsChildren(p,r);if(i&&i.outlet){let p=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ta(t);for(let p of Object.values(s))this.deactivateRouteAndItsChildren(p,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=ta(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Rp(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Tp(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if($h(r),r===s)if(r.component){let p=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let p=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),p.children.onOutletReAttached(h.contexts),p.attachRef=h.componentRef,p.route=h.route.value,p.outlet&&p.outlet.attach(h.componentRef,h.route.value),$h(h.route.value),this.activateChildRoutes(t,null,p.children)}else p.attachRef=null,p.route=r,p.outlet&&p.outlet.activateWith(r,p.injector),this.activateChildRoutes(t,null,p.children)}else this.activateChildRoutes(t,null,i)}},Lp=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ra=class{component;route;constructor(t,e){this.component=t,this.route=e}};function wT(n,t,e){let i=n._root,r=t?t._root:null;return tl(i,r,e,[i.value])}function OT(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ua(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!P0(n)?n:t.get(n):i}function tl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ta(t);return n.children.forEach(p=>{IT(p,s[p.value.outlet],e,i.concat([p.value]),r),delete s[p.value.outlet]}),Object.entries(s).forEach(([p,h])=>il(h,e.getContext(p),r)),r}function IT(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,p=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(p&&s.routeConfig===p.routeConfig){let y=DT(p,s,s.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new Lp(i)):(s.data=p.data,s._resolvedData=p._resolvedData),s.component?tl(n,t,h?h.children:null,i,r):tl(n,t,e,i,r),y&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new ra(h.outlet.component,p))}else p&&il(t,h,r),r.canActivateChecks.push(new Lp(i)),s.component?tl(n,null,h?h.children:null,i,r):tl(n,null,e,i,r);return r}function DT(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!oo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!oo(n.url,t.url)||!yi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n_(n,t)||!yi(n.queryParams,t.queryParams);case"paramsChange":default:return!n_(n,t)}}function il(n,t,e){let i=ta(n),r=n.value;Object.entries(i).forEach(([s,p])=>{r.component?t?il(p,t.children.getContext(s),e):il(p,null,e):il(p,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ra(t.outlet.component,r)):e.canDeactivateChecks.push(new ra(null,r)):e.canDeactivateChecks.push(new ra(null,r))}function ul(n){return typeof n=="function"}function TT(n){return typeof n=="boolean"}function kT(n){return n&&ul(n.canLoad)}function RT(n){return n&&ul(n.canActivate)}function AT(n){return n&&ul(n.canActivateChild)}function NT(n){return n&&ul(n.canDeactivate)}function FT(n){return n&&ul(n.canMatch)}function L2(n){return n instanceof Er||n?.name==="EmptyError"}var _p=Symbol("INITIAL_VALUE");function da(){return Zt(n=>ec(n.map(t=>t.pipe(Pi(1),Aa(_p)))).pipe(Ne(t=>{for(let e of t)if(e!==!0){if(e===_p)return _p;if(e===!1||VT(e))return e}return!0}),dn(t=>t!==_p),Pi(1)))}function VT(n){return dr(n)||n instanceof ca}function U2(n){return n.aborted?ye(void 0).pipe(Pi(1)):new Re(t=>{let e=()=>{t.next(),t.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function B2(n){return Na(U2(n))}function LT(n,t){return Tt(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:p}}=e;return p.length===0&&s.length===0?ye(me(T({},e),{guardsResult:!0})):UT(p,i,r,n).pipe(Tt(h=>h&&TT(h)?BT(i,s,n,t):ye(h)),Ne(h=>me(T({},e),{guardsResult:h})))})}function UT(n,t,e,i){return lt(n).pipe(Tt(r=>zT(r.component,r.route,e,t,i)),Ei(r=>r!==!0,!0))}function BT(n,t,e,i){return lt(t).pipe(qi(r=>Mo(jT(r.route.parent,i),WT(r.route,i),HT(n,r.path,e),qT(n,r.route,e))),Ei(r=>r!==!0,!0))}function WT(n,t){return n!==null&&t&&t(new kp(n)),ye(!0)}function jT(n,t){return n!==null&&t&&t(new Dp(n)),ye(!0)}function qT(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return ye(!0);let r=i.map(s=>Ra(()=>{let p=pa(t)??e,h=ua(s,p),y=RT(h)?h.canActivate(t,n):Et(p,()=>h(t,n));return lo(y).pipe(Ei())}));return ye(r).pipe(da())}function HT(n,t,e){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(p=>OT(p)).filter(p=>p!==null).map(p=>Ra(()=>{let h=p.guards.map(y=>{let S=pa(p.node)??e,P=ua(y,S),I=AT(P)?P.canActivateChild(i,n):Et(S,()=>P(i,n));return lo(I).pipe(Ei())});return ye(h).pipe(da())}));return ye(s).pipe(da())}function zT(n,t,e,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return ye(!0);let p=s.map(h=>{let y=pa(t)??r,S=ua(h,y),P=NT(S)?S.canDeactivate(n,t,e,i):Et(y,()=>S(n,t,e,i));return lo(P).pipe(Ei())});return ye(p).pipe(da())}function GT(n,t,e,i,r){let s=t.canLoad;if(s===void 0||s.length===0)return ye(!0);let p=s.map(h=>{let y=ua(h,n),S=kT(y)?y.canLoad(t,e):Et(n,()=>y(t,e)),P=lo(S);return r?P.pipe(B2(r)):P});return ye(p).pipe(da(),W2(i))}function W2(n){return n0(nt(t=>{if(typeof t!="boolean")throw Vp(n,t)}),Ne(t=>t===!0))}function $T(n,t,e,i,r){let s=t.canMatch;if(!s||s.length===0)return ye(!0);let p=s.map(h=>{let y=ua(h,n),S=FT(y)?y.canMatch(t,e):Et(n,()=>y(t,e)),P=lo(S);return r?P.pipe(B2(r)):P});return ye(p).pipe(da(),W2(i))}var ro=class j2 extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,j2.prototype)}},o_=class q2 extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,q2.prototype)}};function QT(n){throw new J(4e3,!1)}function JT(n){throw F2(!1,on.GuardRejected)}var KT=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}async lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return i;if(r.numberOfChildren>1||!r.children[be])throw QT(`${t.redirectTo}`);r=r.children[be]}}async applyRedirectCommands(t,e,i,r,s){let p=await YT(e,r,s);if(p instanceof oi)throw new o_(p);let h=this.applyRedirectCreateUrlTree(p,this.urlSerializer.parse(p),t,i);if(p[0]==="/")throw new o_(h);return h}applyRedirectCreateUrlTree(t,e,i,r){let s=this.createSegmentGroup(t,e.root,i,r);return new oi(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let h=s.substring(1);i[r]=e[h]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){let s=this.createSegments(t,e.segments,i,r),p={};return Object.entries(e.children).forEach(([h,y])=>{p[h]=this.createSegmentGroup(t,y,i,r)}),new je(s,p)}createSegments(t,e,i,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new J(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}};function YT(n,t,e){if(typeof n=="string")return Promise.resolve(n);let i=n,{queryParams:r,fragment:s,routeConfig:p,url:h,outlet:y,params:S,data:P,title:I}=t;return xp(lo(Et(e,()=>i({params:S,data:P,queryParams:r,fragment:s,routeConfig:p,url:h,outlet:y,title:I}))))}var a_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZT(n,t,e,i,r,s){let p=H2(n,t,e);return p.matched?(i=yT(t,i),$T(i,t,e,r,s).pipe(Ne(h=>h===!0?p:T({},a_)))):ye(p)}function H2(n,t,e){if(t.path==="**")return XT(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?T({},a_):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||g2)(e,n,t);if(!r)return T({},a_);let s={};Object.entries(r.posParams??{}).forEach(([h,y])=>{s[h]=y.path});let p=r.consumed.length>0?T(T({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:p,positionalParamSegments:r.posParams??{}}}function XT(n){return{matched:!0,parameters:n.length>0?h2(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function p2(n,t,e,i){return e.length>0&&n4(n,e,i)?{segmentGroup:new je(t,t4(i,new je(e,n.children))),slicedSegments:[]}:e.length===0&&i4(n,e,i)?{segmentGroup:new je(n.segments,e4(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new je(n.segments,n.children),slicedSegments:e}}function e4(n,t,e,i){let r={};for(let s of e)if(Bp(n,t,s)&&!i[ri(s)]){let p=new je([],{});r[ri(s)]=p}return T(T({},i),r)}function t4(n,t){let e={};e[be]=t;for(let i of n)if(i.path===""&&ri(i)!==be){let r=new je([],{});e[ri(i)]=r}return e}function n4(n,t,e){return e.some(i=>Bp(n,t,i)&&ri(i)!==be)}function i4(n,t,e){return e.some(i=>Bp(n,t,i))}function Bp(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function r4(n,t,e){return t.length===0&&!n.children[e]}var o4=class{};async function a4(n,t,e,i,r,s,p="emptyOnly",h){return new l4(n,t,e,i,r,p,s,h).recognize()}var s4=31,l4=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,s,p,h,y){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=p,this.urlSerializer=h,this.abortSignal=y,this.applyRedirects=new KT(this.urlSerializer,this.urlTree)}noMatchError(t){return new J(4002,`'${t.segmentGroup}'`)}async recognize(){let t=p2(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:i}=await this.match(t),r=new bn(i,e),s=new ll("",r),p=E2(i,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(p),{state:s,tree:p}}async match(t){let e=new ao([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),be,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,t,be,e),rootSnapshot:e}}catch(i){if(i instanceof o_)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ro?this.noMatchError(i):i}}async processSegmentGroup(t,e,i,r,s){if(i.segments.length===0&&i.hasChildren())return this.processChildren(t,e,i,s);let p=await this.processSegment(t,e,i,i.segments,r,!0,s);return p instanceof bn?[p]:[]}async processChildren(t,e,i,r){let s=[];for(let y of Object.keys(i.children))y==="primary"?s.unshift(y):s.push(y);let p=[];for(let y of s){let S=i.children[y],P=CT(e,y),I=await this.processSegmentGroup(t,P,S,y,r);p.push(...I)}let h=z2(p);return c4(h),h}async processSegment(t,e,i,r,s,p,h){for(let y of e)try{return await this.processSegmentAgainstRoute(y._injector??t,e,y,i,r,s,p,h)}catch(S){if(S instanceof ro||L2(S))continue;throw S}if(r4(i,r,s))return new o4;throw new ro(i)}async processSegmentAgainstRoute(t,e,i,r,s,p,h,y){if(ri(i)!==p&&(p===be||!Bp(r,s,i)))throw new ro(r);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,r,i,s,p,y);if(this.allowRedirects&&h)return this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,p,y);throw new ro(r)}async expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,p,h){let{matched:y,parameters:S,consumedSegments:P,positionalParamSegments:I,remainingSegments:R}=H2(e,r,s);if(!y)throw new ro(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>s4&&(this.allowRedirects=!1));let D=new ao(s,S,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,u2(r),ri(r),r.component??r._loadedComponent??null,r,m2(r)),j=Fp(D,h,this.paramsInheritanceStrategy);if(D.params=Object.freeze(j.params),D.data=Object.freeze(j.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let Y=await this.applyRedirects.applyRedirectCommands(P,r.redirectTo,I,D,t),X=await this.applyRedirects.lineralizeSegments(r,Y);return this.processSegment(t,i,e,X.concat(R),p,!1,h)}async matchSegmentAgainstRoute(t,e,i,r,s,p){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let h=await xp(ZT(e,i,r,t,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(e.children={}),!h?.matched)throw new ro(e);t=i._injector??t;let{routes:y}=await this.getChildConfig(t,i,r),S=i._loadedInjector??t,{parameters:P,consumedSegments:I,remainingSegments:R}=h,D=new ao(I,P,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,u2(i),ri(i),i.component??i._loadedComponent??null,i,m2(i)),j=Fp(D,p,this.paramsInheritanceStrategy);D.params=Object.freeze(j.params),D.data=Object.freeze(j.data);let{segmentGroup:Y,slicedSegments:X}=p2(e,I,R,y);if(X.length===0&&Y.hasChildren()){let Ye=await this.processChildren(S,y,Y,D);return new bn(D,Ye)}if(y.length===0&&X.length===0)return new bn(D,[]);let ie=ri(i)===s,Ie=await this.processSegment(S,y,Y,X,ie?be:s,!0,D);return new bn(D,Ie instanceof bn?[Ie]:[])}async getChildConfig(t,e,i){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await xp(GT(t,e,i,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(t,e);return e._loadedRoutes=s.routes,e._loadedInjector=s.injector,s}throw JT(e)}return{routes:[],injector:t}}};function c4(n){n.sort((t,e)=>t.value.outlet===be?-1:e.value.outlet===be?1:t.value.outlet.localeCompare(e.value.outlet))}function d4(n){let t=n.value.routeConfig;return t&&t.path===""}function z2(n){let t=[],e=new Set;for(let i of n){if(!d4(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=z2(i.children);t.push(new bn(i.value,r))}return t.filter(i=>!e.has(i))}function u2(n){return n.data||{}}function m2(n){return n.resolve||{}}var p4=new oe("",{factory:()=>a4});function u4(n,t,e,i,r,s,p){let h=n.get(p4);return Tt(y=>ye(y).pipe(Zt(S=>h(n,t,e,i,S.extractedUrl,r,s,p)),Ne(({state:S,tree:P})=>me(T({},y),{targetSnapshot:S,urlAfterRedirects:P}))))}function m4(n,t){return Tt(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ye(e);let s=new Set(r.map(y=>y.route)),p=new Set;for(let y of s)if(!p.has(y))for(let S of G2(y))p.add(S);let h=0;return lt(p).pipe(qi(y=>s.has(y)?g4(y,i,n,t):(y.data=Fp(y,y.parent,n).resolve,ye(void 0))),nt(()=>h++),tc(1),Tt(y=>h===p.size?ye(e):ln))})}function G2(n){let t=n.children.map(e=>G2(e)).flat();return[n,...t]}function g4(n,t,e,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!R2(r)&&(s[dl]=r.title),Ra(()=>(n.data=Fp(n,n.parent,e).resolve,f4(s,n,t,i).pipe(Ne(p=>(n._resolvedData=p,n.data=T(T({},n.data),p),null)))))}function f4(n,t,e,i){let r=Kh(n);if(r.length===0)return ye({});let s={};return lt(r).pipe(Tt(p=>h4(n[p],t,e,i).pipe(Ei(),nt(h=>{if(h instanceof ca)throw Vp(new Li,h);s[p]=h}))),tc(1),Ne(()=>s),yn(p=>L2(p)?ln:ka(p)))}function h4(n,t,e,i){let r=pa(t)??i,s=ua(n,r),p=s.resolve?s.resolve(t,e):Et(r,()=>s(t,e));return lo(p)}function Qh(n){return Zt(t=>{let e=n(t);return e?lt(e).pipe(Ne(()=>t)):ye(t)})}var p_=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===be);return i}getResolvedTitleForRoute(e){return e.data[dl]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:()=>K($2),providedIn:"root"})}return n})(),$2=(()=>{class n extends p_{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(Q(A1))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ur=new oe("",{factory:()=>({})}),ma=new oe(""),Wp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=K(Ef);async loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let s=await _2(Et(e,()=>i.loadComponent())),p=await K2(J2(s));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=p,p}finally{this.componentLoaders.delete(i)}})();return this.componentLoaders.set(i,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=(async()=>{try{let s=await Q2(i,this.compiler,e,this.onLoadEndListener);return i._loadedRoutes=s.routes,i._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(i)}})();return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function Q2(n,t,e,i){let r=await _2(Et(e,()=>n.loadChildren())),s=await K2(J2(r)),p;s instanceof rd||Array.isArray(s)?p=s:p=await t.compileModuleAsync(s),i&&i(n);let h,y,S=!1;return Array.isArray(p)?(y=p,S=!0):(h=p.create(e).injector,y=h.get(ma,[],{optional:!0,self:!0}).flat()),{routes:y.map(d_),injector:h}}function _4(n){return n&&typeof n=="object"&&"default"in n}function J2(n){return _4(n)?n.default:n}async function K2(n){return n}var jp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:()=>K(v4),providedIn:"root"})}return n})(),v4=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u_=new oe(""),m_=new oe("");function Y2(n,t,e){let i=n.get(m_),r=n.get(et);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(S=>setTimeout(S));let s,p=new Promise(S=>{s=S}),h=r.startViewTransition(()=>(s(),y4(n)));h.ready.catch(S=>{}),h.finished.catch(S=>{});let{onViewTransitionCreated:y}=i;return y&&Et(n,()=>y({transition:h,from:t,to:e})),p}function y4(n){return new Promise(t=>{hs({read:()=>setTimeout(t)},{injector:n})})}var C4=()=>{},g_=new oe(""),qp=(()=>{class n{currentNavigation=Rn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Rn(null);events=new Ct;transitionAbortWithErrorSubject=new Ct;configLoader=K(Wp);environmentInjector=K(pt);destroyRef=K(Tn);urlSerializer=K(co);rootContexts=K(po);location=K(or);inputBindingEnabled=K(pl,{optional:!0})!==null;titleStrategy=K(p_);options=K(ur,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=K(jp);createViewTransition=K(u_,{optional:!0});navigationErrorHandler=K(g_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ye(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Op(r)),i=r=>this.events.next(new Ip(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;xt(()=>{this.transitions?.next(me(T({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(e){return this.transitions=new Ze(null),this.transitions.pipe(dn(i=>i!==null),Zt(i=>{let r=!1,s=new AbortController;return ye(i).pipe(Zt(p=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",on.SupersededByNewNavigation),ln;this.currentTransition=i;let h=this.lastSuccessfulNavigation();this.currentNavigation.set({id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:typeof p.extras.browserUrl=="string"?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:h?me(T({},h),{previousNavigation:null}):null,abort:()=>s.abort()});let y=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),S=p.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!y&&S!=="reload")return this.events.next(new xi(p.id,this.urlSerializer.serialize(p.rawUrl),"",oa.IgnoredSameUrlNavigation)),p.resolve(!1),ln;if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return ye(p).pipe(Zt(P=>(this.events.next(new pr(P.id,this.urlSerializer.serialize(P.extractedUrl),P.source,P.restoredState)),P.id!==this.navigationId?ln:Promise.resolve(P))),u4(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),nt(P=>{i.targetSnapshot=P.targetSnapshot,i.urlAfterRedirects=P.urlAfterRedirects,this.currentNavigation.update(R=>(R.finalUrl=P.urlAfterRedirects,R));let I=new ol(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot);this.events.next(I)}));if(y&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:P,extractedUrl:I,source:R,restoredState:D,extras:j}=p,Y=new pr(P,this.urlSerializer.serialize(I),R,D);this.events.next(Y);let X=T2(this.rootComponentType).snapshot;return this.currentTransition=i=me(T({},p),{targetSnapshot:X,urlAfterRedirects:I,extras:me(T({},j),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(ie=>(ie.finalUrl=I,ie)),ye(i)}else return this.events.next(new xi(p.id,this.urlSerializer.serialize(p.extractedUrl),"",oa.IgnoredByUrlHandlingStrategy)),p.resolve(!1),ln}),nt(p=>{let h=new Sp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(h)}),Ne(p=>(this.currentTransition=i=me(T({},p),{guards:wT(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),i)),LT(this.environmentInjector,p=>this.events.next(p)),nt(p=>{if(i.guardsResult=p.guardsResult,p.guardsResult&&typeof p.guardsResult!="boolean")throw Vp(this.urlSerializer,p.guardsResult);let h=new Pp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(h)}),dn(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",on.GuardRejected),!1)),Qh(p=>{if(p.guards.canActivateChecks.length!==0)return ye(p).pipe(nt(h=>{let y=new Ep(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),Zt(h=>{let y=!1;return ye(h).pipe(m4(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(h,"",on.NoDataFromResolver)}}))}),nt(h=>{let y=new wp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}))}),Qh(p=>{let h=S=>{let P=[];if(S.routeConfig?._loadedComponent)S.component=S.routeConfig?._loadedComponent;else if(S.routeConfig?.loadComponent){let I=pa(S)??this.environmentInjector;P.push(this.configLoader.loadComponent(I,S.routeConfig).then(R=>{S.component=R}))}for(let I of S.children)P.push(...h(I));return P},y=h(p.targetSnapshot.root);return y.length===0?ye(p):lt(Promise.all(y).then(()=>p))}),Qh(()=>this.afterPreactivation()),Zt(()=>{let{currentSnapshot:p,targetSnapshot:h}=i,y=this.createViewTransition?.(this.environmentInjector,p.root,h.root);return y?lt(y).pipe(Ne(()=>i)):ye(i)}),Ne(p=>{let h=bT(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=i=me(T({},p),{targetRouterState:h}),this.currentNavigation.update(y=>(y.targetRouterState=h,y)),i}),nt(()=>{this.events.next(new al)}),ET(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Pi(1),Na(U2(s.signal).pipe(dn(()=>!r&&!i.targetRouterState),nt(()=>{this.cancelNavigationTransition(i,s.signal.reason+"",on.Aborted)}))),nt({next:p=>{r=!0,this.currentNavigation.update(h=>(h.abort=C4,h)),this.lastSuccessfulNavigation.set(xt(this.currentNavigation)),this.events.next(new Un(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{r=!0}}),Na(this.transitionAbortWithErrorSubject.pipe(nt(p=>{throw p}))),So(()=>{s.abort(),r||this.cancelNavigationTransition(i,"",on.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),yn(p=>{if(this.destroyed)return i.resolve(!1),ln;if(r=!0,V2(p))this.events.next(new Ci(i.id,this.urlSerializer.serialize(i.extractedUrl),p.message,p.cancellationCode)),PT(p)?this.events.next(new la(p.url,p.navigationBehaviorOptions)):i.resolve(!1);else{let h=new aa(i.id,this.urlSerializer.serialize(i.extractedUrl),p,i.targetSnapshot??void 0);try{let y=Et(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(y instanceof ca){let{message:S,cancellationCode:P}=Vp(this.urlSerializer,y);this.events.next(new Ci(i.id,this.urlSerializer.serialize(i.extractedUrl),S,P)),this.events.next(new la(y.redirectTo,y.navigationBehaviorOptions))}else throw this.events.next(h),p}catch(y){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(y)}}return ln}))}))}cancelNavigationTransition(e,i,r){let s=new Ci(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=xt(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x4(n){return n!==ia}var Z2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:()=>K(b4),providedIn:"root"})}return n})(),Up=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},b4=(()=>{class n extends Up{static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f_=(()=>{class n{urlSerializer=K(co);options=K(ur,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=K(or);urlHandlingStrategy=K(jp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new oi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:r}){let s=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,p=r??s;return p instanceof oi?this.urlSerializer.serialize(p):p}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:r}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=e):this.rawUrlTree=r}routerState=T2(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:()=>K(X2),providedIn:"root"})}return n})(),X2=(()=>{class n extends f_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof pr?this.updateStateMemento():e instanceof xi?this.commitTransition(i):e instanceof ol?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof al?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Ci&&e.code!==on.SupersededByNewNavigation&&e.code!==on.Redirect?this.restoreHistory(i):e instanceof aa?this.restoreHistory(i,!0):e instanceof Un&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:r}){let{replaceUrl:s,state:p}=i;if(this.location.isCurrentPathEqualTo(e)||s){let h=this.browserPageId,y=T(T({},p),this.generateNgRouterState(r,h));this.location.replaceState(e,"",y)}else{let h=T(T({},p),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",h)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&s===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=un(n)))(r||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hp(n,t){n.events.pipe(dn(e=>e instanceof Un||e instanceof Ci||e instanceof aa||e instanceof xi),Ne(e=>e instanceof Un||e instanceof xi?0:(e instanceof Ci?e.code===on.Redirect||e.code===on.SupersededByNewNavigation:!1)?2:1),dn(e=>e!==2),Pi(1)).subscribe(()=>{t()})}var M4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ue=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=K(hf);stateManager=K(f_);options=K(ur,{optional:!0})||{};pendingTasks=K(Ti);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=K(qp);urlSerializer=K(co);location=K(or);urlHandlingStrategy=K(jp);injector=K(pt);_events=new Ct;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=K(Z2);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=K(ma,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!K(pl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new yt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=xt(this.navigationTransitions.currentNavigation);if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Ci&&i.code!==on.Redirect&&i.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Un)this.navigated=!0;else if(i instanceof la){let p=i.navigationBehaviorOptions,h=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),y=T({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||x4(r.source)},p);this.scheduleNavigation(h,ia,null,y,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}vT(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,r)=>{this.navigateToSyncWithBrowser(e,r,i)})}navigateToSyncWithBrowser(e,i,r){let s={replaceUrl:!0},p=r?.navigationId?r:null;if(r){let y=T({},r);delete y.navigationId,delete y.\u0275routerPageId,Object.keys(y).length!==0&&(s.state=y)}let h=this.parseUrl(e);this.scheduleNavigation(h,i,p,s).catch(y=>{this.disposed||this.injector.get(kn)(y)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return xt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(d_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:s,fragment:p,queryParamsHandling:h,preserveFragment:y}=i,S=y?this.currentUrlTree.fragment:p,P=null;switch(h??this.options.defaultQueryParamsHandling){case"merge":P=T(T({},this.currentUrlTree.queryParams),s);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=s||null}P!==null&&(P=this.removeEmptyProps(P));let I;try{let R=r?r.snapshot:this.routerState.snapshot.root;I=w2(R)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),I=this.currentUrlTree.root}return O2(I,e,P,S??null,this.urlSerializer)}navigateByUrl(e,i={skipLocationChange:!1}){let r=dr(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ia,null,i)}navigate(e,i={skipLocationChange:!1}){return P4(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Ii(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=T({},M4):i===!1?r=T({},S4):r=i,dr(e))return a2(this.currentUrlTree,e,r);let s=this.parseUrl(e);return a2(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(e,i,r,s,p){if(this.disposed)return Promise.resolve(!1);let h,y,S;p?(h=p.resolve,y=p.reject,S=p.promise):S=new Promise((I,R)=>{h=I,y=R});let P=this.pendingTasks.add();return Hp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(P))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:h,reject:y,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(I=>Promise.reject(I))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P4(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new J(4008,!1)}var Z=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Rn(null);get href(){return xt(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ct;applicationErrorHandler=K(kn);options=K(ur,{optional:!0});constructor(e,i,r,s,p,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=p,this.locationStrategy=h,this.reactiveHref.set(K(new pd("href"),{optional:!0}));let y=p.nativeElement.tagName?.toLowerCase();this.isAnchorElement=y==="a"||y==="area"||!!(typeof customElements=="object"&&customElements.get(y)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,i=r=>r==="merge"||r==="preserve";e||=i(this.queryParamsHandling),e||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof Un&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(dr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,s,p){let h=this.urlTree;if(h===null||this.isAnchorElement&&(e!==0||i||r||s||p||typeof this.target=="string"&&this.target!="_self"))return!0;let y={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(h,y)?.catch(S=>{this.applicationErrorHandler(S)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:dr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(w(ue),w(Ge),gs("tabindex"),w(Kn),w(An),w(Zn))};static \u0275dir=Qe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&_("click",function(p){return r.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),i&2&&er("href",r.reactiveHref(),Qg)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ir],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ir],replaceUrl:[2,"replaceUrl","replaceUrl",ir],routerLink:"routerLink"},features:[Ri]})}return n})();var ml=class{};var eM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,s){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(dn(e=>e instanceof Un),qi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Wo(s.providers,e,`Route: ${s.path}`));let p=s._injector??e,h=s._loadedInjector??p;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(p,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return lt(r).pipe(bo())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=lt(this.loader.loadChildren(e,i)):r=ye(null);let s=r.pipe(Tt(p=>p===null?ye(void 0):(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,this.processRoutes(p.injector??e,p.routes))));if(i.loadComponent&&!i._loadedComponent){let p=this.loader.loadComponent(e,i);return lt([s,p]).pipe(bo())}else return s})}static \u0275fac=function(i){return new(i||n)(Q(ue),Q(pt),Q(ml),Q(Wp))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tM=new oe(""),E4=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ia;restoredId=0;store={};constructor(e,i,r,s,p={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=p,p.scrollPositionRestoration||="disabled",p.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Un?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof xi&&e.code===oa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof sa))return;let i={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,i):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(async()=>{await new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new sa(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){uf()};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function w4(){return K(ue).routerState.root}function gl(n,t){return{\u0275kind:n,\u0275providers:t}}function O4(){let n=K(Wt);return t=>{let e=n.get(_i);if(t!==e.components[0])return;let i=n.get(ue),r=n.get(nM);n.get(__)===1&&i.initialNavigation(),n.get(oM,null,{optional:!0})?.setUpPreloading(),n.get(tM,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var nM=new oe("",{factory:()=>new Ct}),__=new oe("",{factory:()=>1});function iM(){let n=[{provide:Hg,useValue:!0},{provide:__,useValue:0},sd(()=>{let t=K(Wt);return t.get(Vf,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(ue),s=t.get(nM);Hp(r,()=>{i(!0)}),t.get(qp).afterPreactivation=()=>(i(!0),s.closed?ye(void 0):s),r.initialNavigation()}))})];return gl(2,n)}function rM(){let n=[sd(()=>{K(ue).setUpLocationChangeListener()}),{provide:__,useValue:2}];return gl(3,n)}var oM=new oe("");function aM(n){return gl(0,[{provide:oM,useExisting:eM},{provide:ml,useExisting:n}])}function sM(){return gl(8,[l_,{provide:pl,useExisting:l_}])}function lM(n){Gr("NgRouterViewTransitions");let t=[{provide:u_,useValue:Y2},{provide:m_,useValue:T({skipNextTransition:!!n?.skipInitialTransition},n)}];return gl(9,t)}var cM=[or,{provide:co,useClass:Li},ue,po,{provide:Ge,useFactory:w4},Wp,[]],mr=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[cM,[],{provide:ma,multi:!0,useValue:e},[],i?.errorHandler?{provide:g_,useValue:i.errorHandler}:[],{provide:ur,useValue:i||{}},i?.useHash?D4():T4(),I4(),i?.preloadingStrategy?aM(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?k4(i):[],i?.bindToComponentInputs?sM().\u0275providers:[],i?.enableViewTransitions?lM().\u0275providers:[],R4()]}}static forChild(e){return{ngModule:n,providers:[{provide:ma,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({})}return n})();function I4(){return{provide:tM,useFactory:()=>{let n=K(u1),t=K(ft),e=K(ur),i=K(qp),r=K(co);return e.scrollOffset&&n.setOffset(e.scrollOffset),new E4(r,i,n,t,e)}}}function D4(){return{provide:Zn,useClass:Hf}}function T4(){return{provide:Zn,useClass:hd}}function k4(n){return[n.initialNavigation==="disabled"?rM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?iM().\u0275providers:[]]}var h_=new oe("");function R4(){return[{provide:h_,useFactory:O4},{provide:ld,multi:!0,useExisting:h_}]}var zp=class n{constructor(t,e){this.authService=t;this.router=e}intercept(t,e){let i=this.authService.getToken();return i&&(t=t.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e.handle(t).pipe(yn(r=>((r.status===401||r.status===403)&&(this.authService.logout(),this.router.navigate(["/login"])),ka(()=>r))))}static \u0275fac=function(e){return new(e||n)(Q(Ln),Q(ue))};static \u0275prov=W({token:n,factory:n.\u0275fac})};var Oe=class n{notifications=[];notificationsSubject=new Ze([]);notifications$=this.notificationsSubject.asObservable();idCounter=0;show(t,e="info",i=4e3){let r={id:++this.idCounter,message:t,type:e,duration:i};this.notifications.push(r),this.notificationsSubject.next([...this.notifications]),i>0&&setTimeout(()=>this.remove(r.id),i)}success(t,e){this.show(t,"success",e)}error(t,e){this.show(t,"error",e)}warning(t,e){this.show(t,"warning",e)}info(t,e){this.show(t,"info",e)}remove(t){this.notifications=this.notifications.filter(e=>e.id!==t),this.notificationsSubject.next([...this.notifications])}clear(){this.notifications=[],this.notificationsSubject.next([])}static \u0275fac=function(e){return new(e||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function A4(n,t){n&1&&(o(0,"span"),l(1,"Sign In"),a())}function N4(n,t){n&1&&(o(0,"span"),v(1,"i",26),l(2," Signing in..."),a())}var Gp=class n{constructor(t,e,i){this.router=t;this.authService=e;this.notificationService=i}username="";password="";rememberMe=!1;showPassword=!1;isLoading=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){if(!this.username||!this.password){this.notificationService.error("Please enter username and password");return}this.isLoading=!0;let t={username:this.username,password:this.password};this.authService.login(t).subscribe({next:()=>{this.isLoading=!1,this.notificationService.success("Login successful!"),this.router.navigate(["/app/dashboard"])},error:e=>{this.isLoading=!1,this.notificationService.error(e.error?.error||"Login failed. Please try again.")}})}static \u0275fac=function(e){return new(e||n)(w(ue),w(Ln),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-login"]],standalone:!1,decls:47,vars:9,consts:[[1,"login-container"],[1,"login-left"],[1,"brand"],[1,"fas","fa-cube"],[1,"illustration"],[1,"fas","fa-chart-line"],[1,"login-right"],[1,"login-box"],[1,"login-header"],[3,"ngSubmit"],[1,"form-group"],["for","username"],[1,"input-wrapper"],[1,"fas","fa-user"],["type","text","id","username","name","username","placeholder","Enter your username",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],[1,"fas","fa-lock"],["id","password","name","password","placeholder","Enter your password",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"checkbox-label"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel"],["href","#",1,"forgot-link"],["type","submit",1,"btn-login",3,"disabled"],[4,"ngIf"],[1,"login-footer"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),v(3,"i",3),o(4,"h1"),l(5,"Hao System"),a()(),o(6,"div",4),v(7,"i",5),o(8,"h2"),l(9,"Manage Your Business Efficiently"),a(),o(10,"p"),l(11,"Streamline operations, track inventory, and grow your business with our comprehensive ERP solution."),a()()(),o(12,"div",6)(13,"div",7)(14,"div",8)(15,"h2"),l(16,"Welcome Back"),a(),o(17,"p"),l(18,"Sign in to continue to your dashboard"),a()(),o(19,"form",9),_("ngSubmit",function(){return i.onSubmit()}),o(20,"div",10)(21,"label",11),l(22,"Username"),a(),o(23,"div",12),v(24,"i",13),o(25,"input",14),x("ngModelChange",function(s){return b(i.username,s)||(i.username=s),s}),a()()(),o(26,"div",10)(27,"label",15),l(28,"Password"),a(),o(29,"div",12),v(30,"i",16),o(31,"input",17),x("ngModelChange",function(s){return b(i.password,s)||(i.password=s),s}),a(),o(32,"button",18),_("click",function(){return i.togglePasswordVisibility()}),v(33,"i"),a()()(),o(34,"div",19)(35,"label",20)(36,"input",21),x("ngModelChange",function(s){return b(i.rememberMe,s)||(i.rememberMe=s),s}),a(),o(37,"span"),l(38,"Remember me"),a()(),o(39,"a",22),l(40,"Forgot Password?"),a()(),o(41,"button",23),M(42,A4,2,0,"span",24)(43,N4,3,0,"span",24),a()(),o(44,"div",25)(45,"p"),l(46,"Default login: admin / admin123"),a()()()()()),e&2&&(c(25),C("ngModel",i.username),c(6),u("type",i.showPassword?"text":"password"),C("ngModel",i.password),c(2),bt(i.showPassword?"fas fa-eye-slash":"fas fa-eye"),c(3),C("ngModel",i.rememberMe),c(5),u("disabled",i.isLoading),c(),u("ngIf",!i.isLoading),c(),u("ngIf",i.isLoading))},dependencies:[N,ot,B,fe,V,rt,F,tt],styles:[".login-container[_ngcontent-%COMP%]{display:flex;min-height:100vh}.login-left[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,#00796b,#004d40);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px;color:#fff}.login-left[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:60px}.login-left[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.login-left[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600}.login-left[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]{text-align:center;max-width:400px}.login-left[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:6rem;margin-bottom:30px;opacity:.9}.login-left[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:16px;font-weight:600}.login-left[_ngcontent-%COMP%]   .illustration[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;line-height:1.6}.login-right[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:40px;background:#f5f7fa}.login-box[_ngcontent-%COMP%]{width:100%;max-width:420px;background:#fff;padding:40px;border-radius:16px;box-shadow:0 10px 40px #0000001a}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:#2c3e50;margin-bottom:8px}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:.95rem}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#2c3e50;font-size:.9rem}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:16px;color:#6c757d;font-size:1rem}.input-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:14px 16px 14px 46px;border:1px solid #e0e0e0;border-radius:10px;font-size:.95rem;transition:all .3s ease}.input-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#00796b;box-shadow:0 0 0 3px #00796b1a}.input-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#adb5bd}.input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:16px;background:none;border:none;cursor:pointer;color:#6c757d;padding:0}.input-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#00796b}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:.9rem;color:#6c757d}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#00796b}.forgot-link[_ngcontent-%COMP%]{color:#00796b;text-decoration:none;font-size:.9rem;font-weight:500}.forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{background:#fef2f2;color:#dc3545;padding:12px 16px;border-radius:8px;margin-bottom:20px;display:flex;align-items:center;gap:8px;font-size:.9rem}.btn-login[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,#00796b,#004d40);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #00796b4d}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:24px;color:#6c757d;font-size:.9rem}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00796b;font-weight:500;text-decoration:none}.login-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media(max-width:992px){.login-left[_ngcontent-%COMP%]{display:none}.login-right[_ngcontent-%COMP%]{flex:1}}@media(max-width:480px){.login-right[_ngcontent-%COMP%]{padding:20px}.login-box[_ngcontent-%COMP%]{padding:24px}}"]})};function F4(n,t){if(n&1&&v(0,"i",17),n&2){let e=d().$implicit;L("rotated",e.expanded)}}function V4(n,t){if(n&1&&v(0,"i",17),n&2){let e=d().$implicit;L("rotated",e.expanded)}}function L4(n,t){if(n&1){let e=O();o(0,"li",12)(1,"a",19),_("click",function(){let r=m(e).$implicit,s=d(5);return g(s.toggleMenu(r))}),v(2,"i"),o(3,"span",14),l(4),a()()()}if(n&2){let e=t.$implicit,i=d(5);L("active",i.isActive(e.route)),c(2),bt(e.icon),c(2),f(e.label)}}function U4(n,t){if(n&1&&(o(0,"ul",21),M(1,L4,5,5,"li",22),a()),n&2){let e=d().$implicit;c(),u("ngForOf",e.children)}}function B4(n,t){if(n&1){let e=O();Qr(0),o(1,"li",12)(2,"a",19),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.toggleMenu(r))}),v(3,"i"),o(4,"span",14),l(5),a(),M(6,V4,1,2,"i",15),a(),M(7,U4,2,1,"ul",20),a(),Jr()}if(n&2){let e=t.$implicit,i=d(3);c(),L("active",i.isActive(e.route))("has-active-child",i.hasActiveChild(e)),c(2),bt(e.icon),c(2),f(e.label),c(),u("ngIf",e.children),c(),u("ngIf",e.children&&e.expanded)}}function W4(n,t){if(n&1&&(o(0,"ul",18),M(1,B4,8,9,"ng-container",7),a()),n&2){let e=d().$implicit;c(),u("ngForOf",e.children)}}function j4(n,t){if(n&1){let e=O();Qr(0),o(1,"li",12)(2,"a",13),_("click",function(){let r=m(e).$implicit,s=d();return g(s.toggleMenu(r))}),v(3,"i"),o(4,"span",14),l(5),a(),M(6,F4,1,2,"i",15),a(),M(7,W4,2,1,"ul",16),a(),Jr()}if(n&2){let e=t.$implicit,i=d();c(),L("active",i.isActive(e.route))("has-active-child",i.hasActiveChild(e)),c(),u("title",e.label),c(),bt(e.icon),c(2),f(e.label),c(),u("ngIf",e.children),c(),u("ngIf",e.children&&e.expanded)}}var $p=class n{constructor(t,e){this.router=t;this.authService=e}collapsed=!1;mobileOpen=!1;allMenuItems=[{icon:"fas fa-home",label:"Dashboard",route:"/app/dashboard",permissionKey:"Dashboard"},{icon:"fas fa-cog",label:"Settings",expanded:!1,permissionKey:"Settings",children:[{icon:"fas fa-sliders-h",label:"General Settings",route:"/app/settings/general"},{icon:"fas fa-dollar-sign",label:"Finance Settings",expanded:!1,children:[{icon:"fas fa-percent",label:"Tax Rates",route:"/app/settings/finance/tax-rates"},{icon:"fas fa-coins",label:"Currencies",route:"/app/settings/finance/currencies"},{icon:"fas fa-credit-card",label:"Payment Modes",route:"/app/settings/finance/payment-modes"},{icon:"fas fa-receipt",label:"Expense Categories",route:"/app/settings/finance/expense-categories"}]},{icon:"fas fa-user-cog",label:"Customer Settings",route:"/app/settings/customer"},{icon:"fas fa-file-contract",label:"Contract Settings",route:"/app/settings/contract"},{icon:"fas fa-user-shield",label:"Roles Settings",route:"/app/settings/roles"},{icon:"fas fa-users-cog",label:"Staff Management",route:"/app/settings/staff"},{icon:"fas fa-hashtag",label:"Prefix Settings",route:"/app/settings/prefixes"},{icon:"fas fa-plug",label:"Integrations",route:"/app/settings/integrations"}]},{icon:"fas fa-users",label:"Customer Management",route:"/app/customers",permissionKey:"Customer Management"},{icon:"fas fa-file-signature",label:"Contract Management",route:"/app/contracts",permissionKey:"Contract Management"},{icon:"fas fa-boxes",label:"Inventory Management",expanded:!1,permissionKey:"Inventory",children:[{icon:"fas fa-layer-group",label:"Group Master",route:"/app/inventory/groups",permissionKey:"Inventory - Group Master"},{icon:"fas fa-box",label:"Item Master",route:"/app/inventory/items",permissionKey:"Inventory - Item Master"},{icon:"fas fa-balance-scale",label:"Units of Measure",route:"/app/inventory/units",permissionKey:"Inventory - Units of Measure"},{icon:"fas fa-warehouse",label:"Warehouse & Bin",expanded:!1,permissionKey:"Inventory - Warehouse & Bin",children:[{icon:"fas fa-warehouse",label:"Warehouse Management",route:"/app/inventory/warehouse"},{icon:"fas fa-truck",label:"Supplier",route:"/app/inventory/suppliers"}]},{icon:"fas fa-calculator",label:"Inventory Valuation Engine",route:"/app/inventory/valuation",permissionKey:"Inventory - Valuation"},{icon:"fas fa-exchange-alt",label:"Stock Movement",expanded:!1,children:[{icon:"fas fa-arrow-down",label:"Goods Receipt (GRN)",route:"/app/stock/grn",permissionKey:"Stock Movement - Goods Receipt (GRN)"},{icon:"fas fa-arrow-up",label:"Goods Issue",route:"/app/stock/issue",permissionKey:"Stock Movement - Goods Issue"},{icon:"fas fa-arrows-alt-h",label:"Stock Transfer",route:"/app/stock/transfer",permissionKey:"Stock Movement - Stock Transfer"},{icon:"fas fa-edit",label:"Stock Adjustments",route:"/app/stock/adjustments",permissionKey:"Stock Movement - Stock Adjustments"}]},{icon:"fas fa-book",label:"Inventory Ledger",route:"/app/inventory/ledger",permissionKey:"Inventory - Ledger"}]},{icon:"fas fa-shopping-cart",label:"Purchase Order Management",expanded:!1,permissionKey:"Purchase",children:[{icon:"fas fa-file-alt",label:"Purchase Requisition",route:"/app/purchase/requisition",permissionKey:"Purchase - Requisition"},{icon:"fas fa-file-invoice",label:"Purchase Order",route:"/app/purchase/orders",permissionKey:"Purchase - Orders"},{icon:"fas fa-file-invoice-dollar",label:"Purchase Invoice",route:"/app/purchase/invoices",permissionKey:"Purchase - Invoices"}]},{icon:"fas fa-chart-bar",label:"Reports",expanded:!1,permissionKey:"Reports",children:[{icon:"fas fa-boxes",label:"Inventory Reports",expanded:!1,permissionKey:"Reports - Inventory",children:[{icon:"fas fa-clipboard-list",label:"Stock Summary Report",route:"/app/reports/stock-summary"},{icon:"fas fa-coins",label:"Inventory Valuation Report",route:"/app/reports/valuation"},{icon:"fas fa-chart-line",label:"Item Movement Report",route:"/app/reports/item-movement"},{icon:"fas fa-book-open",label:"Stock Ledger Report",route:"/app/reports/stock-ledger"},{icon:"fas fa-sitemap",label:"Group-wise Stock Report",route:"/app/reports/group-wise"},{icon:"fas fa-warehouse",label:"Warehouse Stock Report",route:"/app/reports/warehouse-stock"},{icon:"fas fa-exclamation-triangle",label:"Reorder Level",route:"/app/reports/reorder-level"},{icon:"fas fa-hourglass-half",label:"Slow/Non-Moving Items Report",route:"/app/reports/slow-moving"},{icon:"fas fa-file-invoice",label:"Purchase vs GRN Report",route:"/app/reports/purchase-grn"}]},{icon:"fas fa-shopping-cart",label:"Purchase Reports",expanded:!1,permissionKey:"Reports - Purchase",children:[{icon:"fas fa-list-alt",label:"PR List Report",route:"/app/reports/purchase/pr-list"},{icon:"fas fa-clock",label:"PR Item Pending Report",route:"/app/reports/purchase/pr-pending"},{icon:"fas fa-history",label:"PR Fulfillment History Report",route:"/app/reports/purchase/pr-history"},{icon:"fas fa-file-alt",label:"PO List",route:"/app/reports/purchase/po-list"},{icon:"fas fa-cart-arrow-down",label:"Direct Purchase Report",route:"/app/reports/purchase/direct-purchase"},{icon:"fas fa-exchange-alt",label:"Stock Issue/Transfer Report",route:"/app/reports/purchase/stock-issue-transfer"}]}]},{icon:"fas fa-history",label:"Audit Trails & Logging",expanded:!1,permissionKey:"Audit Trails",children:[{icon:"fas fa-server",label:"System Audits",route:"/app/audit/system"},{icon:"fas fa-boxes",label:"Inventory Audits",route:"/app/audit/inventory"},{icon:"fas fa-shopping-cart",label:"Purchase Audits",route:"/app/audit/purchase"}]},{icon:"fas fa-user-tie",label:"HR Management",expanded:!1,permissionKey:"HR Management",children:[{icon:"fas fa-users",label:"Employee Master",expanded:!1,children:[{icon:"fas fa-id-card",label:"Employee List",route:"/app/hr/employees"},{icon:"fas fa-user-plus",label:"Add Employee",route:"/app/hr/employees/new"}]},{icon:"fas fa-sitemap",label:"Organization Structure",expanded:!1,children:[{icon:"fas fa-building",label:"Departments",route:"/app/hr/organization/departments"},{icon:"fas fa-map-marker-alt",label:"Locations",route:"/app/hr/organization/locations"},{icon:"fas fa-briefcase",label:"Job Roles",route:"/app/hr/organization/job-roles"},{icon:"fas fa-layer-group",label:"Grades",route:"/app/hr/organization/grades"},{icon:"fas fa-id-badge",label:"Designations",route:"/app/hr/organization/designations"},{icon:"fas fa-chart-pie",label:"Cost Centers",route:"/app/hr/organization/cost-centers"},{icon:"fas fa-money-bill-wave",label:"Expense Centers",route:"/app/hr/organization/expense-centers"}]},{icon:"fas fa-folder-open",label:"Document Management",expanded:!1,children:[{icon:"fas fa-file-alt",label:"Document Types",route:"/app/hr/documents/types"},{icon:"fas fa-folder",label:"Employee Documents",route:"/app/hr/documents/employee"},{icon:"fas fa-bell",label:"Expiry Reminders",route:"/app/hr/documents/reminders"}]}]},{icon:"fas fa-chart-pie",label:"MIS & Dashboards",expanded:!1,permissionKey:"MIS Dashboards",children:[{icon:"fas fa-users",label:"HR Dashboard",route:"/app/mis/hr-dashboard"},{icon:"fas fa-money-bill-wave",label:"Payroll Dashboard",route:"/app/mis/payroll-dashboard"},{icon:"fas fa-calendar-check",label:"Attendance Dashboard",route:"/app/mis/attendance-dashboard"},{icon:"fas fa-chart-line",label:"Performance Dashboard",route:"/app/mis/performance-dashboard"},{icon:"fas fa-file-alt",label:"Custom Report Builder",route:"/app/mis/report-builder"}]},{icon:"fas fa-clock",label:"Time & Attendance",expanded:!1,permissionKey:"Attendance",children:[{icon:"fas fa-sign-in-alt",label:"Clock In / Out",route:"/app/attendance/clock-in-out"},{icon:"fas fa-calendar-alt",label:"Attendance Records",route:"/app/attendance/records"},{icon:"fas fa-sliders-h",label:"Attendance Rules",route:"/app/attendance/rules"},{icon:"fas fa-project-diagram",label:"Project Time Entry",route:"/app/attendance/project-time"}]},{icon:"fas fa-umbrella-beach",label:"Leave Management",expanded:!1,permissionKey:"Leave Management",children:[{icon:"fas fa-list-alt",label:"Leave Types",route:"/app/leave/types"},{icon:"fas fa-calendar-check",label:"Leave Requests",route:"/app/leave/requests"},{icon:"fas fa-balance-scale",label:"Leave Balances",route:"/app/leave/balances"},{icon:"fas fa-calendar",label:"Holiday Calendar",route:"/app/leave/holidays"}]},{icon:"fas fa-file-invoice-dollar",label:"Expense Management",expanded:!1,permissionKey:"Expenses",children:[{icon:"fas fa-list",label:"All Expenses",route:"/app/expenses"},{icon:"fas fa-plus-circle",label:"New Expense",route:"/app/expenses/new"}]},{icon:"fas fa-money-check-alt",label:"Payroll Management",expanded:!1,permissionKey:"Payroll",children:[{icon:"fas fa-cogs",label:"Payroll Rules",expanded:!1,children:[{icon:"fas fa-list",label:"Salary Heads",route:"/app/payroll/rules/salary-heads"},{icon:"fas fa-calendar-week",label:"Pay Frequencies",route:"/app/payroll/rules/pay-frequencies"},{icon:"fas fa-clock",label:"Overtime Rules",route:"/app/payroll/rules/overtime-rules"},{icon:"fas fa-percent",label:"Tax Rules",route:"/app/payroll/rules/tax-rules"},{icon:"fas fa-gavel",label:"Statutory Rules",route:"/app/payroll/rules/statutory-rules"}]},{icon:"fas fa-tasks",label:"Payroll Processing",expanded:!1,children:[{icon:"fas fa-clipboard-check",label:"Timesheet Approval",route:"/app/payroll/timesheets"},{icon:"fas fa-calculator",label:"Payroll Calculation",route:"/app/payroll/calculation"}]},{icon:"fas fa-user-circle",label:"Employee Self-Service",route:"/app/payroll/self-service"}]}];menuItems=[];ngOnInit(){this.filterMenuByPermissions(),this.authService.currentUser$.subscribe(()=>{this.filterMenuByPermissions()})}filterMenuByPermissions(){if(this.authService.isAdmin()){this.menuItems=this.allMenuItems;return}this.menuItems=this.filterItems(this.allMenuItems)}filterItems(t){return t.filter(e=>this.hasAccessToItem(e)).map(e=>e.children?me(T({},e),{children:this.filterItems(e.children)}):e).filter(e=>!e.children||e.children.length>0)}hasAccessToItem(t){return t.permissionKey?this.authService.hasFeatureAccess(t.permissionKey):!0}toggleMenu(t){t.children?t.expanded=!t.expanded:t.route&&this.router.navigate([t.route])}isActive(t){return t?this.router.url===t:!1}hasActiveChild(t){return t.children?t.children.some(e=>e.route&&this.router.url===e.route?!0:e.children?this.hasActiveChild(e):!1):!1}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||n)(w(ue),w(Ln))};static \u0275cmp=k({type:n,selectors:[["app-sidebar"]],inputs:{collapsed:"collapsed",mobileOpen:"mobileOpen"},standalone:!1,decls:14,vars:6,consts:[[1,"sidebar"],[1,"sidebar-header"],[1,"logo"],[1,"fas","fa-cube"],[1,"logo-text"],[1,"sidebar-nav"],[1,"nav-list"],[4,"ngFor","ngForOf"],[1,"sidebar-footer"],[1,"logout-btn",3,"click","title"],[1,"fas","fa-sign-out-alt"],[1,"logout-text"],[1,"nav-item"],[1,"nav-link",3,"click","title"],[1,"nav-text"],["class","fas fa-chevron-down expand-icon",3,"rotated",4,"ngIf"],["class","sub-menu",4,"ngIf"],[1,"fas","fa-chevron-down","expand-icon"],[1,"sub-menu"],[1,"nav-link",3,"click"],["class","sub-menu nested",4,"ngIf"],[1,"sub-menu","nested"],["class","nav-item",3,"active",4,"ngFor","ngForOf"]],template:function(e,i){e&1&&(o(0,"aside",0)(1,"div",1)(2,"div",2),v(3,"i",3),o(4,"span",4),l(5,"Hao System"),a()()(),o(6,"nav",5)(7,"ul",6),M(8,j4,8,10,"ng-container",7),a()(),o(9,"div",8)(10,"a",9),_("click",function(){return i.logout()}),v(11,"i",10),o(12,"span",11),l(13,"Logout"),a()()()()),e&2&&(L("collapsed",i.collapsed)("mobile-open",i.mobileOpen),c(8),u("ngForOf",i.menuItems),c(2),u("title","Logout"))},dependencies:[A,N],styles:['.sidebar[_ngcontent-%COMP%]{width:280px;height:100vh;background:linear-gradient(180deg,#066,teal,#004d4d);position:fixed;left:0;top:0;display:flex;flex-direction:column;box-shadow:2px 0 15px #00000026;transition:all .3s ease;z-index:100;overflow-x:hidden;overflow-y:auto}.sidebar.collapsed[_ngcontent-%COMP%]{width:70px}.sidebar.collapsed[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .logout-text[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{display:none!important}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;padding:14px}.sidebar-header[_ngcontent-%COMP%]{padding:24px 20px;border-bottom:1px solid rgba(255,255,255,.1);flex-shrink:0}.sidebar-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.sidebar-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.75rem;color:#fff}.sidebar-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:600;color:#fff;display:block!important}.sidebar-nav[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 0}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:2px}.nav-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.nav-item[_ngcontent-%COMP%]{margin:4px 12px;border-radius:8px}.nav-item.active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background:#fff3;color:#fff}.nav-item.active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.nav-item.has-active-child[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;font-weight:500}.nav-item.has-active-child[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px 16px;color:#ffffffd9;text-decoration:none;cursor:pointer;transition:all .2s ease;border-radius:8px;font-size:.95rem}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{width:22px;min-width:22px;text-align:center;font-size:1.1rem;color:#fffc;flex-shrink:0}.nav-link[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{flex:1;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block!important;color:#fffffff2}.nav-link[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{font-size:.75rem;transition:transform .3s ease;color:#fff9;width:auto;display:block!important}.nav-link[_ngcontent-%COMP%]   .expand-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.nav-link[_ngcontent-%COMP%]:hover{background:#ffffff26;color:#fff}.nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.sub-menu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:6px 0;background:#00000026;border-radius:8px;overflow:hidden;display:block}.sub-menu[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0;border-radius:0}.sub-menu[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background:#ffffff26;color:#fff}.sub-menu[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{color:#fff}.sub-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 16px 10px 52px;font-size:.9rem;border-radius:0}.sub-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:first-child{font-size:.9rem}.sub-menu.nested[_ngcontent-%COMP%]{margin:0;background:#0000001a;border-radius:0}.sub-menu.nested[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-left:68px;font-size:.85rem;position:relative}.sub-menu.nested[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:56px;top:50%;width:6px;height:6px;background:#fff6;border-radius:50%;transform:translateY(-50%)}.sub-menu.nested[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{background:#fff}.sidebar-footer[_ngcontent-%COMP%]{padding:16px;border-top:1px solid rgba(255,255,255,.1);flex-shrink:0}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:12px 16px;color:#ff6b6b;text-decoration:none;cursor:pointer;border-radius:8px;transition:all .2s ease;font-weight:500}.logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.logout-btn[_ngcontent-%COMP%]   .logout-text[_ngcontent-%COMP%]{font-size:.95rem;display:block!important}.logout-btn[_ngcontent-%COMP%]:hover{background:#ff6b6b26}@media(max-width:992px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);width:280px}.sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(-100%);width:280px}.sidebar.collapsed.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}.sidebar.collapsed[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .logout-text[_ngcontent-%COMP%]{display:block!important}.sidebar.collapsed[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{display:block}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:flex-start;padding:12px 16px}}']})};var Qp=class n{constructor(t){this.http=t}baseUrl="/api/notifications";unreadCountSubject=new Ze(0);unreadCount$=this.unreadCountSubject.asObservable();getNotifications(){return this.http.get(this.baseUrl)}getUnreadNotifications(){return this.http.get(`${this.baseUrl}/unread`)}getUnreadCount(){return this.http.get(`${this.baseUrl}/count`).pipe(nt(t=>this.unreadCountSubject.next(t.count)))}markAsRead(t){return this.http.put(`${this.baseUrl}/${t}/read`,{}).pipe(nt(()=>{let e=this.unreadCountSubject.value;e>0&&this.unreadCountSubject.next(e-1)}))}markAllAsRead(){return this.http.put(`${this.baseUrl}/read-all`,{}).pipe(nt(()=>this.unreadCountSubject.next(0)))}deleteNotification(t){return this.http.delete(`${this.baseUrl}/${t}`)}startPolling(t=3e4){return s0(t).pipe(Aa(0),Zt(()=>this.getUnreadCount()))}refreshCount(){this.getUnreadCount().subscribe()}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function z4(n,t){if(n&1&&(o(0,"span",23),l(1),a()),n&2){let e=d();c(),f(e.getUnreadCount())}}function G4(n,t){if(n&1){let e=O();o(0,"div",31),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.markAsRead(r))}),o(1,"div",32),v(2,"i",33),a(),o(3,"div",34)(4,"strong"),l(5),a(),o(6,"p"),l(7),a(),o(8,"span",35),l(9),a()()()}if(n&2){let e=t.$implicit,i=d(2);L("unread",!e.read),c(2),u("ngClass",i.getNotificationIcon(e.type)),c(3),f(e.title),c(2),f(e.message),c(2),f(i.getTimeAgo(e.createdAt))}}function $4(n,t){n&1&&(o(0,"div",36),v(1,"i",37),o(2,"p"),l(3,"No notifications"),a()())}function Q4(n,t){n&1&&(o(0,"div",38)(1,"a",39),l(2,"View all notifications"),a()())}function J4(n,t){if(n&1){let e=O();o(0,"div",24)(1,"div",25)(2,"h4"),l(3,"Notifications"),a(),o(4,"a",26),_("click",function(){m(e);let r=d();return g(r.markAllAsRead())}),l(5,"Mark all as read"),a()(),o(6,"div",27),M(7,G4,10,6,"div",28)(8,$4,4,0,"div",29),a(),M(9,Q4,3,0,"div",30),a()}if(n&2){let e=d();c(7),u("ngForOf",e.notifications),c(),u("ngIf",e.notifications.length===0),c(),u("ngIf",e.notifications.length>0)}}function K4(n,t){if(n&1){let e=O();o(0,"div",40)(1,"a",41),v(2,"i",19),l(3," My Profile "),a(),o(4,"a",41),v(5,"i",42),l(6," Account Settings "),a(),v(7,"div",43),o(8,"a",44),_("click",function(){m(e);let r=d();return g(r.logout())}),v(9,"i",45),l(10," Logout "),a()()}}var Jp=class n{constructor(t,e,i){this.userNotificationService=t;this.authService=e;this.router=i}toggleSidebar=new dt;searchQuery="";showNotifications=!1;showProfile=!1;notifications=[];unreadCount=0;currentUserName="User";pollSubscription;ngOnInit(){let t=this.authService.getCurrentUser();t&&(this.currentUserName=t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`:t.username),this.loadNotifications(),this.pollSubscription=this.userNotificationService.startPolling(3e4).subscribe({next:e=>{this.unreadCount=e.count,this.loadNotifications()},error:()=>{}})}ngOnDestroy(){this.pollSubscription&&this.pollSubscription.unsubscribe()}loadNotifications(){this.userNotificationService.getNotifications().subscribe({next:t=>{this.notifications=t,this.unreadCount=t.filter(e=>!e.read).length},error:()=>{this.notifications=[],this.unreadCount=0}})}onToggleSidebar(){this.toggleSidebar.emit()}toggleNotifications(){this.showNotifications=!this.showNotifications,this.showProfile=!1,this.showNotifications&&this.loadNotifications()}toggleProfile(){this.showProfile=!this.showProfile,this.showNotifications=!1}getUnreadCount(){return this.unreadCount}markAsRead(t){t.read||this.userNotificationService.markAsRead(t.id).subscribe({next:()=>{t.read=!0,this.unreadCount=Math.max(0,this.unreadCount-1)}}),t.referenceType==="PurchaseRequisition"&&t.referenceId&&(this.router.navigate(["/app/purchase/requisition"]),this.showNotifications=!1)}markAllAsRead(){this.userNotificationService.markAllAsRead().subscribe({next:()=>{this.notifications.forEach(t=>t.read=!0),this.unreadCount=0}})}getTimeAgo(t){let e=new Date(t),r=new Date().getTime()-e.getTime(),s=Math.floor(r/6e4);if(s<1)return"Just now";if(s<60)return`${s} min ago`;let p=Math.floor(s/60);if(p<24)return`${p} hour${p>1?"s":""} ago`;let h=Math.floor(p/24);return`${h} day${h>1?"s":""} ago`}getNotificationIcon(t){switch(t){case"PR_APPROVAL":return"fa-file-alt";case"PO_CREATED":return"fa-shopping-cart";case"STOCK_ALERT":return"fa-exclamation-triangle";default:return"fa-info-circle"}}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||n)(w(Qp),w(Ln),w(ue))};static \u0275cmp=k({type:n,selectors:[["app-header"]],outputs:{toggleSidebar:"toggleSidebar"},standalone:!1,decls:24,vars:5,consts:[[1,"header"],[1,"header-left"],[1,"toggle-btn",3,"click"],[1,"fas","fa-bars"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search...",3,"ngModelChange","ngModel"],[1,"header-right"],[1,"header-actions"],[1,"notification-wrapper"],[1,"action-btn",3,"click"],[1,"fas","fa-bell"],["class","badge",4,"ngIf"],["class","dropdown notification-dropdown",4,"ngIf"],[1,"action-btn"],[1,"fas","fa-envelope"],[1,"profile-wrapper"],[1,"profile-btn",3,"click"],[1,"avatar"],[1,"fas","fa-user"],[1,"name"],[1,"fas","fa-chevron-down"],["class","dropdown profile-dropdown",4,"ngIf"],[1,"badge"],[1,"dropdown","notification-dropdown"],[1,"dropdown-header"],["href","javascript:void(0)",3,"click"],[1,"dropdown-body"],["class","notification-item",3,"unread","click",4,"ngFor","ngForOf"],["class","notification-empty",4,"ngIf"],["class","dropdown-footer",4,"ngIf"],[1,"notification-item",3,"click"],[1,"notification-icon"],[1,"fas",3,"ngClass"],[1,"notification-content"],[1,"time"],[1,"notification-empty"],[1,"fas","fa-bell-slash"],[1,"dropdown-footer"],["href","javascript:void(0)"],[1,"dropdown","profile-dropdown"],["href","javascript:void(0)",1,"dropdown-item"],[1,"fas","fa-cog"],[1,"dropdown-divider"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(e,i){e&1&&(o(0,"header",0)(1,"div",1)(2,"button",2),_("click",function(){return i.onToggleSidebar()}),v(3,"i",3),a(),o(4,"div",4),v(5,"i",5),o(6,"input",6),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()(),o(7,"div",7)(8,"div",8)(9,"div",9)(10,"button",10),_("click",function(){return i.toggleNotifications()}),v(11,"i",11),M(12,z4,2,1,"span",12),a(),M(13,J4,10,3,"div",13),a(),o(14,"button",14),v(15,"i",15),a()(),o(16,"div",16)(17,"button",17),_("click",function(){return i.toggleProfile()}),o(18,"div",18),v(19,"i",19),a(),o(20,"span",20),l(21),a(),v(22,"i",21),a(),M(23,K4,11,0,"div",22),a()()()),e&2&&(c(6),C("ngModel",i.searchQuery),c(6),u("ngIf",i.getUnreadCount()>0),c(),u("ngIf",i.showNotifications),c(8),f(i.currentUserName),c(2),u("ngIf",i.showProfile))},dependencies:[ae,A,N,B,V,F],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background:#fff;box-shadow:0 2px 10px #0000000d;position:sticky;top:0;z-index:50}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.toggle-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;color:#6c757d;cursor:pointer;padding:8px;border-radius:8px;transition:all .3s ease}.toggle-btn[_ngcontent-%COMP%]:hover{background:#f5f7fa;color:#00796b}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#f5f7fa;padding:10px 16px;border-radius:10px;min-width:300px}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:none;outline:none;font-size:.9rem;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#adb5bd}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.action-btn[_ngcontent-%COMP%]{position:relative;background:none;border:none;font-size:1.1rem;color:#6c757d;cursor:pointer;padding:10px;border-radius:10px;transition:all .3s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#f5f7fa;color:#00796b}.action-btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;background:#dc3545;color:#fff;font-size:.65rem;padding:2px 6px;border-radius:10px;font-weight:600}.notification-wrapper[_ngcontent-%COMP%], .profile-wrapper[_ngcontent-%COMP%]{position:relative}.dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background:#fff;border-radius:12px;box-shadow:0 10px 40px #00000026;min-width:320px;margin-top:8px;z-index:100;overflow:hidden}.dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0}.dropdown-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#2c3e50}.dropdown-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00796b;font-size:.85rem;text-decoration:none}.dropdown-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.dropdown-body[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.notification-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:16px 20px;border-bottom:1px solid #f5f7fa;cursor:pointer;transition:background .3s ease}.notification-item[_ngcontent-%COMP%]:hover{background:#f5f7fa}.notification-item.unread[_ngcontent-%COMP%]{background:#00796b0d}.notification-item[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:#00796b1a;display:flex;align-items:center;justify-content:center;color:#00796b}.notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{flex:1}.notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#2c3e50;margin-bottom:4px}.notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d}.notification-empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:#6c757d}.notification-empty[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:12px;opacity:.5}.notification-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.notification-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:.85rem;font-weight:600;color:#2c3e50;margin-bottom:4px}.dropdown-footer[_ngcontent-%COMP%]{padding:12px 20px;text-align:center;border-top:1px solid #e0e0e0}.dropdown-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00796b;font-size:.9rem;text-decoration:none;font-weight:500}.dropdown-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.profile-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:none;border:none;cursor:pointer;padding:8px 12px;border-radius:10px;transition:all .3s ease}.profile-btn[_ngcontent-%COMP%]:hover{background:#f5f7fa}.profile-btn[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#00796b,#004d40);display:flex;align-items:center;justify-content:center;color:#fff;font-size:1rem}.profile-btn[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#2c3e50}.profile-btn[_ngcontent-%COMP%]   .fa-chevron-down[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d}.profile-dropdown[_ngcontent-%COMP%]{min-width:200px}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;color:#6c757d;text-decoration:none;transition:all .3s ease}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:16px;text-align:center}.dropdown-item[_ngcontent-%COMP%]:hover{background:#f5f7fa;color:#00796b}.dropdown-item.text-danger[_ngcontent-%COMP%]{color:#dc3545}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background:#dc35451a;color:#dc3545}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background:#e0e0e0;margin:8px 0}@media(max-width:768px){.search-box[_ngcontent-%COMP%], .profile-btn[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:none}}"]})};function Z4(n,t){if(n&1){let e=O();o(0,"div",6),_("click",function(){m(e);let r=d();return g(r.closeMobileMenu())}),a()}}var Kp=class n{sidebarCollapsed=!1;mobileMenuOpen=!1;isMobile=!1;constructor(){this.checkScreenSize()}onResize(){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=992,this.isMobile||(this.mobileMenuOpen=!1)}toggleSidebar(){this.isMobile?this.mobileMenuOpen=!this.mobileMenuOpen:this.sidebarCollapsed=!this.sidebarCollapsed}closeMobileMenu(){this.isMobile&&(this.mobileMenuOpen=!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-layout"]],hostBindings:function(e,i){e&1&&_("resize",function(){return i.onResize()},Jg)},standalone:!1,decls:7,vars:7,consts:[[1,"layout"],["class","mobile-overlay",3,"click",4,"ngIf"],[3,"collapsed","mobileOpen"],[1,"main-wrapper"],[3,"toggleSidebar"],[1,"main-content"],[1,"mobile-overlay",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0),M(1,Z4,1,0,"div",1),v(2,"app-sidebar",2),o(3,"div",3)(4,"app-header",4),_("toggleSidebar",function(){return i.toggleSidebar()}),a(),o(5,"main",5),v(6,"router-outlet"),a()()()),e&2&&(L("sidebar-collapsed",i.sidebarCollapsed)("mobile-menu-open",i.mobileMenuOpen),c(),u("ngIf",i.mobileMenuOpen),c(),u("collapsed",i.sidebarCollapsed)("mobileOpen",i.mobileMenuOpen))},dependencies:[N,uo,$p,Jp],styles:[".layout[_ngcontent-%COMP%]{display:flex;min-height:100vh}.main-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;margin-left:280px;transition:margin-left .3s ease}.layout.sidebar-collapsed[_ngcontent-%COMP%]   .main-wrapper[_ngcontent-%COMP%]{margin-left:70px}.main-content[_ngcontent-%COMP%]{flex:1;padding:24px;background:#f5f7fa;overflow-y:auto}.mobile-overlay[_ngcontent-%COMP%]{display:none;position:fixed;inset:0;background:#00000080;z-index:99}@media(max-width:992px){.main-wrapper[_ngcontent-%COMP%], .layout.sidebar-collapsed[_ngcontent-%COMP%]   .main-wrapper[_ngcontent-%COMP%]{margin-left:0}.mobile-overlay[_ngcontent-%COMP%]{display:block}.layout[_ngcontent-%COMP%]:not(.mobile-menu-open)   .mobile-overlay[_ngcontent-%COMP%]{display:none}}"]})};var Yp=class n{constructor(t){this.http=t}baseUrl="/api/dashboard";getStats(){return this.http.get(`${this.baseUrl}/stats`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ve=class n{constructor(t){this.http=t}baseUrl="/api/inventory/items";getAll(){return this.http.get(this.baseUrl)}getActive(){return this.http.get(`${this.baseUrl}/active`)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}getByGroup(t){return this.http.get(`${this.baseUrl}/group/${t}`)}validateName(t,e,i){let r=`${this.baseUrl}/validate-name?name=${encodeURIComponent(t)}&groupId=${e}`;return i&&(r+=`&excludeId=${i}`),this.http.get(r)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}getLowStock(){return this.http.get(`${this.baseUrl}/low-stock`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function ek(n,t){if(n&1&&(o(0,"div",25)(1,"div",26),v(2,"i"),a(),o(3,"div",27)(4,"h3"),l(5),a(),o(6,"p"),l(7),a()()()),n&2){let e=t.$implicit;c(),u("ngClass",e.type),c(),bt(e.icon),c(3),f(e.value),c(2),f(e.label)}}function tk(n,t){n&1&&(o(0,"tr")(1,"td",28),v(2,"i",29),o(3,"p"),l(4,"No low stock alerts"),a()()())}function nk(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",30),l(11),a()()()),n&2){let e=t.$implicit,i=d();c(2),f(e.code),c(2),f(e.name),c(2),f(e.currentStock),c(2),f(e.reorderLevel),c(2),u("ngClass",i.getStatusClass(e.currentStock<=0?"Critical":"Low")),c(),E(" ",e.currentStock<=0?"Out of Stock":"Low Stock"," ")}}var Zp=class n{constructor(t,e){this.dashboardService=t;this.itemService=e}stats=[];dashboardStats=null;lowStockItems=[];loading=!0;ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.dashboardService.getStats().subscribe({next:t=>{this.dashboardStats=t,this.stats=[{icon:"fas fa-users",label:"Total Customers",value:t.totalCustomers?.toString()||"0",change:"",type:"primary"},{icon:"fas fa-file-contract",label:"Total Contracts",value:t.totalContracts?.toString()||"0",change:"",type:"success"},{icon:"fas fa-box",label:"Total Items",value:t.totalItems?.toString()||"0",change:"",type:"info"},{icon:"fas fa-dollar-sign",label:"Inventory Value",value:"$"+(t.totalInventoryValue?.toLocaleString()||"0"),change:"",type:"warning"}],this.loading=!1},error:t=>{console.error("Error loading dashboard stats",t),this.stats=[{icon:"fas fa-users",label:"Total Customers",value:"0",change:"",type:"primary"},{icon:"fas fa-file-contract",label:"Total Contracts",value:"0",change:"",type:"success"},{icon:"fas fa-box",label:"Total Items",value:"0",change:"",type:"info"},{icon:"fas fa-dollar-sign",label:"Inventory Value",value:"$0",change:"",type:"warning"}],this.loading=!1}}),this.itemService.getLowStock().subscribe({next:t=>{this.lowStockItems=t},error:t=>console.error("Error loading low stock items",t)})}getPriorityClass(t){return{Low:"badge-success",Medium:"badge-warning",High:"badge-danger",Critical:"badge-danger"}[t]||"badge-info"}getStatusClass(t){return t==="Critical"?"badge-danger":"badge-warning"}static \u0275fac=function(e){return new(e||n)(w(Yp),w(Ve))};static \u0275cmp=k({type:n,selectors:[["app-dashboard"]],standalone:!1,decls:80,vars:17,consts:[[1,"dashboard"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"stats-grid"],["class","stat-card",4,"ngFor","ngForOf"],[1,"dashboard-grid"],[1,"card","chart-card"],[1,"card-header"],[1,"chart-container"],[1,"chart-placeholder"],[1,"bar-chart"],[1,"bar"],[1,"bar-label"],[1,"side-stats"],[1,"card","earnings-card"],[1,"amount"],[1,"label"],[1,"card","customers-card"],[1,"card"],["routerLink","/app/reports/reorder-level",1,"btn","btn-primary","btn-sm"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"stat-card"],[1,"icon",3,"ngClass"],[1,"info"],["colspan","5",1,"empty-state"],[1,"fas","fa-check-circle",2,"color","#4caf50"],[1,"badge",3,"ngClass"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Dashboard"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Dashboard"),a()()()(),o(12,"div",4),M(13,ek,8,5,"div",5),a(),o(14,"div",6)(15,"div",7)(16,"div",8)(17,"h3"),l(18,"Revenue Overview"),a()(),o(19,"div",9)(20,"div",10)(21,"div",11)(22,"div",12)(23,"span",13),l(24,"Jan"),a()(),o(25,"div",12)(26,"span",13),l(27,"Feb"),a()(),o(28,"div",12)(29,"span",13),l(30,"Mar"),a()(),o(31,"div",12)(32,"span",13),l(33,"Apr"),a()(),o(34,"div",12)(35,"span",13),l(36,"May"),a()(),o(37,"div",12)(38,"span",13),l(39,"Jun"),a()()()()()(),o(40,"div",14)(41,"div",15)(42,"h4"),l(43,"Inventory Summary"),a(),o(44,"div",16)(45,"h3"),l(46),a(),o(47,"span",17),l(48,"Total Items"),a()()(),o(49,"div",18)(50,"h4"),l(51,"Active Contracts"),a(),o(52,"div",16)(53,"h3"),l(54),a(),o(55,"span",17),l(56,"Contracts"),a()()()()(),o(57,"div",19)(58,"div",8)(59,"h3"),l(60,"Low Stock Alerts"),a(),o(61,"a",20),l(62,"View All"),a()(),o(63,"div",21)(64,"table",22)(65,"thead")(66,"tr")(67,"th"),l(68,"Item Code"),a(),o(69,"th"),l(70,"Item Name"),a(),o(71,"th"),l(72,"Current Stock"),a(),o(73,"th"),l(74,"Reorder Level"),a(),o(75,"th"),l(76,"Status"),a()()(),o(77,"tbody"),M(78,tk,5,0,"tr",23)(79,nk,12,6,"tr",24),a()()()()()),e&2&&(c(13),u("ngForOf",i.stats),c(9),de("height",60,"%"),c(3),de("height",75,"%"),c(3),de("height",45,"%"),c(3),de("height",80,"%"),c(3),de("height",65,"%"),c(3),de("height",90,"%"),c(9),f((i.dashboardStats==null?null:i.dashboardStats.totalItems)||0),c(8),f((i.dashboardStats==null?null:i.dashboardStats.totalContracts)||0),c(24),u("ngIf",i.lowStockItems.length===0),c(),u("ngForOf",i.lowStockItems))},dependencies:[ae,A,N,Z],styles:[".dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:4px}.header-stats[_ngcontent-%COMP%]{display:flex;gap:24px}.header-stats[_ngcontent-%COMP%]   .mini-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.header-stats[_ngcontent-%COMP%]   .mini-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;text-transform:uppercase}.header-stats[_ngcontent-%COMP%]   .mini-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#2c3e50}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{position:relative}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;font-size:.85rem;font-weight:500;color:#6c757d}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .change.positive[_ngcontent-%COMP%]{color:#28a745}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:20px;margin-bottom:24px}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.chart-card[_ngcontent-%COMP%]   .month-select[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #e0e0e0;border-radius:8px;background:#fff;font-size:.875rem;cursor:pointer}.chart-container[_ngcontent-%COMP%]{height:250px;display:flex;align-items:flex-end}.bar-chart[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-around;width:100%;height:100%;padding-top:30px}.bar-chart[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:40px;background:linear-gradient(180deg,#00796b,#26a69a);border-radius:6px 6px 0 0;position:relative;display:flex;flex-direction:column;align-items:center;transition:all .3s ease;min-height:20px}.bar-chart[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:hover{transform:scaleY(1.05)}.bar-chart[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{position:absolute;bottom:-25px;font-size:.75rem;color:#6c757d}.bar-chart[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .bar-value[_ngcontent-%COMP%]{position:absolute;top:-25px;font-size:.75rem;font-weight:500;color:#2c3e50}.chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;margin-top:40px}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.875rem;color:#6c757d}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.5rem}.side-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.earnings-card[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00796b,#004d40);color:#fff;border-radius:12px;padding:20px}.earnings-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;margin-bottom:16px;opacity:.9}.earnings-card[_ngcontent-%COMP%]   .mini-chart[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .mini-chart[_ngcontent-%COMP%]{height:60px;margin-bottom:16px}.earnings-card[_ngcontent-%COMP%]   .sparkline[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .sparkline[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:4px;height:100%}.earnings-card[_ngcontent-%COMP%]   .sparkline[_ngcontent-%COMP%]   .spark[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .sparkline[_ngcontent-%COMP%]   .spark[_ngcontent-%COMP%]{width:8px;background:#ffffff80;border-radius:4px}.earnings-card[_ngcontent-%COMP%]   .line-chart[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .line-chart[_ngcontent-%COMP%]{height:100%}.earnings-card[_ngcontent-%COMP%]   .line-chart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .line-chart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.earnings-card[_ngcontent-%COMP%]   .line-chart[_ngcontent-%COMP%]   polyline[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .line-chart[_ngcontent-%COMP%]   polyline[_ngcontent-%COMP%]{stroke:#fffc}.earnings-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.earnings-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{font-size:.8rem;opacity:.9}.earnings-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .change.positive[_ngcontent-%COMP%], .customers-card[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .change.positive[_ngcontent-%COMP%]{color:#a5d6a7}.customers-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#26a69a,#00796b)}.sales-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;margin-bottom:8px}.sales-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:#2c3e50}.donut-placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.donut-placeholder[_ngcontent-%COMP%]   .donut[_ngcontent-%COMP%]{width:150px;height:150px;position:relative}.donut-placeholder[_ngcontent-%COMP%]   .donut[_ngcontent-%COMP%]   .donut-ring[_ngcontent-%COMP%]{width:100%;height:100%;border:20px solid #e0e0e0;border-top-color:#00796b;border-right-color:#26a69a;border-radius:50%}.donut-placeholder[_ngcontent-%COMP%]   .donut[_ngcontent-%COMP%]   .donut-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 10px #0000001a}.donut-placeholder[_ngcontent-%COMP%]   .donut[_ngcontent-%COMP%]   .donut-center[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#00796b}.wide-card[_ngcontent-%COMP%]{grid-column:span 1}.user-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-cell[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#00796b,#004d40);display:flex;align-items:center;justify-content:center;color:#fff;font-size:.8rem}@media(max-width:1200px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media(max-width:768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-stats[_ngcontent-%COMP%]{display:none}}"]})};var ke=class n{constructor(t){this.http=t}baseUrl="/api/settings";getGeneralSettings(){return this.http.get(`${this.baseUrl}/general`)}saveGeneralSettings(t){return this.http.post(`${this.baseUrl}/general`,t)}getFinanceSettings(){return this.http.get(`${this.baseUrl}/finance`)}saveFinanceSettings(t){return this.http.post(`${this.baseUrl}/finance`,t)}getPrefixSettings(){return this.http.get(`${this.baseUrl}/prefixes`)}savePrefixSettings(t){return this.http.post(`${this.baseUrl}/prefixes`,t)}generatePrefixId(t){return this.http.get(`${this.baseUrl}/prefixes/generate/${t}`,{responseType:"text"})}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function ik(n,t){if(n&1&&(o(0,"option",18),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function rk(n,t){if(n&1&&(o(0,"option",18),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function ok(n,t){if(n&1&&(o(0,"option",18),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function ak(n,t){if(n&1&&(o(0,"option",18),l(1),a()),n&2){let e=t.$implicit;u("value",e.value),c(),f(e.label)}}var Xp=class n{constructor(t,e){this.settingsService=t;this.notificationService=e}settings={companyName:"",companyAddress:"",companyPhone:"",companyEmail:"",companyWebsite:"",currency:"USD",dateFormat:"DD/MM/YYYY",timezone:"UTC",logoPath:"",valuationMethod:"FIFO"};saving=!1;loading=!1;timezones=["UTC","America/New_York","Europe/London","Asia/Tokyo","Australia/Sydney"];dateFormats=["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"];currencies=["USD","EUR","GBP","JPY","AUD","CAD"];valuationMethods=[{value:"FIFO",label:"FIFO (First In, First Out)"},{value:"LIFO",label:"LIFO (Last In, First Out)"},{value:"WEIGHTED_AVERAGE",label:"Weighted Average Cost"}];ngOnInit(){this.loadSettings()}loadSettings(){this.loading=!0,this.settingsService.getGeneralSettings().subscribe({next:t=>{t&&(this.settings=t),this.loading=!1},error:t=>{console.error("Error loading settings",t),this.loading=!1}})}saveSettings(){this.saving=!0,this.settingsService.saveGeneralSettings(this.settings).subscribe({next:t=>{this.settings=t,this.saving=!1,this.notificationService.success("Settings saved successfully")},error:t=>{console.error("Error saving settings",t),this.saving=!1,this.notificationService.error("Error saving settings")}})}static \u0275fac=function(e){return new(e||n)(w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-general-settings"]],standalone:!1,decls:80,vars:14,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"card"],[1,"card-title"],[1,"grid-2"],[1,"form-group"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"grid-3"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"form-text"],[1,"form-actions"],[1,"btn","btn-secondary"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-save"],[3,"value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"General Settings"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Settings"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"General"),a()()()(),o(16,"div",4)(17,"h3",5),l(18,"Company Information"),a(),o(19,"div",6)(20,"div",7)(21,"label"),l(22,"Company Name"),a(),o(23,"input",8),x("ngModelChange",function(s){return b(i.settings.companyName,s)||(i.settings.companyName=s),s}),a()(),o(24,"div",7)(25,"label"),l(26,"Company Email"),a(),o(27,"input",9),x("ngModelChange",function(s){return b(i.settings.companyEmail,s)||(i.settings.companyEmail=s),s}),a()(),o(28,"div",7)(29,"label"),l(30,"Phone Number"),a(),o(31,"input",8),x("ngModelChange",function(s){return b(i.settings.companyPhone,s)||(i.settings.companyPhone=s),s}),a()(),o(32,"div",7)(33,"label"),l(34,"Address"),a(),o(35,"input",8),x("ngModelChange",function(s){return b(i.settings.companyAddress,s)||(i.settings.companyAddress=s),s}),a()()()(),o(36,"div",4)(37,"h3",5),l(38,"Regional Settings"),a(),o(39,"div",10)(40,"div",7)(41,"label"),l(42,"Timezone"),a(),o(43,"select",11),x("ngModelChange",function(s){return b(i.settings.timezone,s)||(i.settings.timezone=s),s}),M(44,ik,2,2,"option",12),a()(),o(45,"div",7)(46,"label"),l(47,"Date Format"),a(),o(48,"select",11),x("ngModelChange",function(s){return b(i.settings.dateFormat,s)||(i.settings.dateFormat=s),s}),M(49,rk,2,2,"option",12),a()(),o(50,"div",7)(51,"label"),l(52,"Currency"),a(),o(53,"select",11),x("ngModelChange",function(s){return b(i.settings.currency,s)||(i.settings.currency=s),s}),M(54,ok,2,2,"option",12),a()()()(),o(55,"div",4)(56,"h3",5),l(57,"Inventory Valuation"),a(),o(58,"div",6)(59,"div",7)(60,"label"),l(61,"Valuation Method"),a(),o(62,"select",11),x("ngModelChange",function(s){return b(i.settings.valuationMethod,s)||(i.settings.valuationMethod=s),s}),M(63,ak,2,2,"option",12),a(),o(64,"small",13)(65,"strong"),l(66,"FIFO:"),a(),l(67," Oldest stock is consumed first. "),o(68,"strong"),l(69,"LIFO:"),a(),l(70," Newest stock is consumed first. "),o(71,"strong"),l(72,"Weighted Average:"),a(),l(73," Uses average cost of all layers. "),a()()()(),o(74,"div",14)(75,"button",15),l(76,"Cancel"),a(),o(77,"button",16),_("click",function(){return i.saveSettings()}),v(78,"i",17),l(79),a()()()),e&2&&(c(23),C("ngModel",i.settings.companyName),c(4),C("ngModel",i.settings.companyEmail),c(4),C("ngModel",i.settings.companyPhone),c(4),C("ngModel",i.settings.companyAddress),c(8),C("ngModel",i.settings.timezone),c(),u("ngForOf",i.timezones),c(4),C("ngModel",i.settings.dateFormat),c(),u("ngForOf",i.dateFormats),c(4),C("ngModel",i.settings.currency),c(),u("ngForOf",i.currencies),c(8),C("ngModel",i.settings.valuationMethod),c(),u("ngForOf",i.valuationMethods),c(14),u("disabled",i.saving),c(2),E(" ",i.saving?"Saving...":"Save Changes"," "))},dependencies:[A,z,G,B,H,V,F,Z],styles:[".settings-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.settings-page[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid #e0e0e0}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}"]})};function sk(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"span",14),l(9),a()(),o(10,"td")(11,"div",15)(12,"button",16),v(13,"i",17),a(),o(14,"button",18),v(15,"i",19),a()()()()),n&2){let e=t.$implicit;c(2),f(e.name),c(2),E("",e.rate,"%"),c(2),f(e.type),c(3),f(e.status)}}function lk(n,t){if(n&1){let e=O();o(0,"div",7)(1,"div",8)(2,"h3"),l(3,"Tax Rates"),a(),o(4,"button",9),_("click",function(){m(e);let r=d();return g(r.openModal("tax"))}),v(5,"i",10),l(6," Add Tax Rate "),a()(),o(7,"div",11)(8,"table",12)(9,"thead")(10,"tr")(11,"th"),l(12,"Name"),a(),o(13,"th"),l(14,"Rate (%)"),a(),o(15,"th"),l(16,"Type"),a(),o(17,"th"),l(18,"Status"),a(),o(19,"th"),l(20,"Actions"),a()()(),o(21,"tbody"),M(22,sk,16,4,"tr",13),a()()()()}if(n&2){let e=d();c(22),u("ngForOf",e.taxRates)}}function ck(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"span",20),l(9),a()(),o(10,"td")(11,"div",15)(12,"button",16),v(13,"i",17),a(),o(14,"button",18),v(15,"i",19),a()()()()),n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.symbol),c(2),u("ngClass",e.isDefault?"badge-success":"badge-info"),c(),E(" ",e.isDefault?"Yes":"No"," ")}}function dk(n,t){if(n&1){let e=O();o(0,"div",7)(1,"div",8)(2,"h3"),l(3,"Currencies"),a(),o(4,"button",9),_("click",function(){m(e);let r=d();return g(r.openModal("currency"))}),v(5,"i",10),l(6," Add Currency "),a()(),o(7,"div",11)(8,"table",12)(9,"thead")(10,"tr")(11,"th"),l(12,"Code"),a(),o(13,"th"),l(14,"Name"),a(),o(15,"th"),l(16,"Symbol"),a(),o(17,"th"),l(18,"Default"),a(),o(19,"th"),l(20,"Actions"),a()()(),o(21,"tbody"),M(22,ck,16,5,"tr",13),a()()()()}if(n&2){let e=d();c(22),u("ngForOf",e.currencies)}}function pk(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td")(6,"span",14),l(7),a()(),o(8,"td")(9,"div",15)(10,"button",16),v(11,"i",17),a(),o(12,"button",18),v(13,"i",19),a()()()()),n&2){let e=t.$implicit;c(2),f(e.name),c(2),f(e.description),c(3),f(e.status)}}function uk(n,t){if(n&1){let e=O();o(0,"div",7)(1,"div",8)(2,"h3"),l(3,"Payment Modes"),a(),o(4,"button",9),_("click",function(){m(e);let r=d();return g(r.openModal("payment"))}),v(5,"i",10),l(6," Add Payment Mode "),a()(),o(7,"div",11)(8,"table",12)(9,"thead")(10,"tr")(11,"th"),l(12,"Name"),a(),o(13,"th"),l(14,"Description"),a(),o(15,"th"),l(16,"Status"),a(),o(17,"th"),l(18,"Actions"),a()()(),o(19,"tbody"),M(20,pk,14,3,"tr",13),a()()()()}if(n&2){let e=d();c(20),u("ngForOf",e.paymentModes)}}function mk(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td")(6,"div",15)(7,"button",16),v(8,"i",17),a(),o(9,"button",18),v(10,"i",19),a()()()()),n&2){let e=t.$implicit;c(2),f(e.name),c(2),f(e.description)}}function gk(n,t){if(n&1){let e=O();o(0,"div",7)(1,"div",8)(2,"h3"),l(3,"Expense Categories"),a(),o(4,"button",9),_("click",function(){m(e);let r=d();return g(r.openModal("expense"))}),v(5,"i",10),l(6," Add Category "),a()(),o(7,"div",11)(8,"table",12)(9,"thead")(10,"tr")(11,"th"),l(12,"Name"),a(),o(13,"th"),l(14,"Description"),a(),o(15,"th"),l(16,"Actions"),a()()(),o(17,"tbody"),M(18,mk,11,2,"tr",13),a()()()()}if(n&2){let e=d();c(18),u("ngForOf",e.expenseCategories)}}var eu=class n{activeTab="tax";taxRates=[{id:1,name:"Standard VAT",rate:20,type:"VAT",status:"Active"},{id:2,name:"Reduced VAT",rate:5,type:"VAT",status:"Active"},{id:3,name:"Zero Rate",rate:0,type:"VAT",status:"Active"},{id:4,name:"Service Tax",rate:18,type:"Service",status:"Active"}];currencies=[{id:1,code:"USD",name:"US Dollar",symbol:"$",isDefault:!0},{id:2,code:"EUR",name:"Euro",symbol:"\u20AC",isDefault:!1},{id:3,code:"GBP",name:"British Pound",symbol:"\xA3",isDefault:!1},{id:4,code:"INR",name:"Indian Rupee",symbol:"\u20B9",isDefault:!1}];paymentModes=[{id:1,name:"Cash",description:"Cash payment",status:"Active"},{id:2,name:"Bank Transfer",description:"Direct bank transfer",status:"Active"},{id:3,name:"Credit Card",description:"Credit/Debit card payment",status:"Active"},{id:4,name:"Check",description:"Payment by check",status:"Active"}];expenseCategories=[{id:1,name:"Office Supplies",description:"Stationery and office materials"},{id:2,name:"Travel",description:"Business travel expenses"},{id:3,name:"Utilities",description:"Electricity, water, internet"},{id:4,name:"Marketing",description:"Advertising and promotions"}];showModal=!1;modalType="";setActiveTab(t){this.activeTab=t}openModal(t){this.modalType=t,this.showModal=!0}closeModal(){this.showModal=!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-finance-settings"]],standalone:!1,decls:29,vars:12,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"tabs"],[1,"tab",3,"click"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header-row"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],[1,"badge","badge-success"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger"],[1,"fas","fa-trash"],[1,"badge",3,"ngClass"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Finance Settings"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Settings"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Finance"),a()()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.setActiveTab("tax")}),l(18,"Tax Rates"),a(),o(19,"button",5),_("click",function(){return i.setActiveTab("currency")}),l(20,"Currencies"),a(),o(21,"button",5),_("click",function(){return i.setActiveTab("payment")}),l(22,"Payment Modes"),a(),o(23,"button",5),_("click",function(){return i.setActiveTab("expense")}),l(24,"Expense Categories"),a()(),M(25,lk,23,1,"div",6)(26,dk,23,1,"div",6)(27,uk,21,1,"div",6)(28,gk,19,1,"div",6),a()),e&2&&(c(17),L("active",i.activeTab==="tax"),c(2),L("active",i.activeTab==="currency"),c(2),L("active",i.activeTab==="payment"),c(2),L("active",i.activeTab==="expense"),c(2),u("ngIf",i.activeTab==="tax"),c(),u("ngIf",i.activeTab==="currency"),c(),u("ngIf",i.activeTab==="payment"),c(),u("ngIf",i.activeTab==="expense"))},dependencies:[ae,A,N,Z],styles:[".settings-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.card-header-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}"]})};var tu=class n{constructor(t){this.http=t}apiUrl="/api/settings/customer";getGroups(){return this.http.get(`${this.apiUrl}/groups`)}getGroupById(t){return this.http.get(`${this.apiUrl}/groups/${t}`)}createGroup(t){return this.http.post(`${this.apiUrl}/groups`,t)}updateGroup(t,e){return this.http.put(`${this.apiUrl}/groups/${t}`,e)}deleteGroup(t){return this.http.delete(`${this.apiUrl}/groups/${t}`)}getStatuses(){return this.http.get(`${this.apiUrl}/statuses`)}getStatusById(t){return this.http.get(`${this.apiUrl}/statuses/${t}`)}createStatus(t){return this.http.post(`${this.apiUrl}/statuses`,t)}updateStatus(t,e){return this.http.put(`${this.apiUrl}/statuses/${t}`,e)}deleteStatus(t){return this.http.delete(`${this.apiUrl}/statuses/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function hk(n,t){n&1&&(o(0,"tr")(1,"td",14),l(2,'No customer groups found. Click "Add Group" to create one.'),a()())}function _k(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"div",15)(9,"button",16),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal("group",r))}),v(10,"i",17),a(),o(11,"button",18),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteGroup(r))}),v(12,"i",19),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.name),c(2),f(e.description),c(2),E("",e.discount,"%")}}function vk(n,t){n&1&&(o(0,"tr")(1,"td",20),l(2,'No customer statuses found. Click "Add Status" to create one.'),a()())}function yk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),v(4,"span",21),a(),o(5,"td")(6,"div",15)(7,"button",16),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal("status",r))}),v(8,"i",17),a(),o(9,"button",18),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteStatus(r))}),v(10,"i",19),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.name),c(2),de("background",e.color)}}function Ck(n,t){if(n&1){let e=O();o(0,"form",28),_("ngSubmit",function(){m(e);let r=d(2);return g(r.saveGroup())}),o(1,"div",29)(2,"label"),l(3,"Name"),a(),o(4,"input",30),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingGroup.name,r)||(s.editingGroup.name=r),g(r)}),a()(),o(5,"div",29)(6,"label"),l(7,"Description"),a(),o(8,"input",31),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingGroup.description,r)||(s.editingGroup.description=r),g(r)}),a()(),o(9,"div",29)(10,"label"),l(11,"Discount (%)"),a(),o(12,"input",32),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingGroup.discount,r)||(s.editingGroup.discount=r),g(r)}),a()(),o(13,"div",33)(14,"button",34),_("click",function(){m(e);let r=d(2);return g(r.closeModal())}),l(15,"Cancel"),a(),o(16,"button",35),l(17),a()()()}if(n&2){let e=d(2);c(4),C("ngModel",e.editingGroup.name),c(4),C("ngModel",e.editingGroup.description),c(4),C("ngModel",e.editingGroup.discount),c(5),f(e.isEditMode?"Update":"Save")}}function xk(n,t){if(n&1){let e=O();o(0,"form",28),_("ngSubmit",function(){m(e);let r=d(2);return g(r.saveStatus())}),o(1,"div",29)(2,"label"),l(3,"Name"),a(),o(4,"input",36),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingStatus.name,r)||(s.editingStatus.name=r),g(r)}),a()(),o(5,"div",29)(6,"label"),l(7,"Color"),a(),o(8,"input",37),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingStatus.color,r)||(s.editingStatus.color=r),g(r)}),a()(),o(9,"div",33)(10,"button",34),_("click",function(){m(e);let r=d(2);return g(r.closeModal())}),l(11,"Cancel"),a(),o(12,"button",35),l(13),a()()()}if(n&2){let e=d(2);c(4),C("ngModel",e.editingStatus.name),c(4),C("ngModel",e.editingStatus.color),c(5),f(e.isEditMode?"Update":"Save")}}function bk(n,t){if(n&1){let e=O();o(0,"div",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",23),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",24)(3,"h3"),l(4),a(),o(5,"button",25),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",26),M(8,Ck,18,4,"form",27)(9,xk,14,3,"form",27),a()()()}if(n&2){let e=d();c(4),ne("",e.isEditMode?"Edit":"Add"," ",e.modalType==="group"?"Customer Group":"Customer Status"),c(4),u("ngIf",e.modalType==="group"),c(),u("ngIf",e.modalType==="status")}}var nu=class n{constructor(t){this.customerSettingsService=t}customerGroups=[];customerStatuses=[];showModal=!1;modalType="";isEditMode=!1;editingGroup={name:"",description:"",discount:0};editingStatus={name:"",color:"#28a745"};ngOnInit(){this.loadGroups(),this.loadStatuses()}loadGroups(){this.customerSettingsService.getGroups().subscribe({next:t=>this.customerGroups=t,error:t=>console.error("Error loading groups:",t)})}loadStatuses(){this.customerSettingsService.getStatuses().subscribe({next:t=>this.customerStatuses=t,error:t=>console.error("Error loading statuses:",t)})}openModal(t){this.modalType=t,this.isEditMode=!1,t==="group"?this.editingGroup={name:"",description:"",discount:0}:this.editingStatus={name:"",color:"#28a745"},this.showModal=!0}openEditModal(t,e){this.modalType=t,this.isEditMode=!0,t==="group"?this.editingGroup=T({},e):this.editingStatus=T({},e),this.showModal=!0}closeModal(){this.showModal=!1}saveGroup(){this.isEditMode&&this.editingGroup.id?this.customerSettingsService.updateGroup(this.editingGroup.id,this.editingGroup).subscribe({next:()=>{this.loadGroups(),this.closeModal()},error:t=>console.error("Error updating group:",t)}):this.customerSettingsService.createGroup(this.editingGroup).subscribe({next:()=>{this.loadGroups(),this.closeModal()},error:t=>console.error("Error creating group:",t)})}saveStatus(){this.isEditMode&&this.editingStatus.id?this.customerSettingsService.updateStatus(this.editingStatus.id,this.editingStatus).subscribe({next:()=>{this.loadStatuses(),this.closeModal()},error:t=>console.error("Error updating status:",t)}):this.customerSettingsService.createStatus(this.editingStatus).subscribe({next:()=>{this.loadStatuses(),this.closeModal()},error:t=>console.error("Error creating status:",t)})}deleteGroup(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.customerSettingsService.deleteGroup(t.id).subscribe({next:()=>this.loadGroups(),error:e=>console.error("Error deleting group:",e)})}deleteStatus(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.customerSettingsService.deleteStatus(t.id).subscribe({next:()=>this.loadStatuses(),error:e=>console.error("Error deleting status:",e)})}static \u0275fac=function(e){return new(e||n)(w(tu))};static \u0275cmp=k({type:n,selectors:[["app-customer-settings"]],standalone:!1,decls:60,vars:5,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"grid-2"],[1,"card"],[1,"card-header-row"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","4",1,"text-center"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],["colspan","3",1,"text-center"],[1,"color-badge"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","name","required","","placeholder","Enter group name",3,"ngModelChange","ngModel"],["type","text","name","description","placeholder","Enter description",3,"ngModelChange","ngModel"],["type","number","name","discount","min","0","max","100","placeholder","Enter discount percentage",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],["type","text","name","name","required","","placeholder","Enter status name",3,"ngModelChange","ngModel"],["type","color","name","color",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Customer Settings"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Settings"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Customer"),a()()()(),o(16,"div",4)(17,"div",5)(18,"div",6)(19,"h3"),l(20,"Customer Groups"),a(),o(21,"button",7),_("click",function(){return i.openModal("group")}),v(22,"i",8),l(23," Add Group "),a()(),o(24,"div",9)(25,"table",10)(26,"thead")(27,"tr")(28,"th"),l(29,"Name"),a(),o(30,"th"),l(31,"Description"),a(),o(32,"th"),l(33,"Discount"),a(),o(34,"th"),l(35,"Actions"),a()()(),o(36,"tbody"),M(37,hk,3,0,"tr",11)(38,_k,13,3,"tr",12),a()()()(),o(39,"div",5)(40,"div",6)(41,"h3"),l(42,"Customer Statuses"),a(),o(43,"button",7),_("click",function(){return i.openModal("status")}),v(44,"i",8),l(45," Add Status "),a()(),o(46,"div",9)(47,"table",10)(48,"thead")(49,"tr")(50,"th"),l(51,"Name"),a(),o(52,"th"),l(53,"Color"),a(),o(54,"th"),l(55,"Actions"),a()()(),o(56,"tbody"),M(57,vk,3,0,"tr",11)(58,yk,11,3,"tr",12),a()()()()()(),M(59,bk,10,4,"div",13)),e&2&&(c(37),u("ngIf",i.customerGroups.length===0),c(),u("ngForOf",i.customerGroups),c(19),u("ngIf",i.customerStatuses.length===0),c(),u("ngForOf",i.customerStatuses),c(),u("ngIf",i.showModal))},dependencies:[A,N,ot,B,pe,V,rt,ve,Se,rn,F,tt,Z],styles:[".settings-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.card-header-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.color-badge[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;border-radius:4px}"]})};var iu=class n{constructor(t){this.http=t}apiUrl="/api/settings/contract";getTypes(){return this.http.get(`${this.apiUrl}/types`)}createType(t){return this.http.post(`${this.apiUrl}/types`,t)}updateType(t,e){return this.http.put(`${this.apiUrl}/types/${t}`,e)}deleteType(t){return this.http.delete(`${this.apiUrl}/types/${t}`)}getStatuses(){return this.http.get(`${this.apiUrl}/statuses`)}createStatus(t){return this.http.post(`${this.apiUrl}/statuses`,t)}updateStatus(t,e){return this.http.put(`${this.apiUrl}/statuses/${t}`,e)}deleteStatus(t){return this.http.delete(`${this.apiUrl}/statuses/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function Sk(n,t){n&1&&(o(0,"tr")(1,"td",14),l(2,'No contract types found. Click "Add Type" to create one.'),a()())}function Pk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td")(6,"span",15),l(7),a()(),o(8,"td")(9,"div",16)(10,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal("type",r))}),v(11,"i",18),a(),o(12,"button",19),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteType(r))}),v(13,"i",20),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.name),c(2),f(e.duration),c(2),u("ngClass",e.renewable?"badge-success":"badge-info"),c(),E(" ",e.renewable?"Yes":"No"," ")}}function Ek(n,t){n&1&&(o(0,"tr")(1,"td",21),l(2,'No contract statuses found. Click "Add Status" to create one.'),a()())}function wk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),v(4,"span",22),a(),o(5,"td")(6,"div",16)(7,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal("status",r))}),v(8,"i",18),a(),o(9,"button",19),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteStatus(r))}),v(10,"i",20),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.name),c(2),de("background",e.color)}}function Ok(n,t){if(n&1){let e=O();o(0,"form",29),_("ngSubmit",function(){m(e);let r=d(2);return g(r.saveType())}),o(1,"div",30)(2,"label"),l(3,"Name"),a(),o(4,"input",31),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingType.name,r)||(s.editingType.name=r),g(r)}),a()(),o(5,"div",30)(6,"label"),l(7,"Duration (Months)"),a(),o(8,"input",32),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingType.duration,r)||(s.editingType.duration=r),g(r)}),a()(),o(9,"div",30)(10,"label",33)(11,"input",34),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingType.renewable,r)||(s.editingType.renewable=r),g(r)}),a(),l(12," Renewable "),a()(),o(13,"div",35)(14,"button",36),_("click",function(){m(e);let r=d(2);return g(r.closeModal())}),l(15,"Cancel"),a(),o(16,"button",37),l(17),a()()()}if(n&2){let e=d(2);c(4),C("ngModel",e.editingType.name),c(4),C("ngModel",e.editingType.duration),c(3),C("ngModel",e.editingType.renewable),c(6),f(e.isEditMode?"Update":"Save")}}function Ik(n,t){if(n&1){let e=O();o(0,"form",29),_("ngSubmit",function(){m(e);let r=d(2);return g(r.saveStatus())}),o(1,"div",30)(2,"label"),l(3,"Name"),a(),o(4,"input",38),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingStatus.name,r)||(s.editingStatus.name=r),g(r)}),a()(),o(5,"div",30)(6,"label"),l(7,"Color"),a(),o(8,"input",39),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editingStatus.color,r)||(s.editingStatus.color=r),g(r)}),a()(),o(9,"div",35)(10,"button",36),_("click",function(){m(e);let r=d(2);return g(r.closeModal())}),l(11,"Cancel"),a(),o(12,"button",37),l(13),a()()()}if(n&2){let e=d(2);c(4),C("ngModel",e.editingStatus.name),c(4),C("ngModel",e.editingStatus.color),c(5),f(e.isEditMode?"Update":"Save")}}function Dk(n,t){if(n&1){let e=O();o(0,"div",23),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",24),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",25)(3,"h3"),l(4),a(),o(5,"button",26),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",27),M(8,Ok,18,4,"form",28)(9,Ik,14,3,"form",28),a()()()}if(n&2){let e=d();c(4),ne("",e.isEditMode?"Edit":"Add"," ",e.modalType==="type"?"Contract Type":"Contract Status"),c(4),u("ngIf",e.modalType==="type"),c(),u("ngIf",e.modalType==="status")}}var ru=class n{constructor(t){this.contractSettingsService=t}contractTypes=[];contractStatuses=[];showModal=!1;modalType="";isEditMode=!1;editingType={name:"",duration:12,renewable:!0};editingStatus={name:"",color:"#28a745"};ngOnInit(){this.loadTypes(),this.loadStatuses()}loadTypes(){this.contractSettingsService.getTypes().subscribe({next:t=>this.contractTypes=t,error:t=>console.error("Error loading types:",t)})}loadStatuses(){this.contractSettingsService.getStatuses().subscribe({next:t=>this.contractStatuses=t,error:t=>console.error("Error loading statuses:",t)})}openModal(t){this.modalType=t,this.isEditMode=!1,t==="type"?this.editingType={name:"",duration:12,renewable:!0}:this.editingStatus={name:"",color:"#28a745"},this.showModal=!0}openEditModal(t,e){this.modalType=t,this.isEditMode=!0,t==="type"?this.editingType=T({},e):this.editingStatus=T({},e),this.showModal=!0}closeModal(){this.showModal=!1}saveType(){this.isEditMode&&this.editingType.id?this.contractSettingsService.updateType(this.editingType.id,this.editingType).subscribe({next:()=>{this.loadTypes(),this.closeModal()},error:t=>console.error("Error updating type:",t)}):this.contractSettingsService.createType(this.editingType).subscribe({next:()=>{this.loadTypes(),this.closeModal()},error:t=>console.error("Error creating type:",t)})}saveStatus(){this.isEditMode&&this.editingStatus.id?this.contractSettingsService.updateStatus(this.editingStatus.id,this.editingStatus).subscribe({next:()=>{this.loadStatuses(),this.closeModal()},error:t=>console.error("Error updating status:",t)}):this.contractSettingsService.createStatus(this.editingStatus).subscribe({next:()=>{this.loadStatuses(),this.closeModal()},error:t=>console.error("Error creating status:",t)})}deleteType(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.contractSettingsService.deleteType(t.id).subscribe({next:()=>this.loadTypes(),error:e=>console.error("Error deleting type:",e)})}deleteStatus(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.contractSettingsService.deleteStatus(t.id).subscribe({next:()=>this.loadStatuses(),error:e=>console.error("Error deleting status:",e)})}static \u0275fac=function(e){return new(e||n)(w(iu))};static \u0275cmp=k({type:n,selectors:[["app-contract-settings"]],standalone:!1,decls:60,vars:5,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"grid-2"],[1,"card"],[1,"card-header-row"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","4",1,"text-center"],[1,"badge",3,"ngClass"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],["colspan","3",1,"text-center"],[1,"color-badge"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","name","required","","placeholder","Enter type name",3,"ngModelChange","ngModel"],["type","number","name","duration","min","1","placeholder","Enter duration in months",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox","name","renewable",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],["type","text","name","name","required","","placeholder","Enter status name",3,"ngModelChange","ngModel"],["type","color","name","color",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Contract Settings"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Settings"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Contract"),a()()()(),o(16,"div",4)(17,"div",5)(18,"div",6)(19,"h3"),l(20,"Contract Types"),a(),o(21,"button",7),_("click",function(){return i.openModal("type")}),v(22,"i",8),l(23," Add Type "),a()(),o(24,"div",9)(25,"table",10)(26,"thead")(27,"tr")(28,"th"),l(29,"Name"),a(),o(30,"th"),l(31,"Duration (Months)"),a(),o(32,"th"),l(33,"Renewable"),a(),o(34,"th"),l(35,"Actions"),a()()(),o(36,"tbody"),M(37,Sk,3,0,"tr",11)(38,Pk,14,4,"tr",12),a()()()(),o(39,"div",5)(40,"div",6)(41,"h3"),l(42,"Contract Statuses"),a(),o(43,"button",7),_("click",function(){return i.openModal("status")}),v(44,"i",8),l(45," Add Status "),a()(),o(46,"div",9)(47,"table",10)(48,"thead")(49,"tr")(50,"th"),l(51,"Name"),a(),o(52,"th"),l(53,"Color"),a(),o(54,"th"),l(55,"Actions"),a()()(),o(56,"tbody"),M(57,Ek,3,0,"tr",11)(58,wk,11,3,"tr",12),a()()()()()(),M(59,Dk,10,4,"div",13)),e&2&&(c(37),u("ngIf",i.contractTypes.length===0),c(),u("ngForOf",i.contractTypes),c(19),u("ngIf",i.contractStatuses.length===0),c(),u("ngForOf",i.contractStatuses),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,ot,B,pe,fe,V,rt,ve,Se,F,tt,Z],styles:[".settings-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.card-header-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.color-badge[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;border-radius:4px}"]})};var ga=class n{constructor(t){this.http=t}apiUrl="/api/roles";getAll(){return this.http.get(this.apiUrl)}getById(t){return this.http.get(`${this.apiUrl}/${t}`)}create(t){return this.http.post(this.apiUrl,t)}update(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function Tk(n,t){n&1&&(o(0,"tr")(1,"td",27),l(2,"No roles found"),a()())}function kk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"div",28)(3,"strong"),l(4),a(),o(5,"span",29),l(6),a()()(),o(7,"td")(8,"div",30)(9,"button",31),_("click",function(){let r=m(e).$implicit,s=d();return g(s.editRole(r))}),v(10,"i",32),a(),o(11,"button",33),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteRole(r))}),v(12,"i",34),a()()()()}if(n&2){let e=t.$implicit;c(4),f(e.name),c(2),E("Total Users: ",e.totalUsers)}}var ou=class n{constructor(t,e,i){this.router=t;this.roleService=e;this.notificationService=i}roles=[];loading=!1;searchQuery="";pageSize=25;currentPage=1;ngOnInit(){this.loadRoles()}loadRoles(){this.loading=!0,this.roleService.getAll().subscribe({next:t=>{this.roles=t,this.loading=!1},error:t=>{console.error("Error loading roles:",t),this.loading=!1}})}get filteredRoles(){let t=this.roles;return this.searchQuery&&(t=t.filter(e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),t}get paginatedRoles(){let t=(this.currentPage-1)*this.pageSize;return this.filteredRoles.slice(t,t+this.pageSize)}get totalPages(){return Math.ceil(this.filteredRoles.length/this.pageSize)||1}get startEntry(){return this.filteredRoles.length>0?(this.currentPage-1)*this.pageSize+1:0}get endEntry(){return Math.min(this.currentPage*this.pageSize,this.filteredRoles.length)}addRole(){this.router.navigate(["/app/settings/roles/add"])}editRole(t){this.router.navigate(["/app/settings/roles/edit",t.id])}deleteRole(t){confirm(`Are you sure you want to delete the role "${t.name}"?`)&&this.roleService.delete(t.id).subscribe({next:()=>{this.notificationService.success("Role deleted successfully"),this.loadRoles()},error:e=>{this.notificationService.error(e.error?.error||"Error deleting role")}})}exportData(){console.log("Export roles data")}refresh(){this.loadRoles()}previousPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}static \u0275fac=function(e){return new(e||n)(w(ue),w(ga),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-roles-settings"]],standalone:!1,decls:47,vars:14,consts:[[1,"settings-page"],[1,"page-header-simple"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-toolbar"],[1,"toolbar-left"],[1,"page-size-select",3,"ngModelChange","ngModel"],[3,"value"],[1,"btn","btn-sm","btn-outline",3,"click"],[1,"btn","btn-sm","btn-icon",3,"click"],[1,"fas","fa-sync-alt"],[1,"toolbar-right"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search...",3,"ngModelChange","ngModel"],[1,"table-container"],[1,"table"],[1,"sortable"],[1,"fas","fa-sort-up"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"table-footer"],[1,"showing-entries"],[1,"pagination"],[1,"btn","btn-sm","btn-outline",3,"click","disabled"],[1,"page-number"],["colspan","2",1,"empty-state"],[1,"role-name-cell"],[1,"total-users"],[1,"action-buttons"],["title","Edit",1,"btn","btn-sm","btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn","btn-sm","btn-icon","btn-danger-icon",3,"click"],[1,"fas","fa-trash"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),_("click",function(){return i.addRole()}),v(3,"i",3),l(4," New Role "),a()(),o(5,"div",4)(6,"div",5)(7,"div",6)(8,"select",7),x("ngModelChange",function(s){return b(i.pageSize,s)||(i.pageSize=s),s}),o(9,"option",8),l(10,"10"),a(),o(11,"option",8),l(12,"25"),a(),o(13,"option",8),l(14,"50"),a(),o(15,"option",8),l(16,"100"),a()(),o(17,"button",9),_("click",function(){return i.exportData()}),l(18,"Export"),a(),o(19,"button",10),_("click",function(){return i.refresh()}),v(20,"i",11),a()(),o(21,"div",12)(22,"div",13),v(23,"i",14),o(24,"input",15),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()()(),o(25,"div",16)(26,"table",17)(27,"thead")(28,"tr")(29,"th",18),l(30,"Role Name "),v(31,"i",19),a(),o(32,"th"),l(33,"Options"),a()()(),o(34,"tbody"),M(35,Tk,3,0,"tr",20)(36,kk,13,2,"tr",21),a()()(),o(37,"div",22)(38,"div",23),l(39),a(),o(40,"div",24)(41,"button",25),_("click",function(){return i.previousPage()}),l(42,"Previous"),a(),o(43,"span",26),l(44),a(),o(45,"button",25),_("click",function(){return i.nextPage()}),l(46,"Next"),a()()()()()),e&2&&(c(8),C("ngModel",i.pageSize),c(),u("value",10),c(2),u("value",25),c(2),u("value",50),c(2),u("value",100),c(9),C("ngModel",i.searchQuery),c(11),u("ngIf",i.paginatedRoles.length===0),c(),u("ngForOf",i.paginatedRoles),c(3),tr(" Showing ",i.startEntry," to ",i.endEntry," of ",i.filteredRoles.length," entries "),c(2),u("disabled",i.currentPage===1),c(3),f(i.currentPage),c(),u("disabled",i.currentPage>=i.totalPages))},dependencies:[A,N,z,G,B,H,V,F],styles:['.settings-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.page-header-simple[_ngcontent-%COMP%]{margin-bottom:20px}.btn-new-role[_ngcontent-%COMP%]{background:var(--primary-color);border:none;padding:10px 20px;font-weight:500}.btn-new-role[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.table-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:12px}.toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center}.page-size-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;background:#fff;font-size:.9rem}.btn-outline[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-color);color:var(--text-primary)}.btn-outline[_ngcontent-%COMP%]:hover{background:var(--bg-color)}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:6px 10px}.btn-icon[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.btn-danger-icon[_ngcontent-%COMP%]{color:var(--danger-color)}.btn-danger-icon[_ngcontent-%COMP%]:hover{color:#c82333}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--text-secondary)}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px 8px 36px;border:1px solid var(--border-color);border-radius:6px;width:200px;font-size:.9rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.role-name-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.role-name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.role-name-cell[_ngcontent-%COMP%]   .total-users[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.sortable[_ngcontent-%COMP%]{cursor:pointer}.sortable[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:6px;color:var(--primary-color)}.table-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:16px;padding-top:16px;border-top:1px solid var(--border-color)}.showing-entries[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.pagination[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;background:var(--primary-color);color:#fff;border-radius:4px;font-weight:500}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:100%;max-width:800px;max-height:90vh;overflow-y:auto}.permissions-section[_ngcontent-%COMP%]{margin-top:20px}.permissions-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.permissions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .permissions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.permissions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-primary)}.permissions-table[_ngcontent-%COMP%]   .feature-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary);width:40%}.permissions-table[_ngcontent-%COMP%]   .capabilities-cell[_ngcontent-%COMP%]{width:60%}.capability-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:.9rem;color:var(--text-primary)}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer;accent-color:var(--primary-color)}.required[_ngcontent-%COMP%]:before{content:"*";color:var(--danger-color);margin-right:4px}@media(max-width:768px){.table-toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.toolbar-left[_ngcontent-%COMP%], .toolbar-right[_ngcontent-%COMP%], .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.table-footer[_ngcontent-%COMP%]{flex-direction:column;gap:12px;text-align:center}}']})};var fa=class n{constructor(t){this.http=t}apiUrl="/api/staff";getAll(){return this.http.get(this.apiUrl)}getById(t){return this.http.get(`${this.apiUrl}/${t}`)}create(t){return this.http.post(this.apiUrl,t)}update(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}toggleActive(t){return this.http.post(`${this.apiUrl}/${t}/toggle-active`,{})}getRoles(){return this.http.get(`${this.apiUrl}/roles`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function Rk(n,t){n&1&&(o(0,"tr")(1,"td",27),l(2,"No staff members found"),a()())}function Ak(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"div",28)(3,"div",29),l(4),a(),o(5,"span"),l(6),a()()(),o(7,"td")(8,"code"),l(9),a()(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td"),l(15),a(),o(16,"td")(17,"label",30)(18,"input",31),_("change",function(){let r=m(e).$implicit,s=d();return g(s.toggleActive(r))}),a(),v(19,"span",32),a()()()}if(n&2){let e=t.$implicit,i=d();c(4),f((e.firstName==null?null:e.firstName.charAt(0))||"?"),c(2),f(i.getFullName(e)),c(3),f(e.username),c(2),f(e.email),c(2),f(e.role),c(2),f(e.lastLogin),c(3),u("checked",e.active)}}var au=class n{constructor(t,e){this.router=t;this.staffService=e}staff=[];loading=!1;searchQuery="";pageSize=25;currentPage=1;ngOnInit(){this.loadStaff()}loadStaff(){this.loading=!0,this.staffService.getAll().subscribe({next:t=>{this.staff=t,this.loading=!1},error:t=>{console.error("Error loading staff:",t),this.loading=!1}})}get filteredStaff(){return this.searchQuery?this.staff.filter(t=>(t.firstName?.toLowerCase()||"").includes(this.searchQuery.toLowerCase())||(t.lastName?.toLowerCase()||"").includes(this.searchQuery.toLowerCase())||(t.email?.toLowerCase()||"").includes(this.searchQuery.toLowerCase())):this.staff}get paginatedStaff(){let t=(this.currentPage-1)*this.pageSize;return this.filteredStaff.slice(t,t+this.pageSize)}get totalPages(){return Math.ceil(this.filteredStaff.length/this.pageSize)||1}get startEntry(){return this.filteredStaff.length>0?(this.currentPage-1)*this.pageSize+1:0}get endEntry(){return Math.min(this.currentPage*this.pageSize,this.filteredStaff.length)}getFullName(t){return`${t.firstName||""} ${t.lastName||""}`.trim()}addStaff(){this.router.navigate(["/app/settings/staff/add"])}toggleActive(t){this.staffService.toggleActive(t.id).subscribe({next:()=>{t.active=!t.active},error:e=>{console.error("Error toggling active status:",e)}})}exportData(){console.log("Export staff data")}refresh(){this.loadStaff()}previousPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}static \u0275fac=function(e){return new(e||n)(w(ue),w(fa))};static \u0275cmp=k({type:n,selectors:[["app-staff-management"]],standalone:!1,decls:55,vars:14,consts:[[1,"settings-page"],[1,"page-header-simple"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-toolbar"],[1,"toolbar-left"],[1,"page-size-select",3,"ngModelChange","ngModel"],[3,"value"],[1,"btn","btn-sm","btn-outline",3,"click"],[1,"btn","btn-sm","btn-icon",3,"click"],[1,"fas","fa-sync-alt"],[1,"toolbar-right"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search...",3,"ngModelChange","ngModel"],[1,"table-container"],[1,"table"],[1,"sortable"],[1,"fas","fa-sort-up"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"table-footer"],[1,"showing-entries"],[1,"pagination"],[1,"btn","btn-sm","btn-outline",3,"click","disabled"],[1,"page-number"],["colspan","6",1,"empty-state"],[1,"staff-cell"],[1,"avatar"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"slider"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),_("click",function(){return i.addStaff()}),v(3,"i",3),l(4," New Staff Member "),a()(),o(5,"div",4)(6,"div",5)(7,"div",6)(8,"select",7),x("ngModelChange",function(s){return b(i.pageSize,s)||(i.pageSize=s),s}),o(9,"option",8),l(10,"10"),a(),o(11,"option",8),l(12,"25"),a(),o(13,"option",8),l(14,"50"),a(),o(15,"option",8),l(16,"100"),a()(),o(17,"button",9),_("click",function(){return i.exportData()}),l(18,"Export"),a(),o(19,"button",10),_("click",function(){return i.refresh()}),v(20,"i",11),a()(),o(21,"div",12)(22,"div",13),v(23,"i",14),o(24,"input",15),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()()(),o(25,"div",16)(26,"table",17)(27,"thead")(28,"tr")(29,"th",18),l(30,"Full Name "),v(31,"i",19),a(),o(32,"th"),l(33,"Username"),a(),o(34,"th"),l(35,"Email"),a(),o(36,"th"),l(37,"Role"),a(),o(38,"th"),l(39,"Last Login"),a(),o(40,"th"),l(41,"Active"),a()()(),o(42,"tbody"),M(43,Rk,3,0,"tr",20)(44,Ak,20,7,"tr",21),a()()(),o(45,"div",22)(46,"div",23),l(47),a(),o(48,"div",24)(49,"button",25),_("click",function(){return i.previousPage()}),l(50,"Previous"),a(),o(51,"span",26),l(52),a(),o(53,"button",25),_("click",function(){return i.nextPage()}),l(54,"Next"),a()()()()()),e&2&&(c(8),C("ngModel",i.pageSize),c(),u("value",10),c(2),u("value",25),c(2),u("value",50),c(2),u("value",100),c(9),C("ngModel",i.searchQuery),c(19),u("ngIf",i.paginatedStaff.length===0),c(),u("ngForOf",i.paginatedStaff),c(3),tr(" Showing ",i.startEntry," to ",i.endEntry," of ",i.filteredStaff.length," entries "),c(2),u("disabled",i.currentPage===1),c(3),f(i.currentPage),c(),u("disabled",i.currentPage>=i.totalPages))},dependencies:[A,N,z,G,B,H,V,F],styles:['.page-header-simple[_ngcontent-%COMP%]{margin-bottom:20px}.btn-new-staff[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5b6abf,#4a5ba8);border:none;padding:10px 20px;font-weight:500}.btn-new-staff[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#4a5ba8,#3d4d8f)}.table-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:12px}.toolbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center}.page-size-select[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ddd;border-radius:4px;background:#fff;font-size:.9rem}.btn-outline[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;color:#333}.btn-outline[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:#666;padding:6px 10px}.btn-icon[_ngcontent-%COMP%]:hover{color:#333}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#999}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px 8px 36px;border:1px solid #ddd;border-radius:4px;width:200px;font-size:.9rem}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#5b6abf}.staff-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.staff-cell[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#5b6abf,#4a5ba8);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600;font-size:.9rem}.sortable[_ngcontent-%COMP%]{cursor:pointer}.sortable[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:6px;color:#5b6abf}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:26px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.3s;border-radius:26px}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:3px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#5b6abf}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(24px)}.table-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:16px;padding-top:16px;border-top:1px solid #eee}.showing-entries[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.pagination[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;background:#5b6abf;color:#fff;border-radius:4px;font-weight:500}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid #eee;margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:transparent;border:none;color:#666;font-size:.95rem;cursor:pointer;position:relative}.tab.active[_ngcontent-%COMP%]{color:#333;font-weight:600}.tab.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:#5b6abf}.tab[_ngcontent-%COMP%]:hover:not(.active){color:#333}.checkbox-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;font-size:.95rem}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.file-input[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.file-input[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px;border:1px solid #ddd;border-radius:4px;cursor:pointer}.file-input[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   .choose-file[_ngcontent-%COMP%]{padding:6px 16px;background:#f5f5f5;border:1px solid #ddd;border-radius:4px;font-size:.9rem}.file-input[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.input-with-suffix[_ngcontent-%COMP%]{position:relative}.input-with-suffix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:40px}.input-with-suffix[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#666;font-size:1rem}.required[_ngcontent-%COMP%]:before{content:"*";color:#dc3545;margin-right:4px}.permissions-note[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-bottom:20px;padding:12px;background:#f8f9fa;border-radius:4px}@media(max-width:768px){.table-toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.toolbar-left[_ngcontent-%COMP%], .toolbar-right[_ngcontent-%COMP%], .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.table-footer[_ngcontent-%COMP%]{flex-direction:column;gap:12px;text-align:center}}']})};function Nk(n,t){n&1&&(o(0,"tr")(1,"td",13),v(2,"i",14),o(3,"p"),l(4,'No tax rates configured. Click "Add Tax Rate" to create one.'),a()()())}function Fk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td")(9,"span",15),l(10),a()(),o(11,"td")(12,"div",16)(13,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(14,"i",18),a(),o(15,"button",19),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteTaxRate(r.id))}),v(16,"i",20),a()()()()}if(n&2){let e=t.$implicit;c(3),f(e.name),c(2),E("",e.rate,"%"),c(2),f(e.description),c(2),L("badge-success",e.status==="Active")("badge-danger",e.status!=="Active"),c(),f(e.status)}}function Vk(n,t){if(n&1){let e=O();o(0,"div",21),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",22),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",23)(3,"h2"),l(4),a(),o(5,"button",24),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",25),a()(),o(7,"div",26)(8,"div",27)(9,"label"),l(10,"Tax Name"),a(),o(11,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTaxRate.name,r)||(s.selectedTaxRate.name=r),g(r)}),a()(),o(12,"div",27)(13,"label"),l(14,"Rate (%)"),a(),o(15,"input",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTaxRate.rate,r)||(s.selectedTaxRate.rate=r),g(r)}),a()(),o(16,"div",27)(17,"label"),l(18,"Description"),a(),o(19,"textarea",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTaxRate.description,r)||(s.selectedTaxRate.description=r),g(r)}),a()(),o(20,"div",27)(21,"label"),l(22,"Status"),a(),o(23,"select",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTaxRate.status,r)||(s.selectedTaxRate.status=r),g(r)}),o(24,"option",32),l(25,"Active"),a(),o(26,"option",33),l(27,"Inactive"),a()()()(),o(28,"div",34)(29,"button",35),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(30,"Cancel"),a(),o(31,"button",5),_("click",function(){m(e);let r=d();return g(r.saveTaxRate())}),l(32),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Tax Rate":"Add Tax Rate"),c(7),C("ngModel",e.selectedTaxRate.name),c(4),C("ngModel",e.selectedTaxRate.rate),c(4),C("ngModel",e.selectedTaxRate.description),c(4),C("ngModel",e.selectedTaxRate.status),c(9),f(e.editMode?"Update":"Save")}}var su=class n{taxRates=[];showModal=!1;editMode=!1;selectedTaxRate=this.getEmptyTaxRate();loading=!1;ngOnInit(){this.loadTaxRates()}loadTaxRates(){this.loading=!1}getEmptyTaxRate(){return{name:"",rate:0,description:"",status:"Active"}}openModal(t){t?(this.editMode=!0,this.selectedTaxRate=T({},t)):(this.editMode=!1,this.selectedTaxRate=this.getEmptyTaxRate()),this.showModal=!0}closeModal(){this.showModal=!1,this.selectedTaxRate=this.getEmptyTaxRate()}saveTaxRate(){if(this.editMode){let t=this.taxRates.findIndex(e=>e.id===this.selectedTaxRate.id);t!==-1&&(this.taxRates[t]=T({},this.selectedTaxRate))}else this.selectedTaxRate.id=Date.now(),this.taxRates.push(T({},this.selectedTaxRate));this.closeModal()}deleteTaxRate(t){confirm("Are you sure you want to delete this tax rate?")&&(this.taxRates=this.taxRates.filter(e=>e.id!==t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-tax-rates"]],standalone:!1,decls:38,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],["routerLink","/app/settings/general"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","5",1,"empty-state"],[1,"fas","fa-percent"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","e.g., VAT, GST",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Tax description",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Tax Rates"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"a",4),l(11,"Settings"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Tax Rates"),a()()(),o(16,"button",5),_("click",function(){return i.openModal()}),v(17,"i",6),l(18," Add Tax Rate "),a()(),o(19,"div",7)(20,"div",8)(21,"table",9)(22,"thead")(23,"tr")(24,"th"),l(25,"Name"),a(),o(26,"th"),l(27,"Rate (%)"),a(),o(28,"th"),l(29,"Description"),a(),o(30,"th"),l(31,"Status"),a(),o(32,"th"),l(33,"Actions"),a()()(),o(34,"tbody"),M(35,Nk,5,0,"tr",10)(36,Fk,17,8,"tr",11),a()()()()(),M(37,Vk,33,6,"div",12)),e&2&&(c(35),u("ngIf",i.taxRates.length===0),c(),u("ngForOf",i.taxRates),c(),u("ngIf",i.showModal))},dependencies:[A,N,z,G,B,pe,H,V,F,Z],encapsulation:2})};function Lk(n,t){n&1&&(o(0,"tr")(1,"td",13),v(2,"i",14),o(3,"p"),l(4,'No currencies configured. Click "Add Currency" to create one.'),a()()())}function Uk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td")(11,"span",15),l(12),a()(),o(13,"td")(14,"span",15),l(15),a()(),o(16,"td")(17,"div",16)(18,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(19,"i",18),a(),o(20,"button",19),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteCurrency(r.id))}),v(21,"i",20),a()()()()}if(n&2){let e=t.$implicit;c(3),f(e.code),c(2),f(e.name),c(2),f(e.symbol),c(2),f(e.exchangeRate),c(2),L("badge-primary",e.isDefault),c(),f(e.isDefault?"Yes":"No"),c(2),L("badge-success",e.status==="Active")("badge-danger",e.status!=="Active"),c(),f(e.status)}}function Bk(n,t){if(n&1){let e=O();o(0,"div",21),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",22),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",23)(3,"h2"),l(4),a(),o(5,"button",24),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",25),a()(),o(7,"div",26)(8,"div",27)(9,"div",28)(10,"label"),l(11,"Currency Code"),a(),o(12,"input",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCurrency.code,r)||(s.selectedCurrency.code=r),g(r)}),a()(),o(13,"div",28)(14,"label"),l(15,"Currency Name"),a(),o(16,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCurrency.name,r)||(s.selectedCurrency.name=r),g(r)}),a()()(),o(17,"div",27)(18,"div",28)(19,"label"),l(20,"Symbol"),a(),o(21,"input",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCurrency.symbol,r)||(s.selectedCurrency.symbol=r),g(r)}),a()(),o(22,"div",28)(23,"label"),l(24,"Exchange Rate"),a(),o(25,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCurrency.exchangeRate,r)||(s.selectedCurrency.exchangeRate=r),g(r)}),a()()(),o(26,"div",27)(27,"div",28)(28,"label"),l(29,"Default Currency"),a(),o(30,"select",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCurrency.isDefault,r)||(s.selectedCurrency.isDefault=r),g(r)}),o(31,"option",34),l(32,"Yes"),a(),o(33,"option",34),l(34,"No"),a()()(),o(35,"div",28)(36,"label"),l(37,"Status"),a(),o(38,"select",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCurrency.status,r)||(s.selectedCurrency.status=r),g(r)}),o(39,"option",35),l(40,"Active"),a(),o(41,"option",36),l(42,"Inactive"),a()()()()(),o(43,"div",37)(44,"button",38),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(45,"Cancel"),a(),o(46,"button",5),_("click",function(){m(e);let r=d();return g(r.saveCurrency())}),l(47),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Currency":"Add Currency"),c(8),C("ngModel",e.selectedCurrency.code),c(4),C("ngModel",e.selectedCurrency.name),c(5),C("ngModel",e.selectedCurrency.symbol),c(4),C("ngModel",e.selectedCurrency.exchangeRate),c(5),C("ngModel",e.selectedCurrency.isDefault),c(),u("ngValue",!0),c(2),u("ngValue",!1),c(5),C("ngModel",e.selectedCurrency.status),c(9),f(e.editMode?"Update":"Save")}}var lu=class n{currencies=[];showModal=!1;editMode=!1;selectedCurrency=this.getEmptyCurrency();loading=!1;ngOnInit(){this.loadCurrencies()}loadCurrencies(){this.loading=!1}getEmptyCurrency(){return{code:"",name:"",symbol:"",exchangeRate:1,isDefault:!1,status:"Active"}}openModal(t){t?(this.editMode=!0,this.selectedCurrency=T({},t)):(this.editMode=!1,this.selectedCurrency=this.getEmptyCurrency()),this.showModal=!0}closeModal(){this.showModal=!1,this.selectedCurrency=this.getEmptyCurrency()}saveCurrency(){if(this.editMode){let t=this.currencies.findIndex(e=>e.id===this.selectedCurrency.id);t!==-1&&(this.currencies[t]=T({},this.selectedCurrency))}else this.selectedCurrency.id=Date.now(),this.currencies.push(T({},this.selectedCurrency));this.closeModal()}deleteCurrency(t){confirm("Are you sure you want to delete this currency?")&&(this.currencies=this.currencies.filter(e=>e.id!==t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-currencies"]],standalone:!1,decls:42,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],["routerLink","/app/settings/general"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","7",1,"empty-state"],[1,"fas","fa-coins"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"grid-2"],[1,"form-group"],["type","text","placeholder","e.g., USD, EUR",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., US Dollar",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., $, \u20AC",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","1.00",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],["value","Active"],["value","Inactive"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Currencies"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"a",4),l(11,"Settings"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Currencies"),a()()(),o(16,"button",5),_("click",function(){return i.openModal()}),v(17,"i",6),l(18," Add Currency "),a()(),o(19,"div",7)(20,"div",8)(21,"table",9)(22,"thead")(23,"tr")(24,"th"),l(25,"Code"),a(),o(26,"th"),l(27,"Name"),a(),o(28,"th"),l(29,"Symbol"),a(),o(30,"th"),l(31,"Exchange Rate"),a(),o(32,"th"),l(33,"Default"),a(),o(34,"th"),l(35,"Status"),a(),o(36,"th"),l(37,"Actions"),a()()(),o(38,"tbody"),M(39,Lk,5,0,"tr",10)(40,Uk,22,12,"tr",11),a()()()()(),M(41,Bk,48,10,"div",12)),e&2&&(c(39),u("ngIf",i.currencies.length===0),c(),u("ngForOf",i.currencies),c(),u("ngIf",i.showModal))},dependencies:[A,N,z,G,B,pe,H,V,F,Z],encapsulation:2})};function Wk(n,t){n&1&&(o(0,"tr")(1,"td",13),v(2,"i",14),o(3,"p"),l(4,'No payment modes configured. Click "Add Payment Mode" to create one.'),a()()())}function jk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td")(7,"span",15),l(8),a()(),o(9,"td")(10,"div",16)(11,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(12,"i",18),a(),o(13,"button",19),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deletePaymentMode(r.id))}),v(14,"i",20),a()()()()}if(n&2){let e=t.$implicit;c(3),f(e.name),c(2),f(e.description),c(2),L("badge-success",e.status==="Active")("badge-danger",e.status!=="Active"),c(),f(e.status)}}function qk(n,t){if(n&1){let e=O();o(0,"div",21),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",22),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",23)(3,"h2"),l(4),a(),o(5,"button",24),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",25),a()(),o(7,"div",26)(8,"div",27)(9,"label"),l(10,"Payment Mode Name"),a(),o(11,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPaymentMode.name,r)||(s.selectedPaymentMode.name=r),g(r)}),a()(),o(12,"div",27)(13,"label"),l(14,"Description"),a(),o(15,"textarea",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPaymentMode.description,r)||(s.selectedPaymentMode.description=r),g(r)}),a()(),o(16,"div",27)(17,"label"),l(18,"Status"),a(),o(19,"select",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPaymentMode.status,r)||(s.selectedPaymentMode.status=r),g(r)}),o(20,"option",31),l(21,"Active"),a(),o(22,"option",32),l(23,"Inactive"),a()()()(),o(24,"div",33)(25,"button",34),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(26,"Cancel"),a(),o(27,"button",5),_("click",function(){m(e);let r=d();return g(r.savePaymentMode())}),l(28),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Payment Mode":"Add Payment Mode"),c(7),C("ngModel",e.selectedPaymentMode.name),c(4),C("ngModel",e.selectedPaymentMode.description),c(4),C("ngModel",e.selectedPaymentMode.status),c(9),f(e.editMode?"Update":"Save")}}var cu=class n{paymentModes=[];showModal=!1;editMode=!1;selectedPaymentMode=this.getEmptyPaymentMode();loading=!1;ngOnInit(){this.loadPaymentModes()}loadPaymentModes(){this.loading=!1}getEmptyPaymentMode(){return{name:"",description:"",status:"Active"}}openModal(t){t?(this.editMode=!0,this.selectedPaymentMode=T({},t)):(this.editMode=!1,this.selectedPaymentMode=this.getEmptyPaymentMode()),this.showModal=!0}closeModal(){this.showModal=!1,this.selectedPaymentMode=this.getEmptyPaymentMode()}savePaymentMode(){if(this.editMode){let t=this.paymentModes.findIndex(e=>e.id===this.selectedPaymentMode.id);t!==-1&&(this.paymentModes[t]=T({},this.selectedPaymentMode))}else this.selectedPaymentMode.id=Date.now(),this.paymentModes.push(T({},this.selectedPaymentMode));this.closeModal()}deletePaymentMode(t){confirm("Are you sure you want to delete this payment mode?")&&(this.paymentModes=this.paymentModes.filter(e=>e.id!==t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-payment-modes"]],standalone:!1,decls:36,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],["routerLink","/app/settings/general"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","4",1,"empty-state"],[1,"fas","fa-credit-card"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","e.g., Cash, Credit Card, Bank Transfer",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Payment mode description",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Payment Modes"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"a",4),l(11,"Settings"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Payment Modes"),a()()(),o(16,"button",5),_("click",function(){return i.openModal()}),v(17,"i",6),l(18," Add Payment Mode "),a()(),o(19,"div",7)(20,"div",8)(21,"table",9)(22,"thead")(23,"tr")(24,"th"),l(25,"Name"),a(),o(26,"th"),l(27,"Description"),a(),o(28,"th"),l(29,"Status"),a(),o(30,"th"),l(31,"Actions"),a()()(),o(32,"tbody"),M(33,Wk,5,0,"tr",10)(34,jk,15,7,"tr",11),a()()()()(),M(35,qk,29,5,"div",12)),e&2&&(c(33),u("ngIf",i.paymentModes.length===0),c(),u("ngForOf",i.paymentModes),c(),u("ngIf",i.showModal))},dependencies:[A,N,z,G,B,H,V,F,Z],encapsulation:2})};function Hk(n,t){n&1&&(o(0,"tr")(1,"td",13),v(2,"i",14),o(3,"p"),l(4,'No expense categories configured. Click "Add Category" to create one.'),a()()())}function zk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td")(9,"span",15),l(10),a()(),o(11,"td")(12,"div",16)(13,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(14,"i",18),a(),o(15,"button",19),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteCategory(r.id))}),v(16,"i",20),a()()()()}if(n&2){let e=t.$implicit;c(3),f(e.code),c(2),f(e.name),c(2),f(e.description),c(2),L("badge-success",e.status==="Active")("badge-danger",e.status!=="Active"),c(),f(e.status)}}function Gk(n,t){if(n&1){let e=O();o(0,"div",21),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",22),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",23)(3,"h2"),l(4),a(),o(5,"button",24),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",25),a()(),o(7,"div",26)(8,"div",27)(9,"div",28)(10,"label"),l(11,"Category Code"),a(),o(12,"input",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCategory.code,r)||(s.selectedCategory.code=r),g(r)}),a()(),o(13,"div",28)(14,"label"),l(15,"Category Name"),a(),o(16,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCategory.name,r)||(s.selectedCategory.name=r),g(r)}),a()()(),o(17,"div",28)(18,"label"),l(19,"Description"),a(),o(20,"textarea",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCategory.description,r)||(s.selectedCategory.description=r),g(r)}),a()(),o(21,"div",28)(22,"label"),l(23,"Status"),a(),o(24,"select",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCategory.status,r)||(s.selectedCategory.status=r),g(r)}),o(25,"option",33),l(26,"Active"),a(),o(27,"option",34),l(28,"Inactive"),a()()()(),o(29,"div",35)(30,"button",36),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(31,"Cancel"),a(),o(32,"button",5),_("click",function(){m(e);let r=d();return g(r.saveCategory())}),l(33),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Expense Category":"Add Expense Category"),c(8),C("ngModel",e.selectedCategory.code),c(4),C("ngModel",e.selectedCategory.name),c(4),C("ngModel",e.selectedCategory.description),c(4),C("ngModel",e.selectedCategory.status),c(9),f(e.editMode?"Update":"Save")}}var du=class n{expenseCategories=[];showModal=!1;editMode=!1;selectedCategory=this.getEmptyCategory();loading=!1;ngOnInit(){this.loadCategories()}loadCategories(){this.loading=!1}getEmptyCategory(){return{name:"",code:"",description:"",status:"Active"}}openModal(t){t?(this.editMode=!0,this.selectedCategory=T({},t)):(this.editMode=!1,this.selectedCategory=this.getEmptyCategory()),this.showModal=!0}closeModal(){this.showModal=!1,this.selectedCategory=this.getEmptyCategory()}saveCategory(){if(this.editMode){let t=this.expenseCategories.findIndex(e=>e.id===this.selectedCategory.id);t!==-1&&(this.expenseCategories[t]=T({},this.selectedCategory))}else this.selectedCategory.id=Date.now(),this.expenseCategories.push(T({},this.selectedCategory));this.closeModal()}deleteCategory(t){confirm("Are you sure you want to delete this expense category?")&&(this.expenseCategories=this.expenseCategories.filter(e=>e.id!==t))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-expense-categories"]],standalone:!1,decls:38,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],["routerLink","/app/settings/general"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","5",1,"empty-state"],[1,"fas","fa-receipt"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"grid-2"],[1,"form-group"],["type","text","placeholder","e.g., EXP-001",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Office Supplies",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Category description",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Expense Categories"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"a",4),l(11,"Settings"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Expense Categories"),a()()(),o(16,"button",5),_("click",function(){return i.openModal()}),v(17,"i",6),l(18," Add Category "),a()(),o(19,"div",7)(20,"div",8)(21,"table",9)(22,"thead")(23,"tr")(24,"th"),l(25,"Code"),a(),o(26,"th"),l(27,"Name"),a(),o(28,"th"),l(29,"Description"),a(),o(30,"th"),l(31,"Status"),a(),o(32,"th"),l(33,"Actions"),a()()(),o(34,"tbody"),M(35,Hk,5,0,"tr",10)(36,zk,17,8,"tr",11),a()()()()(),M(37,Gk,34,6,"div",12)),e&2&&(c(35),u("ngIf",i.expenseCategories.length===0),c(),u("ngForOf",i.expenseCategories),c(),u("ngIf",i.showModal))},dependencies:[A,N,z,G,B,H,V,F,Z],encapsulation:2})};var ha=class n{constructor(t){this.http=t}baseUrl="/api/customers";getAll(){return this.http.get(this.baseUrl)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function $k(n,t){n&1&&(o(0,"tr")(1,"td",28),v(2,"i",29),o(3,"p"),l(4,"Loading..."),a()()())}function Qk(n,t){n&1&&(o(0,"tr")(1,"td",28),v(2,"i",9),o(3,"p"),l(4,'No customers found. Click "Add Customer" to create one.'),a()()())}function Jk(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"div",30)(3,"div",31),l(4),a(),o(5,"span"),l(6),a()()(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"span",32),l(13),a()(),o(14,"td")(15,"span",33),l(16),a()(),o(17,"td")(18,"div",34)(19,"button",35),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(20,"i",36),a(),o(21,"button",37),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteCustomer(r.id))}),v(22,"i",38),a()()()()}if(n&2){let e=t.$implicit,i=d();c(4),f(e.name.charAt(0)),c(2),f(e.name),c(2),f(e.email),c(2),f(e.phone),c(3),f(e.customerGroup||"-"),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function Kk(n,t){if(n&1){let e=O();o(0,"div",39),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",40),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",41)(3,"h2"),l(4),a(),o(5,"button",42),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",43),a()(),o(7,"div",44)(8,"div",45)(9,"label"),l(10,"Customer Name"),a(),o(11,"input",46),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCustomer.name,r)||(s.selectedCustomer.name=r),g(r)}),a()(),o(12,"div",45)(13,"label"),l(14,"Email"),a(),o(15,"input",47),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCustomer.email,r)||(s.selectedCustomer.email=r),g(r)}),a()(),o(16,"div",45)(17,"label"),l(18,"Phone"),a(),o(19,"input",48),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCustomer.phone,r)||(s.selectedCustomer.phone=r),g(r)}),a()(),o(20,"div",45)(21,"label"),l(22,"Address"),a(),o(23,"input",49),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCustomer.address,r)||(s.selectedCustomer.address=r),g(r)}),a()(),o(24,"div",45)(25,"label"),l(26,"Customer Group"),a(),o(27,"select",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCustomer.customerGroup,r)||(s.selectedCustomer.customerGroup=r),g(r)}),o(28,"option",51),l(29,"Select Group"),a(),o(30,"option",52),l(31,"Retail"),a(),o(32,"option",53),l(33,"Wholesale"),a(),o(34,"option",54),l(35,"VIP"),a(),o(36,"option",55),l(37,"Corporate"),a()()(),o(38,"div",45)(39,"label"),l(40,"Status"),a(),o(41,"select",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedCustomer.status,r)||(s.selectedCustomer.status=r),g(r)}),o(42,"option",56),l(43,"Active"),a(),o(44,"option",57),l(45,"Inactive"),a()()()(),o(46,"div",58)(47,"button",59),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(48,"Cancel"),a(),o(49,"button",4),_("click",function(){m(e);let r=d();return g(r.saveCustomer())}),l(50),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Customer":"Add Customer"),c(7),C("ngModel",e.selectedCustomer.name),c(4),C("ngModel",e.selectedCustomer.email),c(4),C("ngModel",e.selectedCustomer.phone),c(4),C("ngModel",e.selectedCustomer.address),c(4),C("ngModel",e.selectedCustomer.customerGroup),c(14),C("ngModel",e.selectedCustomer.status),c(9),f(e.editMode?"Update":"Save")}}var pu=class n{constructor(t){this.customerService=t}customers=[];searchQuery="";showModal=!1;editMode=!1;selectedCustomer=this.getEmptyCustomer();loading=!1;ngOnInit(){this.loadCustomers()}loadCustomers(){this.loading=!0,this.customerService.getAll().subscribe({next:t=>{this.customers=t,this.loading=!1},error:t=>{console.error("Error loading customers",t),this.loading=!1}})}get filteredCustomers(){return this.searchQuery?this.customers.filter(t=>t.name.toLowerCase().includes(this.searchQuery.toLowerCase())||t.email.toLowerCase().includes(this.searchQuery.toLowerCase())):this.customers}getEmptyCustomer(){return{name:"",email:"",phone:"",address:"",customerGroup:"",status:"Active"}}openModal(t){t?(this.editMode=!0,this.selectedCustomer=T({},t)):(this.editMode=!1,this.selectedCustomer=this.getEmptyCustomer()),this.showModal=!0}closeModal(){this.showModal=!1,this.selectedCustomer=this.getEmptyCustomer()}saveCustomer(){this.editMode&&this.selectedCustomer.id?this.customerService.update(this.selectedCustomer.id,this.selectedCustomer).subscribe({next:()=>{this.loadCustomers(),this.closeModal()},error:t=>console.error("Error updating customer",t)}):this.customerService.create(this.selectedCustomer).subscribe({next:()=>{this.loadCustomers(),this.closeModal()},error:t=>console.error("Error creating customer",t)})}deleteCustomer(t){confirm("Are you sure you want to delete this customer?")&&this.customerService.delete(t).subscribe({next:()=>this.loadCustomers(),error:e=>console.error("Error deleting customer",e)})}getStatusClass(t){return t==="Active"?"badge-success":"badge-danger"}getActiveCount(){return this.customers.filter(t=>t.status==="Active").length}getInactiveCount(){return this.customers.filter(t=>t.status==="Inactive").length}static \u0275fac=function(e){return new(e||n)(w(ha))};static \u0275cmp=k({type:n,selectors:[["app-customer-management"]],standalone:!1,decls:77,vars:11,consts:[[1,"management-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"stats-grid","grid-4"],[1,"stat-card"],[1,"icon","primary"],[1,"fas","fa-users"],[1,"info"],[1,"icon","success"],[1,"fas","fa-user-check"],[1,"icon","warning"],[1,"fas","fa-user-times"],[1,"icon","info"],[1,"fas","fa-chart-line"],[1,"card"],[1,"card-header-row"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search customers...",3,"ngModelChange","ngModel"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"table-footer"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","6",1,"empty-state"],[1,"fas","fa-spinner","fa-spin"],[1,"user-cell"],[1,"avatar"],[1,"badge","badge-info"],[1,"badge",3,"ngClass"],[1,"action-buttons"],["title","Edit",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","Enter customer name",1,"form-control",3,"ngModelChange","ngModel"],["type","email","placeholder","Enter email address",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter phone number",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter address",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Retail"],["value","Wholesale"],["value","VIP"],["value","Corporate"],["value","Active"],["value","Inactive"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Customer Management"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Customers"),a()()(),o(12,"button",4),_("click",function(){return i.openModal()}),v(13,"i",5),l(14," Add Customer "),a()(),o(15,"div",6)(16,"div",7)(17,"div",8),v(18,"i",9),a(),o(19,"div",10)(20,"h3"),l(21),a(),o(22,"p"),l(23,"Total Customers"),a()()(),o(24,"div",7)(25,"div",11),v(26,"i",12),a(),o(27,"div",10)(28,"h3"),l(29),a(),o(30,"p"),l(31,"Active Customers"),a()()(),o(32,"div",7)(33,"div",13),v(34,"i",14),a(),o(35,"div",10)(36,"h3"),l(37),a(),o(38,"p"),l(39,"Inactive Customers"),a()()(),o(40,"div",7)(41,"div",15),v(42,"i",16),a(),o(43,"div",10)(44,"h3"),l(45),a(),o(46,"p"),l(47,"Growth Rate"),a()()()(),o(48,"div",17)(49,"div",18)(50,"div",19),v(51,"i",20),o(52,"input",21),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()(),o(53,"div",22)(54,"table",23)(55,"thead")(56,"tr")(57,"th"),l(58,"Customer"),a(),o(59,"th"),l(60,"Email"),a(),o(61,"th"),l(62,"Phone"),a(),o(63,"th"),l(64,"Group"),a(),o(65,"th"),l(66,"Status"),a(),o(67,"th"),l(68,"Actions"),a()()(),o(69,"tbody"),M(70,$k,5,0,"tr",24)(71,Qk,5,0,"tr",24)(72,Jk,23,7,"tr",25),a()()(),o(73,"div",26)(74,"span"),l(75),a()()()(),M(76,Kk,51,8,"div",27)),e&2&&(c(21),f(i.customers.length),c(8),f(i.getActiveCount()),c(8),f(i.getInactiveCount()),c(8),f(i.customers.length>0?"+12%":"0%"),c(7),C("ngModel",i.searchQuery),c(18),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.filteredCustomers.length===0),c(),u("ngForOf",i.filteredCustomers),c(3),ne("Showing ",i.filteredCustomers.length," of ",i.customers.length," customers"),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,H,V,F,Z],styles:[".management-page[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{margin-bottom:24px}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}.filter-group[_ngcontent-%COMP%]{display:flex;gap:12px}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:auto;min-width:150px}.user-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-cell[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#00796b,#004d40);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600}.table-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0}.table-footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem}.pagination[_ngcontent-%COMP%]{display:flex;gap:8px}@media(max-width:768px){.filter-group[_ngcontent-%COMP%]{width:100%}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1}.table-footer[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}"]})};var uu=class n{constructor(t){this.http=t}baseUrl="/api/contracts";getAll(){return this.http.get(this.baseUrl)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function Zk(n,t){n&1&&(o(0,"tr")(1,"td",27),v(2,"i",28),o(3,"p"),l(4,"Loading..."),a()()())}function Xk(n,t){n&1&&(o(0,"tr")(1,"td",27),v(2,"i",9),o(3,"p"),l(4,'No contracts found. Click "New Contract" to create one.'),a()()())}function e5(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),U(12,"number"),a(),o(13,"td")(14,"span",29),l(15),a()(),o(16,"td")(17,"div",30)(18,"button",31),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(19,"i",32),a(),o(20,"button",33),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteContract(r.id))}),v(21,"i",34),a()()()()}if(n&2){let e=t.$implicit,i=d();c(3),f(e.contractNumber||"C-"+e.id),c(2),f(e.title),c(2),f(e.startDate),c(2),f(e.endDate),c(2),E("$",mn(12,7,e.value)),c(3),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function t5(n,t){if(n&1){let e=O();o(0,"div",35),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",36),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",37)(3,"h2"),l(4),a(),o(5,"button",38),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",39),a()(),o(7,"div",40)(8,"div",41)(9,"label"),l(10,"Title"),a(),o(11,"input",42),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedContract.title,r)||(s.selectedContract.title=r),g(r)}),a()(),o(12,"div",41)(13,"label"),l(14,"Description"),a(),o(15,"textarea",43),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedContract.description,r)||(s.selectedContract.description=r),g(r)}),a()(),o(16,"div",44)(17,"div",41)(18,"label"),l(19,"Start Date"),a(),o(20,"input",45),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedContract.startDate,r)||(s.selectedContract.startDate=r),g(r)}),a()(),o(21,"div",41)(22,"label"),l(23,"End Date"),a(),o(24,"input",45),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedContract.endDate,r)||(s.selectedContract.endDate=r),g(r)}),a()()(),o(25,"div",44)(26,"div",41)(27,"label"),l(28,"Value ($)"),a(),o(29,"input",46),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedContract.value,r)||(s.selectedContract.value=r),g(r)}),a()(),o(30,"div",41)(31,"label"),l(32,"Status"),a(),o(33,"select",47),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedContract.status,r)||(s.selectedContract.status=r),g(r)}),o(34,"option",48),l(35,"Active"),a(),o(36,"option",49),l(37,"Pending"),a(),o(38,"option",50),l(39,"Expired"),a(),o(40,"option",51),l(41,"Cancelled"),a()()()(),o(42,"div",41)(43,"label"),l(44,"Payment Terms"),a(),o(45,"input",52),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedContract.paymentTerms,r)||(s.selectedContract.paymentTerms=r),g(r)}),a()()(),o(46,"div",53)(47,"button",54),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(48,"Cancel"),a(),o(49,"button",4),_("click",function(){m(e);let r=d();return g(r.saveContract())}),l(50),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Contract":"New Contract"),c(7),C("ngModel",e.selectedContract.title),c(4),C("ngModel",e.selectedContract.description),c(5),C("ngModel",e.selectedContract.startDate),c(4),C("ngModel",e.selectedContract.endDate),c(5),C("ngModel",e.selectedContract.value),c(4),C("ngModel",e.selectedContract.status),c(12),C("ngModel",e.selectedContract.paymentTerms),c(5),f(e.editMode?"Update":"Save")}}var mu=class n{constructor(t,e){this.contractService=t;this.customerService=e}contracts=[];customers=[];searchQuery="";showModal=!1;editMode=!1;selectedContract=this.getEmptyContract();loading=!1;ngOnInit(){this.loadData()}loadData(){this.loading=!0,this.contractService.getAll().subscribe({next:t=>{this.contracts=t,this.loading=!1},error:t=>{console.error("Error loading contracts",t),this.loading=!1}}),this.customerService.getAll().subscribe({next:t=>this.customers=t,error:t=>console.error("Error loading customers",t)})}get filteredContracts(){return this.searchQuery?this.contracts.filter(t=>t.contractNumber?.toLowerCase().includes(this.searchQuery.toLowerCase())||t.title.toLowerCase().includes(this.searchQuery.toLowerCase())):this.contracts}getEmptyContract(){return{title:"",description:"",startDate:"",endDate:"",value:0,status:"Active",paymentTerms:""}}openModal(t){t?(this.editMode=!0,this.selectedContract=T({},t)):(this.editMode=!1,this.selectedContract=this.getEmptyContract()),this.showModal=!0}closeModal(){this.showModal=!1,this.selectedContract=this.getEmptyContract()}saveContract(){this.editMode&&this.selectedContract.id?this.contractService.update(this.selectedContract.id,this.selectedContract).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating contract",t)}):this.contractService.create(this.selectedContract).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating contract",t)})}deleteContract(t){confirm("Are you sure you want to delete this contract?")&&this.contractService.delete(t).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting contract",e)})}getStatusClass(t){return{Active:"badge-success",Pending:"badge-warning",Completed:"badge-info",Expired:"badge-danger",Cancelled:"badge-secondary"}[t]||"badge-info"}getTotalValue(){return this.contracts.reduce((t,e)=>t+(e.value||0),0)}getActiveCount(){return this.contracts.filter(t=>t.status==="Active").length}getPendingCount(){return this.contracts.filter(t=>t.status==="Pending").length}static \u0275fac=function(e){return new(e||n)(w(uu),w(ha))};static \u0275cmp=k({type:n,selectors:[["app-contract-management"]],standalone:!1,decls:77,vars:11,consts:[[1,"management-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"stats-grid","grid-4"],[1,"stat-card"],[1,"icon","primary"],[1,"fas","fa-file-contract"],[1,"info"],[1,"icon","success"],[1,"fas","fa-check-circle"],[1,"icon","warning"],[1,"fas","fa-clock"],[1,"icon","info"],[1,"fas","fa-dollar-sign"],[1,"card"],[1,"card-header-row"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search contracts...",3,"ngModelChange","ngModel"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","7",1,"empty-state"],[1,"fas","fa-spinner","fa-spin"],[1,"badge",3,"ngClass"],[1,"action-buttons"],["title","Edit",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","Contract title",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Contract description",1,"form-control",3,"ngModelChange","ngModel"],[1,"grid-2"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value","Active"],["value","Pending"],["value","Expired"],["value","Cancelled"],["type","text","placeholder","Net 30",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Contract Management"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Contracts"),a()()(),o(12,"button",4),_("click",function(){return i.openModal()}),v(13,"i",5),l(14," New Contract "),a()(),o(15,"div",6)(16,"div",7)(17,"div",8),v(18,"i",9),a(),o(19,"div",10)(20,"h3"),l(21),a(),o(22,"p"),l(23,"Total Contracts"),a()()(),o(24,"div",7)(25,"div",11),v(26,"i",12),a(),o(27,"div",10)(28,"h3"),l(29),a(),o(30,"p"),l(31,"Active Contracts"),a()()(),o(32,"div",7)(33,"div",13),v(34,"i",14),a(),o(35,"div",10)(36,"h3"),l(37),a(),o(38,"p"),l(39,"Pending"),a()()(),o(40,"div",7)(41,"div",15),v(42,"i",16),a(),o(43,"div",10)(44,"h3"),l(45),U(46,"number"),a(),o(47,"p"),l(48,"Total Value"),a()()()(),o(49,"div",17)(50,"div",18)(51,"div",19),v(52,"i",20),o(53,"input",21),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()(),o(54,"div",22)(55,"table",23)(56,"thead")(57,"tr")(58,"th"),l(59,"Contract #"),a(),o(60,"th"),l(61,"Title"),a(),o(62,"th"),l(63,"Start Date"),a(),o(64,"th"),l(65,"End Date"),a(),o(66,"th"),l(67,"Value"),a(),o(68,"th"),l(69,"Status"),a(),o(70,"th"),l(71,"Actions"),a()()(),o(72,"tbody"),M(73,Zk,5,0,"tr",24)(74,Xk,5,0,"tr",24)(75,e5,22,9,"tr",25),a()()()()(),M(76,t5,51,9,"div",26)),e&2&&(c(21),f(i.contracts.length),c(8),f(i.getActiveCount()),c(8),f(i.getPendingCount()),c(8),E("$",mn(46,9,i.getTotalValue())),c(8),C("ngModel",i.searchQuery),c(20),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.filteredContracts.length===0),c(),u("ngForOf",i.filteredContracts),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,F,Z,he],styles:[".management-page[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{margin-bottom:24px}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}.filter-group[_ngcontent-%COMP%]{display:flex;gap:12px}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:auto;min-width:150px}@media(max-width:768px){.filter-group[_ngcontent-%COMP%]{width:100%}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1}}"]})};var _n=class n{constructor(t){this.http=t}baseUrl="/api/inventory/groups";getAll(){return this.http.get(this.baseUrl)}getActive(){return this.http.get(`${this.baseUrl}/active`)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}canDeactivate(t){return this.http.get(`${this.baseUrl}/${t}/can-deactivate`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}deactivate(t){return this.http.put(`${this.baseUrl}/${t}/deactivate`,{})}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function n5(n,t){n&1&&(o(0,"tr")(1,"td",16),v(2,"i",17),o(3,"p"),l(4,"Loading..."),a()()())}function i5(n,t){n&1&&(o(0,"tr")(1,"td",16),v(2,"i",18),o(3,"p"),l(4,'No groups found. Click "Add Group" to create one.'),a()()())}function r5(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td")(9,"span",19),l(10),a()(),o(11,"td")(12,"div",20)(13,"button",21),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(14,"i",22),a(),o(15,"button",23),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteGroup(r.id))}),v(16,"i",24),a()()()()}if(n&2){let e=t.$implicit;c(3),f(e.code),c(2),f(e.name),c(2),f(e.description||"-"),c(2),u("ngClass",e.status==="Active"?"badge-success":"badge-danger"),c(),E(" ",e.status," ")}}function o5(n,t){if(n&1&&(o(0,"div",45),l(1),a()),n&2){let e=d(2);c(),E(" ",e.errorMessage," ")}}function a5(n,t){n&1&&(o(0,"small",46),l(1,"Unique identifier for this group"),a())}function s5(n,t){if(n&1&&(o(0,"small",47),l(1),a()),n&2){let e=d(2);c(),E(" Cannot set to Inactive: ",e.canDeactivateInfo.itemCount," item(s) linked to this group ")}}function l5(n,t){if(n&1){let e=O();o(0,"div",25),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",26),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",27)(3,"h2"),l(4),a(),o(5,"button",28),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",29),a()(),o(7,"div",30),M(8,o5,2,1,"div",31),o(9,"div",32)(10,"label"),l(11,"Group Code "),o(12,"span",33),l(13,"*"),a()(),o(14,"input",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGroup.code,r)||(s.selectedGroup.code=r),g(r)}),a(),M(15,a5,2,0,"small",35),a(),o(16,"div",32)(17,"label"),l(18,"Group Name "),o(19,"span",33),l(20,"*"),a()(),o(21,"input",36),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGroup.name,r)||(s.selectedGroup.name=r),g(r)}),a()(),o(22,"div",32)(23,"label"),l(24,"Description"),a(),o(25,"textarea",37),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGroup.description,r)||(s.selectedGroup.description=r),g(r)}),a()(),o(26,"div",32)(27,"label"),l(28,"Status"),a(),o(29,"select",38),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGroup.status,r)||(s.selectedGroup.status=r),g(r)}),o(30,"option",39),l(31,"Active"),a(),o(32,"option",40),l(33,"Inactive"),a()(),M(34,s5,2,1,"small",41),a()(),o(35,"div",42)(36,"button",43),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(37,"Cancel"),a(),o(38,"button",44),_("click",function(){m(e);let r=d();return g(r.saveGroup())}),l(39),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Group":"Add Group"),c(4),u("ngIf",e.errorMessage),c(6),C("ngModel",e.selectedGroup.code),u("readonly",e.editMode),c(),u("ngIf",!e.editMode),c(6),C("ngModel",e.selectedGroup.name),c(4),C("ngModel",e.selectedGroup.description),c(4),C("ngModel",e.selectedGroup.status),c(3),u("disabled",!e.canChangeToInactive()),c(2),u("ngIf",e.editMode&&e.canDeactivateInfo&&!e.canDeactivateInfo.canDeactivate),c(4),u("disabled",!e.isFormValid()),c(),E(" ",e.editMode?"Update":"Save"," ")}}var gu=class n{constructor(t,e,i){this.groupService=t;this.settingsService=e;this.notificationService=i}groups=[];searchQuery="";showModal=!1;editMode=!1;selectedGroup=this.getEmptyGroup();loading=!1;errorMessage="";canDeactivateInfo=null;ngOnInit(){this.loadGroups()}loadGroups(){this.loading=!0,this.groupService.getAll().subscribe({next:t=>{this.groups=t,this.loading=!1},error:t=>{console.error("Error loading groups",t),this.loading=!1}})}get filteredGroups(){return this.searchQuery?this.groups.filter(t=>t.name.toLowerCase().includes(this.searchQuery.toLowerCase())||t.code.toLowerCase().includes(this.searchQuery.toLowerCase())):this.groups}getEmptyGroup(){return{code:"",name:"",description:"",status:"Active"}}openModal(t){this.errorMessage="",this.canDeactivateInfo=null,t?(this.editMode=!0,this.selectedGroup=T({},t),this.checkCanDeactivate(t.id)):(this.editMode=!1,this.selectedGroup=this.getEmptyGroup(),this.generateGroupCode()),this.showModal=!0}generateGroupCode(){this.settingsService.generatePrefixId("group").subscribe({next:t=>{this.selectedGroup.code=t},error:t=>console.error("Error generating group code",t)})}checkCanDeactivate(t){this.groupService.canDeactivate(t).subscribe({next:e=>{this.canDeactivateInfo=e},error:e=>console.error("Error checking deactivate status",e)})}closeModal(){this.showModal=!1,this.selectedGroup=this.getEmptyGroup(),this.errorMessage="",this.canDeactivateInfo=null}isFormValid(){return this.selectedGroup.code.trim()!==""&&this.selectedGroup.name.trim()!==""}canChangeToInactive(){return!this.editMode||this.selectedGroup.status==="Active"||this.canDeactivateInfo===null?!0:this.canDeactivateInfo.canDeactivate}saveGroup(){if(!this.isFormValid()){this.notificationService.error("Group Code and Name are required");return}if(this.editMode&&this.selectedGroup.status==="Inactive"&&this.canDeactivateInfo&&!this.canDeactivateInfo.canDeactivate){this.notificationService.error(`Cannot deactivate: ${this.canDeactivateInfo.itemCount} item(s) are linked to this group`);return}this.editMode&&this.selectedGroup.id?this.groupService.update(this.selectedGroup.id,this.selectedGroup).subscribe({next:()=>{this.notificationService.success("Group updated successfully"),this.loadGroups(),this.closeModal()},error:t=>{this.notificationService.error(t.error?.error||"Error updating group")}}):this.groupService.create(this.selectedGroup).subscribe({next:()=>{this.notificationService.success("Group created successfully"),this.loadGroups(),this.closeModal()},error:t=>{this.notificationService.error(t.error?.error||"Error creating group")}})}deleteGroup(t){this.groupService.canDeactivate(t).subscribe({next:e=>{if(!e.canDeactivate){this.notificationService.error(`Cannot delete group: ${e.itemCount} item(s) are linked to this group. Please reassign or delete those items first.`);return}confirm("Are you sure you want to delete this group?")&&this.groupService.delete(t).subscribe({next:()=>{this.notificationService.success("Group deleted successfully"),this.loadGroups()},error:i=>{this.notificationService.error(i.error?.error||"Error deleting group")}})},error:e=>console.error("Error checking delete status",e)})}getStatusClass(t){return t==="Active"?"badge-success":"badge-danger"}static \u0275fac=function(e){return new(e||n)(w(_n),w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-group-master"]],standalone:!1,decls:43,vars:5,consts:[[1,"inventory-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"card-header-row"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search groups...",3,"ngModelChange","ngModel"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","5",1,"empty-state"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-layer-group"],[1,"badge",3,"ngClass"],[1,"action-buttons"],["title","Edit",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],[1,"required"],["type","text","placeholder","e.g., GRP-001",1,"form-control",3,"ngModelChange","ngModel","readonly"],["class","form-hint",4,"ngIf"],["type","text","placeholder","Enter group name",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Optional description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive",3,"disabled"],["class","form-hint warning",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"alert","alert-danger"],[1,"form-hint"],[1,"form-hint","warning"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Group Master"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Inventory"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Groups"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," Add Group "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8),v(22,"i",9),o(23,"input",10),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()(),o(24,"div",11)(25,"table",12)(26,"thead")(27,"tr")(28,"th"),l(29,"Group Code"),a(),o(30,"th"),l(31,"Group Name"),a(),o(32,"th"),l(33,"Description"),a(),o(34,"th"),l(35,"Status"),a(),o(36,"th"),l(37,"Actions"),a()()(),o(38,"tbody"),M(39,n5,5,0,"tr",13)(40,i5,5,0,"tr",13)(41,r5,17,5,"tr",14),a()()()()(),M(42,l5,40,12,"div",15)),e&2&&(c(23),C("ngModel",i.searchQuery),c(16),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.filteredGroups.length===0),c(),u("ngForOf",i.filteredGroups),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,H,V,F,Z],styles:[".inventory-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}"]})};var bi=class n{constructor(t){this.http=t}baseUrl="/api/inventory/units";getAll(){return this.http.get(this.baseUrl)}getActive(){return this.http.get(`${this.baseUrl}/active`)}getBaseUnits(){return this.http.get(`${this.baseUrl}/base`)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var It=class n{constructor(t){this.http=t}baseUrl="/api/inventory/suppliers";getAll(){return this.http.get(this.baseUrl)}getActive(){return this.http.get(this.baseUrl).pipe(Ne(t=>t.filter(e=>e.status==="Active")))}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function c5(n,t){n&1&&(o(0,"tr")(1,"td",27),v(2,"i",28),o(3,"p"),l(4,"Loading..."),a()()())}function d5(n,t){n&1&&(o(0,"tr")(1,"td",27),v(2,"i",9),o(3,"p"),l(4,'No items found. Click "Add Item" to create one.'),a()()())}function p5(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td")(13,"span",29),l(14),a()(),o(15,"td"),l(16),a(),o(17,"td")(18,"span",29),l(19),a()(),o(20,"td")(21,"div",30)(22,"button",31),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(23,"i",32),a(),o(24,"button",33),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteItem(r.id))}),v(25,"i",34),a()()()()}if(n&2){let e=t.$implicit,i=d();c(3),f(e.code),c(2),f(e.name),c(2),f((e.group==null?null:e.group.name)||"-"),c(2),f((e.unitOfMeasure==null?null:e.unitOfMeasure.name)||"-"),c(2),f(i.formatCurrency(e.unitCost)),c(2),u("ngClass",e.taxable?"badge-success":"badge-secondary"),c(),E(" ",e.taxable?"Yes":"No"," "),c(2),f(e.currentStock),c(2),u("ngClass",i.getStockClass(e)),c(),f(i.getStockStatus(e))}}function u5(n,t){if(n&1&&(o(0,"div",60),l(1),a()),n&2){let e=d(2);c(),E(" ",e.errorMessage," ")}}function m5(n,t){if(n&1&&(o(0,"div",44)(1,"label"),l(2,"Item Code"),a(),v(3,"input",61),o(4,"small",55),l(5,"System generated - cannot be changed"),a()()),n&2){let e=d(2);c(3),u("value",e.selectedItem.code)}}function g5(n,t){if(n&1&&(o(0,"option",47),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function f5(n,t){if(n&1&&(o(0,"small",62),l(1),a()),n&2){let e=d(2);c(),f(e.nameValidationMessage)}}function h5(n,t){n&1&&(o(0,"small",55),l(1,"Must be unique within the selected group"),a())}function _5(n,t){if(n&1&&(o(0,"option",47),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),ne("",e.name," (",e.code,")")}}function v5(n,t){if(n&1&&(o(0,"option",47),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function y5(n,t){if(n&1){let e=O();o(0,"div",43)(1,"div",44)(2,"label"),l(3,"Status"),a(),o(4,"select",53),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.selectedItem.status,r)||(s.selectedItem.status=r),g(r)}),o(5,"option",63),l(6,"Active"),a(),o(7,"option",64),l(8,"Inactive"),a()()(),o(9,"div",44)(10,"label"),l(11,"Reorder Level"),a(),o(12,"input",65),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.selectedItem.reorderLevel,r)||(s.selectedItem.reorderLevel=r),g(r)}),a()()()}if(n&2){let e=d(2);c(4),C("ngModel",e.selectedItem.status),c(8),C("ngModel",e.selectedItem.reorderLevel)}}function C5(n,t){if(n&1){let e=O();o(0,"div",35),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",36),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",37)(3,"h2"),l(4),a(),o(5,"button",38),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",39),a()(),o(7,"div",40),M(8,u5,2,1,"div",41)(9,m5,6,1,"div",42),o(10,"div",43)(11,"div",44)(12,"label"),l(13,"Group "),o(14,"span",45),l(15,"*"),a()(),o(16,"select",46),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGroupId,r)||(s.selectedGroupId=r),g(r)}),_("change",function(){m(e);let r=d();return g(r.validateItemName())}),o(17,"option",47),l(18,"Select a group..."),a(),M(19,g5,2,2,"option",48),a()(),o(20,"div",44)(21,"label"),l(22,"Item Name "),o(23,"span",45),l(24,"*"),a()(),o(25,"input",49),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedItem.name,r)||(s.selectedItem.name=r),g(r)}),_("blur",function(){m(e);let r=d();return g(r.validateItemName())}),a(),M(26,f5,2,1,"small",50)(27,h5,2,0,"small",51),a()(),o(28,"div",44)(29,"label"),l(30,"Item Description"),a(),o(31,"textarea",52),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedItem.description,r)||(s.selectedItem.description=r),g(r)}),a()(),o(32,"div",43)(33,"div",44)(34,"label"),l(35,"Units of Measure / Sold As "),o(36,"span",45),l(37,"*"),a()(),o(38,"select",53),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedUomId,r)||(s.selectedUomId=r),g(r)}),o(39,"option",47),l(40,"Select unit..."),a(),M(41,_5,2,3,"option",48),a()(),o(42,"div",44)(43,"label"),l(44,"Unit Cost"),a(),o(45,"input",54),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedItem.unitCost,r)||(s.selectedItem.unitCost=r),g(r)}),a()()(),o(46,"div",43)(47,"div",44)(48,"label"),l(49,"Supplier"),a(),o(50,"select",53),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplierId,r)||(s.selectedSupplierId=r),g(r)}),o(51,"option",47),l(52,"No supplier / Select later..."),a(),M(53,v5,2,2,"option",48),a()(),o(54,"div",44)(55,"label"),l(56,"Taxable"),a(),o(57,"select",53),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedItem.taxable,r)||(s.selectedItem.taxable=r),g(r)}),o(58,"option",47),l(59,"Yes"),a(),o(60,"option",47),l(61,"No"),a()(),o(62,"small",55),l(63,"Defaults to Yes for new items"),a()()(),M(64,y5,13,2,"div",56),a(),o(65,"div",57)(66,"button",58),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(67,"Cancel"),a(),o(68,"button",59),_("click",function(){m(e);let r=d();return g(r.saveItem())}),l(69),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Item":"Add Item"),c(4),u("ngIf",e.errorMessage),c(),u("ngIf",e.editMode),c(7),C("ngModel",e.selectedGroupId),c(),u("ngValue",null),c(2),u("ngForOf",e.groups),c(6),L("is-invalid",e.nameValidationMessage),C("ngModel",e.selectedItem.name),c(),u("ngIf",e.nameValidationMessage),c(),u("ngIf",!e.nameValidationMessage),c(4),C("ngModel",e.selectedItem.description),c(7),C("ngModel",e.selectedUomId),c(),u("ngValue",null),c(2),u("ngForOf",e.units),c(4),C("ngModel",e.selectedItem.unitCost),c(5),C("ngModel",e.selectedSupplierId),c(),u("ngValue",null),c(2),u("ngForOf",e.suppliers),c(4),C("ngModel",e.selectedItem.taxable),c(),u("ngValue",!0),c(2),u("ngValue",!1),c(4),u("ngIf",e.editMode),c(4),u("disabled",!e.isFormValid()),c(),E(" ",e.editMode?"Update":"Save"," ")}}var hu=class n{constructor(t,e,i,r,s,p){this.itemService=t;this.itemGroupService=e;this.unitOfMeasureService=i;this.supplierService=r;this.settingsService=s;this.notificationService=p}items=[];groups=[];units=[];suppliers=[];searchQuery="";showModal=!1;editMode=!1;selectedItem=this.getEmptyItem();selectedGroupId=null;selectedUomId=null;selectedSupplierId=null;loading=!1;errorMessage="";nameValidationMessage="";ngOnInit(){this.loadData()}loadData(){this.loading=!0,this.itemService.getAll().subscribe({next:t=>{this.items=t,this.loading=!1},error:t=>{console.error("Error loading items",t),this.loading=!1}}),this.itemGroupService.getActive().subscribe({next:t=>this.groups=t,error:t=>console.error("Error loading groups",t)}),this.unitOfMeasureService.getActive().subscribe({next:t=>this.units=t,error:t=>console.error("Error loading units",t)}),this.supplierService.getAll().subscribe({next:t=>this.suppliers=t.filter(e=>e.status==="Active"),error:t=>console.error("Error loading suppliers",t)})}get filteredItems(){if(!this.searchQuery)return this.items;let t=this.searchQuery.toLowerCase();return this.items.filter(e=>e.name.toLowerCase().includes(t)||e.code.toLowerCase().includes(t)||(e.group?.name||"").toLowerCase().includes(t))}getEmptyItem(){return{code:"",name:"",description:"",taxable:!0,currentStock:0,status:"Active"}}openModal(t){this.errorMessage="",this.nameValidationMessage="",t?(this.editMode=!0,this.selectedItem=T({},t),this.selectedGroupId=t.group?.id||null,this.selectedUomId=t.unitOfMeasure?.id||null,this.selectedSupplierId=t.supplier?.id||null):(this.editMode=!1,this.selectedItem=this.getEmptyItem(),this.selectedGroupId=null,this.selectedUomId=null,this.selectedSupplierId=null,this.generateItemCode()),this.showModal=!0}generateItemCode(){this.settingsService.generatePrefixId("item").subscribe({next:t=>{this.selectedItem.code=t},error:t=>console.error("Error generating item code",t)})}closeModal(){this.showModal=!1,this.selectedItem=this.getEmptyItem(),this.selectedGroupId=null,this.selectedUomId=null,this.selectedSupplierId=null,this.errorMessage="",this.nameValidationMessage=""}validateItemName(){if(!this.selectedItem.name||!this.selectedGroupId){this.nameValidationMessage="";return}let t=this.editMode?this.selectedItem.id:void 0;this.itemService.validateName(this.selectedItem.name,this.selectedGroupId,t).subscribe({next:e=>{e.isUnique?this.nameValidationMessage="":this.nameValidationMessage="Item name already exists in this group"},error:()=>this.nameValidationMessage=""})}isFormValid(){return this.selectedItem.name.trim()!==""&&this.selectedGroupId!==null&&this.selectedUomId!==null&&this.nameValidationMessage===""}saveItem(){if(!this.isFormValid()){this.notificationService.error("Please fill in all required fields");return}let t=me(T({},this.selectedItem),{group:this.groups.find(e=>e.id===this.selectedGroupId),unitOfMeasure:this.units.find(e=>e.id===this.selectedUomId),supplier:this.selectedSupplierId?this.suppliers.find(e=>e.id===this.selectedSupplierId):void 0});this.editMode&&this.selectedItem.id?this.itemService.update(this.selectedItem.id,t).subscribe({next:()=>{this.notificationService.success("Item updated successfully"),this.loadData(),this.closeModal()},error:e=>{this.notificationService.error(e.error?.error||"Error updating item")}}):this.itemService.create(t).subscribe({next:()=>{this.notificationService.success("Item created successfully"),this.loadData(),this.closeModal()},error:e=>{this.notificationService.error(e.error?.error||"Error creating item")}})}deleteItem(t){confirm("Are you sure you want to delete this item?")&&this.itemService.delete(t).subscribe({next:()=>{this.notificationService.success("Item deleted successfully"),this.loadData()},error:e=>{this.notificationService.error(e.error?.error||"Error deleting item")}})}getStockClass(t){return t.currentStock<=0?"badge-danger":t.reorderLevel&&t.currentStock<=t.reorderLevel?"badge-warning":"badge-success"}getStockStatus(t){return t.currentStock<=0?"Out of Stock":t.reorderLevel&&t.currentStock<=t.reorderLevel?"Low Stock":"In Stock"}getInStockCount(){return this.items.filter(t=>!t.reorderLevel||t.currentStock>t.reorderLevel).length}getLowStockCount(){return this.items.filter(t=>t.reorderLevel&&t.currentStock<=t.reorderLevel&&t.currentStock>0).length}getOutOfStockCount(){return this.items.filter(t=>t.currentStock<=0).length}formatCurrency(t){return t==null?"-":"$"+t.toFixed(2)}static \u0275fac=function(e){return new(e||n)(w(Ve),w(_n),w(bi),w(It),w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-item-master"]],standalone:!1,decls:84,vars:9,consts:[[1,"inventory-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"stats-grid","grid-4"],[1,"stat-card"],[1,"icon","primary"],[1,"fas","fa-box"],[1,"info"],[1,"icon","success"],[1,"fas","fa-check-circle"],[1,"icon","warning"],[1,"fas","fa-exclamation-triangle"],[1,"icon","danger"],[1,"fas","fa-times-circle"],[1,"card"],[1,"card-header-row"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search items...",3,"ngModelChange","ngModel"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","9",1,"empty-state"],[1,"fas","fa-spinner","fa-spin"],[1,"badge",3,"ngClass"],[1,"action-buttons"],["title","Edit",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal","modal-large",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"grid-2"],[1,"form-group"],[1,"required"],[1,"form-control",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","placeholder","Enter item name",1,"form-control",3,"ngModelChange","blur","ngModel"],["class","form-hint error",4,"ngIf"],["class","form-hint",4,"ngIf"],["placeholder","Optional description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","0.00","min","0","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-hint"],["class","grid-2",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"alert","alert-danger"],["type","text","readonly","",1,"form-control",3,"value"],[1,"form-hint","error"],["value","Active"],["value","Inactive"],["type","number","placeholder","Optional","min","0",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Item Master"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Inventory"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Items"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," Add Item "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8),v(22,"i",9),a(),o(23,"div",10)(24,"h3"),l(25),a(),o(26,"p"),l(27,"Total Items"),a()()(),o(28,"div",7)(29,"div",11),v(30,"i",12),a(),o(31,"div",10)(32,"h3"),l(33),a(),o(34,"p"),l(35,"In Stock"),a()()(),o(36,"div",7)(37,"div",13),v(38,"i",14),a(),o(39,"div",10)(40,"h3"),l(41),a(),o(42,"p"),l(43,"Low Stock"),a()()(),o(44,"div",7)(45,"div",15),v(46,"i",16),a(),o(47,"div",10)(48,"h3"),l(49),a(),o(50,"p"),l(51,"Out of Stock"),a()()()(),o(52,"div",17)(53,"div",18)(54,"div",19),v(55,"i",20),o(56,"input",21),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()(),o(57,"div",22)(58,"table",23)(59,"thead")(60,"tr")(61,"th"),l(62,"Item Code"),a(),o(63,"th"),l(64,"Item Name"),a(),o(65,"th"),l(66,"Group"),a(),o(67,"th"),l(68,"UOM"),a(),o(69,"th"),l(70,"Unit Cost"),a(),o(71,"th"),l(72,"Taxable"),a(),o(73,"th"),l(74,"Stock"),a(),o(75,"th"),l(76,"Status"),a(),o(77,"th"),l(78,"Actions"),a()()(),o(79,"tbody"),M(80,c5,5,0,"tr",24)(81,d5,5,0,"tr",24)(82,p5,26,10,"tr",25),a()()()()(),M(83,C5,70,25,"div",26)),e&2&&(c(25),f(i.items.length),c(8),f(i.getInStockCount()),c(8),f(i.getLowStockCount()),c(8),f(i.getOutOfStockCount()),c(7),C("ngModel",i.searchQuery),c(24),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.filteredItems.length===0),c(),u("ngForOf",i.filteredItems),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,Se,F,Z],styles:[".inventory-page[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{margin-bottom:24px}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}.filter-group[_ngcontent-%COMP%]{display:flex;gap:12px}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:auto;min-width:150px}"]})};function x5(n,t){n&1&&(o(0,"tr")(1,"td",12),v(2,"i",13),o(3,"p"),l(4,"Loading..."),a()()())}function b5(n,t){n&1&&(o(0,"tr")(1,"td",12),v(2,"i",14),o(3,"p"),l(4,'No units found. Click "Add Unit" to create one.'),a()()())}function M5(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td")(9,"span",15),l(10),a()(),o(11,"td"),l(12),a(),o(13,"td"),l(14),a(),o(15,"td")(16,"span",15),l(17),a()(),o(18,"td")(19,"div",16)(20,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(21,"i",18),a(),o(22,"button",19),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteUnit(r.id))}),v(23,"i",20),a()()()()}if(n&2){let e=t.$implicit,i=d();c(3),f(e.code),c(2),f(e.name),c(2),f(e.symbol||"-"),c(2),u("ngClass",e.baseUom?"badge-info":"badge-primary"),c(),E(" ",i.getUnitType(e)," "),c(2),f(e.conversionFactor||1),c(2),f((e.baseUom==null?null:e.baseUom.name)||"-"),c(2),u("ngClass",e.status==="Active"?"badge-success":"badge-danger"),c(),E(" ",e.status," ")}}function S5(n,t){if(n&1&&(o(0,"div",44),l(1),a()),n&2){let e=d(2);c(),E(" ",e.errorMessage," ")}}function P5(n,t){n&1&&(o(0,"small",37),l(1,"Unique identifier for this unit"),a())}function E5(n,t){if(n&1&&(o(0,"option",45),l(1),a()),n&2){let e=t.$implicit,i=d(2);u("ngValue",e.id)("disabled",i.editMode&&e.id===i.selectedUnit.id),c(),ne(" ",e.name," (",e.code,") ")}}function w5(n,t){if(n&1){let e=O();o(0,"div",28)(1,"label"),l(2,"Conversion Factor"),a(),o(3,"input",46),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.selectedUnit.conversionFactor,r)||(s.selectedUnit.conversionFactor=r),g(r)}),a(),o(4,"small",37),l(5,"How many of this unit equals 1 base unit"),a()()}if(n&2){let e=d(2);c(3),C("ngModel",e.selectedUnit.conversionFactor)}}function O5(n,t){if(n&1){let e=O();o(0,"div",21),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",22),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",23)(3,"h2"),l(4),a(),o(5,"button",24),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",25),a()(),o(7,"div",26),M(8,S5,2,1,"div",27),o(9,"div",28)(10,"label"),l(11,"UOM Code "),o(12,"span",29),l(13,"*"),a()(),o(14,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedUnit.code,r)||(s.selectedUnit.code=r),g(r)}),a(),M(15,P5,2,0,"small",31),a(),o(16,"div",28)(17,"label"),l(18,"Name "),o(19,"span",29),l(20,"*"),a()(),o(21,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedUnit.name,r)||(s.selectedUnit.name=r),g(r)}),a()(),o(22,"div",28)(23,"label"),l(24,"Symbol"),a(),o(25,"input",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedUnit.symbol,r)||(s.selectedUnit.symbol=r),g(r)}),a()(),o(26,"div",28)(27,"label"),l(28,"Base UOM"),a(),o(29,"select",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedBaseUomId,r)||(s.selectedBaseUomId=r),g(r)}),o(30,"option",35),l(31,"None (this is a base unit)"),a(),M(32,E5,2,4,"option",36),a(),o(33,"small",37),l(34,"Select if this is an alternate unit that converts to a base unit"),a()(),M(35,w5,6,1,"div",38),o(36,"div",28)(37,"label"),l(38,"Status"),a(),o(39,"select",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedUnit.status,r)||(s.selectedUnit.status=r),g(r)}),o(40,"option",39),l(41,"Active"),a(),o(42,"option",40),l(43,"Inactive"),a()()()(),o(44,"div",41)(45,"button",42),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(46,"Cancel"),a(),o(47,"button",43),_("click",function(){m(e);let r=d();return g(r.saveUnit())}),l(48),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Unit":"Add Unit"),c(4),u("ngIf",e.errorMessage),c(6),C("ngModel",e.selectedUnit.code),u("readonly",e.editMode),c(),u("ngIf",!e.editMode),c(6),C("ngModel",e.selectedUnit.name),c(4),C("ngModel",e.selectedUnit.symbol),c(4),C("ngModel",e.selectedBaseUomId),c(),u("ngValue",null),c(2),u("ngForOf",e.baseUnits),c(3),u("ngIf",e.selectedBaseUomId),c(4),C("ngModel",e.selectedUnit.status),c(8),u("disabled",!e.isFormValid()),c(),E(" ",e.editMode?"Update":"Save"," ")}}var _u=class n{constructor(t,e,i){this.unitService=t;this.settingsService=e;this.notificationService=i}units=[];baseUnits=[];showModal=!1;editMode=!1;selectedUnit=this.getEmptyUnit();selectedBaseUomId=null;loading=!1;errorMessage="";ngOnInit(){this.loadUnits()}loadUnits(){this.loading=!0,this.unitService.getAll().subscribe({next:t=>{this.units=t,this.loading=!1},error:t=>{console.error("Error loading units",t),this.loading=!1}}),this.unitService.getBaseUnits().subscribe({next:t=>this.baseUnits=t,error:t=>console.error("Error loading base units",t)})}getEmptyUnit(){return{code:"",name:"",symbol:"",conversionFactor:1,status:"Active"}}openModal(t){this.errorMessage="",t?(this.editMode=!0,this.selectedUnit=T({},t),this.selectedBaseUomId=t.baseUom?.id||null):(this.editMode=!1,this.selectedUnit=this.getEmptyUnit(),this.selectedBaseUomId=null,this.generateUnitCode()),this.showModal=!0}generateUnitCode(){this.settingsService.generatePrefixId("unit").subscribe({next:t=>{this.selectedUnit.code=t},error:t=>console.error("Error generating unit code",t)})}closeModal(){this.showModal=!1,this.selectedUnit=this.getEmptyUnit(),this.selectedBaseUomId=null,this.errorMessage=""}isFormValid(){return this.selectedUnit.code.trim()!==""&&this.selectedUnit.name.trim()!==""}isBaseUnit(){return this.selectedBaseUomId===null}saveUnit(){if(!this.isFormValid()){this.notificationService.error("UOM Code and Name are required");return}let t=me(T({},this.selectedUnit),{baseUom:this.selectedBaseUomId?this.baseUnits.find(e=>e.id===this.selectedBaseUomId):void 0});this.editMode&&this.selectedUnit.id?this.unitService.update(this.selectedUnit.id,t).subscribe({next:()=>{this.notificationService.success("Unit of measure updated successfully"),this.loadUnits(),this.closeModal()},error:e=>{this.notificationService.error(e.error?.error||"Error updating unit")}}):this.unitService.create(t).subscribe({next:()=>{this.notificationService.success("Unit of measure created successfully"),this.loadUnits(),this.closeModal()},error:e=>{this.notificationService.error(e.error?.error||"Error creating unit")}})}deleteUnit(t){confirm("Are you sure you want to delete this unit?")&&this.unitService.delete(t).subscribe({next:()=>{this.notificationService.success("Unit of measure deleted successfully"),this.loadUnits()},error:e=>{this.notificationService.error(e.error?.error||"Error deleting unit")}})}getUnitType(t){return t.baseUom?"Alternate":"Base"}static \u0275fac=function(e){return new(e||n)(w(bi),w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-units-of-measure"]],standalone:!1,decls:45,vars:4,consts:[[1,"inventory-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","8",1,"empty-state"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-ruler"],[1,"badge",3,"ngClass"],[1,"action-buttons"],["title","Edit",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],[1,"required"],["type","text","placeholder","e.g., PCS, KG, LTR",1,"form-control",3,"ngModelChange","ngModel","readonly"],["class","form-hint",4,"ngIf"],["type","text","placeholder","e.g., Pieces, Kilograms, Liters",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., pcs, kg, L (optional)",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"form-hint"],["class","form-group",4,"ngIf"],["value","Active"],["value","Inactive"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"alert","alert-danger"],[3,"ngValue","disabled"],["type","number","placeholder","1","min","0.000001","step","0.000001",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Units of Measure"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Inventory"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Units"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," Add Unit "),a()(),o(19,"div",6)(20,"div",7)(21,"table",8)(22,"thead")(23,"tr")(24,"th"),l(25,"UOM Code"),a(),o(26,"th"),l(27,"Name"),a(),o(28,"th"),l(29,"Symbol"),a(),o(30,"th"),l(31,"Type"),a(),o(32,"th"),l(33,"Conversion Factor"),a(),o(34,"th"),l(35,"Base UOM"),a(),o(36,"th"),l(37,"Status"),a(),o(38,"th"),l(39,"Actions"),a()()(),o(40,"tbody"),M(41,x5,5,0,"tr",9)(42,b5,5,0,"tr",9)(43,M5,24,9,"tr",10),a()()()()(),M(44,O5,49,14,"div",11)),e&2&&(c(41),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.units.length===0),c(),u("ngForOf",i.units),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,Se,F,Z],styles:[".inventory-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}"]})};var Ke=class n{constructor(t){this.http=t}warehouseUrl="/api/inventory/warehouses";binUrl="/api/inventory/bins";getAll(){return this.http.get(this.warehouseUrl)}getAllWarehouses(){return this.http.get(this.warehouseUrl)}getActiveWarehouses(){return this.http.get(`${this.warehouseUrl}/active`)}getWarehouseById(t){return this.http.get(`${this.warehouseUrl}/${t}`)}createWarehouse(t){return this.http.post(this.warehouseUrl,t)}updateWarehouse(t,e){return this.http.put(`${this.warehouseUrl}/${t}`,e)}deleteWarehouse(t){return this.http.delete(`${this.warehouseUrl}/${t}`)}getAllBins(){return this.http.get(this.binUrl)}getBinsByWarehouse(t){return this.http.get(`${this.binUrl}/warehouse/${t}`)}getBinById(t){return this.http.get(`${this.binUrl}/${t}`)}createBin(t){return this.http.post(this.binUrl,t)}updateBin(t,e){return this.http.put(`${this.binUrl}/${t}`,e)}deleteBin(t){return this.http.delete(`${this.binUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function I5(n,t){n&1&&(o(0,"div",11),v(1,"i",12),o(2,"p"),l(3,"Loading warehouses..."),a()())}function D5(n,t){n&1&&(o(0,"div",11),v(1,"i",13),o(2,"p"),l(3,'No warehouses found. Click "Add Warehouse" to create one.'),a()())}function T5(n,t){n&1&&(o(0,"div",31)(1,"p"),l(2,"No bins in this warehouse. Bins are optional for organizing items within a warehouse."),a()())}function k5(n,t){if(n&1&&(o(0,"span"),l(1),a()),n&2){let e=d(2).$implicit;c(),E("Zone: ",e.zone)}}function R5(n,t){if(n&1&&(o(0,"span"),l(1),a()),n&2){let e=d(2).$implicit;c(),E(" | Aisle: ",e.aisle)}}function A5(n,t){if(n&1&&(o(0,"span"),l(1),a()),n&2){let e=d(2).$implicit;c(),E(" | Rack: ",e.rack)}}function N5(n,t){if(n&1&&(o(0,"span"),l(1),a()),n&2){let e=d(2).$implicit;c(),E(" | Shelf: ",e.shelf)}}function F5(n,t){if(n&1&&(o(0,"div",41)(1,"small"),M(2,k5,2,1,"span",42)(3,R5,2,1,"span",42)(4,A5,2,1,"span",42)(5,N5,2,1,"span",42),a()()),n&2){let e=d().$implicit;c(2),u("ngIf",e.zone),c(),u("ngIf",e.aisle),c(),u("ngIf",e.rack),c(),u("ngIf",e.shelf)}}function V5(n,t){if(n&1){let e=O();o(0,"div",32)(1,"div",33)(2,"strong"),l(3),a(),o(4,"div",34)(5,"button",35),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.editBin(r))}),v(6,"i",26),a(),o(7,"button",36),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.deleteBin(r.id))}),v(8,"i",37),a()()(),o(9,"p",38),l(10),a(),M(11,F5,6,4,"div",39),o(12,"span",40),l(13),a()()}if(n&2){let e=t.$implicit;c(3),f(e.code),c(7),f(e.name),c(),u("ngIf",e.zone||e.aisle||e.rack||e.shelf),c(),u("ngClass",e.status==="Active"?"badge-success":"badge-danger"),c(),E(" ",e.status," ")}}function L5(n,t){if(n&1){let e=O();o(0,"div",23)(1,"div",24)(2,"h4"),l(3),a(),o(4,"div",4)(5,"button",25),_("click",function(r){m(e);let s=d().$implicit;return d().openModal("warehouse",s),g(r.stopPropagation())}),v(6,"i",26),l(7," Edit Warehouse "),a(),o(8,"button",27),_("click",function(r){m(e);let s=d().$implicit;return d().openBinModal(s.id),g(r.stopPropagation())}),v(9,"i",6),l(10," Add Bin "),a()()(),o(11,"div",28),M(12,T5,3,0,"div",29)(13,V5,14,5,"div",30),a()()}if(n&2){let e=d().$implicit,i=d();c(3),E("Bins (",i.getBinsForWarehouse(e.id).length,")"),c(9),u("ngIf",i.getBinsForWarehouse(e.id).length===0),c(),u("ngForOf",i.getBinsForWarehouse(e.id))}}function U5(n,t){if(n&1){let e=O();o(0,"div",14)(1,"div",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.toggleWarehouse(r.id))}),o(2,"div",16)(3,"div",17),v(4,"i",13),a(),o(5,"div",18)(6,"h3"),l(7),a(),o(8,"p")(9,"strong"),l(10),a(),l(11),a()()(),o(12,"div",19)(13,"span",20),l(14),a(),v(15,"i",21),a()(),M(16,L5,14,3,"div",22),a()}if(n&2){let e=t.$implicit,i=d();c(7),f(e.name),c(3),f(e.code),c(),E(" - ",e.address||"No address"),c(2),u("ngClass",e.status==="Active"?"badge-success":"badge-danger"),c(),E(" ",e.status," "),c(),L("rotated",i.expandedWarehouse===e.id),c(),u("ngIf",i.expandedWarehouse===e.id)}}function B5(n,t){if(n&1&&(o(0,"div",62),l(1),a()),n&2){let e=d(2);c(),E(" ",e.errorMessage," ")}}function W5(n,t){n&1&&(o(0,"small",63),l(1,"Unique identifier for this warehouse"),a())}function j5(n,t){if(n&1){let e=O();o(0,"div",43),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",44),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",45)(3,"h2"),l(4),a(),o(5,"button",46),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",47),a()(),o(7,"div",48),M(8,B5,2,1,"div",49),o(9,"div",50)(10,"label"),l(11,"Warehouse Code "),o(12,"span",51),l(13,"*"),a()(),o(14,"input",52),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedWarehouse.code,r)||(s.selectedWarehouse.code=r),g(r)}),a(),M(15,W5,2,0,"small",53),a(),o(16,"div",50)(17,"label"),l(18,"Warehouse Name "),o(19,"span",51),l(20,"*"),a()(),o(21,"input",54),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedWarehouse.name,r)||(s.selectedWarehouse.name=r),g(r)}),a()(),o(22,"div",50)(23,"label"),l(24,"Address"),a(),o(25,"textarea",55),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedWarehouse.address,r)||(s.selectedWarehouse.address=r),g(r)}),a()(),o(26,"div",50)(27,"label"),l(28,"Status"),a(),o(29,"select",56),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedWarehouse.status,r)||(s.selectedWarehouse.status=r),g(r)}),o(30,"option",57),l(31,"Active"),a(),o(32,"option",58),l(33,"Inactive"),a()()()(),o(34,"div",59)(35,"button",60),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(36,"Cancel"),a(),o(37,"button",61),_("click",function(){m(e);let r=d();return g(r.saveWarehouse())}),l(38),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Warehouse":"Add Warehouse"),c(4),u("ngIf",e.errorMessage),c(6),C("ngModel",e.selectedWarehouse.code),u("readonly",e.editMode),c(),u("ngIf",!e.editMode),c(6),C("ngModel",e.selectedWarehouse.name),c(4),C("ngModel",e.selectedWarehouse.address),c(4),C("ngModel",e.selectedWarehouse.status),c(8),u("disabled",!e.isWarehouseFormValid()),c(),E(" ",e.editMode?"Update":"Save"," ")}}function q5(n,t){if(n&1&&(o(0,"div",62),l(1),a()),n&2){let e=d(2);c(),E(" ",e.errorMessage," ")}}function H5(n,t){n&1&&(o(0,"small",63),l(1,"Unique within this warehouse"),a())}function z5(n,t){if(n&1){let e=O();o(0,"div",43),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",44),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",45)(3,"h2"),l(4),a(),o(5,"button",46),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",47),a()(),o(7,"div",48),M(8,q5,2,1,"div",49),o(9,"div",50)(10,"label"),l(11,"Bin Code "),o(12,"span",51),l(13,"*"),a()(),o(14,"input",64),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedBin.code,r)||(s.selectedBin.code=r),g(r)}),a(),M(15,H5,2,0,"small",53),a(),o(16,"div",50)(17,"label"),l(18,"Bin Name "),o(19,"span",51),l(20,"*"),a()(),o(21,"input",65),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedBin.name,r)||(s.selectedBin.name=r),g(r)}),a()(),o(22,"div",66)(23,"div",50)(24,"label"),l(25,"Zone"),a(),o(26,"input",67),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedBin.zone,r)||(s.selectedBin.zone=r),g(r)}),a()(),o(27,"div",50)(28,"label"),l(29,"Aisle"),a(),o(30,"input",68),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedBin.aisle,r)||(s.selectedBin.aisle=r),g(r)}),a()()(),o(31,"div",66)(32,"div",50)(33,"label"),l(34,"Rack"),a(),o(35,"input",69),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedBin.rack,r)||(s.selectedBin.rack=r),g(r)}),a()(),o(36,"div",50)(37,"label"),l(38,"Shelf"),a(),o(39,"input",70),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedBin.shelf,r)||(s.selectedBin.shelf=r),g(r)}),a()()(),o(40,"div",50)(41,"label"),l(42,"Status"),a(),o(43,"select",56),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedBin.status,r)||(s.selectedBin.status=r),g(r)}),o(44,"option",57),l(45,"Active"),a(),o(46,"option",58),l(47,"Inactive"),a()()()(),o(48,"div",59)(49,"button",60),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(50,"Cancel"),a(),o(51,"button",61),_("click",function(){m(e);let r=d();return g(r.saveBin())}),l(52),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Bin":"Add Bin"),c(4),u("ngIf",e.errorMessage),c(6),C("ngModel",e.selectedBin.code),u("readonly",e.editMode),c(),u("ngIf",!e.editMode),c(6),C("ngModel",e.selectedBin.name),c(5),C("ngModel",e.selectedBin.zone),c(4),C("ngModel",e.selectedBin.aisle),c(5),C("ngModel",e.selectedBin.rack),c(4),C("ngModel",e.selectedBin.shelf),c(4),C("ngModel",e.selectedBin.status),c(8),u("disabled",!e.isBinFormValid()),c(),E(" ",e.editMode?"Update":"Save"," ")}}var vu=class n{constructor(t,e,i){this.warehouseService=t;this.settingsService=e;this.notificationService=i}warehouses=[];warehouseBins={};expandedWarehouse=null;showModal=!1;modalType="";editMode=!1;selectedWarehouse=this.getEmptyWarehouse();selectedBin=this.getEmptyBin();loading=!1;errorMessage="";ngOnInit(){this.loadWarehouses()}loadWarehouses(){this.loading=!0,this.warehouseService.getAllWarehouses().subscribe({next:t=>{this.warehouses=t,this.loading=!1},error:t=>{console.error("Error loading warehouses",t),this.loading=!1}})}loadBinsForWarehouse(t){this.warehouseService.getBinsByWarehouse(t).subscribe({next:e=>{this.warehouseBins[t]=e},error:e=>console.error("Error loading bins",e)})}getEmptyWarehouse(){return{code:"",name:"",address:"",status:"Active"}}getEmptyBin(){return{code:"",name:"",zone:"",aisle:"",rack:"",shelf:"",status:"Active"}}toggleWarehouse(t){this.expandedWarehouse===t?this.expandedWarehouse=null:(this.expandedWarehouse=t,this.warehouseBins[t]||this.loadBinsForWarehouse(t))}openModal(t,e){this.modalType=t,this.errorMessage="",t==="warehouse"?e?(this.editMode=!0,this.selectedWarehouse=T({},e)):(this.editMode=!1,this.selectedWarehouse=this.getEmptyWarehouse(),this.generateWarehouseCode()):t==="bin"&&(e?(this.editMode=!0,this.selectedBin=T({},e)):(this.editMode=!1,this.selectedBin=this.getEmptyBin(),this.generateBinCode())),this.showModal=!0}generateWarehouseCode(){this.settingsService.generatePrefixId("warehouse").subscribe({next:t=>{this.selectedWarehouse.code=t},error:t=>console.error("Error generating warehouse code",t)})}generateBinCode(){this.settingsService.generatePrefixId("bin").subscribe({next:t=>{this.selectedBin.code=t},error:t=>console.error("Error generating bin code",t)})}closeModal(){this.showModal=!1,this.errorMessage=""}isWarehouseFormValid(){return this.selectedWarehouse.code.trim()!==""&&this.selectedWarehouse.name.trim()!==""}isBinFormValid(){return this.selectedBin.code.trim()!==""&&this.selectedBin.name.trim()!==""}saveWarehouse(){if(!this.isWarehouseFormValid()){this.notificationService.error("Warehouse Code and Name are required");return}this.editMode&&this.selectedWarehouse.id?this.warehouseService.updateWarehouse(this.selectedWarehouse.id,this.selectedWarehouse).subscribe({next:()=>{this.notificationService.success("Warehouse updated successfully"),this.loadWarehouses(),this.closeModal()},error:t=>{this.notificationService.error(t.error?.error||"Error updating warehouse")}}):this.warehouseService.createWarehouse(this.selectedWarehouse).subscribe({next:()=>{this.notificationService.success("Warehouse created successfully"),this.loadWarehouses(),this.closeModal()},error:t=>{this.notificationService.error(t.error?.error||"Error creating warehouse")}})}saveBin(){if(!this.isBinFormValid()){this.notificationService.error("Bin Code and Name are required");return}this.editMode&&this.selectedBin.id?this.warehouseService.updateBin(this.selectedBin.id,this.selectedBin).subscribe({next:()=>{this.notificationService.success("Bin updated successfully"),this.expandedWarehouse&&this.loadBinsForWarehouse(this.expandedWarehouse),this.closeModal()},error:t=>{this.notificationService.error(t.error?.error||"Error updating bin")}}):(this.selectedBin.warehouseId=this.expandedWarehouse||void 0,this.warehouseService.createBin(this.selectedBin).subscribe({next:()=>{this.notificationService.success("Bin created successfully"),this.expandedWarehouse&&this.loadBinsForWarehouse(this.expandedWarehouse),this.closeModal()},error:t=>{this.notificationService.error(t.error?.error||"Error creating bin")}}))}deleteWarehouse(t){confirm("Are you sure you want to delete this warehouse? All bins inside will also be deleted.")&&this.warehouseService.deleteWarehouse(t).subscribe({next:()=>{this.notificationService.success("Warehouse deleted successfully"),this.loadWarehouses()},error:e=>{this.notificationService.error(e.error?.error||"Error deleting warehouse")}})}deleteBin(t){confirm("Are you sure you want to delete this bin?")&&this.warehouseService.deleteBin(t).subscribe({next:()=>{this.notificationService.success("Bin deleted successfully"),this.expandedWarehouse&&this.loadBinsForWarehouse(this.expandedWarehouse)},error:e=>{this.notificationService.error(e.error?.error||"Error deleting bin")}})}getBinsForWarehouse(t){return this.warehouseBins[t]||[]}openBinModal(t){this.selectedBin=this.getEmptyBin(),this.selectedBin.warehouseId=t,this.modalType="bin",this.editMode=!1,this.errorMessage="",this.generateBinCode(),this.showModal=!0}editBin(t){this.modalType="bin",this.editMode=!0,this.selectedBin=T({},t),this.errorMessage="",this.showModal=!0}static \u0275fac=function(e){return new(e||n)(w(Ke),w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-warehouse-bin"]],standalone:!1,decls:26,vars:5,consts:[[1,"inventory-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"header-actions"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"warehouse-list"],["class","empty-state",4,"ngIf"],["class","warehouse-card",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"empty-state"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-warehouse"],[1,"warehouse-card"],[1,"warehouse-header",3,"click"],[1,"warehouse-info"],[1,"warehouse-icon"],[1,"warehouse-details"],[1,"warehouse-stats"],[1,"badge",3,"ngClass"],[1,"fas","fa-chevron-down","expand-icon"],["class","bins-section",4,"ngIf"],[1,"bins-section"],[1,"bins-header"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bins-grid"],["class","empty-bins",4,"ngIf"],["class","bin-card",4,"ngFor","ngForOf"],[1,"empty-bins"],[1,"bin-card"],[1,"bin-header"],[1,"bin-actions"],["title","Edit",1,"btn","btn-sm","btn-secondary",3,"click"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"bin-name"],["class","bin-location",4,"ngIf"],[1,"badge","badge-sm",3,"ngClass"],[1,"bin-location"],[4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],[1,"required"],["type","text","placeholder","e.g., WH-001",1,"form-control",3,"ngModelChange","ngModel","readonly"],["class","form-hint",4,"ngIf"],["type","text","placeholder","e.g., Main Warehouse",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Full address (optional)","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[1,"alert","alert-danger"],[1,"form-hint"],["type","text","placeholder","e.g., BIN-A1",1,"form-control",3,"ngModelChange","ngModel","readonly"],["type","text","placeholder","e.g., Storage Bin A1",1,"form-control",3,"ngModelChange","ngModel"],[1,"grid-2"],["type","text","placeholder","e.g., A, B, C (optional)",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., 1, 2, 3 (optional)",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., R1, R2 (optional)",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., S1, S2 (optional)",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Warehouse & Bin Management"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Inventory"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Warehouse"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.openModal("warehouse")}),v(18,"i",6),l(19," Add Warehouse "),a()()(),o(20,"div",7),M(21,I5,4,0,"div",8)(22,D5,4,0,"div",8)(23,U5,17,8,"div",9),a()(),M(24,j5,39,10,"div",10)(25,z5,53,13,"div",10)),e&2&&(c(21),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.warehouses.length===0),c(),u("ngForOf",i.warehouses),c(),u("ngIf",i.showModal&&i.modalType==="warehouse"),c(),u("ngIf",i.showModal&&i.modalType==="bin"))},dependencies:[ae,A,N,z,G,B,H,V,F,Z],styles:[".header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.warehouse-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.warehouse-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 10px #00000014;overflow:hidden}.warehouse-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;cursor:pointer;transition:background .3s ease}.warehouse-header[_ngcontent-%COMP%]:hover{background:#f8f9fa}.warehouse-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.warehouse-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;background:#00796b1a;display:flex;align-items:center;justify-content:center;color:#00796b;font-size:1.5rem}.warehouse-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:4px}.warehouse-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.warehouse-stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}.usage-info[_ngcontent-%COMP%]{text-align:right}.usage-info[_ngcontent-%COMP%]   .usage-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;display:block;margin-bottom:8px}.usage-bar[_ngcontent-%COMP%]{width:150px;height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden}.usage-bar.small[_ngcontent-%COMP%]{width:100%;height:6px}.usage-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease}.usage-fill.normal[_ngcontent-%COMP%]{background:#28a745}.usage-fill.warning[_ngcontent-%COMP%]{background:#ffc107}.usage-fill.critical[_ngcontent-%COMP%]{background:#dc3545}.expand-icon[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;transition:transform .3s ease}.expand-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.bins-section[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding:20px;background:#f8f9fa}.bins-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.bins-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.bins-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}.bin-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;box-shadow:0 1px 4px #0000000d}.bin-card[_ngcontent-%COMP%]   .bin-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.bin-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d;margin-bottom:12px}.bin-card[_ngcontent-%COMP%]   .bin-usage[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d;display:block;margin-bottom:6px}"]})};function G5(n,t){n&1&&(o(0,"tr")(1,"td",16),v(2,"i",17),o(3,"p"),l(4,"Loading..."),a()()())}function $5(n,t){n&1&&(o(0,"tr")(1,"td",16),v(2,"i",18),o(3,"p"),l(4,'No suppliers found. Click "Add Supplier" to create one.'),a()()())}function Q5(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td")(5,"div",19)(6,"div",20),l(7),a(),o(8,"span"),l(9),a()()(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td"),l(15),a(),o(16,"td")(17,"span",21),l(18),a()(),o(19,"td")(20,"div",22)(21,"button",23),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(22,"i",24),a(),o(23,"button",25),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteSupplier(r.id))}),v(24,"i",26),a()()()()}if(n&2){let e=t.$implicit;c(3),f(e.code),c(4),f(e.name.charAt(0)),c(2),f(e.name),c(2),f(e.contactPerson),c(2),f(e.email),c(2),f(e.phone),c(2),u("ngClass",e.status==="Active"?"badge-success":"badge-danger"),c(),E(" ",e.status," ")}}function J5(n,t){if(n&1){let e=O();o(0,"div",27),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",28),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",29)(3,"h2"),l(4),a(),o(5,"button",30),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",31),a()(),o(7,"div",32)(8,"div",33)(9,"div",34)(10,"label"),l(11,"Supplier Code"),a(),o(12,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplier.code,r)||(s.selectedSupplier.code=r),g(r)}),a()(),o(13,"div",34)(14,"label"),l(15,"Supplier Name"),a(),o(16,"input",36),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplier.name,r)||(s.selectedSupplier.name=r),g(r)}),a()()(),o(17,"div",34)(18,"label"),l(19,"Contact Person"),a(),o(20,"input",37),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplier.contactPerson,r)||(s.selectedSupplier.contactPerson=r),g(r)}),a()(),o(21,"div",33)(22,"div",34)(23,"label"),l(24,"Email"),a(),o(25,"input",38),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplier.email,r)||(s.selectedSupplier.email=r),g(r)}),a()(),o(26,"div",34)(27,"label"),l(28,"Phone"),a(),o(29,"input",39),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplier.phone,r)||(s.selectedSupplier.phone=r),g(r)}),a()()(),o(30,"div",34)(31,"label"),l(32,"Address"),a(),o(33,"textarea",40),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplier.address,r)||(s.selectedSupplier.address=r),g(r)}),a()(),o(34,"div",33)(35,"div",34)(36,"label"),l(37,"Payment Terms"),a(),o(38,"input",41),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplier.paymentTerms,r)||(s.selectedSupplier.paymentTerms=r),g(r)}),a()(),o(39,"div",34)(40,"label"),l(41,"Status"),a(),o(42,"select",42),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplier.status,r)||(s.selectedSupplier.status=r),g(r)}),o(43,"option",43),l(44,"Active"),a(),o(45,"option",44),l(46,"Inactive"),a()()()()(),o(47,"div",45)(48,"button",46),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(49,"Cancel"),a(),o(50,"button",4),_("click",function(){m(e);let r=d();return g(r.saveSupplier())}),l(51),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Supplier":"Add Supplier"),c(8),C("ngModel",e.selectedSupplier.code),c(4),C("ngModel",e.selectedSupplier.name),c(4),C("ngModel",e.selectedSupplier.contactPerson),c(5),C("ngModel",e.selectedSupplier.email),c(4),C("ngModel",e.selectedSupplier.phone),c(4),C("ngModel",e.selectedSupplier.address),c(5),C("ngModel",e.selectedSupplier.paymentTerms),c(4),C("ngModel",e.selectedSupplier.status),c(9),f(e.editMode?"Update":"Save")}}var yu=class n{constructor(t,e){this.supplierService=t;this.settingsService=e}suppliers=[];searchQuery="";showModal=!1;editMode=!1;selectedSupplier=this.getEmptySupplier();loading=!1;ngOnInit(){this.loadSuppliers()}loadSuppliers(){this.loading=!0,this.supplierService.getAll().subscribe({next:t=>{this.suppliers=t,this.loading=!1},error:t=>{console.error("Error loading suppliers",t),this.loading=!1}})}get filteredSuppliers(){return this.searchQuery?this.suppliers.filter(t=>t.name.toLowerCase().includes(this.searchQuery.toLowerCase())||t.code.toLowerCase().includes(this.searchQuery.toLowerCase())):this.suppliers}getEmptySupplier(){return{code:"",name:"",contactPerson:"",email:"",phone:"",address:"",paymentTerms:"",status:"Active"}}openModal(t){t?(this.editMode=!0,this.selectedSupplier=T({},t)):(this.editMode=!1,this.selectedSupplier=this.getEmptySupplier(),this.generateSupplierCode()),this.showModal=!0}generateSupplierCode(){this.settingsService.generatePrefixId("supplier").subscribe({next:t=>{this.selectedSupplier.code=t},error:t=>console.error("Error generating supplier code",t)})}closeModal(){this.showModal=!1,this.selectedSupplier=this.getEmptySupplier()}saveSupplier(){this.editMode&&this.selectedSupplier.id?this.supplierService.update(this.selectedSupplier.id,this.selectedSupplier).subscribe({next:()=>{this.loadSuppliers(),this.closeModal()},error:t=>console.error("Error updating supplier",t)}):this.supplierService.create(this.selectedSupplier).subscribe({next:()=>{this.loadSuppliers(),this.closeModal()},error:t=>console.error("Error creating supplier",t)})}deleteSupplier(t){confirm("Are you sure you want to delete this supplier?")&&this.supplierService.delete(t).subscribe({next:()=>this.loadSuppliers(),error:e=>console.error("Error deleting supplier",e)})}getStatusClass(t){return t==="Active"?"badge-success":"badge-danger"}static \u0275fac=function(e){return new(e||n)(w(It),w(ke))};static \u0275cmp=k({type:n,selectors:[["app-supplier"]],standalone:!1,decls:47,vars:5,consts:[[1,"inventory-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"card-header-row"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search suppliers...",3,"ngModelChange","ngModel"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","7",1,"empty-state"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-truck"],[1,"supplier-info"],[1,"avatar"],[1,"badge",3,"ngClass"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"grid-2"],[1,"form-group"],["type","text","placeholder","SUP-001",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Company name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Contact name",1,"form-control",3,"ngModelChange","ngModel"],["type","email","placeholder","email@example.com",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","+1 234 567 890",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Full address",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Net 30",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Supplier Management"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Inventory"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Suppliers"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," Add Supplier "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8),v(22,"i",9),o(23,"input",10),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()(),o(24,"div",11)(25,"table",12)(26,"thead")(27,"tr")(28,"th"),l(29,"Code"),a(),o(30,"th"),l(31,"Supplier"),a(),o(32,"th"),l(33,"Contact Person"),a(),o(34,"th"),l(35,"Email"),a(),o(36,"th"),l(37,"Phone"),a(),o(38,"th"),l(39,"Status"),a(),o(40,"th"),l(41,"Actions"),a()()(),o(42,"tbody"),M(43,G5,5,0,"tr",13)(44,$5,5,0,"tr",13)(45,Q5,25,8,"tr",14),a()()()()(),M(46,J5,52,10,"div",15)),e&2&&(c(23),C("ngModel",i.searchQuery),c(20),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.filteredSuppliers.length===0),c(),u("ngForOf",i.filteredSuppliers),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,H,V,F,Z],styles:[".card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}.filter-group[_ngcontent-%COMP%]{display:flex;gap:12px}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:auto;min-width:150px}.supplier-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.supplier-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#00796b,#004d40);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:600}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.contact-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.contact-info[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e0e0e0;font-size:.8rem}.rating[_ngcontent-%COMP%]   i.filled[_ngcontent-%COMP%]{color:#ffc107}.rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:4px;font-size:.875rem;color:#6c757d}"]})};function K5(n,t){n&1&&v(0,"span",26)}function Y5(n,t){if(n&1){let e=O();o(0,"div",22),_("click",function(){let r=m(e).$implicit,s=d();return g(s.setValuationMethod(r.id))}),o(1,"div",23),M(2,K5,1,0,"span",24),a(),o(3,"div",25)(4,"h4"),l(5),a(),o(6,"p"),l(7),a()()()}if(n&2){let e=t.$implicit;L("active",e.active),c(2),u("ngIf",e.active),c(3),f(e.name),c(2),f(e.description)}}function Z5(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"strong"),l(9),a()(),o(10,"td")(11,"span",27),l(12),a()()()),n&2){let e=t.$implicit;c(2),f(e.item),c(2),f(e.quantity),c(2),E("$",e.avgCost),c(3),E("$",e.totalValue.toLocaleString()),c(3),f(e.method)}}var Cu=class n{valuationMethods=[{id:1,name:"FIFO",description:"First In First Out",active:!0},{id:2,name:"LIFO",description:"Last In First Out",active:!1},{id:3,name:"Weighted Average",description:"Average cost method",active:!1},{id:4,name:"Standard Cost",description:"Predetermined standard cost",active:!1}];valuationData=[{item:"Laptop Dell XPS",quantity:25,avgCost:800,totalValue:2e4,method:"FIFO"},{item:"Office Chair",quantity:40,avgCost:150,totalValue:6e3,method:"FIFO"},{item:"A4 Paper Ream",quantity:500,avgCost:5,totalValue:2500,method:"Weighted Avg"},{item:"Steel Sheet",quantity:1e3,avgCost:2,totalValue:2e3,method:"FIFO"},{item:"Cardboard Box",quantity:2e3,avgCost:.5,totalValue:1e3,method:"Weighted Avg"}];totalValue=31500;setValuationMethod(t){this.valuationMethods.forEach(e=>e.active=e.id===t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-inventory-valuation"]],standalone:!1,decls:78,vars:4,consts:[[1,"inventory-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"grid-2"],[1,"card"],[1,"card-title"],[1,"method-list"],["class","method-item",3,"active","click",4,"ngFor","ngForOf"],[1,"card","total-value-card"],[1,"total-value"],[1,"fas","fa-coins"],[1,"value-info"],[1,"value-breakdown"],[1,"breakdown-item"],[1,"card-header-row"],[1,"btn","btn-primary","btn-sm"],[1,"fas","fa-download"],[1,"table-container"],[1,"table"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"method-item",3,"click"],[1,"method-radio"],["class","radio-dot",4,"ngIf"],[1,"method-info"],[1,"radio-dot"],[1,"badge","badge-info"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Inventory Valuation Engine"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Inventory"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Valuation"),a()()()(),o(16,"div",4)(17,"div",5)(18,"h3",6),l(19,"Valuation Methods"),a(),o(20,"div",7),M(21,Y5,8,5,"div",8),a()(),o(22,"div",9)(23,"div",10),v(24,"i",11),o(25,"div",12)(26,"span"),l(27,"Total Inventory Value"),a(),o(28,"h2"),l(29),a()()(),o(30,"div",13)(31,"div",14)(32,"span"),l(33,"Raw Materials"),a(),o(34,"strong"),l(35,"$3,000"),a()(),o(36,"div",14)(37,"span"),l(38,"Finished Goods"),a(),o(39,"strong"),l(40,"$26,000"),a()(),o(41,"div",14)(42,"span"),l(43,"Packaging"),a(),o(44,"strong"),l(45,"$2,500"),a()()()()(),o(46,"div",5)(47,"div",15)(48,"h3"),l(49,"Item Valuation Details"),a(),o(50,"button",16),v(51,"i",17),l(52," Export "),a()(),o(53,"div",18)(54,"table",19)(55,"thead")(56,"tr")(57,"th"),l(58,"Item"),a(),o(59,"th"),l(60,"Quantity"),a(),o(61,"th"),l(62,"Avg. Cost"),a(),o(63,"th"),l(64,"Total Value"),a(),o(65,"th"),l(66,"Method"),a()()(),o(67,"tbody"),M(68,Z5,13,5,"tr",20),a(),o(69,"tfoot")(70,"tr")(71,"td",21)(72,"strong"),l(73,"Total"),a()(),o(74,"td")(75,"strong"),l(76),a()(),v(77,"td"),a()()()()()()),e&2&&(c(21),u("ngForOf",i.valuationMethods),c(8),E("$",i.totalValue.toLocaleString()),c(39),u("ngForOf",i.valuationData),c(8),E("$",i.totalValue.toLocaleString()))},dependencies:[A,N,Z],styles:[".card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:20px}.method-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.method-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .3s ease}.method-item[_ngcontent-%COMP%]:hover{border-color:#00796b}.method-item.active[_ngcontent-%COMP%]{border-color:#00796b;background:#00796b0d}.method-radio[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e0e0e0;border-radius:50%;display:flex;align-items:center;justify-content:center}.method-item.active[_ngcontent-%COMP%]   .method-radio[_ngcontent-%COMP%]{border-color:#00796b}.method-radio[_ngcontent-%COMP%]   .radio-dot[_ngcontent-%COMP%]{width:10px;height:10px;background:#00796b;border-radius:50%}.method-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;margin-bottom:4px}.method-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d}.total-value-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.total-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:24px;background:linear-gradient(135deg,#00796b,#004d40);border-radius:8px;color:#fff;margin-bottom:20px}.total-value[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;opacity:.9}.total-value[_ngcontent-%COMP%]   .value-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9}.total-value[_ngcontent-%COMP%]   .value-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-top:4px}.value-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid #e0e0e0}.breakdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.breakdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d}.breakdown-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.card-header-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600;background:#f8f9fa}"]})};var Mi=class n{constructor(t){this.http=t}baseUrl="/api/inventory/ledger";getAll(t){let e=new wt;return t&&(t.itemId&&(e=e.set("itemId",t.itemId.toString())),t.warehouseId&&(e=e.set("warehouseId",t.warehouseId.toString())),t.startDate&&(e=e.set("startDate",t.startDate)),t.endDate&&(e=e.set("endDate",t.endDate))),this.http.get(this.baseUrl,{params:e})}getByItem(t){return this.http.get(`${this.baseUrl}/item/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function X5(n,t){if(n&1&&(o(0,"option",10),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),ne("",e.code," - ",e.name)}}function eR(n,t){if(n&1&&(o(0,"option",10),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),ne("",e.code," - ",e.name)}}function tR(n,t){n&1&&(o(0,"div",24),v(1,"div",25),o(2,"span"),l(3,"Loading ledger entries..."),a()())}function nR(n,t){n&1&&(o(0,"tr")(1,"td",26),l(2,"No ledger entries found"),a()())}function iR(n,t){if(n&1){let e=O();o(0,"tr",27),_("click",function(){let r=m(e).$implicit,s=d();return g(s.drillDown(r))}),o(1,"td"),l(2),a(),o(3,"td")(4,"a",28),l(5),a()(),o(6,"td")(7,"div",29)(8,"span",30),l(9),a(),o(10,"span",31),l(11),a()()(),o(12,"td")(13,"span",32),l(14),a()(),o(15,"td",33),l(16),a(),o(17,"td",34),l(18),a(),o(19,"td",20)(20,"strong"),l(21),a()(),o(22,"td",20),l(23),a(),o(24,"td",20),l(25),a(),o(26,"td"),l(27),a(),o(28,"td"),l(29),a()()}if(n&2){let e=t.$implicit,i=d();c(2),f(i.formatDate(e.transactionDate)),c(3),f(e.referenceNumber),c(4),f(e.item==null?null:e.item.code),c(2),f(e.item==null?null:e.item.name),c(2),u("ngClass",i.getTypeClass(e.transactionType)),c(),E(" ",i.getTypeLabel(e.transactionType)," "),c(2),E(" ",e.quantityIn>0?"+"+e.quantityIn:"-"," "),c(2),E(" ",e.quantityOut>0?"-"+e.quantityOut:"-"," "),c(3),f(e.balanceQuantity),c(2),f(i.formatCurrency(e.unitValue)),c(),L("positive",e.totalValue>0)("negative",e.totalValue<0),c(),E(" ",i.formatCurrency(e.totalValue)," "),c(2),f((e.warehouse==null?null:e.warehouse.name)||"-"),c(2),f(e.remarks||"-")}}function rR(n,t){if(n&1&&(o(0,"div",35)(1,"span",36)(2,"strong"),l(3,"Total Entries:"),a(),l(4),a()()),n&2){let e=d();c(4),E(" ",e.ledgerEntries.length," ")}}var bu=class n{constructor(t,e,i,r){this.ledgerService=t;this.itemService=e;this.warehouseService=i;this.router=r}ledgerEntries=[];items=[];warehouses=[];loading=!1;selectedItemId=null;selectedWarehouseId=null;dateFrom="";dateTo="";ngOnInit(){this.loadItems(),this.loadWarehouses(),this.loadLedger()}loadItems(){this.itemService.getAll().subscribe({next:t=>this.items=t,error:t=>console.error("Error loading items",t)})}loadWarehouses(){this.warehouseService.getAll().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}loadLedger(){this.loading=!0;let t={};this.selectedItemId&&(t.itemId=this.selectedItemId),this.selectedWarehouseId&&(t.warehouseId=this.selectedWarehouseId),this.dateFrom&&(t.startDate=this.dateFrom),this.dateTo&&(t.endDate=this.dateTo),this.ledgerService.getAll(t).subscribe({next:e=>{this.ledgerEntries=e,this.loading=!1},error:e=>{console.error("Error loading ledger",e),this.loading=!1}})}applyFilter(){this.loadLedger()}clearFilters(){this.selectedItemId=null,this.selectedWarehouseId=null,this.dateFrom="",this.dateTo="",this.loadLedger()}getTypeClass(t){return{GOODS_RECEIPT:"badge-success",GOODS_ISSUE:"badge-danger",TRANSFER_IN:"badge-info",TRANSFER_OUT:"badge-warning",ADJUSTMENT:"badge-secondary"}[t]||"badge-info"}getTypeLabel(t){return{GOODS_RECEIPT:"Goods Receipt",GOODS_ISSUE:"Goods Issue",TRANSFER_IN:"Transfer In",TRANSFER_OUT:"Transfer Out",ADJUSTMENT:"Adjustment"}[t]||t}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}formatCurrency(t){return t==null?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}drillDown(t){let e=t.referenceNumber;if(!e)return;let i={search:e};e.startsWith("GRN")?this.router.navigate(["/app/stock/grn"],{queryParams:i}):e.startsWith("ISS")||e.startsWith("GI")?this.router.navigate(["/app/stock/issue"],{queryParams:i}):e.startsWith("TRF")||e.startsWith("ST")?this.router.navigate(["/app/stock/transfer"],{queryParams:i}):(e.startsWith("ADJ")||e.startsWith("SA"))&&this.router.navigate(["/app/stock/adjustment"],{queryParams:i})}exportLedger(){let t=this.generateCSV(),e=new Blob([t],{type:"text/csv"}),i=window.URL.createObjectURL(e),r=document.createElement("a");r.href=i,r.download=`inventory-ledger-${new Date().toISOString().split("T")[0]}.csv`,r.click(),window.URL.revokeObjectURL(i)}generateCSV(){let t=["Date","Document No","Item","Transaction Type","In Qty","Out Qty","Balance Qty","Rate","Value","Warehouse","Remarks"],e=this.ledgerEntries.map(i=>[this.formatDate(i.transactionDate),i.referenceNumber,i.item?.name||"-",this.getTypeLabel(i.transactionType),i.quantityIn||0,i.quantityOut||0,i.balanceQuantity||0,i.unitValue||0,i.totalValue||0,i.warehouse?.name||"-",i.remarks||""]);return[t,...e].map(i=>i.join(",")).join(`
`)}static \u0275fac=function(e){return new(e||n)(w(Mi),w(Ve),w(Ke),w(ue))};static \u0275cmp=k({type:n,selectors:[["app-inventory-ledger"]],standalone:!1,decls:82,vars:12,consts:[[1,"inventory-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-download"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"filter-buttons"],[1,"fas","fa-filter"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"table-container"],["class","loading-overlay",4,"ngIf"],[1,"table"],[1,"text-right"],[4,"ngIf"],["class","ledger-row",3,"click",4,"ngFor","ngForOf"],["class","ledger-summary",4,"ngIf"],[1,"loading-overlay"],[1,"spinner"],["colspan","11",1,"text-center","text-muted"],[1,"ledger-row",3,"click"],[1,"doc-link"],[1,"item-info"],[1,"item-code"],[1,"item-name"],[1,"badge",3,"ngClass"],[1,"text-right","qty-in"],[1,"text-right","qty-out"],[1,"ledger-summary"],[1,"summary-item"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Inventory Ledger"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Inventory"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Ledger"),a()()(),o(16,"button",4),_("click",function(){return i.exportLedger()}),v(17,"i",5),l(18," Export CSV "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8)(22,"label"),l(23,"Item"),a(),o(24,"select",9),x("ngModelChange",function(s){return b(i.selectedItemId,s)||(i.selectedItemId=s),s}),o(25,"option",10),l(26,"All Items"),a(),M(27,X5,2,3,"option",11),a()(),o(28,"div",8)(29,"label"),l(30,"Warehouse"),a(),o(31,"select",9),x("ngModelChange",function(s){return b(i.selectedWarehouseId,s)||(i.selectedWarehouseId=s),s}),o(32,"option",10),l(33,"All Warehouses"),a(),M(34,eR,2,3,"option",11),a()(),o(35,"div",8)(36,"label"),l(37,"From Date"),a(),o(38,"input",12),x("ngModelChange",function(s){return b(i.dateFrom,s)||(i.dateFrom=s),s}),a()(),o(39,"div",8)(40,"label"),l(41,"To Date"),a(),o(42,"input",12),x("ngModelChange",function(s){return b(i.dateTo,s)||(i.dateTo=s),s}),a()(),o(43,"div",13)(44,"button",4),_("click",function(){return i.applyFilter()}),v(45,"i",14),l(46," Apply "),a(),o(47,"button",15),_("click",function(){return i.clearFilters()}),v(48,"i",16),l(49," Clear "),a()()()(),o(50,"div",6)(51,"div",17),M(52,tR,4,0,"div",18),o(53,"table",19)(54,"thead")(55,"tr")(56,"th"),l(57,"Date"),a(),o(58,"th"),l(59,"Document No."),a(),o(60,"th"),l(61,"Item"),a(),o(62,"th"),l(63,"Transaction Type"),a(),o(64,"th",20),l(65,"In Qty"),a(),o(66,"th",20),l(67,"Out Qty"),a(),o(68,"th",20),l(69,"Balance Qty"),a(),o(70,"th",20),l(71,"Rate"),a(),o(72,"th",20),l(73,"Value"),a(),o(74,"th"),l(75,"Warehouse"),a(),o(76,"th"),l(77,"Reference"),a()()(),o(78,"tbody"),M(79,nR,3,0,"tr",21)(80,iR,30,17,"tr",22),a()()(),M(81,rR,5,1,"div",23),a()()),e&2&&(c(24),C("ngModel",i.selectedItemId),c(),u("ngValue",null),c(2),u("ngForOf",i.items),c(4),C("ngModel",i.selectedWarehouseId),c(),u("ngValue",null),c(2),u("ngForOf",i.warehouses),c(4),C("ngModel",i.dateFrom),c(4),C("ngModel",i.dateTo),c(10),u("ngIf",i.loading),c(27),u("ngIf",i.ledgerEntries.length===0&&!i.loading),c(),u("ngForOf",i.ledgerEntries),c(),u("ngIf",i.ledgerEntries.length>0))},dependencies:[ae,A,N,z,G,B,H,V,F,Z],styles:[".filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filters-row[_ngcontent-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;height:46px;align-items:center}.qty-in[_ngcontent-%COMP%]{color:#28a745;font-weight:500}.qty-out[_ngcontent-%COMP%]{color:#dc3545;font-weight:500}.positive[_ngcontent-%COMP%]{color:#28a745}.negative[_ngcontent-%COMP%]{color:#dc3545}.card[_ngcontent-%COMP%]{margin-bottom:24px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;z-index:10}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #e0e0e0;border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.ledger-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .15s ease}.ledger-row[_ngcontent-%COMP%]:hover{background-color:#0080800d}.doc-link[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;text-decoration:none}.doc-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.item-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.item-info[_ngcontent-%COMP%]   .item-code[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.item-info[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500}.text-right[_ngcontent-%COMP%]{text-align:right}.text-center[_ngcontent-%COMP%]{text-align:center}.text-muted[_ngcontent-%COMP%]{color:var(--text-secondary);padding:40px 0}.ledger-summary[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:16px 0 0;border-top:1px solid var(--border-color);margin-top:16px}.ledger-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary)}.badge-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}"]})};var Bn=class n{constructor(t){this.http=t}baseUrl="/api/stock-movement";getAllGRN(){return this.http.get(`${this.baseUrl}/grn`)}getGRNById(t){return this.http.get(`${this.baseUrl}/grn/${t}`)}createGRN(t){return this.http.post(`${this.baseUrl}/grn`,t)}deleteGRN(t){return this.http.delete(`${this.baseUrl}/grn/${t}`)}getAllIssues(){return this.http.get(`${this.baseUrl}/issues`)}getIssueById(t){return this.http.get(`${this.baseUrl}/issues/${t}`)}createIssue(t){return this.http.post(`${this.baseUrl}/issues`,t)}deleteIssue(t){return this.http.delete(`${this.baseUrl}/issues/${t}`)}getAllTransfers(){return this.http.get(`${this.baseUrl}/transfers`)}getTransferById(t){return this.http.get(`${this.baseUrl}/transfers/${t}`)}createTransfer(t){return this.http.post(`${this.baseUrl}/transfers`,t)}deleteTransfer(t){return this.http.delete(`${this.baseUrl}/transfers/${t}`)}getAllAdjustments(){return this.http.get(`${this.baseUrl}/adjustments`)}getAdjustmentById(t){return this.http.get(`${this.baseUrl}/adjustments/${t}`)}createAdjustment(t){return this.http.post(`${this.baseUrl}/adjustments`,t)}deleteAdjustment(t){return this.http.delete(`${this.baseUrl}/adjustments/${t}`)}approveAdjustment(t){return this.http.post(`${this.baseUrl}/adjustments/${t}/approve`,{})}rejectAdjustment(t){return this.http.post(`${this.baseUrl}/adjustments/${t}/reject`,{})}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Dt=class n{constructor(t){this.http=t}baseUrl="/api/purchase/fulfillment";fulfillmentsSubject=new Ze([]);fulfillments$=this.fulfillmentsSubject.asObservable();getAll(){return this.http.get(this.baseUrl)}getAllPOs(){return this.http.get(`${this.baseUrl}/pos`)}getPOById(t){return this.http.get(`${this.baseUrl}/pos/${t}`)}getByPrId(t){return this.http.get(`${this.baseUrl}/pr/${t}`)}getFulfillmentHistory(t){return this.http.get(`${this.baseUrl}/pr/${t}/history`)}createPOFulfillment(t){return this.http.post(`${this.baseUrl}/convert-to-po`,t)}createStockIssueFulfillment(t){return this.http.post(`${this.baseUrl}/stock-issue`,t)}createMaterialTransferFulfillment(t){return this.http.post(`${this.baseUrl}/material-transfer`,t)}generatePONumber(){let e=new Date,i=e.getFullYear().toString().slice(-2),r=(e.getMonth()+1).toString().padStart(2,"0"),s=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`PO-${i}${r}${s}`}generateIssueNumber(){let e=new Date,i=e.getFullYear().toString().slice(-2),r=(e.getMonth()+1).toString().padStart(2,"0"),s=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`SI-${i}${r}${s}`}generateTransferNumber(){let e=new Date,i=e.getFullYear().toString().slice(-2),r=(e.getMonth()+1).toString().padStart(2,"0"),s=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`MT-${i}${r}${s}`}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function oR(n,t){n&1&&(o(0,"div",22),l(1,"Loading..."),a())}function aR(n,t){n&1&&(o(0,"tr")(1,"td",26),l(2,'No GRNs found. Click "New GRN" to create one.'),a()())}function sR(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td")(7,"span",27),l(8),a()(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td"),l(14),a(),o(15,"td"),l(16),U(17,"number"),a(),o(18,"td")(19,"span",27),l(20),a()(),o(21,"td")(22,"div",28)(23,"button",29),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.openModal(r))}),v(24,"i",30),a(),o(25,"button",31),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.deleteGRN(r.id))}),v(26,"i",32),a()()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.grnNumber),c(2),f(e.receiptDate),c(2),u("ngClass",e.receiptType==="PO"?"badge-info":"badge-secondary"),c(),E(" ",e.receiptType==="PO"?"Purchase Order":"Direct"," "),c(2),f(e.supplier||"-"),c(2),f(e.warehouse||"-"),c(2),f(e.totalQty),c(2),E("$",$(17,10,e.totalValue,"1.2-2")),c(3),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function lR(n,t){if(n&1&&(o(0,"table",23)(1,"thead")(2,"tr")(3,"th"),l(4,"GRN No."),a(),o(5,"th"),l(6,"Date"),a(),o(7,"th"),l(8,"Type"),a(),o(9,"th"),l(10,"Supplier"),a(),o(11,"th"),l(12,"Warehouse"),a(),o(13,"th"),l(14,"Total Qty"),a(),o(15,"th"),l(16,"Total Value"),a(),o(17,"th"),l(18,"Status"),a(),o(19,"th"),l(20,"Actions"),a()()(),o(21,"tbody"),M(22,aR,3,0,"tr",24)(23,sR,27,13,"tr",25),a()()),n&2){let e=d();c(22),u("ngIf",e.grnList.length===0),c(),u("ngForOf",e.grnList)}}function cR(n,t){if(n&1&&(o(0,"div",59),l(1),a()),n&2){let e=d(2);c(),f(e.errorMessage)}}function dR(n,t){if(n&1&&(o(0,"option",48),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),ne("",e.referenceNumber," - ",e.supplierName||"No Supplier")}}function pR(n,t){n&1&&(o(0,"small",62),l(1,"No Purchase Orders available for receipt"),a())}function uR(n,t){if(n&1){let e=O();o(0,"div",40)(1,"label"),l(2,"Select Purchase Order *"),a(),o(3,"select",60),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.selectedPOId,r)||(s.selectedPOId=r),g(r)}),_("change",function(){m(e);let r=d(2);return g(r.onPOSelect())}),o(4,"option",48),l(5,"-- Select PO --"),a(),M(6,dR,2,3,"option",49),a(),M(7,pR,2,0,"small",61),a()}if(n&2){let e=d(2);c(3),C("ngModel",e.selectedPOId),c(),u("ngValue",null),c(2),u("ngForOf",e.getPOsWithItems()),c(),u("ngIf",e.getPOsWithItems().length===0)}}function mR(n,t){if(n&1){let e=O();o(0,"div",40)(1,"label"),l(2,"PO Number"),a(),o(3,"input",41),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.selectedGRN.poNumber,r)||(s.selectedGRN.poNumber=r),g(r)}),a()()}if(n&2){let e=d(2);c(3),C("ngModel",e.selectedGRN.poNumber)}}function gR(n,t){if(n&1){let e=O();o(0,"div",40)(1,"label"),l(2,"Reference Number"),a(),o(3,"input",63),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.selectedGRN.referenceNumber,r)||(s.selectedGRN.referenceNumber=r),g(r)}),a()()}if(n&2){let e=d(2);c(3),C("ngModel",e.selectedGRN.referenceNumber),u("disabled",e.editMode)}}function fR(n,t){if(n&1&&(o(0,"option",48),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function hR(n,t){if(n&1&&(o(0,"option",48),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function _R(n,t){if(n&1){let e=O();o(0,"button",64),_("click",function(){m(e);let r=d(2);return g(r.addItem())}),v(1,"i",5),l(2," Add Item "),a()}}function vR(n,t){n&1&&(o(0,"th"),l(1,"Action"),a())}function yR(n,t){if(n&1&&(o(0,"option",48),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),ne("",e.code," - ",e.name)}}function CR(n,t){if(n&1){let e=O();o(0,"td")(1,"button",68),_("click",function(){m(e);let r=d().index,s=d(2);return g(s.removeItem(r))}),v(2,"i",32),a()()}if(n&2){let e=d(3);c(),u("disabled",e.selectedGRN.items.length===1)}}function xR(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"select",43),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.itemId,r)||(s.itemId=r),g(r)}),_("change",function(){let r=m(e).index,s=d(2);return g(s.onItemSelect(r))}),o(3,"option",48),l(4,"-- Select Item --"),a(),M(5,yR,2,3,"option",49),a()(),o(6,"td")(7,"input",65),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.quantity,r)||(s.quantity=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(8,"td")(9,"input",66),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.unitPrice,r)||(s.unitPrice=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(10,"td"),v(11,"input",67),U(12,"number"),a(),M(13,CR,3,1,"td",24),a()}if(n&2){let e=t.$implicit,i=d(2);c(2),C("ngModel",e.itemId),u("disabled",i.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",i.items),c(2),C("ngModel",e.quantity),u("disabled",i.editMode),c(2),C("ngModel",e.unitPrice),u("disabled",i.editMode),c(2),u("value",$(12,10,e.amount,"1.2-2")),c(2),u("ngIf",!i.editMode)}}function bR(n,t){n&1&&v(0,"td")}function MR(n,t){n&1&&(o(0,"span"),l(1,"Saving..."),a())}function SR(n,t){n&1&&(o(0,"span"),l(1,"Save GRN"),a())}function PR(n,t){if(n&1){let e=O();o(0,"button",69),_("click",function(){m(e);let r=d(2);return g(r.saveGRN())}),M(1,MR,2,0,"span",24)(2,SR,2,0,"span",24),a()}if(n&2){let e=d(2);u("disabled",e.saving),c(),u("ngIf",e.saving),c(),u("ngIf",!e.saving)}}function ER(n,t){if(n&1){let e=O();o(0,"div",33),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",34),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",35)(3,"h2"),l(4),a(),o(5,"button",36),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",37),M(8,cR,2,1,"div",38),o(9,"div",39)(10,"div",40)(11,"label"),l(12,"GRN Number"),a(),o(13,"input",41),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGRN.grnNumber,r)||(s.selectedGRN.grnNumber=r),g(r)}),a()(),o(14,"div",40)(15,"label"),l(16,"Receipt Date *"),a(),o(17,"input",42),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGRN.receiptDate,r)||(s.selectedGRN.receiptDate=r),g(r)}),a()()(),o(18,"div",39)(19,"div",40)(20,"label"),l(21,"Receipt Type *"),a(),o(22,"select",43),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGRN.receiptType,r)||(s.selectedGRN.receiptType=r),g(r)}),_("change",function(){m(e);let r=d();return g(r.onReceiptTypeChange())}),o(23,"option",44),l(24,"Direct Receipt"),a(),o(25,"option",45),l(26,"From Purchase Order"),a()()(),M(27,uR,8,4,"div",46)(28,mR,4,1,"div",46)(29,gR,4,2,"div",46),a(),o(30,"div",39)(31,"div",40)(32,"label"),l(33,"Warehouse *"),a(),o(34,"select",47),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGRN.warehouseId,r)||(s.selectedGRN.warehouseId=r),g(r)}),o(35,"option",48),l(36,"-- Select Warehouse --"),a(),M(37,fR,2,2,"option",49),a()(),o(38,"div",40)(39,"label"),l(40,"Supplier"),a(),o(41,"select",47),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGRN.supplierId,r)||(s.selectedGRN.supplierId=r),g(r)}),o(42,"option",48),l(43,"-- Select Supplier --"),a(),M(44,hR,2,2,"option",49),a()()(),o(45,"div",39)(46,"div",40)(47,"label"),l(48,"Remarks"),a(),o(49,"input",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedGRN.remarks,r)||(s.selectedGRN.remarks=r),g(r)}),a()()(),o(50,"div",51)(51,"div",52)(52,"h3"),l(53,"Line Items"),a(),M(54,_R,3,0,"button",53),a(),o(55,"table",54)(56,"thead")(57,"tr")(58,"th"),l(59,"Item *"),a(),o(60,"th"),l(61,"Quantity *"),a(),o(62,"th"),l(63,"Unit Cost *"),a(),o(64,"th"),l(65,"Amount"),a(),M(66,vR,2,0,"th",24),a()(),o(67,"tbody"),M(68,xR,14,13,"tr",25),a(),o(69,"tfoot")(70,"tr",55)(71,"td")(72,"strong"),l(73,"Totals"),a()(),o(74,"td")(75,"strong"),l(76),a()(),v(77,"td"),o(78,"td")(79,"strong"),l(80),U(81,"number"),a()(),M(82,bR,1,0,"td",24),a()()()()(),o(83,"div",56)(84,"button",57),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(85),a(),M(86,PR,3,3,"button",58),a()()()}if(n&2){let e=d();c(4),E("",e.editMode?"View":"New"," Goods Receipt Note"),c(4),u("ngIf",e.errorMessage),c(5),C("ngModel",e.selectedGRN.grnNumber),c(4),C("ngModel",e.selectedGRN.receiptDate),u("disabled",e.editMode),c(5),C("ngModel",e.selectedGRN.receiptType),u("disabled",e.editMode),c(5),u("ngIf",e.selectedGRN.receiptType==="PO"&&!e.editMode),c(),u("ngIf",e.selectedGRN.receiptType==="PO"&&e.editMode),c(),u("ngIf",e.selectedGRN.receiptType==="DIRECT"),c(5),C("ngModel",e.selectedGRN.warehouseId),u("disabled",e.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",e.warehouses),c(4),C("ngModel",e.selectedGRN.supplierId),u("disabled",e.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",e.suppliers),c(5),C("ngModel",e.selectedGRN.remarks),u("disabled",e.editMode),c(5),u("ngIf",!e.editMode),c(12),u("ngIf",!e.editMode),c(2),u("ngForOf",e.selectedGRN.items),c(8),f(e.selectedGRN.totalQty),c(4),E("$",$(81,28,e.selectedGRN.totalValue,"1.2-2")),c(2),u("ngIf",!e.editMode),c(3),f(e.editMode?"Close":"Cancel"),c(),u("ngIf",!e.editMode)}}var Mu=class n{constructor(t,e,i,r,s,p,h){this.settingsService=t;this.stockMovementService=e;this.itemService=i;this.warehouseService=r;this.supplierService=s;this.prFulfillmentService=p;this.notificationService=h}grnList=[];showModal=!1;editMode=!1;selectedGRN=this.getEmptyGRN();loading=!1;saving=!1;errorMessage="";items=[];warehouses=[];suppliers=[];purchaseOrders=[];selectedPOId=null;ngOnInit(){this.loadGRNs(),this.loadMasterData()}loadMasterData(){this.itemService.getAll().subscribe({next:t=>this.items=t,error:t=>console.error("Error loading items",t)}),this.warehouseService.getAll().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)}),this.supplierService.getAll().subscribe({next:t=>this.suppliers=t,error:t=>console.error("Error loading suppliers",t)}),this.prFulfillmentService.getAllPOs().subscribe({next:t=>this.purchaseOrders=t,error:t=>console.error("Error loading POs",t)})}loadGRNs(){this.loading=!0,this.stockMovementService.getAllGRN().subscribe({next:t=>{this.grnList=t.map(e=>({id:e.id,grnNumber:e.grnNumber||"",receiptDate:e.receiptDate||"",receiptType:e.receiptType||"DIRECT",poNumber:e.poNumber||"",supplierId:e.supplierId,supplier:e.supplier||"",warehouseId:e.warehouseId,warehouse:e.warehouse||"",referenceNumber:e.referenceNumber||"",totalQty:e.lines?.reduce((i,r)=>i+(r.quantity||0),0)||0,totalValue:e.totalValue||0,status:e.status||"Completed",remarks:e.remarks||"",items:e.lines?.map(i=>({itemId:i.itemId,itemName:i.itemName||"",itemCode:i.itemCode||"",description:"",quantity:i.quantity||0,unitPrice:i.unitPrice||0,amount:i.lineTotal||0}))||[]})),this.loading=!1},error:t=>{console.error("Error loading GRNs",t),this.grnList=[],this.loading=!1}})}getEmptyGRN(){return{grnNumber:"",receiptDate:new Date().toISOString().split("T")[0],receiptType:"DIRECT",poNumber:"",supplierId:void 0,supplier:"",warehouseId:void 0,warehouse:"",referenceNumber:"",items:[],totalQty:0,totalValue:0,status:"Draft",remarks:""}}getEmptyItem(){return{itemId:void 0,itemName:"",itemCode:"",description:"",quantity:0,unitPrice:0,amount:0}}openModal(t){this.errorMessage="",this.selectedPOId=null,t?(this.editMode=!0,this.selectedGRN=JSON.parse(JSON.stringify(t))):(this.editMode=!1,this.selectedGRN=this.getEmptyGRN(),this.generateGRNNumber(),this.addItem()),this.showModal=!0}onReceiptTypeChange(){this.selectedGRN.receiptType==="DIRECT"&&(this.selectedPOId=null,this.selectedGRN.poNumber="",this.selectedGRN.items=[],this.addItem())}onPOSelect(){if(!this.selectedPOId)return;let t=this.purchaseOrders.find(e=>e.id===this.selectedPOId);t&&(this.selectedGRN.poNumber=t.referenceNumber,this.selectedGRN.supplierId=t.supplierId,this.errorMessage="",t.warehouseId&&(this.selectedGRN.warehouseId=t.warehouseId),this.selectedGRN.items=(t.items||[]).filter(e=>e.itemId&&e.fulfillQty&&e.fulfillQty>0).map(e=>({itemId:e.itemId,itemName:e.itemName||"",itemCode:e.itemCode||"",description:e.itemDescription||"",quantity:e.fulfillQty||0,unitPrice:e.rate||0,amount:(e.fulfillQty||0)*(e.rate||0)})),this.calculateTotals())}getPOsWithItems(){return this.purchaseOrders.filter(t=>!t.items||t.items.length===0?!1:t.items.filter(i=>i.itemId&&i.fulfillQty&&i.fulfillQty>0).length>0)}generateGRNNumber(){this.settingsService.generatePrefixId("grn").subscribe({next:t=>{this.selectedGRN.grnNumber=t},error:t=>console.error("Error generating GRN number",t)})}closeModal(){this.showModal=!1,this.selectedGRN=this.getEmptyGRN(),this.errorMessage=""}addItem(){this.selectedGRN.items.push(this.getEmptyItem())}removeItem(t){this.selectedGRN.items.length>1&&(this.selectedGRN.items.splice(t,1),this.calculateTotals())}onItemSelect(t){let e=this.items.find(i=>i.id===this.selectedGRN.items[t].itemId);e&&(this.selectedGRN.items[t].itemName=e.name,this.selectedGRN.items[t].itemCode=e.code,this.selectedGRN.items[t].description=e.description||"",this.selectedGRN.items[t].unitPrice=e.unitCost||0,this.calculateItemAmount(this.selectedGRN.items[t]))}calculateItemAmount(t){t.amount=t.quantity*t.unitPrice,this.calculateTotals()}calculateTotals(){this.selectedGRN.totalQty=this.selectedGRN.items.reduce((t,e)=>t+(e.quantity||0),0),this.selectedGRN.totalValue=this.selectedGRN.items.reduce((t,e)=>t+(e.amount||0),0)}saveGRN(){this.calculateTotals();let t=this.selectedGRN.items.filter(i=>i.itemId&&i.quantity>0);if(t.length===0){this.notificationService.error("Please add at least one item with quantity.");return}if(!this.selectedGRN.warehouseId){this.notificationService.error("Please select a warehouse.");return}this.saving=!0,this.errorMessage="";let e={receiptDate:this.selectedGRN.receiptDate,receiptType:this.selectedGRN.receiptType,poNumber:this.selectedGRN.poNumber,supplierId:this.selectedGRN.supplierId,warehouseId:this.selectedGRN.warehouseId,referenceNumber:this.selectedGRN.referenceNumber,remarks:this.selectedGRN.remarks,lines:t.map(i=>({itemId:i.itemId,quantity:i.quantity,unitPrice:i.unitPrice,binId:i.binId}))};this.stockMovementService.createGRN(e).subscribe({next:()=>{this.saving=!1,this.notificationService.success("Goods Receipt created successfully"),this.loadGRNs(),this.closeModal()},error:i=>{this.saving=!1,this.notificationService.error(i.error?.error||"Error saving GRN"),console.error("Error saving GRN",i)}})}deleteGRN(t){confirm("Are you sure you want to delete this GRN?")&&this.stockMovementService.deleteGRN(t).subscribe({next:()=>this.loadGRNs(),error:e=>console.error("Error deleting GRN",e)})}getTotalValue(){return this.grnList.reduce((t,e)=>t+(e.totalValue||0),0)}getCompletedCount(){return this.grnList.filter(t=>t.status==="Completed").length}getPendingCount(){return this.grnList.filter(t=>t.status==="Pending"||t.status==="Draft").length}getStatusClass(t){return{Completed:"badge-success",Pending:"badge-warning",Draft:"badge-info"}[t]||"badge-info"}static \u0275fac=function(e){return new(e||n)(w(ke),w(Bn),w(Ve),w(Ke),w(It),w(Dt),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-goods-receipt"]],standalone:!1,decls:58,vars:10,consts:[[1,"stock-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"stats-grid","grid-4"],[1,"stat-card"],[1,"icon","primary"],[1,"fas","fa-file-alt"],[1,"info"],[1,"icon","success"],[1,"fas","fa-check-circle"],[1,"icon","warning"],[1,"fas","fa-clock"],[1,"icon","info"],[1,"fas","fa-dollar-sign"],[1,"card"],[1,"table-container"],["class","loading-spinner",4,"ngIf"],["class","table",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"loading-spinner"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"text-center"],[1,"badge",3,"ngClass"],[1,"action-buttons"],["title","View",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-eye"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal","modal-lg",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"form-row"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["type","date",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-control",3,"ngModelChange","change","ngModel","disabled"],["value","DIRECT"],["value","PO"],["class","form-group",4,"ngIf"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"items-section"],[1,"items-header"],["class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],[1,"table","items-table"],[1,"totals-row"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"alert","alert-danger"],[1,"form-control",3,"ngModelChange","change","ngModel"],["class","text-warning",4,"ngIf"],[1,"text-warning"],["type","text","placeholder","e.g., Invoice #",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-sm","btn-secondary",3,"click"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","number","min","0","step","0.01",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","readonly","",1,"form-control",3,"value"],[1,"btn","btn-sm","btn-danger",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Goods Receipt Note (GRN)"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Stock Movement"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"GRN"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," New GRN "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8),v(22,"i",9),a(),o(23,"div",10)(24,"h3"),l(25),a(),o(26,"p"),l(27,"Total GRNs"),a()()(),o(28,"div",7)(29,"div",11),v(30,"i",12),a(),o(31,"div",10)(32,"h3"),l(33),a(),o(34,"p"),l(35,"Completed"),a()()(),o(36,"div",7)(37,"div",13),v(38,"i",14),a(),o(39,"div",10)(40,"h3"),l(41),a(),o(42,"p"),l(43,"Pending"),a()()(),o(44,"div",7)(45,"div",15),v(46,"i",16),a(),o(47,"div",10)(48,"h3"),l(49),U(50,"number"),a(),o(51,"p"),l(52,"Total Value"),a()()()(),o(53,"div",17)(54,"div",18),M(55,oR,2,0,"div",19)(56,lR,24,2,"table",20),a()()(),M(57,ER,87,31,"div",21)),e&2&&(c(25),f(i.grnList.length),c(8),f(i.getCompletedCount()),c(8),f(i.getPendingCount()),c(8),E("$",$(50,7,i.getTotalValue(),"1.2-2")),c(6),u("ngIf",i.loading),c(),u("ngIf",!i.loading),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,Se,F,Z,he],styles:[".stock-page[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{margin-bottom:24px}"]})};function wR(n,t){n&1&&(o(0,"tr")(1,"td",25),l(2,"Loading..."),a()())}function OR(n,t){n&1&&(o(0,"tr")(1,"td",26),v(2,"i",27),o(3,"p"),l(4,"No issues found"),a()()())}function IR(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td"),l(15),U(16,"number"),a(),o(17,"td")(18,"span",28),l(19),a()(),o(20,"td")(21,"div",29)(22,"button",30),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(23,"i",31),a(),o(24,"button",32),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteIssue(r.id))}),v(25,"i",33),a()()()()}if(n&2){let e=t.$implicit,i=d();c(3),f(e.issueNumber),c(2),f(e.issueDate),c(2),f(e.warehouse),c(2),f(e.issueType),c(2),E("",e.items.length," items"),c(2),f(e.totalQty),c(2),f($(16,9,e.totalValue,"1.2-2")),c(3),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function DR(n,t){if(n&1&&(o(0,"div",57),l(1),a()),n&2){let e=d(2);c(),f(e.errorMessage)}}function TR(n,t){if(n&1&&(o(0,"option",45),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function kR(n,t){if(n&1&&(o(0,"option",58),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function RR(n,t){if(n&1){let e=O();o(0,"button",30),_("click",function(){m(e);let r=d(2);return g(r.addItem())}),v(1,"i",5),l(2," Add Item "),a()}}function AR(n,t){n&1&&(o(0,"th"),l(1,"Action"),a())}function NR(n,t){if(n&1&&(o(0,"option",45),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),ne("",e.code," - ",e.name)}}function FR(n,t){if(n&1){let e=O();o(0,"td")(1,"button",62),_("click",function(){m(e);let r=d().index,s=d(2);return g(s.removeItem(r))}),v(2,"i",33),a()()}if(n&2){let e=d(3);c(),u("disabled",e.selectedIssue.items.length<=1)}}function VR(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"select",59),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.itemId,r)||(s.itemId=r),g(r)}),_("change",function(){let r=m(e).index,s=d(2);return g(s.onItemSelect(r))}),o(3,"option",45),l(4,"Select Item"),a(),M(5,NR,2,3,"option",46),a()(),o(6,"td")(7,"input",60),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.quantity,r)||(s.quantity=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(8,"td")(9,"input",61),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.unitPrice,r)||(s.unitPrice=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(10,"td"),l(11),U(12,"number"),a(),M(13,FR,3,1,"td",22),a()}if(n&2){let e=t.$implicit,i=d(2);c(2),C("ngModel",e.itemId),u("disabled",i.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",i.items),c(2),C("ngModel",e.quantity),u("disabled",i.editMode),c(2),C("ngModel",e.unitPrice),u("disabled",i.editMode),c(2),f($(12,10,e.amount,"1.2-2")),c(2),u("ngIf",!i.editMode)}}function LR(n,t){n&1&&v(0,"td")}function UR(n,t){if(n&1){let e=O();o(0,"button",63),_("click",function(){m(e);let r=d(2);return g(r.saveIssue())}),l(1),a()}if(n&2){let e=d(2);u("disabled",e.saving),c(),E(" ",e.saving?"Saving...":"Save Issue"," ")}}function BR(n,t){if(n&1){let e=O();o(0,"div",34),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",35),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",36)(3,"h2"),l(4),a(),o(5,"button",37),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",38),M(8,DR,2,1,"div",39),o(9,"div",40)(10,"div",41)(11,"label"),l(12,"Issue Number"),a(),o(13,"input",42),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedIssue.issueNumber,r)||(s.selectedIssue.issueNumber=r),g(r)}),a()(),o(14,"div",41)(15,"label"),l(16,"Issue Date *"),a(),o(17,"input",43),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedIssue.issueDate,r)||(s.selectedIssue.issueDate=r),g(r)}),a()()(),o(18,"div",40)(19,"div",41)(20,"label"),l(21,"Warehouse *"),a(),o(22,"select",44),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedIssue.warehouseId,r)||(s.selectedIssue.warehouseId=r),g(r)}),o(23,"option",45),l(24,"Select Warehouse"),a(),M(25,TR,2,2,"option",46),a()(),o(26,"div",41)(27,"label"),l(28,"Issue Type"),a(),o(29,"select",44),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedIssue.issueType,r)||(s.selectedIssue.issueType=r),g(r)}),M(30,kR,2,2,"option",47),a()()(),o(31,"div",40)(32,"div",41)(33,"label"),l(34,"Reference Number"),a(),o(35,"input",48),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedIssue.referenceNumber,r)||(s.selectedIssue.referenceNumber=r),g(r)}),a()(),o(36,"div",41)(37,"label"),l(38,"Remarks"),a(),o(39,"input",48),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedIssue.remarks,r)||(s.selectedIssue.remarks=r),g(r)}),a()()(),o(40,"div",49)(41,"div",50)(42,"h3"),l(43,"Items"),a(),M(44,RR,3,0,"button",51),a(),o(45,"table",52)(46,"thead")(47,"tr")(48,"th"),l(49,"Item"),a(),o(50,"th"),l(51,"Quantity"),a(),o(52,"th"),l(53,"Unit Price"),a(),o(54,"th"),l(55,"Amount"),a(),M(56,AR,2,0,"th",22),a()(),o(57,"tbody"),M(58,VR,14,13,"tr",23),a(),o(59,"tfoot")(60,"tr")(61,"td",53)(62,"strong"),l(63,"Totals:"),a()(),o(64,"td")(65,"strong"),l(66),a()(),o(67,"td")(68,"strong"),l(69),U(70,"number"),a()(),M(71,LR,1,0,"td",22),a()()()()(),o(72,"div",54)(73,"button",55),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(74),a(),M(75,UR,2,2,"button",56),a()()()}if(n&2){let e=d();c(4),f(e.editMode?"View Issue":"New Goods Issue"),c(4),u("ngIf",e.errorMessage),c(5),C("ngModel",e.selectedIssue.issueNumber),c(4),C("ngModel",e.selectedIssue.issueDate),u("disabled",e.editMode),c(5),C("ngModel",e.selectedIssue.warehouseId),u("disabled",e.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",e.warehouses),c(4),C("ngModel",e.selectedIssue.issueType),u("disabled",e.editMode),c(),u("ngForOf",e.issueTypes),c(5),C("ngModel",e.selectedIssue.referenceNumber),u("disabled",e.editMode),c(4),C("ngModel",e.selectedIssue.remarks),u("disabled",e.editMode),c(5),u("ngIf",!e.editMode),c(12),u("ngIf",!e.editMode),c(2),u("ngForOf",e.selectedIssue.items),c(8),f(e.selectedIssue.totalQty),c(3),f($(70,24,e.selectedIssue.totalValue,"1.2-2")),c(2),u("ngIf",!e.editMode),c(3),f(e.editMode?"Close":"Cancel"),c(),u("ngIf",!e.editMode)}}var Su=class n{constructor(t,e,i,r,s){this.settingsService=t;this.stockMovementService=e;this.itemService=i;this.warehouseService=r;this.notificationService=s}issueList=[];showModal=!1;editMode=!1;selectedIssue=this.getEmptyIssue();loading=!1;saving=!1;errorMessage="";items=[];warehouses=[];issueTypes=["Internal Use","Sales","Return","Damaged","Other"];ngOnInit(){this.loadIssues(),this.loadMasterData()}loadMasterData(){this.itemService.getAll().subscribe({next:t=>this.items=t,error:t=>console.error("Error loading items",t)}),this.warehouseService.getAll().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}loadIssues(){this.loading=!0,this.stockMovementService.getAllIssues().subscribe({next:t=>{this.issueList=t.map(e=>({id:e.id,issueNumber:e.issueNumber||"",issueDate:e.issueDate||"",warehouseId:e.warehouseId,warehouse:e.warehouse||"",issueType:e.issueType||"",referenceNumber:e.referenceNumber||"",totalQty:e.lines?.reduce((i,r)=>i+(r.quantity||0),0)||0,totalValue:e.totalValue||0,status:e.status||"Completed",remarks:e.remarks||"",items:e.lines?.map(i=>({itemId:i.itemId,itemName:i.itemName||"",itemCode:i.itemCode||"",description:"",quantity:i.quantity||0,unitPrice:i.unitPrice||0,amount:i.lineTotal||0}))||[]})),this.loading=!1},error:t=>{console.error("Error loading issues",t),this.issueList=[],this.loading=!1}})}getEmptyIssue(){return{issueNumber:"",issueDate:new Date().toISOString().split("T")[0],warehouseId:void 0,warehouse:"",issueType:"Internal Use",referenceNumber:"",items:[],totalQty:0,totalValue:0,status:"Draft",remarks:""}}getEmptyItem(){return{itemId:void 0,itemName:"",itemCode:"",description:"",quantity:0,unitPrice:0,amount:0}}openModal(t){this.errorMessage="",t?(this.editMode=!0,this.selectedIssue=JSON.parse(JSON.stringify(t))):(this.editMode=!1,this.selectedIssue=this.getEmptyIssue(),this.generateIssueNumber(),this.addItem()),this.showModal=!0}generateIssueNumber(){this.settingsService.generatePrefixId("issue").subscribe({next:t=>{this.selectedIssue.issueNumber=t},error:t=>console.error("Error generating issue number",t)})}closeModal(){this.showModal=!1,this.selectedIssue=this.getEmptyIssue(),this.errorMessage=""}addItem(){this.selectedIssue.items.push(this.getEmptyItem())}removeItem(t){this.selectedIssue.items.length>1&&(this.selectedIssue.items.splice(t,1),this.calculateTotals())}onItemSelect(t){let e=this.items.find(i=>i.id===this.selectedIssue.items[t].itemId);e&&(this.selectedIssue.items[t].itemName=e.name,this.selectedIssue.items[t].itemCode=e.code,this.selectedIssue.items[t].description=e.description||"",this.selectedIssue.items[t].unitPrice=e.unitCost||0,this.calculateItemAmount(this.selectedIssue.items[t]))}calculateItemAmount(t){t.amount=t.quantity*t.unitPrice,this.calculateTotals()}calculateTotals(){this.selectedIssue.totalQty=this.selectedIssue.items.reduce((t,e)=>t+(e.quantity||0),0),this.selectedIssue.totalValue=this.selectedIssue.items.reduce((t,e)=>t+(e.amount||0),0)}saveIssue(){this.calculateTotals();let t=this.selectedIssue.items.filter(i=>i.itemId&&i.quantity>0);if(t.length===0){this.notificationService.error("Please add at least one item with quantity.");return}if(!this.selectedIssue.warehouseId){this.notificationService.error("Please select a warehouse.");return}this.saving=!0,this.errorMessage="";let e={issueDate:this.selectedIssue.issueDate,warehouseId:this.selectedIssue.warehouseId,issueType:this.selectedIssue.issueType,referenceNumber:this.selectedIssue.referenceNumber,remarks:this.selectedIssue.remarks,lines:t.map(i=>({itemId:i.itemId,quantity:i.quantity,unitPrice:i.unitPrice,binId:i.binId}))};this.stockMovementService.createIssue(e).subscribe({next:()=>{this.saving=!1,this.notificationService.success("Goods Issue created successfully"),this.loadIssues(),this.closeModal()},error:i=>{this.saving=!1,this.notificationService.error(i.error?.error||"Error saving issue"),console.error("Error saving issue",i)}})}deleteIssue(t){confirm("Are you sure you want to delete this issue?")&&this.stockMovementService.deleteIssue(t).subscribe({next:()=>this.loadIssues(),error:e=>console.error("Error deleting issue",e)})}getTotalValue(){return this.issueList.reduce((t,e)=>t+(e.totalValue||0),0)}getCompletedCount(){return this.issueList.filter(t=>t.status==="Completed").length}getPendingCount(){return this.issueList.filter(t=>t.status==="Pending"||t.status==="Draft").length}getStatusClass(t){return{Completed:"badge-success",Pending:"badge-warning",Draft:"badge-info"}[t]||"badge-info"}static \u0275fac=function(e){return new(e||n)(w(ke),w(Bn),w(Ve),w(Ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-goods-issue"]],standalone:!1,decls:81,vars:11,consts:[[1,"stock-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"stats-row"],[1,"stat-card"],[1,"stat-icon","blue"],[1,"fas","fa-file-export"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","green"],[1,"fas","fa-check-circle"],[1,"stat-icon","orange"],[1,"fas","fa-clock"],[1,"stat-icon","purple"],[1,"fas","fa-dollar-sign"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","9",1,"text-center"],["colspan","9",1,"empty-state"],[1,"fas","fa-inbox"],[1,"badge",3,"ngClass"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-eye"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content","modal-lg",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"form-row"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["type","date",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"items-section"],[1,"section-header"],["class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],[1,"table","items-table"],["colspan","2"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[1,"form-control",3,"ngModelChange","change","ngModel","disabled"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","number","step","0.01",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-sm","btn-danger",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Goods Issue"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Stock Movement"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Goods Issue"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," New Issue "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8),v(22,"i",9),a(),o(23,"div",10)(24,"span",11),l(25),a(),o(26,"span",12),l(27,"Total Issues"),a()()(),o(28,"div",7)(29,"div",13),v(30,"i",14),a(),o(31,"div",10)(32,"span",11),l(33),a(),o(34,"span",12),l(35,"Completed"),a()()(),o(36,"div",7)(37,"div",15),v(38,"i",16),a(),o(39,"div",10)(40,"span",11),l(41),a(),o(42,"span",12),l(43,"Pending"),a()()(),o(44,"div",7)(45,"div",17),v(46,"i",18),a(),o(47,"div",10)(48,"span",11),l(49),U(50,"number"),a(),o(51,"span",12),l(52,"Total Value"),a()()()(),o(53,"div",19)(54,"div",20)(55,"table",21)(56,"thead")(57,"tr")(58,"th"),l(59,"Issue No."),a(),o(60,"th"),l(61,"Date"),a(),o(62,"th"),l(63,"Warehouse"),a(),o(64,"th"),l(65,"Type"),a(),o(66,"th"),l(67,"Items"),a(),o(68,"th"),l(69,"Total Qty"),a(),o(70,"th"),l(71,"Total Value"),a(),o(72,"th"),l(73,"Status"),a(),o(74,"th"),l(75,"Actions"),a()()(),o(76,"tbody"),M(77,wR,3,0,"tr",22)(78,OR,5,0,"tr",22)(79,IR,26,12,"tr",23),a()()()()(),M(80,BR,76,27,"div",24)),e&2&&(c(25),f(i.issueList.length),c(8),f(i.getCompletedCount()),c(8),f(i.getPendingCount()),c(8),f($(50,8,i.getTotalValue(),"1.2-2")),c(28),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.issueList.length===0),c(),u("ngForOf",i.issueList),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,Se,F,Z,he],styles:[".stock-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}"]})};function WR(n,t){n&1&&(o(0,"tr")(1,"td",25),l(2,"Loading..."),a()())}function jR(n,t){n&1&&(o(0,"tr")(1,"td",26),v(2,"i",27),o(3,"p"),l(4,"No transfers found"),a()()())}function qR(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td")(15,"span",28),l(16),a()(),o(17,"td")(18,"div",29)(19,"button",30),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(20,"i",31),a(),o(21,"button",32),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteTransfer(r.id))}),v(22,"i",33),a()()()()}if(n&2){let e=t.$implicit,i=d();c(3),f(e.transferNumber),c(2),f(e.transferDate),c(2),f(e.fromWarehouse),c(2),f(e.toWarehouse),c(2),E("",e.items.length," items"),c(2),f(e.totalQty),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function HR(n,t){if(n&1&&(o(0,"div",55),l(1),a()),n&2){let e=d(2);c(),f(e.errorMessage)}}function zR(n,t){if(n&1&&(o(0,"option",45),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function GR(n,t){if(n&1&&(o(0,"option",45),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function $R(n,t){if(n&1){let e=O();o(0,"button",30),_("click",function(){m(e);let r=d(2);return g(r.addItem())}),v(1,"i",5),l(2," Add Item "),a()}}function QR(n,t){n&1&&(o(0,"th"),l(1,"Action"),a())}function JR(n,t){if(n&1&&(o(0,"option",45),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),ne("",e.code," - ",e.name)}}function KR(n,t){if(n&1){let e=O();o(0,"td")(1,"button",58),_("click",function(){m(e);let r=d().index,s=d(2);return g(s.removeItem(r))}),v(2,"i",33),a()()}if(n&2){let e=d(3);c(),u("disabled",e.selectedTransfer.items.length<=1)}}function YR(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"select",56),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.itemId,r)||(s.itemId=r),g(r)}),_("change",function(){let r=m(e).index,s=d(2);return g(s.onItemSelect(r))}),o(3,"option",45),l(4,"Select Item"),a(),M(5,JR,2,3,"option",46),a()(),o(6,"td")(7,"input",57),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.quantity,r)||(s.quantity=r),g(r)}),_("ngModelChange",function(){m(e);let r=d(2);return g(r.calculateTotals())}),a()(),M(8,KR,3,1,"td",22),a()}if(n&2){let e=t.$implicit,i=d(2);c(2),C("ngModel",e.itemId),u("disabled",i.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",i.items),c(2),C("ngModel",e.quantity),u("disabled",i.editMode),c(),u("ngIf",!i.editMode)}}function ZR(n,t){n&1&&v(0,"td")}function XR(n,t){if(n&1){let e=O();o(0,"button",59),_("click",function(){m(e);let r=d(2);return g(r.saveTransfer())}),l(1),a()}if(n&2){let e=d(2);u("disabled",e.saving),c(),E(" ",e.saving?"Saving...":"Save Transfer"," ")}}function eA(n,t){if(n&1){let e=O();o(0,"div",34),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",35),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",36)(3,"h2"),l(4),a(),o(5,"button",37),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",38),M(8,HR,2,1,"div",39),o(9,"div",40)(10,"div",41)(11,"label"),l(12,"Transfer Number"),a(),o(13,"input",42),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTransfer.transferNumber,r)||(s.selectedTransfer.transferNumber=r),g(r)}),a()(),o(14,"div",41)(15,"label"),l(16,"Transfer Date *"),a(),o(17,"input",43),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTransfer.transferDate,r)||(s.selectedTransfer.transferDate=r),g(r)}),a()()(),o(18,"div",40)(19,"div",41)(20,"label"),l(21,"From Warehouse *"),a(),o(22,"select",44),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTransfer.fromWarehouseId,r)||(s.selectedTransfer.fromWarehouseId=r),g(r)}),o(23,"option",45),l(24,"Select Source Warehouse"),a(),M(25,zR,2,2,"option",46),a()(),o(26,"div",41)(27,"label"),l(28,"To Warehouse *"),a(),o(29,"select",44),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTransfer.toWarehouseId,r)||(s.selectedTransfer.toWarehouseId=r),g(r)}),o(30,"option",45),l(31,"Select Destination Warehouse"),a(),M(32,GR,2,2,"option",46),a()()(),o(33,"div",41)(34,"label"),l(35,"Remarks"),a(),o(36,"textarea",47),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedTransfer.remarks,r)||(s.selectedTransfer.remarks=r),g(r)}),a()(),o(37,"div",48)(38,"div",49)(39,"h3"),l(40,"Items to Transfer"),a(),M(41,$R,3,0,"button",50),a(),o(42,"table",51)(43,"thead")(44,"tr")(45,"th"),l(46,"Item"),a(),o(47,"th"),l(48,"Quantity"),a(),M(49,QR,2,0,"th",22),a()(),o(50,"tbody"),M(51,YR,9,7,"tr",23),a(),o(52,"tfoot")(53,"tr")(54,"td")(55,"strong"),l(56,"Total Quantity:"),a()(),o(57,"td")(58,"strong"),l(59),a()(),M(60,ZR,1,0,"td",22),a()()()()(),o(61,"div",52)(62,"button",53),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(63),a(),M(64,XR,2,2,"button",54),a()()()}if(n&2){let e=d();c(4),f(e.editMode?"View Transfer":"New Stock Transfer"),c(4),u("ngIf",e.errorMessage),c(5),C("ngModel",e.selectedTransfer.transferNumber),c(4),C("ngModel",e.selectedTransfer.transferDate),u("disabled",e.editMode),c(5),C("ngModel",e.selectedTransfer.fromWarehouseId),u("disabled",e.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",e.warehouses),c(4),C("ngModel",e.selectedTransfer.toWarehouseId),u("disabled",e.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",e.warehouses),c(4),C("ngModel",e.selectedTransfer.remarks),u("disabled",e.editMode),c(5),u("ngIf",!e.editMode),c(8),u("ngIf",!e.editMode),c(2),u("ngForOf",e.selectedTransfer.items),c(8),f(e.selectedTransfer.totalQty),c(),u("ngIf",!e.editMode),c(3),f(e.editMode?"Close":"Cancel"),c(),u("ngIf",!e.editMode)}}var Pu=class n{constructor(t,e,i,r,s){this.settingsService=t;this.stockMovementService=e;this.itemService=i;this.warehouseService=r;this.notificationService=s}transferList=[];showModal=!1;editMode=!1;selectedTransfer=this.getEmptyTransfer();loading=!1;saving=!1;errorMessage="";items=[];warehouses=[];ngOnInit(){this.loadTransfers(),this.loadMasterData()}loadMasterData(){this.itemService.getAll().subscribe({next:t=>this.items=t,error:t=>console.error("Error loading items",t)}),this.warehouseService.getAll().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}loadTransfers(){this.loading=!0,this.stockMovementService.getAllTransfers().subscribe({next:t=>{this.transferList=t.map(e=>({id:e.id,transferNumber:e.transferNumber||"",transferDate:e.transferDate||"",fromWarehouseId:e.fromWarehouseId,fromWarehouse:e.fromWarehouse||"",toWarehouseId:e.toWarehouseId,toWarehouse:e.toWarehouse||"",totalQty:e.lines?.reduce((i,r)=>i+(r.quantity||0),0)||0,status:e.status||"Completed",remarks:e.remarks||"",items:e.lines?.map(i=>({itemId:i.itemId,itemName:i.itemName||"",itemCode:i.itemCode||"",description:"",quantity:i.quantity||0,fromBinId:i.fromBinId,toBinId:i.toBinId}))||[]})),this.loading=!1},error:t=>{console.error("Error loading transfers",t),this.transferList=[],this.loading=!1}})}getEmptyTransfer(){return{transferNumber:"",transferDate:new Date().toISOString().split("T")[0],fromWarehouseId:void 0,fromWarehouse:"",toWarehouseId:void 0,toWarehouse:"",items:[],totalQty:0,status:"Draft",remarks:""}}getEmptyItem(){return{itemId:void 0,itemName:"",itemCode:"",description:"",quantity:0}}openModal(t){this.errorMessage="",t?(this.editMode=!0,this.selectedTransfer=JSON.parse(JSON.stringify(t))):(this.editMode=!1,this.selectedTransfer=this.getEmptyTransfer(),this.generateTransferNumber(),this.addItem()),this.showModal=!0}generateTransferNumber(){this.settingsService.generatePrefixId("transfer").subscribe({next:t=>{this.selectedTransfer.transferNumber=t},error:t=>console.error("Error generating transfer number",t)})}closeModal(){this.showModal=!1,this.selectedTransfer=this.getEmptyTransfer(),this.errorMessage=""}addItem(){this.selectedTransfer.items.push(this.getEmptyItem())}removeItem(t){this.selectedTransfer.items.length>1&&(this.selectedTransfer.items.splice(t,1),this.calculateTotals())}onItemSelect(t){let e=this.items.find(i=>i.id===this.selectedTransfer.items[t].itemId);e&&(this.selectedTransfer.items[t].itemName=e.name,this.selectedTransfer.items[t].itemCode=e.code,this.selectedTransfer.items[t].description=e.description||"")}calculateTotals(){this.selectedTransfer.totalQty=this.selectedTransfer.items.reduce((t,e)=>t+(e.quantity||0),0)}saveTransfer(){this.calculateTotals();let t=this.selectedTransfer.items.filter(i=>i.itemId&&i.quantity>0);if(t.length===0){this.notificationService.error("Please add at least one item with quantity.");return}if(!this.selectedTransfer.fromWarehouseId){this.notificationService.error("Please select a source warehouse.");return}if(!this.selectedTransfer.toWarehouseId){this.notificationService.error("Please select a destination warehouse.");return}if(this.selectedTransfer.fromWarehouseId===this.selectedTransfer.toWarehouseId){this.notificationService.error("Source and destination warehouse cannot be the same.");return}this.saving=!0,this.errorMessage="";let e={transferDate:this.selectedTransfer.transferDate,fromWarehouseId:this.selectedTransfer.fromWarehouseId,toWarehouseId:this.selectedTransfer.toWarehouseId,remarks:this.selectedTransfer.remarks,lines:t.map(i=>({itemId:i.itemId,quantity:i.quantity,fromBinId:i.fromBinId,toBinId:i.toBinId}))};this.stockMovementService.createTransfer(e).subscribe({next:()=>{this.saving=!1,this.notificationService.success("Stock Transfer created successfully"),this.loadTransfers(),this.closeModal()},error:i=>{this.saving=!1,this.notificationService.error(i.error?.error||"Error saving transfer"),console.error("Error saving transfer",i)}})}deleteTransfer(t){confirm("Are you sure you want to delete this transfer?")&&this.stockMovementService.deleteTransfer(t).subscribe({next:()=>this.loadTransfers(),error:e=>console.error("Error deleting transfer",e)})}getCompletedCount(){return this.transferList.filter(t=>t.status==="Completed").length}getInTransitCount(){return this.transferList.filter(t=>t.status==="In Transit").length}getPendingCount(){return this.transferList.filter(t=>t.status==="Pending"||t.status==="Draft").length}getStatusClass(t){return{Completed:"badge-success","In Transit":"badge-info",Pending:"badge-warning",Draft:"badge-secondary"}[t]||"badge-info"}static \u0275fac=function(e){return new(e||n)(w(ke),w(Bn),w(Ve),w(Ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-stock-transfer"]],standalone:!1,decls:78,vars:8,consts:[[1,"stock-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"stats-row"],[1,"stat-card"],[1,"stat-icon","blue"],[1,"fas","fa-exchange-alt"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","green"],[1,"fas","fa-check-circle"],[1,"stat-icon","cyan"],[1,"fas","fa-truck"],[1,"stat-icon","orange"],[1,"fas","fa-clock"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","8",1,"text-center"],["colspan","8",1,"empty-state"],[1,"fas","fa-inbox"],[1,"badge",3,"ngClass"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-eye"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content","modal-lg",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"form-row"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["type","date",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"items-section"],[1,"section-header"],["class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],[1,"table","items-table"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"alert","alert-danger"],[1,"form-control",3,"ngModelChange","change","ngModel","disabled"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-sm","btn-danger",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Stock Transfer"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Stock Movement"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Transfer"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," New Transfer "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8),v(22,"i",9),a(),o(23,"div",10)(24,"span",11),l(25),a(),o(26,"span",12),l(27,"Total Transfers"),a()()(),o(28,"div",7)(29,"div",13),v(30,"i",14),a(),o(31,"div",10)(32,"span",11),l(33),a(),o(34,"span",12),l(35,"Completed"),a()()(),o(36,"div",7)(37,"div",15),v(38,"i",16),a(),o(39,"div",10)(40,"span",11),l(41),a(),o(42,"span",12),l(43,"In Transit"),a()()(),o(44,"div",7)(45,"div",17),v(46,"i",18),a(),o(47,"div",10)(48,"span",11),l(49),a(),o(50,"span",12),l(51,"Pending"),a()()()(),o(52,"div",19)(53,"div",20)(54,"table",21)(55,"thead")(56,"tr")(57,"th"),l(58,"Transfer No."),a(),o(59,"th"),l(60,"Date"),a(),o(61,"th"),l(62,"From Warehouse"),a(),o(63,"th"),l(64,"To Warehouse"),a(),o(65,"th"),l(66,"Items"),a(),o(67,"th"),l(68,"Total Qty"),a(),o(69,"th"),l(70,"Status"),a(),o(71,"th"),l(72,"Actions"),a()()(),o(73,"tbody"),M(74,WR,3,0,"tr",22)(75,jR,5,0,"tr",22)(76,qR,23,8,"tr",23),a()()()()(),M(77,eA,65,22,"div",24)),e&2&&(c(25),f(i.transferList.length),c(8),f(i.getCompletedCount()),c(8),f(i.getInTransitCount()),c(8),f(i.getPendingCount()),c(25),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.transferList.length===0),c(),u("ngForOf",i.transferList),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,Se,F,Z],styles:[".stock-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}"]})};function tA(n,t){n&1&&(o(0,"tr")(1,"td",25),l(2,"Loading..."),a()())}function nA(n,t){n&1&&(o(0,"tr")(1,"td",26),v(2,"i",27),o(3,"p"),l(4,"No adjustments found"),a()()())}function iA(n,t){if(n&1){let e=O();o(0,"button",35),_("click",function(){m(e);let r=d().$implicit,s=d();return g(s.approveAdjustment(r.id))}),v(1,"i",36),a()}}function rA(n,t){if(n&1){let e=O();o(0,"button",37),_("click",function(){m(e);let r=d().$implicit,s=d();return g(s.rejectAdjustment(r.id))}),v(1,"i",38),a()}}function oA(n,t){if(n&1){let e=O();o(0,"button",39),_("click",function(){m(e);let r=d().$implicit,s=d();return g(s.deleteAdjustment(r.id))}),v(1,"i",40),a()}}function aA(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td")(9,"span",28),l(10),a()(),o(11,"td"),l(12),a(),o(13,"td"),l(14),a(),o(15,"td"),l(16),a(),o(17,"td"),l(18),a(),o(19,"td")(20,"span",28),l(21),a()(),o(22,"td")(23,"div",29)(24,"button",30),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openModal(r))}),v(25,"i",31),a(),M(26,iA,2,0,"button",32)(27,rA,2,0,"button",33)(28,oA,2,0,"button",34),a()()()}if(n&2){let e=t.$implicit,i=d();c(3),f(e.adjustmentNumber),c(2),f(e.adjustmentDate),c(2),f(e.itemName),c(2),u("ngClass",i.getTypeClass(e.adjustmentType)),c(),f(e.adjustmentType),c(2),f(e.quantityBefore),c(2),f(e.quantityAdjusted),c(2),f(e.quantityAfter),c(2),f(e.reason),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status),c(5),u("ngIf",e.status==="Pending"),c(),u("ngIf",e.status==="Pending"),c(),u("ngIf",e.status==="Pending")}}function sA(n,t){if(n&1&&(o(0,"div",63),l(1),a()),n&2){let e=d(2);c(),f(e.errorMessage)}}function lA(n,t){if(n&1&&(o(0,"option",52),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),ne("",e.code," - ",e.name)}}function cA(n,t){if(n&1&&(o(0,"option",52),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function dA(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function pA(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function uA(n,t){if(n&1&&(o(0,"span"),l(1),a()),n&2){let e=d(3);c(),ne(" Stock will increase from ",e.selectedAdjustment.quantityBefore," to ",e.selectedAdjustment.quantityAfter," ")}}function mA(n,t){if(n&1&&(o(0,"span"),l(1),a()),n&2){let e=d(3);c(),ne(" Stock will decrease from ",e.selectedAdjustment.quantityBefore," to ",e.selectedAdjustment.quantityAfter," ")}}function gA(n,t){if(n&1&&(o(0,"div",65),v(1,"i",66),M(2,uA,2,2,"span",22)(3,mA,2,2,"span",22),a()),n&2){let e=d(2);c(2),u("ngIf",e.selectedAdjustment.adjustmentType==="INCREASE"),c(),u("ngIf",e.selectedAdjustment.adjustmentType==="DECREASE")}}function fA(n,t){if(n&1){let e=O();o(0,"button",67),_("click",function(){m(e);let r=d(2);return g(r.saveAdjustment())}),l(1),a()}if(n&2){let e=d(2);u("disabled",e.saving),c(),E(" ",e.saving?"Saving...":"Save Adjustment"," ")}}function hA(n,t){if(n&1){let e=O();o(0,"div",41),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",42),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",43)(3,"h2"),l(4),a(),o(5,"button",44),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",45),M(8,sA,2,1,"div",46),o(9,"div",47)(10,"div",48)(11,"label"),l(12,"Adjustment Number"),a(),o(13,"input",49),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.adjustmentNumber,r)||(s.selectedAdjustment.adjustmentNumber=r),g(r)}),a()(),o(14,"div",48)(15,"label"),l(16,"Date *"),a(),o(17,"input",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.adjustmentDate,r)||(s.selectedAdjustment.adjustmentDate=r),g(r)}),a()()(),o(18,"div",47)(19,"div",48)(20,"label"),l(21,"Item *"),a(),o(22,"select",51),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.itemId,r)||(s.selectedAdjustment.itemId=r),g(r)}),_("change",function(){m(e);let r=d();return g(r.onItemSelect())}),o(23,"option",52),l(24,"Select Item"),a(),M(25,lA,2,3,"option",53),a()(),o(26,"div",48)(27,"label"),l(28,"Warehouse *"),a(),o(29,"select",54),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.warehouseId,r)||(s.selectedAdjustment.warehouseId=r),g(r)}),o(30,"option",52),l(31,"Select Warehouse"),a(),M(32,cA,2,2,"option",53),a()()(),o(33,"div",47)(34,"div",48)(35,"label"),l(36,"Adjustment Type *"),a(),o(37,"select",51),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.adjustmentType,r)||(s.selectedAdjustment.adjustmentType=r),g(r)}),_("change",function(){m(e);let r=d();return g(r.calculateQuantityAfter())}),M(38,dA,2,2,"option",55),a()(),o(39,"div",48)(40,"label"),l(41,"Reason *"),a(),o(42,"select",54),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.reason,r)||(s.selectedAdjustment.reason=r),g(r)}),M(43,pA,2,2,"option",55),a()()(),o(44,"div",47)(45,"div",48)(46,"label"),l(47,"Current Stock"),a(),o(48,"input",56),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.quantityBefore,r)||(s.selectedAdjustment.quantityBefore=r),g(r)}),a()(),o(49,"div",48)(50,"label"),l(51,"Quantity to Adjust *"),a(),o(52,"input",57),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.quantityAdjusted,r)||(s.selectedAdjustment.quantityAdjusted=r),g(r)}),_("ngModelChange",function(){m(e);let r=d();return g(r.calculateQuantityAfter())}),a()(),o(53,"div",48)(54,"label"),l(55,"New Stock"),a(),o(56,"input",56),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.quantityAfter,r)||(s.selectedAdjustment.quantityAfter=r),g(r)}),a()()(),o(57,"div",48)(58,"label"),l(59,"Remarks"),a(),o(60,"textarea",58),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedAdjustment.remarks,r)||(s.selectedAdjustment.remarks=r),g(r)}),a()(),M(61,gA,4,2,"div",59),a(),o(62,"div",60)(63,"button",61),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(64),a(),M(65,fA,2,2,"button",62),a()()()}if(n&2){let e=d();c(4),f(e.editMode?"View Adjustment":"New Stock Adjustment"),c(4),u("ngIf",e.errorMessage),c(5),C("ngModel",e.selectedAdjustment.adjustmentNumber),c(4),C("ngModel",e.selectedAdjustment.adjustmentDate),u("disabled",e.editMode),c(5),C("ngModel",e.selectedAdjustment.itemId),u("disabled",e.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",e.items),c(4),C("ngModel",e.selectedAdjustment.warehouseId),u("disabled",e.editMode),c(),u("ngValue",void 0),c(2),u("ngForOf",e.warehouses),c(5),C("ngModel",e.selectedAdjustment.adjustmentType),u("disabled",e.editMode),c(),u("ngForOf",e.adjustmentTypes),c(4),C("ngModel",e.selectedAdjustment.reason),u("disabled",e.editMode),c(),u("ngForOf",e.reasons),c(5),C("ngModel",e.selectedAdjustment.quantityBefore),c(4),C("ngModel",e.selectedAdjustment.quantityAdjusted),u("disabled",e.editMode),c(4),C("ngModel",e.selectedAdjustment.quantityAfter),c(4),C("ngModel",e.selectedAdjustment.remarks),u("disabled",e.editMode),c(),u("ngIf",e.selectedAdjustment.itemId&&!e.editMode),c(3),f(e.editMode?"Close":"Cancel"),c(),u("ngIf",!e.editMode)}}var Eu=class n{constructor(t,e,i,r,s){this.settingsService=t;this.stockMovementService=e;this.itemService=i;this.warehouseService=r;this.notificationService=s}adjustments=[];showModal=!1;editMode=!1;selectedAdjustment=this.getEmptyAdjustment();loading=!1;saving=!1;errorMessage="";items=[];warehouses=[];adjustmentTypes=["INCREASE","DECREASE"];reasons=["Inventory Count","Damaged Goods","Expired Items","Theft/Loss","Found Items","Return to Stock","Quality Issue","Administrative Correction","Other"];ngOnInit(){this.loadAdjustments(),this.loadMasterData()}loadMasterData(){this.itemService.getAll().subscribe({next:t=>this.items=t,error:t=>console.error("Error loading items",t)}),this.warehouseService.getAll().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}loadAdjustments(){this.loading=!0,this.stockMovementService.getAllAdjustments().subscribe({next:t=>{this.adjustments=t.map(e=>({id:e.id,adjustmentNumber:e.adjustmentNumber||"",adjustmentDate:e.adjustmentDate||"",adjustmentType:e.adjustmentType||"",itemId:e.itemId,itemName:e.item||"",itemCode:e.itemCode||"",warehouseId:e.warehouseId,warehouse:e.warehouse||"",binId:e.binId,bin:e.bin||"",quantityBefore:e.quantityBefore||0,quantityAdjusted:e.quantityAdjusted||0,quantityAfter:e.quantityAfter||0,valueDifference:e.valueDifference||0,reason:e.reason||"",status:e.status||"Pending",remarks:e.remarks||""})),this.loading=!1},error:t=>{console.error("Error loading adjustments",t),this.adjustments=[],this.loading=!1}})}getEmptyAdjustment(){return{adjustmentNumber:"",adjustmentDate:new Date().toISOString().split("T")[0],adjustmentType:"INCREASE",itemId:void 0,itemName:"",warehouseId:void 0,warehouse:"",quantityBefore:0,quantityAdjusted:0,quantityAfter:0,reason:"Inventory Count",status:"Pending",remarks:""}}openModal(t){this.errorMessage="",t?(this.editMode=!0,this.selectedAdjustment=JSON.parse(JSON.stringify(t))):(this.editMode=!1,this.selectedAdjustment=this.getEmptyAdjustment(),this.generateAdjustmentNumber()),this.showModal=!0}generateAdjustmentNumber(){this.settingsService.generatePrefixId("adjustment").subscribe({next:t=>{this.selectedAdjustment.adjustmentNumber=t},error:t=>console.error("Error generating adjustment number",t)})}closeModal(){this.showModal=!1,this.selectedAdjustment=this.getEmptyAdjustment(),this.errorMessage=""}onItemSelect(){let t=this.items.find(e=>e.id===this.selectedAdjustment.itemId);t&&(this.selectedAdjustment.itemName=t.name,this.selectedAdjustment.itemCode=t.code,this.selectedAdjustment.quantityBefore=t.currentStock||0,this.calculateQuantityAfter())}calculateQuantityAfter(){let t=this.selectedAdjustment.quantityBefore||0,e=this.selectedAdjustment.quantityAdjusted||0;this.selectedAdjustment.adjustmentType==="INCREASE"?this.selectedAdjustment.quantityAfter=t+e:this.selectedAdjustment.quantityAfter=t-e}saveAdjustment(){if(!this.selectedAdjustment.itemId){this.notificationService.error("Please select an item.");return}if(!this.selectedAdjustment.warehouseId){this.notificationService.error("Please select a warehouse.");return}if(!this.selectedAdjustment.quantityAdjusted||this.selectedAdjustment.quantityAdjusted<=0){this.notificationService.error("Please enter a valid quantity to adjust.");return}if(!this.selectedAdjustment.reason){this.notificationService.error("Please select a reason for adjustment.");return}this.saving=!0,this.errorMessage="";let t={adjustmentDate:this.selectedAdjustment.adjustmentDate,adjustmentType:this.selectedAdjustment.adjustmentType,itemId:this.selectedAdjustment.itemId,warehouseId:this.selectedAdjustment.warehouseId,binId:this.selectedAdjustment.binId,quantityAdjusted:this.selectedAdjustment.quantityAdjusted,reason:this.selectedAdjustment.reason,remarks:this.selectedAdjustment.remarks};this.stockMovementService.createAdjustment(t).subscribe({next:()=>{this.saving=!1,this.notificationService.success("Stock Adjustment created successfully"),this.loadAdjustments(),this.closeModal()},error:e=>{this.saving=!1,this.notificationService.error(e.error?.error||"Error saving adjustment"),console.error("Error saving adjustment",e)}})}deleteAdjustment(t){confirm("Are you sure you want to delete this adjustment?")&&this.stockMovementService.deleteAdjustment(t).subscribe({next:()=>this.loadAdjustments(),error:e=>console.error("Error deleting adjustment",e)})}approveAdjustment(t){confirm("Are you sure you want to approve this adjustment? This will update the stock levels.")&&this.stockMovementService.approveAdjustment(t).subscribe({next:()=>{this.notificationService.success("Adjustment approved successfully"),this.loadAdjustments()},error:e=>{console.error("Error approving adjustment",e),this.notificationService.error(e.error?.error||"Error approving adjustment")}})}rejectAdjustment(t){confirm("Are you sure you want to reject this adjustment?")&&this.stockMovementService.rejectAdjustment(t).subscribe({next:()=>{this.notificationService.success("Adjustment rejected"),this.loadAdjustments()},error:e=>{console.error("Error rejecting adjustment",e),this.notificationService.error(e.error?.error||"Error rejecting adjustment")}})}getIncreaseCount(){return this.adjustments.filter(t=>t.adjustmentType==="INCREASE").length}getDecreaseCount(){return this.adjustments.filter(t=>t.adjustmentType==="DECREASE").length}getPendingCount(){return this.adjustments.filter(t=>t.status==="Pending").length}getApprovedCount(){return this.adjustments.filter(t=>t.status==="Approved"||t.status==="Completed").length}getStatusClass(t){return{Approved:"badge-success",Completed:"badge-success",Pending:"badge-warning",Rejected:"badge-danger",Draft:"badge-info"}[t]||"badge-info"}getTypeClass(t){return t==="INCREASE"?"badge-success":"badge-danger"}static \u0275fac=function(e){return new(e||n)(w(ke),w(Bn),w(Ve),w(Ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-stock-adjustments"]],standalone:!1,decls:82,vars:8,consts:[[1,"stock-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"stats-row"],[1,"stat-card"],[1,"stat-icon","blue"],[1,"fas","fa-sliders-h"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","green"],[1,"fas","fa-arrow-up"],[1,"stat-icon","red"],[1,"fas","fa-arrow-down"],[1,"stat-icon","orange"],[1,"fas","fa-clock"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","10",1,"text-center"],["colspan","10",1,"empty-state"],[1,"fas","fa-inbox"],[1,"badge",3,"ngClass"],[1,"action-buttons"],["title","View",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-eye"],["class","btn btn-sm btn-success","title","Approve",3,"click",4,"ngIf"],["class","btn btn-sm btn-warning","title","Reject",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger","title","Delete",3,"click",4,"ngIf"],["title","Approve",1,"btn","btn-sm","btn-success",3,"click"],[1,"fas","fa-check"],["title","Reject",1,"btn","btn-sm","btn-warning",3,"click"],[1,"fas","fa-times"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"form-row"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["type","date",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-control",3,"ngModelChange","change","ngModel","disabled"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["type","number","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel","disabled"],["rows","2",1,"form-control",3,"ngModelChange","ngModel","disabled"],["class","info-box",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"],[1,"info-box"],[1,"fas","fa-info-circle"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Stock Adjustments"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Stock Movement"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Adjustments"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," New Adjustment "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8),v(22,"i",9),a(),o(23,"div",10)(24,"span",11),l(25),a(),o(26,"span",12),l(27,"Total Adjustments"),a()()(),o(28,"div",7)(29,"div",13),v(30,"i",14),a(),o(31,"div",10)(32,"span",11),l(33),a(),o(34,"span",12),l(35,"Increases"),a()()(),o(36,"div",7)(37,"div",15),v(38,"i",16),a(),o(39,"div",10)(40,"span",11),l(41),a(),o(42,"span",12),l(43,"Decreases"),a()()(),o(44,"div",7)(45,"div",17),v(46,"i",18),a(),o(47,"div",10)(48,"span",11),l(49),a(),o(50,"span",12),l(51,"Pending Approval"),a()()()(),o(52,"div",19)(53,"div",20)(54,"table",21)(55,"thead")(56,"tr")(57,"th"),l(58,"Adjustment No."),a(),o(59,"th"),l(60,"Date"),a(),o(61,"th"),l(62,"Item"),a(),o(63,"th"),l(64,"Type"),a(),o(65,"th"),l(66,"Before"),a(),o(67,"th"),l(68,"Adjusted"),a(),o(69,"th"),l(70,"After"),a(),o(71,"th"),l(72,"Reason"),a(),o(73,"th"),l(74,"Status"),a(),o(75,"th"),l(76,"Actions"),a()()(),o(77,"tbody"),M(78,tA,3,0,"tr",22)(79,nA,5,0,"tr",22)(80,aA,29,14,"tr",23),a()()()()(),M(81,hA,66,28,"div",24)),e&2&&(c(25),f(i.adjustments.length),c(8),f(i.getIncreaseCount()),c(8),f(i.getDecreaseCount()),c(8),f(i.getPendingCount()),c(29),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.adjustments.length===0),c(),u("ngForOf",i.adjustments),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,Se,F,Z],styles:[".stock-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}"]})};var Ue=class n{constructor(){}exportToCSV(t,e,i){if(!t||t.length===0){alert("No data to export");return}let r=i||Object.keys(t[0]),s=[r.join(","),...t.map(p=>r.map(h=>{let y=p[h],S=y==null?"":String(y);return S.includes(",")||S.includes('"')||S.includes(`
`)?`"${S.replace(/"/g,'""')}"`:S}).join(","))].join(`
`);this.downloadFile(s,`${e}.csv`,"text/csv")}exportToExcel(t,e,i){if(!t||t.length===0){alert("No data to export");return}let r=i||Object.keys(t[0]),s='<table border="1">';s+="<tr>"+r.map(h=>`<th style="background:#008080;color:white;padding:8px">${this.formatHeader(h)}</th>`).join("")+"</tr>",t.forEach(h=>{s+="<tr>"+r.map(y=>{let S=h[y];return`<td style="padding:5px">${S??""}</td>`}).join("")+"</tr>"}),s+="</table>";let p=`
      <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel">
      <head><meta charset="UTF-8"></head>
      <body>${s}</body></html>
    `;this.downloadFile(p,`${e}.xls`,"application/vnd.ms-excel")}exportToPDF(t,e,i,r){if(!t||t.length===0){alert("No data to export");return}let s=r||Object.keys(t[0]),p=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="UTF-8">
        <title>${i}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #008080; text-align: center; margin-bottom: 20px; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th { background-color: #008080; color: white; padding: 10px; text-align: left; }
          td { padding: 8px; border-bottom: 1px solid #ddd; }
          tr:hover { background-color: #f5f5f5; }
          .report-date { text-align: right; color: #666; margin-bottom: 10px; }
        </style>
      </head>
      <body>
        <h1>${i}</h1>
        <div class="report-date">Generated: ${new Date().toLocaleString()}</div>
        <table>
          <thead>
            <tr>${s.map(y=>`<th>${this.formatHeader(y)}</th>`).join("")}</tr>
          </thead>
          <tbody>
            ${t.map(y=>"<tr>"+s.map(S=>{let P=y[S];return`<td>${P??""}</td>`}).join("")+"</tr>").join("")}
          </tbody>
        </table>
      </body>
      </html>
    `,h=window.open("","_blank");h&&(h.document.write(p),h.document.close(),h.focus(),setTimeout(()=>{h.print()},500))}formatHeader(t){return t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}downloadFile(t,e,i){let r=new Blob([t],{type:i}),s=window.URL.createObjectURL(r),p=document.createElement("a");p.href=s,p.download=e,p.click(),window.URL.revokeObjectURL(s)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function _A(n,t){if(n&1&&(o(0,"option",26),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function vA(n,t){if(n&1&&(o(0,"option",26),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function yA(n,t){if(n&1&&(o(0,"option",26),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function CA(n,t){if(n&1&&(o(0,"div",11)(1,"div",27)(2,"div",28)(3,"span",29),l(4,"Total Opening:"),a(),o(5,"span",30),l(6),a()(),o(7,"div",28)(8,"span",29),l(9,"Total In:"),a(),o(10,"span",31),l(11),a()(),o(12,"div",28)(13,"span",29),l(14,"Total Out:"),a(),o(15,"span",32),l(16),a()(),o(17,"div",28)(18,"span",29),l(19,"Total Closing:"),a(),o(20,"span",30),l(21),a()()()()),n&2){let e=d();c(6),f(e.totalOpening),c(5),f(e.totalIn),c(5),f(e.totalOut),c(5),f(e.totalClosing)}}function xA(n,t){n&1&&(o(0,"tr")(1,"td",33),v(2,"i",34),o(3,"p"),l(4,"Generate report to view data"),a()()())}function bA(n,t){n&1&&(o(0,"tr")(1,"td",33),v(2,"i",35),o(3,"p"),l(4,"Loading..."),a()()())}function MA(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td",23),l(12),a(),o(13,"td",36),l(14),a(),o(15,"td",37),l(16),a(),o(17,"td",23),l(18),a(),o(19,"td",23),l(20),U(21,"number"),a(),o(22,"td",23),l(23),U(24,"number"),a()()),n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.group),c(2),f(e.supplier),c(2),f(e.unit),c(2),f(e.opening),c(2),f(e.stockIn),c(2),f(e.stockOut),c(2),f(e.closing),c(2),f($(21,11,e.unitCost,"1.2-2")),c(3),f($(24,14,e.value,"1.2-2"))}}var wu=class n{constructor(t,e,i,r,s,p){this.itemService=t;this.itemGroupService=e;this.warehouseService=i;this.supplierService=r;this.ledgerService=s;this.exportService=p}reportData=[];items=[];groups=[];warehouses=[];suppliers=[];selectedWarehouse="";selectedGroup="";selectedSupplier="";fromDate="";toDate="";loading=!1;totalOpening=0;totalIn=0;totalOut=0;totalClosing=0;ngOnInit(){this.loadFilters()}loadFilters(){this.itemGroupService.getAll().subscribe({next:t=>this.groups=t,error:t=>console.error("Error loading groups",t)}),this.warehouseService.getAllWarehouses().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)}),this.supplierService.getAll().subscribe({next:t=>this.suppliers=t,error:t=>console.error("Error loading suppliers",t)})}generateReport(){this.loading=!0,wr({items:this.itemService.getAll(),ledger:this.ledgerService.getAll({warehouseId:this.selectedWarehouse?parseInt(this.selectedWarehouse):void 0,startDate:this.fromDate||void 0,endDate:this.toDate||void 0})}).subscribe({next:({items:t,ledger:e})=>{let i=t;this.selectedGroup&&(i=i.filter(s=>s.group?.name===this.selectedGroup)),this.selectedSupplier&&(i=i.filter(s=>s.supplier?.name===this.selectedSupplier));let r=new Map;e.forEach(s=>{let p=s.item?.id;if(p){r.has(p)||r.set(p,{stockIn:0,stockOut:0});let h=r.get(p);h.stockIn+=s.quantityIn||0,h.stockOut+=s.quantityOut||0}}),this.reportData=i.map(s=>{let p=r.get(s.id)||{stockIn:0,stockOut:0},h=s.currentStock||0,y=h-p.stockIn+p.stockOut;return{code:s.code,name:s.name,group:s.group?.name||"",unit:s.unitOfMeasure?.name||"",supplier:s.supplier?.name||"",opening:Math.max(0,y),stockIn:p.stockIn,stockOut:p.stockOut,closing:h,unitCost:s.unitCost||0,value:h*(s.unitCost||0)}}),this.calculateTotals(),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}calculateTotals(){this.totalOpening=this.reportData.reduce((t,e)=>t+e.opening,0),this.totalIn=this.reportData.reduce((t,e)=>t+e.stockIn,0),this.totalOut=this.reportData.reduce((t,e)=>t+e.stockOut,0),this.totalClosing=this.reportData.reduce((t,e)=>t+e.closing,0)}exportToExcel(){this.exportService.exportToExcel(this.reportData,"stock-summary-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"stock-summary-report","Stock Summary Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"stock-summary-report")}static \u0275fac=function(e){return new(e||n)(w(Ve),w(_n),w(Ke),w(It),w(Mi),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-stock-summary-report"]],standalone:!1,decls:92,vars:17,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],["class","card",4,"ngIf"],[1,"table-container"],[1,"table"],[1,"text-right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"summary-row"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"value","text-success"],[1,"value","text-danger"],["colspan","11",1,"empty-state"],[1,"fas","fa-chart-bar"],[1,"fas","fa-spinner","fa-spin"],[1,"text-right","text-success"],[1,"text-right","text-danger"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Stock Summary Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Stock Summary"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Group"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedGroup,s)||(i.selectedGroup=s),s}),o(32,"option",15),l(33,"All Groups"),a(),M(34,_A,2,2,"option",16),a()(),o(35,"div",13)(36,"label"),l(37,"Warehouse"),a(),o(38,"select",14),x("ngModelChange",function(s){return b(i.selectedWarehouse,s)||(i.selectedWarehouse=s),s}),o(39,"option",15),l(40,"All Warehouses"),a(),M(41,vA,2,2,"option",16),a()(),o(42,"div",13)(43,"label"),l(44,"Supplier"),a(),o(45,"select",14),x("ngModelChange",function(s){return b(i.selectedSupplier,s)||(i.selectedSupplier=s),s}),o(46,"option",15),l(47,"All Suppliers"),a(),M(48,yA,2,2,"option",16),a()(),o(49,"div",13)(50,"label"),l(51,"From Date"),a(),o(52,"input",17),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(53,"div",13)(54,"label"),l(55,"To Date"),a(),o(56,"input",17),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(57,"button",18),_("click",function(){return i.generateReport()}),v(58,"i",19),l(59),a()()(),M(60,CA,22,4,"div",20),o(61,"div",11)(62,"div",21)(63,"table",22)(64,"thead")(65,"tr")(66,"th"),l(67,"Item Code"),a(),o(68,"th"),l(69,"Item Name"),a(),o(70,"th"),l(71,"Group"),a(),o(72,"th"),l(73,"Supplier"),a(),o(74,"th"),l(75,"Unit"),a(),o(76,"th",23),l(77,"Opening"),a(),o(78,"th",23),l(79,"In"),a(),o(80,"th",23),l(81,"Out"),a(),o(82,"th",23),l(83,"Closing"),a(),o(84,"th",23),l(85,"Unit Cost"),a(),o(86,"th",23),l(87,"Value"),a()()(),o(88,"tbody"),M(89,xA,5,0,"tr",24)(90,bA,5,0,"tr",24)(91,MA,25,17,"tr",25),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedGroup),c(3),u("ngForOf",i.groups),c(4),C("ngModel",i.selectedWarehouse),c(3),u("ngForOf",i.warehouses),c(4),C("ngModel",i.selectedSupplier),c(3),u("ngForOf",i.suppliers),c(4),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(),u("ngIf",i.reportData.length>0),c(29),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[A,N,z,G,B,H,V,F,Z,he],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filter-btn[_ngcontent-%COMP%]{height:46px}"]})};function SA(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function PA(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function EA(n,t){if(n&1&&(o(0,"div",11)(1,"div",32)(2,"div",33)(3,"span",34),l(4,"Total Items:"),a(),o(5,"span",35),l(6),a()(),o(7,"div",33)(8,"span",34),l(9,"Valuation Method:"),a(),o(10,"span",35),l(11),a()(),o(12,"div",36)(13,"span",34),l(14,"Total Inventory Value:"),a(),o(15,"span",35),l(16),U(17,"number"),a()()()()),n&2){let e=d();c(6),f(e.reportData.length),c(5),f(e.getValuationMethodDisplay()),c(5),f($(17,3,e.totalValue,"1.2-2"))}}function wA(n,t){n&1&&(o(0,"tr")(1,"td",37),v(2,"i",38),o(3,"p"),l(4,"Generate report to view inventory valuation"),a()()())}function OA(n,t){n&1&&(o(0,"tr")(1,"td",37),v(2,"i",39),o(3,"p"),l(4,"Loading..."),a()()())}function IA(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td",28),l(10),U(11,"number"),a(),o(12,"td",28),l(13),U(14,"number"),a(),o(15,"td",28),l(16),U(17,"number"),a()()),n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.group),c(2),f(e.unit),c(2),f($(11,7,e.quantity,"1.0-2")),c(3),f($(14,10,e.unitCost,"1.2-2")),c(3),f($(17,13,e.totalValue,"1.2-2"))}}function DA(n,t){if(n&1&&(o(0,"tfoot")(1,"tr",40)(2,"td",41)(3,"strong"),l(4,"Grand Total:"),a()(),o(5,"td",28)(6,"strong"),l(7),U(8,"number"),a()()()()),n&2){let e=d();c(7),f($(8,1,e.totalValue,"1.2-2"))}}var Ou=class n{constructor(t,e,i,r,s){this.itemService=t;this.itemGroupService=e;this.warehouseService=i;this.settingsService=r;this.exportService=s}reportData=[];items=[];groups=[];warehouses=[];selectedGroup="";selectedWarehouse="";totalValue=0;loading=!1;valuationMethod="FIFO";asOfDate="";ngOnInit(){this.loadFilters(),this.loadValuationMethod()}loadFilters(){this.itemGroupService.getAll().subscribe({next:t=>this.groups=t,error:t=>console.error("Error loading groups",t)}),this.warehouseService.getAllWarehouses().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}loadValuationMethod(){this.settingsService.getGeneralSettings().subscribe({next:t=>{this.valuationMethod=t.valuationMethod||"FIFO"},error:t=>{console.error("Error loading valuation method",t),this.valuationMethod="FIFO"}})}generateReport(){this.loading=!0,this.itemService.getAll().subscribe({next:t=>{let e=t;this.selectedGroup&&(e=e.filter(i=>i.group?.name===this.selectedGroup)),this.reportData=e.map(i=>{let r=i.currentStock||0,s=i.unitCost||0,p=r*s;return{code:i.code,name:i.name,group:i.group?.name||"",unit:i.unitOfMeasure?.name||"",quantity:r,unitCost:s,totalValue:p,valuationMethod:this.getValuationMethodDisplay()}}),this.totalValue=this.reportData.reduce((i,r)=>i+r.totalValue,0),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}getValuationMethodDisplay(){return{FIFO:"First In, First Out",LIFO:"Last In, First Out",WEIGHTED_AVERAGE:"Weighted Average"}[this.valuationMethod]||this.valuationMethod}exportToExcel(){this.exportService.exportToExcel(this.reportData,"inventory-valuation-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"inventory-valuation-report",`Inventory Valuation Report (${this.getValuationMethodDisplay()})`)}exportToCSV(){this.exportService.exportToCSV(this.reportData,"inventory-valuation-report")}static \u0275fac=function(e){return new(e||n)(w(Ve),w(_n),w(Ke),w(ke),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-inventory-valuation-report"]],standalone:!1,decls:86,vars:16,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",1,"form-control",3,"ngModelChange","ngModel"],["value","FIFO"],["value","LIFO"],["value","WEIGHTED_AVERAGE"],[1,"form-text","text-muted"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],["class","card",4,"ngIf"],[1,"table-container"],[1,"table"],[1,"text-right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"summary-row"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"summary-item","highlight"],["colspan","7",1,"empty-state"],[1,"fas","fa-coins"],[1,"fas","fa-spinner","fa-spin"],[1,"total-row"],["colspan","6",1,"text-right"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Inventory Valuation Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Valuation"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Group"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedGroup,s)||(i.selectedGroup=s),s}),o(32,"option",15),l(33,"All Groups"),a(),M(34,SA,2,2,"option",16),a()(),o(35,"div",13)(36,"label"),l(37,"Warehouse"),a(),o(38,"select",14),x("ngModelChange",function(s){return b(i.selectedWarehouse,s)||(i.selectedWarehouse=s),s}),o(39,"option",15),l(40,"All Warehouses"),a(),M(41,PA,2,2,"option",16),a()(),o(42,"div",13)(43,"label"),l(44,"As of Date"),a(),o(45,"input",17),x("ngModelChange",function(s){return b(i.asOfDate,s)||(i.asOfDate=s),s}),a()(),o(46,"div",13)(47,"label"),l(48,"Valuation Method"),a(),o(49,"select",18),x("ngModelChange",function(s){return b(i.valuationMethod,s)||(i.valuationMethod=s),s}),o(50,"option",19),l(51,"FIFO (First In, First Out)"),a(),o(52,"option",20),l(53,"LIFO (Last In, First Out)"),a(),o(54,"option",21),l(55,"Weighted Average"),a()(),o(56,"small",22),l(57,"Set in General Settings"),a()(),o(58,"button",23),_("click",function(){return i.generateReport()}),v(59,"i",24),l(60),a()()(),M(61,EA,18,6,"div",25),o(62,"div",11)(63,"div",26)(64,"table",27)(65,"thead")(66,"tr")(67,"th"),l(68,"Item Code"),a(),o(69,"th"),l(70,"Item Name"),a(),o(71,"th"),l(72,"Group"),a(),o(73,"th"),l(74,"Unit"),a(),o(75,"th",28),l(76,"Quantity"),a(),o(77,"th",28),l(78,"Unit Cost"),a(),o(79,"th",28),l(80,"Total Value"),a()()(),o(81,"tbody"),M(82,wA,5,0,"tr",29)(83,OA,5,0,"tr",29)(84,IA,18,16,"tr",30),a(),M(85,DA,9,4,"tfoot",29),a()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedGroup),c(3),u("ngForOf",i.groups),c(4),C("ngModel",i.selectedWarehouse),c(3),u("ngForOf",i.warehouses),c(4),C("ngModel",i.asOfDate),c(4),C("ngModel",i.valuationMethod),c(9),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(),u("ngIf",i.reportData.length>0),c(21),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData),c(),u("ngIf",i.reportData.length>0))},dependencies:[A,N,z,G,B,H,V,F,Z,he],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filter-btn[_ngcontent-%COMP%]{height:46px}"]})};function TA(n,t){if(n&1&&(o(0,"option",28),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne("",e.name," (",e.code,")")}}function kA(n,t){if(n&1&&(o(0,"option",28),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function RA(n,t){if(n&1&&(o(0,"div",11)(1,"div",29)(2,"div",30)(3,"span",31),l(4,"Item:"),a(),o(5,"span",32),l(6),a()(),o(7,"div",30)(8,"span",31),l(9,"Total In:"),a(),o(10,"span",33),l(11),a()(),o(12,"div",30)(13,"span",31),l(14,"Total Out:"),a(),o(15,"span",34),l(16),a()(),o(17,"div",30)(18,"span",31),l(19,"Net Movement:"),a(),o(20,"span",32),l(21),a()()()()),n&2){let e=d();c(6),f(e.getSelectedItemName()),c(5),f(e.totalIn),c(5),f(e.totalOut),c(4),L("text-success",e.totalIn-e.totalOut>=0)("text-danger",e.totalIn-e.totalOut<0),c(),E(" ",e.totalIn-e.totalOut," ")}}function AA(n,t){n&1&&(o(0,"tr")(1,"td",35),v(2,"i",36),o(3,"p"),l(4,"Select an item and generate report to view movements"),a()()())}function NA(n,t){n&1&&(o(0,"tr")(1,"td",35),v(2,"i",37),o(3,"p"),l(4,"Loading..."),a()()())}function FA(n,t){if(n&1){let e=O();o(0,"tr",38),_("click",function(){let r=m(e).$implicit,s=d();return g(s.drillDown(r))}),o(1,"td"),l(2),U(3,"date"),a(),o(4,"td",39),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td",40),l(11),a(),o(12,"td",41),l(13),a(),o(14,"td",25),l(15),a(),o(16,"td",25),l(17),U(18,"number"),a(),o(19,"td",25),l(20),U(21,"number"),a()()}if(n&2){let e=t.$implicit;c(2),f($(3,9,e.date,"shortDate")),c(3),f(e.documentNo),c(2),f(e.transactionType),c(2),f(e.warehouse),c(2),f(e.quantityIn>0?e.quantityIn:""),c(2),f(e.quantityOut>0?e.quantityOut:""),c(2),f(e.balance),c(2),f($(18,12,e.rate,"1.2-2")),c(3),f($(21,15,e.value,"1.2-2"))}}var Iu=class n{constructor(t,e,i,r,s){this.itemService=t;this.warehouseService=e;this.ledgerService=i;this.exportService=r;this.router=s}reportData=[];items=[];warehouses=[];selectedItem="";selectedWarehouse="";fromDate="";toDate="";loading=!1;totalIn=0;totalOut=0;ngOnInit(){this.loadFilters()}loadFilters(){this.itemService.getAll().subscribe({next:t=>this.items=t,error:t=>console.error("Error loading items",t)}),this.warehouseService.getAllWarehouses().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}generateReport(){if(!this.selectedItem){alert("Please select an item");return}this.loading=!0;let t={itemId:parseInt(this.selectedItem)};this.selectedWarehouse&&(t.warehouseId=parseInt(this.selectedWarehouse)),this.fromDate&&(t.startDate=this.fromDate),this.toDate&&(t.endDate=this.toDate),this.ledgerService.getAll(t).subscribe({next:e=>{this.reportData=e.map(i=>({id:i.id,date:i.transactionDate,documentNo:i.referenceNumber,transactionType:this.formatTransactionType(i.transactionType),warehouse:i.warehouse?.name||"",quantityIn:i.quantityIn||0,quantityOut:i.quantityOut||0,balance:i.balanceQuantity||0,rate:i.unitValue||0,value:i.totalValue||0})),this.totalIn=this.reportData.reduce((i,r)=>i+r.quantityIn,0),this.totalOut=this.reportData.reduce((i,r)=>i+r.quantityOut,0),this.loading=!1},error:e=>{console.error("Error generating report",e),this.loading=!1}})}formatTransactionType(t){return{GRN:"Goods Receipt",GOODS_RECEIPT:"Goods Receipt",ISSUE:"Goods Issue",GOODS_ISSUE:"Goods Issue",TRANSFER:"Stock Transfer",STOCK_TRANSFER:"Stock Transfer",ADJUSTMENT:"Stock Adjustment",STOCK_ADJUSTMENT:"Stock Adjustment"}[t]||t}drillDown(t){let e=t.transactionType,i="";e.includes("Receipt")?i="/app/stock-movement/goods-receipt":e.includes("Issue")?i="/app/stock-movement/goods-issue":e.includes("Transfer")?i="/app/stock-movement/stock-transfer":e.includes("Adjustment")&&(i="/app/stock-movement/stock-adjustments"),i&&this.router.navigate([i],{queryParams:{referenceNumber:t.documentNo}})}getSelectedItemName(){let t=this.items.find(e=>e.id?.toString()===this.selectedItem);return t?`${t.code} - ${t.name}`:""}exportToExcel(){this.exportService.exportToExcel(this.reportData,"item-movement-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"item-movement-report","Item Movement Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"item-movement-report")}static \u0275fac=function(e){return new(e||n)(w(Ve),w(Ke),w(Mi),w(Ue),w(ue))};static \u0275cmp=k({type:n,selectors:[["app-item-movement-report"]],standalone:!1,decls:83,vars:15,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"required"],["required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModelChange","ngModel"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],["class","card",4,"ngIf"],[1,"table-container"],[1,"table"],[1,"text-right"],[4,"ngIf"],["class","clickable-row",3,"click",4,"ngFor","ngForOf"],[3,"value"],[1,"summary-row"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"value","text-success"],[1,"value","text-danger"],["colspan","9",1,"empty-state"],[1,"fas","fa-chart-line"],[1,"fas","fa-spinner","fa-spin"],[1,"clickable-row",3,"click"],[1,"link-text"],[1,"text-right","text-success"],[1,"text-right","text-danger"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Item Movement Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Item Movement"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Item "),o(31,"span",14),l(32,"*"),a()(),o(33,"select",15),x("ngModelChange",function(s){return b(i.selectedItem,s)||(i.selectedItem=s),s}),o(34,"option",16),l(35,"Select Item"),a(),M(36,TA,2,3,"option",17),a()(),o(37,"div",13)(38,"label"),l(39,"Warehouse"),a(),o(40,"select",18),x("ngModelChange",function(s){return b(i.selectedWarehouse,s)||(i.selectedWarehouse=s),s}),o(41,"option",16),l(42,"All Warehouses"),a(),M(43,kA,2,2,"option",17),a()(),o(44,"div",13)(45,"label"),l(46,"From Date"),a(),o(47,"input",19),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(48,"div",13)(49,"label"),l(50,"To Date"),a(),o(51,"input",19),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(52,"button",20),_("click",function(){return i.generateReport()}),v(53,"i",21),l(54),a()()(),M(55,RA,22,8,"div",22),o(56,"div",11)(57,"div",23)(58,"table",24)(59,"thead")(60,"tr")(61,"th"),l(62,"Date"),a(),o(63,"th"),l(64,"Document No"),a(),o(65,"th"),l(66,"Type"),a(),o(67,"th"),l(68,"Warehouse"),a(),o(69,"th",25),l(70,"In"),a(),o(71,"th",25),l(72,"Out"),a(),o(73,"th",25),l(74,"Balance"),a(),o(75,"th",25),l(76,"Rate"),a(),o(77,"th",25),l(78,"Value"),a()()(),o(79,"tbody"),M(80,AA,5,0,"tr",26)(81,NA,5,0,"tr",26)(82,FA,22,18,"tr",27),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(10),C("ngModel",i.selectedItem),c(3),u("ngForOf",i.items),c(4),C("ngModel",i.selectedWarehouse),c(3),u("ngForOf",i.warehouses),c(4),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading||!i.selectedItem),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(),u("ngIf",i.reportData.length>0),c(25),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[A,N,z,G,B,H,V,ve,F,Z,he,Vt],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filter-btn[_ngcontent-%COMP%]{height:46px}"]})};function VA(n,t){if(n&1&&(o(0,"option",25),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne("",e.name," (",e.code,")")}}function LA(n,t){if(n&1&&(o(0,"option",25),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function UA(n,t){n&1&&(o(0,"tr")(1,"td",26),v(2,"i",27),o(3,"p"),l(4,"Generate report to view data"),a()()())}function BA(n,t){n&1&&(o(0,"tr")(1,"td",26),v(2,"i",28),o(3,"p"),l(4,"Loading..."),a()()())}function WA(n,t){if(n&1){let e=O();o(0,"tr",29),_("click",function(){let r=m(e).$implicit,s=d();return g(s.drillDown(r))}),o(1,"td"),l(2),U(3,"date"),a(),o(4,"td",30),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td",22),l(13),a(),o(14,"td",22),l(15),a(),o(16,"td",22),l(17),a(),o(18,"td",22),l(19),U(20,"number"),a(),o(21,"td",22),l(22),U(23,"number"),a()()}if(n&2){let e=t.$implicit;c(2),f($(3,11,e.date,"shortDate")),c(3),f(e.documentNo),c(2),ne("",e.itemCode," - ",e.itemName),c(2),f(e.transactionType),c(2),f(e.warehouse),c(2),f(e.quantityIn),c(2),f(e.quantityOut),c(2),f(e.balance),c(2),f($(20,14,e.rate,"1.2-2")),c(3),f($(23,17,e.value,"1.2-2"))}}var Du=class n{constructor(t,e,i,r,s){this.ledgerService=t;this.itemService=e;this.warehouseService=i;this.exportService=r;this.router=s}reportData=[];items=[];warehouses=[];selectedItem="";selectedWarehouse="";fromDate="";toDate="";loading=!1;ngOnInit(){this.loadFilters()}loadFilters(){this.itemService.getAll().subscribe({next:t=>this.items=t,error:t=>console.error("Error loading items",t)}),this.warehouseService.getAllWarehouses().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}generateReport(){this.loading=!0;let t={};this.selectedItem&&(t.itemId=parseInt(this.selectedItem)),this.selectedWarehouse&&(t.warehouseId=parseInt(this.selectedWarehouse)),this.fromDate&&(t.startDate=this.fromDate),this.toDate&&(t.endDate=this.toDate),this.ledgerService.getAll(t).subscribe({next:e=>{this.reportData=e.map(i=>({id:i.id,date:i.transactionDate,documentNo:i.referenceNumber,transactionType:i.transactionType,itemCode:i.item?.code||"",itemName:i.item?.name||"",warehouse:i.warehouse?.name||"",quantityIn:i.quantityIn||0,quantityOut:i.quantityOut||0,balance:i.balanceQuantity||0,rate:i.unitValue||0,value:i.totalValue||0,remarks:i.remarks||""})),this.loading=!1},error:e=>{console.error("Error generating report",e),this.loading=!1}})}drillDown(t){let e=t.transactionType,i="";e==="GRN"||e==="GOODS_RECEIPT"?i="/app/stock-movement/goods-receipt":e==="ISSUE"||e==="GOODS_ISSUE"?i="/app/stock-movement/goods-issue":e==="TRANSFER"||e==="STOCK_TRANSFER"?i="/app/stock-movement/stock-transfer":(e==="ADJUSTMENT"||e==="STOCK_ADJUSTMENT")&&(i="/app/stock-movement/stock-adjustments"),i&&this.router.navigate([i],{queryParams:{referenceNumber:t.documentNo}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"stock-ledger-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"stock-ledger-report","Stock Ledger Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"stock-ledger-report")}static \u0275fac=function(e){return new(e||n)(w(Mi),w(Ve),w(Ke),w(Ue),w(ue))};static \u0275cmp=k({type:n,selectors:[["app-stock-ledger-report"]],standalone:!1,decls:82,vars:14,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],[1,"table-container"],[1,"table"],[1,"text-right"],[4,"ngIf"],["class","clickable-row",3,"click",4,"ngFor","ngForOf"],[3,"value"],["colspan","10",1,"empty-state"],[1,"fas","fa-book-open"],[1,"fas","fa-spinner","fa-spin"],[1,"clickable-row",3,"click"],[1,"link-text"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Stock Ledger Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Stock Ledger"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Item"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedItem,s)||(i.selectedItem=s),s}),o(32,"option",15),l(33,"All Items"),a(),M(34,VA,2,3,"option",16),a()(),o(35,"div",13)(36,"label"),l(37,"Warehouse"),a(),o(38,"select",14),x("ngModelChange",function(s){return b(i.selectedWarehouse,s)||(i.selectedWarehouse=s),s}),o(39,"option",15),l(40,"All Warehouses"),a(),M(41,LA,2,2,"option",16),a()(),o(42,"div",13)(43,"label"),l(44,"From Date"),a(),o(45,"input",17),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(46,"div",13)(47,"label"),l(48,"To Date"),a(),o(49,"input",17),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(50,"button",18),_("click",function(){return i.generateReport()}),v(51,"i",19),l(52),a()()(),o(53,"div",11)(54,"div",20)(55,"table",21)(56,"thead")(57,"tr")(58,"th"),l(59,"Date"),a(),o(60,"th"),l(61,"Document No"),a(),o(62,"th"),l(63,"Item"),a(),o(64,"th"),l(65,"Type"),a(),o(66,"th"),l(67,"Warehouse"),a(),o(68,"th",22),l(69,"In"),a(),o(70,"th",22),l(71,"Out"),a(),o(72,"th",22),l(73,"Balance"),a(),o(74,"th",22),l(75,"Rate"),a(),o(76,"th",22),l(77,"Value"),a()()(),o(78,"tbody"),M(79,UA,5,0,"tr",23)(80,BA,5,0,"tr",23)(81,WA,24,20,"tr",24),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedItem),c(3),u("ngForOf",i.items),c(4),C("ngModel",i.selectedWarehouse),c(3),u("ngForOf",i.warehouses),c(4),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(27),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[A,N,z,G,B,H,V,F,Z,he,Vt],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filter-btn[_ngcontent-%COMP%]{height:46px}"]})};function jA(n,t){if(n&1&&(o(0,"option",24),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function qA(n,t){if(n&1&&(o(0,"div",11)(1,"div",25)(2,"div",26)(3,"span",27),l(4,"Total Groups:"),a(),o(5,"span",28),l(6),a()(),o(7,"div",26)(8,"span",27),l(9,"Total Quantity:"),a(),o(10,"span",28),l(11),U(12,"number"),a()(),o(13,"div",26)(14,"span",27),l(15,"Total Value:"),a(),o(16,"span",28),l(17),U(18,"number"),a()()()()),n&2){let e=d();c(6),f(e.reportData.length),c(5),f($(12,3,e.totalQuantity,"1.0-2")),c(6),f($(18,6,e.totalValue,"1.2-2"))}}function HA(n,t){n&1&&(o(0,"tr")(1,"td",29),v(2,"i",30),o(3,"p"),l(4,"Generate report to view data"),a()()())}function zA(n,t){n&1&&(o(0,"tr")(1,"td",29),v(2,"i",31),o(3,"p"),l(4,"Loading..."),a()()())}function GA(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),U(7,"number"),a(),o(8,"td"),l(9),U(10,"number"),a()()),n&2){let e=t.$implicit;c(2),f(e.group),c(2),f(e.itemsCount),c(2),f($(7,4,e.totalQuantity,"1.0-2")),c(3),f($(10,7,e.totalValue,"1.2-2"))}}var Tu=class n{constructor(t,e,i){this.itemGroupService=t;this.itemService=e;this.exportService=i}reportData=[];groups=[];selectedGroup="";loading=!1;totalQuantity=0;totalValue=0;ngOnInit(){this.loadGroups()}loadGroups(){this.itemGroupService.getAll().subscribe({next:t=>this.groups=t,error:t=>console.error("Error loading groups",t)})}generateReport(){this.loading=!0,this.itemService.getAll().subscribe({next:t=>{let e=new Map;t.forEach(i=>{let r=i.group?.name||"Uncategorized",s=e.get(r)||{count:0,quantity:0,value:0};s.count++,s.quantity+=i.currentStock||0,s.value+=(i.currentStock||0)*(i.unitCost||0),e.set(r,s)}),this.reportData=Array.from(e.entries()).map(([i,r])=>({group:i,itemsCount:r.count,totalQuantity:r.quantity,totalValue:r.value})),this.totalQuantity=this.reportData.reduce((i,r)=>i+r.totalQuantity,0),this.totalValue=this.reportData.reduce((i,r)=>i+r.totalValue,0),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"group-wise-stock-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"group-wise-stock-report","Group-wise Stock Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"group-wise-stock-report")}static \u0275fac=function(e){return new(e||n)(w(_n),w(Ve),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-group-wise-stock-report"]],standalone:!1,decls:56,vars:11,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],["class","card",4,"ngIf"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"summary-row"],[1,"summary-item"],[1,"label"],[1,"value"],["colspan","4",1,"empty-state"],[1,"fas","fa-sitemap"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Group-wise Stock Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Group-wise"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Group"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedGroup,s)||(i.selectedGroup=s),s}),o(32,"option",15),l(33,"All Groups"),a(),M(34,jA,2,2,"option",16),a()(),o(35,"button",17),_("click",function(){return i.generateReport()}),v(36,"i",18),l(37),a()()(),M(38,qA,19,9,"div",19),o(39,"div",11)(40,"div",20)(41,"table",21)(42,"thead")(43,"tr")(44,"th"),l(45,"Group"),a(),o(46,"th"),l(47,"Items Count"),a(),o(48,"th"),l(49,"Total Quantity"),a(),o(50,"th"),l(51,"Total Value"),a()()(),o(52,"tbody"),M(53,HA,5,0,"tr",22)(54,zA,5,0,"tr",22)(55,GA,11,10,"tr",23),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedGroup),c(3),u("ngForOf",i.groups),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(),u("ngIf",i.reportData.length>0),c(15),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[A,N,z,G,H,V,F,Z,he],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filter-btn[_ngcontent-%COMP%]{height:46px}"]})};function $A(n,t){if(n&1&&(o(0,"option",24),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function QA(n,t){if(n&1&&(o(0,"div",11)(1,"div",25)(2,"div",26)(3,"span",27),l(4,"Total Items:"),a(),o(5,"span",28),l(6),a()(),o(7,"div",26)(8,"span",27),l(9,"Total Value:"),a(),o(10,"span",28),l(11),U(12,"number"),a()()()()),n&2){let e=d();c(6),f(e.reportData.length),c(5),f($(12,2,e.totalValue,"1.2-2"))}}function JA(n,t){n&1&&(o(0,"tr")(1,"td",29),v(2,"i",30),o(3,"p"),l(4,"Generate report to view data"),a()()())}function KA(n,t){n&1&&(o(0,"tr")(1,"td",29),v(2,"i",31),o(3,"p"),l(4,"Loading..."),a()()())}function YA(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),U(11,"number"),a(),o(12,"td"),l(13),U(14,"number"),a()()),n&2){let e=t.$implicit;c(2),f(e.warehouse),c(2),f(e.bin),c(2),f(e.itemCode),c(2),f(e.item),c(2),f($(11,6,e.quantity,"1.0-2")),c(3),f($(14,9,e.value,"1.2-2"))}}var ku=class n{constructor(t,e,i){this.warehouseService=t;this.itemService=e;this.exportService=i}reportData=[];warehouses=[];selectedWarehouse="";loading=!1;totalValue=0;ngOnInit(){this.loadWarehouses()}loadWarehouses(){this.warehouseService.getAllWarehouses().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}generateReport(){this.loading=!0,this.itemService.getAll().subscribe({next:t=>{this.reportData=t.map(e=>({warehouse:e.warehouse?.name||"Default",bin:e.bin?.code||"-",item:e.name,itemCode:e.code,quantity:e.currentStock||0,value:(e.currentStock||0)*(e.unitCost||0)})),this.selectedWarehouse&&(this.reportData=this.reportData.filter(e=>e.warehouse===this.selectedWarehouse)),this.totalValue=this.reportData.reduce((e,i)=>e+i.value,0),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"warehouse-stock-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"warehouse-stock-report","Warehouse Stock Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"warehouse-stock-report")}static \u0275fac=function(e){return new(e||n)(w(Ke),w(Ve),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-warehouse-stock-report"]],standalone:!1,decls:60,vars:11,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],["class","card",4,"ngIf"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"summary-row"],[1,"summary-item"],[1,"label"],[1,"value"],["colspan","6",1,"empty-state"],[1,"fas","fa-warehouse"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Warehouse Stock Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Warehouse Stock"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Warehouse"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedWarehouse,s)||(i.selectedWarehouse=s),s}),o(32,"option",15),l(33,"All Warehouses"),a(),M(34,$A,2,2,"option",16),a()(),o(35,"button",17),_("click",function(){return i.generateReport()}),v(36,"i",18),l(37),a()()(),M(38,QA,13,5,"div",19),o(39,"div",11)(40,"div",20)(41,"table",21)(42,"thead")(43,"tr")(44,"th"),l(45,"Warehouse"),a(),o(46,"th"),l(47,"Bin"),a(),o(48,"th"),l(49,"Item Code"),a(),o(50,"th"),l(51,"Item Name"),a(),o(52,"th"),l(53,"Quantity"),a(),o(54,"th"),l(55,"Value"),a()()(),o(56,"tbody"),M(57,JA,5,0,"tr",22)(58,KA,5,0,"tr",22)(59,YA,15,12,"tr",23),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedWarehouse),c(3),u("ngForOf",i.warehouses),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(),u("ngIf",i.reportData.length>0),c(19),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[A,N,z,G,H,V,F,Z,he],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filter-btn[_ngcontent-%COMP%]{height:46px}"]})};function ZA(n,t){n&1&&(o(0,"tr")(1,"td",19),v(2,"i",20),o(3,"p"),l(4,"No items below reorder level"),a()()())}function XA(n,t){n&1&&(o(0,"tr")(1,"td",19),v(2,"i",21),o(3,"p"),l(4,"Loading..."),a()()())}function e6(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td"),l(14),a(),o(15,"td")(16,"span",22),l(17),a()()()),n&2){let e=t.$implicit,i=d();c(2),f(e.code),c(2),f(e.name),c(2),f(e.group),c(2),f(e.unit),c(2),f(e.currentStock),c(2),f(e.reorderLevel),c(2),f(e.shortage),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}var Ru=class n{constructor(t,e){this.itemService=t;this.exportService=e}reportData=[];loading=!1;ngOnInit(){this.generateReport()}generateReport(){this.loading=!0,this.itemService.getLowStock().subscribe({next:t=>{this.reportData=t.map(e=>({code:e.code,name:e.name,group:e.group?.name||"",unit:e.unitOfMeasure?.name||"",currentStock:e.currentStock||0,reorderLevel:e.reorderLevel||0,shortage:(e.reorderLevel||0)-(e.currentStock||0),status:(e.currentStock||0)<=0?"Out of Stock":(e.currentStock||0)<=(e.reorderLevel||0)/2?"Critical":"Low Stock"})),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"reorder-level-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"reorder-level-report","Reorder Level Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"reorder-level-report")}getStatusClass(t){return t==="Out of Stock"?"badge-danger":t==="Critical"?"badge-warning":"badge-info"}static \u0275fac=function(e){return new(e||n)(w(Ve),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-reorder-level"]],standalone:!1,decls:56,vars:8,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-sync"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"empty-state"],[1,"fas","fa-check-circle"],[1,"fas","fa-spinner","fa-spin"],[1,"badge",3,"ngClass"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Reorder Level Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Reorder Level"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"button",13),_("click",function(){return i.generateReport()}),v(29,"i",14),l(30),a()()(),o(31,"div",11)(32,"div",15)(33,"table",16)(34,"thead")(35,"tr")(36,"th"),l(37,"Item Code"),a(),o(38,"th"),l(39,"Item Name"),a(),o(40,"th"),l(41,"Group"),a(),o(42,"th"),l(43,"Unit"),a(),o(44,"th"),l(45,"Current Stock"),a(),o(46,"th"),l(47,"Reorder Level"),a(),o(48,"th"),l(49,"Shortage"),a(),o(50,"th"),l(51,"Status"),a()()(),o(52,"tbody"),M(53,ZA,5,0,"tr",17)(54,XA,5,0,"tr",17)(55,e6,18,9,"tr",18),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(5),u("disabled",i.loading),c(2),E(" ",i.loading?"Refreshing...":"Refresh"," "),c(23),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[ae,A,N,Z],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}"]})};function t6(n,t){if(n&1&&(o(0,"option",15),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function n6(n,t){if(n&1&&(o(0,"option",15),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function i6(n,t){if(n&1&&(o(0,"div",11)(1,"div",26)(2,"div",27)(3,"span",28),l(4,"Slow-Moving Items:"),a(),o(5,"span",29),l(6),a()(),o(7,"div",30)(8,"span",28),l(9,"Total Value at Risk:"),a(),o(10,"span",31),l(11),U(12,"number"),a()()()()),n&2){let e=d();c(6),f(e.totalItems),c(5),f($(12,2,e.totalValue,"1.2-2"))}}function r6(n,t){n&1&&(o(0,"tr")(1,"td",32),v(2,"i",33),o(3,"p"),l(4,"Generate report to view slow-moving items"),a()()())}function o6(n,t){n&1&&(o(0,"tr")(1,"td",32),v(2,"i",34),o(3,"p"),l(4,"Loading..."),a()()())}function a6(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td",23),l(12),a(),o(13,"td",23),l(14),U(15,"number"),a(),o(16,"td",23),l(17),U(18,"number"),a(),o(19,"td",23),l(20),U(21,"number"),a()()),n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.group),c(2),f(e.warehouse),c(2),f(e.lastMovement),c(),L("text-danger",e.daysIdle!=="N/A"&&e.daysIdle>90),c(),f(e.daysIdle),c(2),f($(15,11,e.currentStock,"1.0-2")),c(3),f($(18,14,e.unitCost,"1.2-2")),c(3),f($(21,17,e.value,"1.2-2"))}}function s6(n,t){if(n&1&&(o(0,"tfoot")(1,"tr",35)(2,"td",36)(3,"strong"),l(4,"Total Value at Risk:"),a()(),o(5,"td",23)(6,"strong"),l(7),U(8,"number"),a()()()()),n&2){let e=d();c(7),f($(8,1,e.totalValue,"1.2-2"))}}var Au=class n{constructor(t,e,i,r){this.itemService=t;this.itemGroupService=e;this.warehouseService=i;this.exportService=r}reportData=[];groups=[];warehouses=[];selectedGroup="";selectedWarehouse="";daysWithoutMovement=30;loading=!1;totalValue=0;totalItems=0;ngOnInit(){this.loadFilters()}loadFilters(){this.itemGroupService.getAll().subscribe({next:t=>this.groups=t,error:t=>console.error("Error loading groups",t)}),this.warehouseService.getAllWarehouses().subscribe({next:t=>this.warehouses=t,error:t=>console.error("Error loading warehouses",t)})}generateReport(){this.loading=!0,this.itemService.getAll().subscribe({next:t=>{let e=new Date;e.setDate(e.getDate()-this.daysWithoutMovement);let i=t.filter(r=>{let s=r.lastMovementDate?new Date(r.lastMovementDate):null;return!s||s<e});this.selectedGroup&&(i=i.filter(r=>r.group?.name===this.selectedGroup)),this.selectedWarehouse&&(i=i.filter(r=>r.warehouse?.name===this.selectedWarehouse)),this.reportData=i.map(r=>({code:r.code,name:r.name,group:r.group?.name||"",warehouse:r.warehouse?.name||"Default",lastMovement:r.lastMovementDate?new Date(r.lastMovementDate).toLocaleDateString():"Never",daysIdle:r.lastMovementDate?Math.floor((new Date().getTime()-new Date(r.lastMovementDate).getTime())/(1e3*60*60*24)):"N/A",currentStock:r.currentStock||0,unitCost:r.unitCost||0,value:(r.currentStock||0)*(r.unitCost||0)})),this.totalValue=this.reportData.reduce((r,s)=>r+s.value,0),this.totalItems=this.reportData.length,this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"slow-moving-items-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"slow-moving-items-report","Slow / Non-Moving Items Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"slow-moving-items-report")}static \u0275fac=function(e){return new(e||n)(w(Ve),w(_n),w(Ke),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-slow-moving-items-report"]],standalone:!1,decls:88,vars:20,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],["class","card",4,"ngIf"],[1,"table-container"],[1,"table"],[1,"text-right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"summary-row"],[1,"summary-item"],[1,"label"],[1,"value","text-warning"],[1,"summary-item","highlight"],[1,"value","text-danger"],["colspan","9",1,"empty-state"],[1,"fas","fa-hourglass-half"],[1,"fas","fa-spinner","fa-spin"],[1,"total-row"],["colspan","8",1,"text-right"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Slow / Non-Moving Items Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Slow Moving"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Days Without Movement"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.daysWithoutMovement,s)||(i.daysWithoutMovement=s),s}),o(32,"option",15),l(33,"30 Days"),a(),o(34,"option",15),l(35,"60 Days"),a(),o(36,"option",15),l(37,"90 Days"),a(),o(38,"option",15),l(39,"180 Days"),a(),o(40,"option",15),l(41,"1 Year"),a()()(),o(42,"div",13)(43,"label"),l(44,"Group"),a(),o(45,"select",14),x("ngModelChange",function(s){return b(i.selectedGroup,s)||(i.selectedGroup=s),s}),o(46,"option",16),l(47,"All Groups"),a(),M(48,t6,2,2,"option",17),a()(),o(49,"div",13)(50,"label"),l(51,"Warehouse"),a(),o(52,"select",14),x("ngModelChange",function(s){return b(i.selectedWarehouse,s)||(i.selectedWarehouse=s),s}),o(53,"option",16),l(54,"All Warehouses"),a(),M(55,n6,2,2,"option",17),a()(),o(56,"button",18),_("click",function(){return i.generateReport()}),v(57,"i",19),l(58),a()()(),M(59,i6,13,5,"div",20),o(60,"div",11)(61,"div",21)(62,"table",22)(63,"thead")(64,"tr")(65,"th"),l(66,"Item Code"),a(),o(67,"th"),l(68,"Item Name"),a(),o(69,"th"),l(70,"Group"),a(),o(71,"th"),l(72,"Warehouse"),a(),o(73,"th"),l(74,"Last Movement"),a(),o(75,"th",23),l(76,"Days Idle"),a(),o(77,"th",23),l(78,"Current Stock"),a(),o(79,"th",23),l(80,"Unit Cost"),a(),o(81,"th",23),l(82,"Value"),a()()(),o(83,"tbody"),M(84,r6,5,0,"tr",24)(85,o6,5,0,"tr",24)(86,a6,22,20,"tr",25),a(),M(87,s6,9,4,"tfoot",24),a()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.daysWithoutMovement),c(),u("value",30),c(2),u("value",60),c(2),u("value",90),c(2),u("value",180),c(2),u("value",365),c(5),C("ngModel",i.selectedGroup),c(3),u("ngForOf",i.groups),c(4),C("ngModel",i.selectedWarehouse),c(3),u("ngForOf",i.warehouses),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(),u("ngIf",i.reportData.length>0),c(25),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData),c(),u("ngIf",i.reportData.length>0))},dependencies:[A,N,z,G,H,V,F,Z,he],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filter-btn[_ngcontent-%COMP%]{height:46px}"]})};function l6(n,t){if(n&1&&(o(0,"option",27),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function c6(n,t){if(n&1&&(o(0,"div",11)(1,"div",28)(2,"div",29)(3,"span",30),l(4,"Total PO Qty:"),a(),o(5,"span",31),l(6),a()(),o(7,"div",29)(8,"span",30),l(9,"Total GRN Qty:"),a(),o(10,"span",32),l(11),a()(),o(12,"div",29)(13,"span",30),l(14,"Pending Qty:"),a(),o(15,"span",33),l(16),a()(),o(17,"div",29)(18,"span",30),l(19,"Fulfillment Rate:"),a(),o(20,"span",31),l(21),U(22,"number"),a()()()()),n&2){let e=d();c(6),f(e.totalPOQty),c(5),f(e.totalGRNQty),c(5),f(e.totalPending),c(4),L("text-success",e.totalPOQty>0&&e.totalGRNQty/e.totalPOQty>=.9)("text-warning",e.totalPOQty>0&&e.totalGRNQty/e.totalPOQty<.9),c(),E(" ",e.totalPOQty>0?$(22,8,e.totalGRNQty/e.totalPOQty*100,"1.1-1"):0,"% ")}}function d6(n,t){n&1&&(o(0,"tr")(1,"td",34),v(2,"i",35),o(3,"p"),l(4,"Generate report to view purchase vs GRN comparison"),a()()())}function p6(n,t){n&1&&(o(0,"tr")(1,"td",34),v(2,"i",36),o(3,"p"),l(4,"Loading..."),a()()())}function u6(n,t){if(n&1){let e=O();o(0,"tr")(1,"td",37),_("click",function(){let r=m(e).$implicit,s=d();return g(s.drillDownToPO(r))}),l(2),a(),o(3,"td"),l(4),U(5,"date"),a(),o(6,"td"),l(7),a(),o(8,"td",23),l(9),a(),o(10,"td",38),l(11),a(),o(12,"td",23),l(13),a(),o(14,"td",24),l(15),a(),o(16,"td",24)(17,"span",39),l(18),a()(),o(19,"td",24)(20,"button",40),_("click",function(){let r=m(e).$implicit,s=d();return g(s.drillDownToGRN(r))}),v(21,"i",41),a()()()}if(n&2){let e=t.$implicit,i=d();c(2),f(e.poNumber),c(2),f($(5,11,e.poDate,"shortDate")),c(3),f(e.supplier),c(2),f(e.poQty),c(2),f(e.grnQty),c(),L("text-warning",e.pendingQty>0),c(),f(e.pendingQty),c(2),f(e.grnCount),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function m6(n,t){if(n&1&&(o(0,"tfoot")(1,"tr",42)(2,"td",43)(3,"strong"),l(4,"Totals:"),a()(),o(5,"td",23)(6,"strong"),l(7),a()(),o(8,"td",23)(9,"strong"),l(10),a()(),o(11,"td",23)(12,"strong"),l(13),a()(),v(14,"td",44),a()()),n&2){let e=d();c(7),f(e.totalPOQty),c(3),f(e.totalGRNQty),c(3),f(e.totalPending)}}var Nu=class n{constructor(t,e,i,r,s){this.supplierService=t;this.prFulfillmentService=e;this.stockMovementService=i;this.exportService=r;this.router=s}reportData=[];suppliers=[];selectedSupplier="";fromDate="";toDate="";loading=!1;totalPOQty=0;totalGRNQty=0;totalPending=0;ngOnInit(){this.loadSuppliers()}loadSuppliers(){this.supplierService.getAll().subscribe({next:t=>this.suppliers=t,error:t=>console.error("Error loading suppliers",t)})}generateReport(){this.loading=!0,wr({pos:this.prFulfillmentService.getAllPOs(),grns:this.stockMovementService.getAllGRN()}).subscribe({next:({pos:t,grns:e})=>{let i=new Map;if(e.forEach(r=>{let s=r.referenceNumber||r.grnNumber||"";if(s){i.has(s)||i.set(s,{totalQty:0,grns:[]});let p=i.get(s);p.grns.push(r),p.totalQty+=r.lines?.reduce((h,y)=>h+(y.quantityReceived||y.quantity||0),0)||0}}),this.reportData=t.filter(r=>r.fulfillmentType==="PO").map(r=>{let s=r.referenceNumber||"",p=i.get(s)||{totalQty:0,grns:[]},h=r.items?.reduce((I,R)=>I+(R.quantity||0),0)||0,y=p.totalQty,S=Math.max(0,h-y),P="Pending";return y>=h?P="Complete":y>0&&(P="Partial"),{poNumber:s,poDate:r.createdAt,supplier:r.supplierName||"",poQty:h,grnQty:y,pendingQty:S,status:P,grnCount:p.grns.length}}),this.selectedSupplier&&(this.reportData=this.reportData.filter(r=>r.supplier===this.selectedSupplier)),this.fromDate){let r=new Date(this.fromDate);this.reportData=this.reportData.filter(s=>new Date(s.poDate)>=r)}if(this.toDate){let r=new Date(this.toDate);this.reportData=this.reportData.filter(s=>new Date(s.poDate)<=r)}this.calculateTotals(),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}calculateTotals(){this.totalPOQty=this.reportData.reduce((t,e)=>t+e.poQty,0),this.totalGRNQty=this.reportData.reduce((t,e)=>t+e.grnQty,0),this.totalPending=this.reportData.reduce((t,e)=>t+e.pendingQty,0)}drillDownToPO(t){this.router.navigate(["/app/purchase/pr-fulfillment"],{queryParams:{poNumber:t.poNumber}})}drillDownToGRN(t){this.router.navigate(["/app/stock-movement/goods-receipt"],{queryParams:{poNumber:t.poNumber}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"purchase-vs-grn-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"purchase-vs-grn-report","Purchase vs GRN Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"purchase-vs-grn-report")}getStatusClass(t){return t==="Pending"?"badge-warning":t==="Complete"?"badge-success":"badge-info"}static \u0275fac=function(e){return new(e||n)(w(It),w(Dt),w(Bn),w(Ue),w(ue))};static \u0275cmp=k({type:n,selectors:[["app-purchase-vs-grn-report"]],standalone:!1,decls:75,vars:14,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],["class","card",4,"ngIf"],[1,"table-container"],[1,"table"],[1,"text-right"],[1,"text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"summary-row"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"value","text-success"],[1,"value","text-warning"],["colspan","9",1,"empty-state"],[1,"fas","fa-exchange-alt"],[1,"fas","fa-spinner","fa-spin"],[1,"link-text",3,"click"],[1,"text-right","text-success"],[1,"badge",3,"ngClass"],["title","View GRNs",1,"btn","btn-sm","btn-outline",3,"click"],[1,"fas","fa-eye"],[1,"total-row"],["colspan","3",1,"text-right"],["colspan","3"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Purchase vs GRN Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Purchase vs GRN"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Supplier"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedSupplier,s)||(i.selectedSupplier=s),s}),o(32,"option",15),l(33,"All Suppliers"),a(),M(34,l6,2,2,"option",16),a()(),o(35,"div",13)(36,"label"),l(37,"From Date"),a(),o(38,"input",17),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(39,"div",13)(40,"label"),l(41,"To Date"),a(),o(42,"input",17),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(43,"button",18),_("click",function(){return i.generateReport()}),v(44,"i",19),l(45),a()()(),M(46,c6,23,11,"div",20),o(47,"div",11)(48,"div",21)(49,"table",22)(50,"thead")(51,"tr")(52,"th"),l(53,"PO Number"),a(),o(54,"th"),l(55,"PO Date"),a(),o(56,"th"),l(57,"Supplier"),a(),o(58,"th",23),l(59,"PO Qty"),a(),o(60,"th",23),l(61,"GRN Qty"),a(),o(62,"th",23),l(63,"Pending"),a(),o(64,"th",24),l(65,"GRNs"),a(),o(66,"th",24),l(67,"Status"),a(),o(68,"th",24),l(69,"Actions"),a()()(),o(70,"tbody"),M(71,d6,5,0,"tr",25)(72,p6,5,0,"tr",25)(73,u6,22,14,"tr",26),a(),M(74,m6,15,3,"tfoot",25),a()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedSupplier),c(3),u("ngForOf",i.suppliers),c(4),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(),u("ngIf",i.reportData.length>0),c(25),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData),c(),u("ngIf",i.reportData.length>0))},dependencies:[ae,A,N,z,G,B,H,V,F,Z,he,Vt],styles:[".report-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filters-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:180px;margin-bottom:0}.filter-btn[_ngcontent-%COMP%]{height:46px}"]})};var Jt=class n{constructor(t){this.http=t}baseUrl="/api/purchase/requisitions";fulfillmentUrl="/api/purchase/fulfillment";requisitionsSubject=new Ze([]);requisitions$=this.requisitionsSubject.asObservable();getAll(){return this.http.get(this.baseUrl).pipe(nt(t=>this.requisitionsSubject.next(t)))}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}submit(t){return this.http.post(`${this.baseUrl}/${t}/submit`,{})}approve(t){return this.http.post(`${this.baseUrl}/${t}/approve`,{})}reject(t,e){return this.http.post(`${this.baseUrl}/${t}/reject`,{reason:e})}getByStatus(t){return this.requisitions$.pipe(Ne(e=>e.filter(i=>i.status===t)))}generatePRNumber(){let e=new Date,i=e.getFullYear().toString().slice(-2),r=(e.getMonth()+1).toString().padStart(2,"0"),s=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`PR-${i}${r}${s}`}getStockFulfillmentsByPrId(t){return this.http.get(`${this.fulfillmentUrl}/pr/${t}/stock-fulfillments`)}getMaterialTransfersByPrId(t){return this.http.get(`${this.fulfillmentUrl}/pr/${t}/material-transfers`)}getAllStockFulfillments(){return this.http.get(`${this.fulfillmentUrl}/stock-fulfillments`)}getAllMaterialTransfers(){return this.http.get(`${this.fulfillmentUrl}/material-transfers`)}createStockFulfillment(t){return this.http.post(`${this.fulfillmentUrl}/stock-fulfillment`,t)}createMaterialTransfer(t){return this.http.post(`${this.fulfillmentUrl}/material-transfer-new`,t)}getPurchaseOrdersByPrId(t){return this.http.get(`${this.fulfillmentUrl}/pr/${t}/purchase-orders`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function g6(n,t){if(n&1){let e=O();o(0,"span",20),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.currentSort=r.value)}),l(1),a()}if(n&2){let e=t.$implicit,i=d(2);L("active",i.currentSort===e.value),c(),E(" ",e.label," ")}}function f6(n,t){if(n&1&&(o(0,"div",18)(1,"span"),l(2,"Sort By:"),a(),M(3,g6,2,3,"span",19),a()),n&2){let e=d();c(3),u("ngForOf",e.sortOptions)}}function h6(n,t){if(n&1){let e=O();o(0,"div",37),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPR(r))}),o(1,"div",38)(2,"span",39),l(3),a(),o(4,"span",40),l(5),a()(),o(6,"div",41),l(7),a(),o(8,"div",42)(9,"div",43)(10,"span",44),l(11,"Date:"),a(),o(12,"span",45),l(13),a()(),o(14,"div",43)(15,"span",44),l(16,"Required:"),a(),o(17,"span",45),l(18),a()()(),o(19,"div",46)(20,"span",47),v(21,"i",48),l(22),a(),o(23,"div",49)(24,"button",50),_("click",function(r){let s=m(e).$implicit;return d(2).printPR(s),g(r.stopPropagation())}),v(25,"i",51),a(),o(26,"button",52),_("click",function(r){let s=m(e).$implicit;return d(2).openEditModal(s),g(r.stopPropagation())}),v(27,"i",53),a(),o(28,"button",54),_("click",function(r){let s=m(e).$implicit;return d(2).deletePR(s),g(r.stopPropagation())}),v(29,"i",55),a()()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.prNumber),c(),u("ngClass",i.getPriorityClass(e.priority)),c(),f(e.priority),c(2),f(e.department),c(6),f(i.formatDate(e.prDate)),c(5),f(i.formatDate(e.requiredDate)),c(4),E(" Comments: ",e.commentsCount||0)}}function _6(n,t){n&1&&(o(0,"div",56),v(1,"i",57),o(2,"span"),l(3,"No Draft Requisitions"),a()())}function v6(n,t){if(n&1){let e=O();o(0,"div",59)(1,"button",60),_("click",function(r){m(e);let s=d().$implicit,p=d(2);return g(p.approvePR(s,r))}),v(2,"i",61),l(3," Approve "),a(),o(4,"button",62),_("click",function(r){m(e);let s=d().$implicit,p=d(2);return g(p.rejectPR(s,r))}),v(5,"i",63),l(6," Reject "),a()()}}function y6(n,t){if(n&1){let e=O();o(0,"div",37),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPR(r))}),o(1,"div",38)(2,"span",39),l(3),a(),o(4,"span",40),l(5),a()(),o(6,"div",41),l(7),a(),o(8,"div",42)(9,"div",43)(10,"span",44),l(11,"Date:"),a(),o(12,"span",45),l(13),a()(),o(14,"div",43)(15,"span",44),l(16,"Required:"),a(),o(17,"span",45),l(18),a()()(),M(19,v6,7,0,"div",58),o(20,"div",46)(21,"span",47),v(22,"i",48),l(23),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.prNumber),c(),u("ngClass",i.getPriorityClass(e.priority)),c(),f(e.priority),c(2),f(e.department),c(6),f(i.formatDate(e.prDate)),c(5),f(i.formatDate(e.requiredDate)),c(),u("ngIf",i.canApproveReject(e)),c(4),E(" Comments: ",e.commentsCount||0)}}function C6(n,t){n&1&&(o(0,"div",56),v(1,"i",64),o(2,"span"),l(3,"No Submitted Requisitions"),a()())}function x6(n,t){if(n&1&&(o(0,"span",96),l(1),a()),n&2){let e=d(4);c(),E("",e.getSelectedItemsCount()," selected")}}function b6(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",97),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.selected,r)||(s.selected=r),g(r)}),a()(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"input",98),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.fulfillQty,r)||(s.fulfillQty=r),g(r)}),a()()()}if(n&2){let e=t.$implicit,i=d(4);c(2),C("ngModel",e.selected),c(2),f(e.itemName),c(2),f(e.quantity),c(2),f(e.fulfilledQuantity||0),c(2),f(i.getRemainingQty(e)),c(2),C("ngModel",e.fulfillQty),u("max",i.getRemainingQty(e))("disabled",!e.selected)}}function M6(n,t){n&1&&(o(0,"tr")(1,"td",99),l(2,"All items have been fulfilled"),a()())}function S6(n,t){if(n&1){let e=O();o(0,"div",100)(1,"button",101),_("click",function(r){m(e);let s=d(2).$implicit,p=d(2);return g(p.openInlineStockFulfillment(s,r))}),v(2,"i",93),l(3," Fulfill from Stock "),a(),o(4,"button",102),_("click",function(r){m(e);let s=d(2).$implicit,p=d(2);return g(p.openInlineMaterialTransfer(s,r))}),v(5,"i",94),l(6," Material Transfer "),a()()}}function P6(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"span",107),l(9),a()()()),n&2){let e=t.$implicit,i=d(6);c(2),f(e.poNumber),c(2),f(e.supplierName),c(2),f(i.formatDate(e.poDate)),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function E6(n,t){if(n&1&&(o(0,"table",106)(1,"thead")(2,"tr")(3,"th"),l(4,"PO Number"),a(),o(5,"th"),l(6,"Supplier"),a(),o(7,"th"),l(8,"Date"),a(),o(9,"th"),l(10,"Status"),a()()(),o(11,"tbody"),M(12,P6,10,5,"tr",87),a()()),n&2){let e=d(5);c(12),u("ngForOf",e.inlinePurchaseOrders)}}function w6(n,t){n&1&&(o(0,"div",108),l(1,"No purchase orders created yet"),a())}function O6(n,t){if(n&1&&(o(0,"div",103),M(1,E6,13,1,"table",104)(2,w6,2,0,"div",105),a()),n&2){let e=d(4);c(),u("ngIf",e.inlinePurchaseOrders.length>0),c(),u("ngIf",e.inlinePurchaseOrders.length===0)}}function I6(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",109),l(11,"Fulfilled"),a()()()),n&2){let e=t.$implicit,i=d(6);c(2),f(e.warehouseName||"-"),c(2),f(e.supplierName||"-"),c(2),E("",(e.items==null?null:e.items.length)||0," items"),c(2),f(i.formatDate(e.createdAt))}}function D6(n,t){if(n&1&&(o(0,"table",106)(1,"thead")(2,"tr")(3,"th"),l(4,"From Warehouse"),a(),o(5,"th"),l(6,"Supplier"),a(),o(7,"th"),l(8,"Items"),a(),o(9,"th"),l(10,"Date"),a(),o(11,"th"),l(12,"Status"),a()()(),o(13,"tbody"),M(14,I6,12,4,"tr",87),a()()),n&2){let e=d(5);c(14),u("ngForOf",e.inlineStockFulfillments)}}function T6(n,t){n&1&&(o(0,"div",108),l(1,"No stock fulfillments yet"),a())}function k6(n,t){if(n&1&&(o(0,"div",103),M(1,D6,15,1,"table",104)(2,T6,2,0,"div",105),a()),n&2){let e=d(4);c(),u("ngIf",e.inlineStockFulfillments.length>0),c(),u("ngIf",e.inlineStockFulfillments.length===0)}}function R6(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",109),l(11,"Transferred"),a()()()),n&2){let e=t.$implicit,i=d(6);c(2),f(e.projectName||"-"),c(2),f(e.supplierName||"-"),c(2),E("",(e.items==null?null:e.items.length)||0," items"),c(2),f(i.formatDate(e.createdAt))}}function A6(n,t){if(n&1&&(o(0,"table",106)(1,"thead")(2,"tr")(3,"th"),l(4,"From Project"),a(),o(5,"th"),l(6,"Supplier"),a(),o(7,"th"),l(8,"Items"),a(),o(9,"th"),l(10,"Date"),a(),o(11,"th"),l(12,"Status"),a()()(),o(13,"tbody"),M(14,R6,12,4,"tr",87),a()()),n&2){let e=d(5);c(14),u("ngForOf",e.inlineMaterialTransfers)}}function N6(n,t){n&1&&(o(0,"div",108),l(1,"No material transfers yet"),a())}function F6(n,t){if(n&1&&(o(0,"div",103),M(1,A6,15,1,"table",104)(2,N6,2,0,"div",105),a()),n&2){let e=d(4);c(),u("ngIf",e.inlineMaterialTransfers.length>0),c(),u("ngIf",e.inlineMaterialTransfers.length===0)}}function V6(n,t){if(n&1){let e=O();o(0,"div",78)(1,"div",79)(2,"div",80)(3,"h4"),l(4,"Select Items for Fulfillment"),a(),M(5,x6,2,1,"span",81),a(),o(6,"table",82)(7,"thead")(8,"tr")(9,"th",83)(10,"input",84),_("change",function(r){m(e);let s=d(3);return g(s.toggleAllInlineItems(r))}),a()(),o(11,"th"),l(12,"Item"),a(),o(13,"th",85),l(14,"Required"),a(),o(15,"th",85),l(16,"Fulfilled"),a(),o(17,"th",85),l(18,"Remaining"),a(),o(19,"th",86),l(20,"Qty to Fulfill"),a()()(),o(21,"tbody"),M(22,b6,13,8,"tr",87)(23,M6,3,0,"tr",88),a()(),M(24,S6,7,0,"div",89),a(),o(25,"div",90)(26,"div",91)(27,"button",92),_("click",function(){m(e);let r=d(3);return g(r.inlineTabActive="purchaseOrders")}),v(28,"i",76),l(29),a(),o(30,"button",92),_("click",function(){m(e);let r=d(3);return g(r.inlineTabActive="stockFulfillments")}),v(31,"i",93),l(32),a(),o(33,"button",92),_("click",function(){m(e);let r=d(3);return g(r.inlineTabActive="materialTransfers")}),v(34,"i",94),l(35),a()(),M(36,O6,3,2,"div",95)(37,k6,3,2,"div",95)(38,F6,3,2,"div",95),a()()}if(n&2){let e=d(3);c(5),u("ngIf",e.getSelectedItemsCount()>0),c(17),u("ngForOf",e.inlineSelectableItems),c(),u("ngIf",e.inlineSelectableItems.length===0),c(),u("ngIf",e.inlineSelectableItems.length>0),c(3),L("active",e.inlineTabActive==="purchaseOrders"),c(2),E(" Purchase Orders (",e.inlinePurchaseOrders.length,") "),c(),L("active",e.inlineTabActive==="stockFulfillments"),c(2),E(" Fulfilled Stocks (",e.inlineStockFulfillments.length,") "),c(),L("active",e.inlineTabActive==="materialTransfers"),c(2),E(" Material Transfers (",e.inlineMaterialTransfers.length,") "),c(),u("ngIf",e.inlineTabActive==="purchaseOrders"),c(),u("ngIf",e.inlineTabActive==="stockFulfillments"),c(),u("ngIf",e.inlineTabActive==="materialTransfers")}}function L6(n,t){if(n&1){let e=O();o(0,"div",65)(1,"div",66)(2,"div",38)(3,"span",39),l(4),a(),o(5,"div",67)(6,"span",40),l(7),a(),o(8,"button",68),_("click",function(r){let s=m(e).$implicit,p=d(2);return g(p.togglePRExpand(s,r))}),v(9,"i",69),a()()(),o(10,"div",41),l(11),a(),o(12,"div",70),v(13,"div",71),o(14,"span",72),l(15),a()(),o(16,"div",59)(17,"button",73),_("click",function(r){let s=m(e).$implicit;return d(2).viewPR(s),g(r.stopPropagation())}),v(18,"i",74),a(),o(19,"button",75),_("click",function(r){let s=m(e).$implicit,p=d(2);return g(p.convertToPO(s,r))}),v(20,"i",76),a()(),o(21,"div",46)(22,"span",47),v(23,"i",48),l(24),a()()(),M(25,V6,39,16,"div",77),a()}if(n&2){let e=t.$implicit,i=d(2);c(),L("expanded",i.expandedPRId===e.id),c(3),f(e.prNumber),c(2),u("ngClass",i.getPriorityClass(e.priority)),c(),f(e.priority),c(),u("title",i.expandedPRId===e.id?"Collapse":"Expand"),c(),L("fa-chevron-down",i.expandedPRId!==e.id)("fa-chevron-up",i.expandedPRId===e.id),c(2),f(e.department),c(2),de("width",i.calculateFulfillmentProgress(e),"%"),c(2),E("",i.calculateFulfillmentProgress(e),"% Fulfilled"),c(9),E(" Comments: ",e.commentsCount||0),c(),u("ngIf",i.expandedPRId===e.id)}}function U6(n,t){n&1&&(o(0,"div",56),v(1,"i",110),o(2,"span"),l(3,"No Approved Requisitions"),a()())}function B6(n,t){if(n&1&&(o(0,"span",96),l(1),a()),n&2){let e=d(4);c(),E("",e.getSelectedItemsCount()," selected")}}function W6(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",97),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.selected,r)||(s.selected=r),g(r)}),a()(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"input",98),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.fulfillQty,r)||(s.fulfillQty=r),g(r)}),a()()()}if(n&2){let e=t.$implicit,i=d(4);c(2),C("ngModel",e.selected),c(2),f(e.itemName),c(2),f(e.quantity),c(2),f(e.fulfilledQuantity||0),c(2),f(i.getRemainingQty(e)),c(2),C("ngModel",e.fulfillQty),u("max",i.getRemainingQty(e))("disabled",!e.selected)}}function j6(n,t){n&1&&(o(0,"tr")(1,"td",99),l(2,"All items have been fulfilled"),a()())}function q6(n,t){if(n&1){let e=O();o(0,"div",100)(1,"button",101),_("click",function(r){m(e);let s=d(2).$implicit,p=d(2);return g(p.openInlineStockFulfillment(s,r))}),v(2,"i",93),l(3," Fulfill from Stock "),a(),o(4,"button",102),_("click",function(r){m(e);let s=d(2).$implicit,p=d(2);return g(p.openInlineMaterialTransfer(s,r))}),v(5,"i",94),l(6," Material Transfer "),a()()}}function H6(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"span",107),l(9),a()()()),n&2){let e=t.$implicit,i=d(6);c(2),f(e.poNumber),c(2),f(e.supplierName),c(2),f(i.formatDate(e.poDate)),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function z6(n,t){if(n&1&&(o(0,"table",106)(1,"thead")(2,"tr")(3,"th"),l(4,"PO Number"),a(),o(5,"th"),l(6,"Supplier"),a(),o(7,"th"),l(8,"Date"),a(),o(9,"th"),l(10,"Status"),a()()(),o(11,"tbody"),M(12,H6,10,5,"tr",87),a()()),n&2){let e=d(5);c(12),u("ngForOf",e.inlinePurchaseOrders)}}function G6(n,t){n&1&&(o(0,"div",108),l(1,"No purchase orders created yet"),a())}function $6(n,t){if(n&1&&(o(0,"div",103),M(1,z6,13,1,"table",104)(2,G6,2,0,"div",105),a()),n&2){let e=d(4);c(),u("ngIf",e.inlinePurchaseOrders.length>0),c(),u("ngIf",e.inlinePurchaseOrders.length===0)}}function Q6(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",109),l(11,"Fulfilled"),a()()()),n&2){let e=t.$implicit,i=d(6);c(2),f(e.warehouseName||"-"),c(2),f(e.supplierName||"-"),c(2),E("",(e.items==null?null:e.items.length)||0," items"),c(2),f(i.formatDate(e.createdAt))}}function J6(n,t){if(n&1&&(o(0,"table",106)(1,"thead")(2,"tr")(3,"th"),l(4,"From Warehouse"),a(),o(5,"th"),l(6,"Supplier"),a(),o(7,"th"),l(8,"Items"),a(),o(9,"th"),l(10,"Date"),a(),o(11,"th"),l(12,"Status"),a()()(),o(13,"tbody"),M(14,Q6,12,4,"tr",87),a()()),n&2){let e=d(5);c(14),u("ngForOf",e.inlineStockFulfillments)}}function K6(n,t){n&1&&(o(0,"div",108),l(1,"No stock fulfillments yet"),a())}function Y6(n,t){if(n&1&&(o(0,"div",103),M(1,J6,15,1,"table",104)(2,K6,2,0,"div",105),a()),n&2){let e=d(4);c(),u("ngIf",e.inlineStockFulfillments.length>0),c(),u("ngIf",e.inlineStockFulfillments.length===0)}}function Z6(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",109),l(11,"Transferred"),a()()()),n&2){let e=t.$implicit,i=d(6);c(2),f(e.projectName||"-"),c(2),f(e.supplierName||"-"),c(2),E("",(e.items==null?null:e.items.length)||0," items"),c(2),f(i.formatDate(e.createdAt))}}function X6(n,t){if(n&1&&(o(0,"table",106)(1,"thead")(2,"tr")(3,"th"),l(4,"From Project"),a(),o(5,"th"),l(6,"Supplier"),a(),o(7,"th"),l(8,"Items"),a(),o(9,"th"),l(10,"Date"),a(),o(11,"th"),l(12,"Status"),a()()(),o(13,"tbody"),M(14,Z6,12,4,"tr",87),a()()),n&2){let e=d(5);c(14),u("ngForOf",e.inlineMaterialTransfers)}}function eN(n,t){n&1&&(o(0,"div",108),l(1,"No material transfers yet"),a())}function tN(n,t){if(n&1&&(o(0,"div",103),M(1,X6,15,1,"table",104)(2,eN,2,0,"div",105),a()),n&2){let e=d(4);c(),u("ngIf",e.inlineMaterialTransfers.length>0),c(),u("ngIf",e.inlineMaterialTransfers.length===0)}}function nN(n,t){if(n&1){let e=O();o(0,"div",78)(1,"div",79)(2,"div",80)(3,"h4"),l(4,"Select Items for Fulfillment"),a(),M(5,B6,2,1,"span",81),a(),o(6,"table",82)(7,"thead")(8,"tr")(9,"th",83)(10,"input",84),_("change",function(r){m(e);let s=d(3);return g(s.toggleAllInlineItems(r))}),a()(),o(11,"th"),l(12,"Item"),a(),o(13,"th",85),l(14,"Required"),a(),o(15,"th",85),l(16,"Fulfilled"),a(),o(17,"th",85),l(18,"Remaining"),a(),o(19,"th",86),l(20,"Qty to Fulfill"),a()()(),o(21,"tbody"),M(22,W6,13,8,"tr",87)(23,j6,3,0,"tr",88),a()(),M(24,q6,7,0,"div",89),a(),o(25,"div",90)(26,"div",91)(27,"button",92),_("click",function(){m(e);let r=d(3);return g(r.inlineTabActive="purchaseOrders")}),v(28,"i",76),l(29),a(),o(30,"button",92),_("click",function(){m(e);let r=d(3);return g(r.inlineTabActive="stockFulfillments")}),v(31,"i",93),l(32),a(),o(33,"button",92),_("click",function(){m(e);let r=d(3);return g(r.inlineTabActive="materialTransfers")}),v(34,"i",94),l(35),a()(),M(36,$6,3,2,"div",95)(37,Y6,3,2,"div",95)(38,tN,3,2,"div",95),a()()}if(n&2){let e=d(3);c(5),u("ngIf",e.getSelectedItemsCount()>0),c(17),u("ngForOf",e.inlineSelectableItems),c(),u("ngIf",e.inlineSelectableItems.length===0),c(),u("ngIf",e.inlineSelectableItems.length>0),c(3),L("active",e.inlineTabActive==="purchaseOrders"),c(2),E(" Purchase Orders (",e.inlinePurchaseOrders.length,") "),c(),L("active",e.inlineTabActive==="stockFulfillments"),c(2),E(" Fulfilled Stocks (",e.inlineStockFulfillments.length,") "),c(),L("active",e.inlineTabActive==="materialTransfers"),c(2),E(" Material Transfers (",e.inlineMaterialTransfers.length,") "),c(),u("ngIf",e.inlineTabActive==="purchaseOrders"),c(),u("ngIf",e.inlineTabActive==="stockFulfillments"),c(),u("ngIf",e.inlineTabActive==="materialTransfers")}}function iN(n,t){if(n&1){let e=O();o(0,"div",65)(1,"div",66)(2,"div",38)(3,"span",39),l(4),a(),o(5,"div",67)(6,"span",40),l(7),a(),o(8,"button",68),_("click",function(r){let s=m(e).$implicit,p=d(2);return g(p.togglePRExpand(s,r))}),v(9,"i",69),a()()(),o(10,"div",41),l(11),a(),o(12,"div",70),v(13,"div",71),o(14,"span",72),l(15),a()(),o(16,"div",59)(17,"button",73),_("click",function(r){let s=m(e).$implicit;return d(2).viewPR(s),g(r.stopPropagation())}),v(18,"i",74),a(),o(19,"button",75),_("click",function(r){let s=m(e).$implicit,p=d(2);return g(p.convertToPO(s,r))}),v(20,"i",76),a()(),o(21,"div",46)(22,"span",47),v(23,"i",48),l(24),a()()(),M(25,nN,39,16,"div",77),a()}if(n&2){let e=t.$implicit,i=d(2);c(),L("expanded",i.expandedPRId===e.id),c(3),f(e.prNumber),c(2),u("ngClass",i.getPriorityClass(e.priority)),c(),f(e.priority),c(),u("title",i.expandedPRId===e.id?"Collapse":"Expand"),c(),L("fa-chevron-down",i.expandedPRId!==e.id)("fa-chevron-up",i.expandedPRId===e.id),c(2),f(e.department),c(2),de("width",i.calculateFulfillmentProgress(e),"%"),c(2),E("",i.calculateFulfillmentProgress(e),"% Fulfilled"),c(9),E(" Comments: ",e.commentsCount||0),c(),u("ngIf",i.expandedPRId===e.id)}}function rN(n,t){n&1&&(o(0,"div",56),v(1,"i",111),o(2,"span"),l(3,"No Partially Fulfilled"),a()())}function oN(n,t){if(n&1){let e=O();o(0,"div",112),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPR(r))}),o(1,"div",38)(2,"span",39),l(3),a(),o(4,"span",113),v(5,"i",110),l(6," Completed"),a()(),o(7,"div",41),l(8),a(),o(9,"div",42)(10,"div",43)(11,"span",44),l(12,"Date:"),a(),o(13,"span",45),l(14),a()()(),o(15,"div",46)(16,"span",47),v(17,"i",48),l(18),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.prNumber),c(5),f(e.department),c(6),f(i.formatDate(e.prDate)),c(4),E(" Comments: ",e.commentsCount||0)}}function aN(n,t){n&1&&(o(0,"div",56),v(1,"i",114),o(2,"span"),l(3,"No Fulfilled Requisitions"),a()())}function sN(n,t){if(n&1&&(o(0,"div",43)(1,"span",44),l(2,"Reason:"),a(),o(3,"span",120),l(4),a()()),n&2){let e=d().$implicit;c(4),f(e.rejectionReason)}}function lN(n,t){if(n&1&&(o(0,"span",121),l(1),a()),n&2){let e=d().$implicit;c(),E("By: ",e.rejectedBy)}}function cN(n,t){if(n&1){let e=O();o(0,"div",115),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPR(r))}),o(1,"div",38)(2,"span",39),l(3),a(),o(4,"span",116),v(5,"i",117),l(6," Rejected"),a()(),o(7,"div",41),l(8),a(),o(9,"div",42),M(10,sN,5,1,"div",118),a(),o(11,"div",46),M(12,lN,2,1,"span",119),a()()}if(n&2){let e=t.$implicit;c(3),f(e.prNumber),c(5),f(e.department),c(2),u("ngIf",e.rejectionReason),c(2),u("ngIf",e.rejectedBy)}}function dN(n,t){n&1&&(o(0,"div",56),v(1,"i",122),o(2,"span"),l(3,"No Rejected Requisitions"),a()())}function pN(n,t){if(n&1&&(o(0,"div",21)(1,"div",22)(2,"div",23)(3,"span",24),l(4,"Draft"),a(),o(5,"span",25),l(6),a()(),o(7,"div",26),M(8,h6,30,7,"div",27)(9,_6,4,0,"div",28),a()(),o(10,"div",29)(11,"div",23)(12,"span",24),l(13,"Submitted"),a(),o(14,"span",25),l(15),a()(),o(16,"div",26),M(17,y6,24,8,"div",27)(18,C6,4,0,"div",28),a()(),o(19,"div",30)(20,"div",23)(21,"span",24),l(22,"Approved"),a(),o(23,"span",25),l(24),a()(),o(25,"div",26),M(26,L6,26,16,"div",31)(27,U6,4,0,"div",28),a()(),o(28,"div",32)(29,"div",23)(30,"span",24),l(31,"Partially Fulfilled"),a(),o(32,"span",25),l(33),a()(),o(34,"div",26),M(35,iN,26,16,"div",31)(36,rN,4,0,"div",28),a()(),o(37,"div",33)(38,"div",23)(39,"span",24),l(40,"Fully Fulfilled"),a(),o(41,"span",25),l(42),a()(),o(43,"div",26),M(44,oN,19,4,"div",34)(45,aN,4,0,"div",28),a()(),o(46,"div",35)(47,"div",23)(48,"span",24),l(49,"Rejected"),a(),o(50,"span",25),l(51),a()(),o(52,"div",26),M(53,cN,13,4,"div",36)(54,dN,4,0,"div",28),a()()()),n&2){let e=d();c(6),E("",e.getFilteredPRs(e.draftPRs).length," Requisitions"),c(2),u("ngForOf",e.getFilteredPRs(e.draftPRs)),c(),u("ngIf",e.getFilteredPRs(e.draftPRs).length===0),c(6),E("",e.getFilteredPRs(e.submittedPRs).length," Requisitions"),c(2),u("ngForOf",e.getFilteredPRs(e.submittedPRs)),c(),u("ngIf",e.getFilteredPRs(e.submittedPRs).length===0),c(6),E("",e.getFilteredPRs(e.approvedPRs).length," Requisitions"),c(2),u("ngForOf",e.getFilteredPRs(e.approvedPRs)),c(),u("ngIf",e.getFilteredPRs(e.approvedPRs).length===0),c(6),E("",e.getFilteredPRs(e.partiallyFulfilledPRs).length," Requisitions"),c(2),u("ngForOf",e.getFilteredPRs(e.partiallyFulfilledPRs)),c(),u("ngIf",e.getFilteredPRs(e.partiallyFulfilledPRs).length===0),c(6),E("",e.getFilteredPRs(e.fullyFulfilledPRs).length," Requisitions"),c(2),u("ngForOf",e.getFilteredPRs(e.fullyFulfilledPRs)),c(),u("ngIf",e.getFilteredPRs(e.fullyFulfilledPRs).length===0),c(6),E("",e.getFilteredPRs(e.rejectedPRs).length," Requisitions"),c(2),u("ngForOf",e.getFilteredPRs(e.rejectedPRs)),c(),u("ngIf",e.getFilteredPRs(e.rejectedPRs).length===0)}}function uN(n,t){n&1&&(o(0,"tr")(1,"td",127),v(2,"i",57),o(3,"p"),l(4,"No requisitions found"),a()()())}function mN(n,t){if(n&1){let e=O();o(0,"button",52),_("click",function(r){m(e);let s=d().$implicit;return d(2).openEditModal(s),g(r.stopPropagation())}),v(1,"i",53),a()}}function gN(n,t){if(n&1){let e=O();o(0,"button",141),_("click",function(r){m(e);let s=d().$implicit;return d(2).viewPR(s),g(r.stopPropagation())}),v(1,"i",74),a()}}function fN(n,t){if(n&1){let e=O();o(0,"button",54),_("click",function(r){m(e);let s=d().$implicit;return d(2).deletePR(s),g(r.stopPropagation())}),v(1,"i",55),a()}}function hN(n,t){if(n&1){let e=O();o(0,"button",142),_("click",function(r){m(e);let s=d().$implicit,p=d(2);return g(p.approvePR(s,r))}),v(1,"i",61),a()}}function _N(n,t){if(n&1){let e=O();o(0,"button",143),_("click",function(r){m(e);let s=d().$implicit,p=d(2);return g(p.rejectPR(s,r))}),v(1,"i",63),a()}}function vN(n,t){if(n&1){let e=O();o(0,"button",144),_("click",function(r){m(e);let s=d().$implicit;return d(2).openViewModal(s),g(r.stopPropagation())}),v(1,"i",74),a()}}function yN(n,t){if(n&1){let e=O();o(0,"button",145),_("click",function(r){m(e);let s=d().$implicit,p=d(2);return g(p.convertToPO(s,r))}),v(1,"i",76),a()}}function CN(n,t){if(n&1){let e=O();o(0,"button",146),_("click",function(r){m(e);let s=d().$implicit,p=d(2);return g(p.openStockFulfillmentModal(s,r))}),v(1,"i",93),a()}}function xN(n,t){if(n&1){let e=O();o(0,"button",147),_("click",function(r){m(e);let s=d().$implicit,p=d(2);return g(p.openMaterialTransferModal(s,r))}),v(1,"i",94),a()}}function bN(n,t){n&1&&(o(0,"span",148),v(1,"i",110),l(2," Completed "),a())}function MN(n,t){if(n&1){let e=O();o(0,"tr",128),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPR(r))}),o(1,"td")(2,"strong",129),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td")(13,"span",40),l(14),a()(),o(15,"td")(16,"span",107),l(17),a()(),o(18,"td")(19,"div",130)(20,"button",50),_("click",function(r){let s=m(e).$implicit;return d(2).printPR(s),g(r.stopPropagation())}),v(21,"i",51),a(),M(22,mN,2,0,"button",131)(23,gN,2,0,"button",132)(24,fN,2,0,"button",133)(25,hN,2,0,"button",134)(26,_N,2,0,"button",135)(27,vN,2,0,"button",136)(28,yN,2,0,"button",137)(29,CN,2,0,"button",138)(30,xN,2,0,"button",139)(31,bN,3,0,"span",140),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.prNumber),c(2),f(i.formatDate(e.prDate)),c(2),f(i.formatDate(e.requiredDate)),c(2),f(e.department),c(2),f(e.requestedBy),c(2),u("ngClass",i.getPriorityClass(e.priority)),c(),f(e.priority),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status),c(5),u("ngIf",i.canEdit(e)),c(),u("ngIf",!i.canEdit(e)),c(),u("ngIf",i.canDelete(e)),c(),u("ngIf",i.canApproveReject(e)),c(),u("ngIf",i.canApproveReject(e)),c(),u("ngIf",i.canConvertToPO(e)),c(),u("ngIf",i.canConvertToPO(e)),c(),u("ngIf",i.canFulfillFromStock(e)),c(),u("ngIf",i.canMaterialTransfer(e)),c(),u("ngIf",i.isCompleted(e))}}function SN(n,t){if(n&1&&(o(0,"div",123)(1,"div",124)(2,"table",125)(3,"thead")(4,"tr")(5,"th"),l(6,"PR Number"),a(),o(7,"th"),l(8,"PR Date"),a(),o(9,"th"),l(10,"Required Date"),a(),o(11,"th"),l(12,"Department"),a(),o(13,"th"),l(14,"Requested By"),a(),o(15,"th"),l(16,"Priority"),a(),o(17,"th"),l(18,"Status"),a(),o(19,"th"),l(20,"Actions"),a()()(),o(21,"tbody"),M(22,uN,5,0,"tr",88)(23,MN,32,19,"tr",126),a()()()()),n&2){let e=d();c(22),u("ngIf",e.getAllFilteredPRs().length===0),c(),u("ngForOf",e.getAllFilteredPRs())}}function PN(n,t){if(n&1&&(o(0,"div",189)(1,"span",190),l(2,"Fulfillment Progress:"),a(),o(3,"div",191),v(4,"div",71),a(),o(5,"span",192),l(6),a()()),n&2){let e=d(2);c(4),de("width",e.calculateFulfillmentProgress(e.selectedPR),"%"),c(2),E("",e.calculateFulfillmentProgress(e.selectedPR),"%")}}function EN(n,t){if(n&1){let e=O();o(0,"button",182),_("click",function(){m(e);let r=d(2);return g(r.addItem())}),v(1,"i",3),l(2," Add Item "),a()}}function wN(n,t){n&1&&(o(0,"th",85),l(1,"Fulfilled"),a())}function ON(n,t){n&1&&(o(0,"th",177),l(1,"Status"),a())}function IN(n,t){n&1&&(o(0,"th",193),l(1,"Action"),a())}function DN(n,t){if(n&1&&(o(0,"option",201),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function TN(n,t){if(n&1&&(o(0,"td")(1,"span",202),l(2),a()()),n&2){let e=d().$implicit;c(2),ne("",e.fulfilledQuantity||0," / ",e.quantity)}}function kN(n,t){if(n&1&&(o(0,"option",201),l(1),a()),n&2){let e=t.$implicit;u("value",e.symbol||e.code),c(),ne("",e.name," (",e.symbol||e.code,")")}}function RN(n,t){if(n&1&&(o(0,"td")(1,"span",203),l(2),a()()),n&2){let e=d().$implicit,i=d(2);c(),u("ngClass",i.getItemStatusClass(e.status)),c(),E(" ",e.status||"Pending"," ")}}function AN(n,t){if(n&1){let e=O();o(0,"td")(1,"button",204),_("click",function(){m(e);let r=d().index,s=d(2);return g(s.removeItem(r))}),v(2,"i",55),a()()}if(n&2){let e=d(3);c(),u("disabled",e.selectedPR.items.length<=1)}}function NN(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td")(4,"select",194),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.itemName,r)||(s.itemName=r),g(r)}),_("change",function(){let r=m(e).index,s=d(2);return g(s.onItemSelect(r))}),o(5,"option",195),l(6,"Select Item"),a(),M(7,DN,2,2,"option",196),a()(),o(8,"td")(9,"input",197),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.itemDescription,r)||(s.itemDescription=r),g(r)}),a()(),o(10,"td")(11,"input",198),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.quantity,r)||(s.quantity=r),g(r)}),a()(),M(12,TN,3,2,"td",88),o(13,"td")(14,"select",199),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.uom,r)||(s.uom=r),g(r)}),o(15,"option",195),l(16,"Select UOM"),a(),M(17,kN,2,3,"option",196),a()(),M(18,RN,3,2,"td",88),o(19,"td")(20,"input",200),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.remarks,r)||(s.remarks=r),g(r)}),a()(),M(21,AN,3,1,"td",88),a()}if(n&2){let e=t.$implicit,i=t.index,r=d(2);c(2),f(i+1),c(2),C("ngModel",e.itemName),u("disabled",!r.canSubmit(r.selectedPR)&&r.isEditing),c(3),u("ngForOf",r.items),c(2),C("ngModel",e.itemDescription),u("readonly",!r.canSubmit(r.selectedPR)&&r.isEditing),c(2),C("ngModel",e.quantity),u("readonly",!r.canSubmit(r.selectedPR)&&r.isEditing),c(),u("ngIf",r.selectedPR.status!=="Draft"),c(2),C("ngModel",e.uom),u("disabled",!r.canSubmit(r.selectedPR)&&r.isEditing),c(3),u("ngForOf",r.units),c(),u("ngIf",r.selectedPR.status!=="Draft"),c(2),C("ngModel",e.remarks),u("readonly",!r.canSubmit(r.selectedPR)&&r.isEditing),c(),u("ngIf",r.canSubmit(r.selectedPR))}}function FN(n,t){n&1&&(o(0,"div",108),v(1,"i",76),o(2,"p"),l(3,"No purchase orders created for this PR yet."),a()())}function VN(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",107),l(11),a()()()),n&2){let e=t.$implicit,i=d(5);c(2),f(e.poNumber),c(2),f(i.formatDate(e.poDate)),c(2),f(e.supplierName),c(2),f(e.itemCount||(e.items==null?null:e.items.length)||0),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}function LN(n,t){if(n&1&&(o(0,"table",125)(1,"thead")(2,"tr")(3,"th"),l(4,"PO Number"),a(),o(5,"th"),l(6,"Date"),a(),o(7,"th"),l(8,"Supplier"),a(),o(9,"th"),l(10,"Items"),a(),o(11,"th"),l(12,"Status"),a()()(),o(13,"tbody"),M(14,VN,12,6,"tr",87),a()()),n&2){let e=d(4);c(14),u("ngForOf",e.purchaseOrders)}}function UN(n,t){if(n&1&&(o(0,"div",103),M(1,FN,4,0,"div",105)(2,LN,15,1,"table",208),a()),n&2){let e=d(3);c(),u("ngIf",e.purchaseOrders.length===0),c(),u("ngIf",e.purchaseOrders.length>0)}}function BN(n,t){n&1&&(o(0,"div",108),v(1,"i",93),o(2,"p"),l(3,"No stock fulfillments for this PR yet."),a()())}function WN(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a()()),n&2){let e=t.$implicit,i=d(5);c(2),f(e.fulfillmentNumber),c(2),f(i.formatDate(e.fulfillmentDate)),c(2),f(e.warehouseName||"-"),c(2),f(e.supplierName||"-"),c(2),f((e.items==null?null:e.items.length)||0)}}function jN(n,t){if(n&1&&(o(0,"table",125)(1,"thead")(2,"tr")(3,"th"),l(4,"Fulfillment #"),a(),o(5,"th"),l(6,"Date"),a(),o(7,"th"),l(8,"Warehouse"),a(),o(9,"th"),l(10,"Supplier"),a(),o(11,"th"),l(12,"Items"),a()()(),o(13,"tbody"),M(14,WN,11,5,"tr",87),a()()),n&2){let e=d(4);c(14),u("ngForOf",e.stockFulfillments)}}function qN(n,t){if(n&1&&(o(0,"div",103),M(1,BN,4,0,"div",105)(2,jN,15,1,"table",208),a()),n&2){let e=d(3);c(),u("ngIf",e.stockFulfillments.length===0),c(),u("ngIf",e.stockFulfillments.length>0)}}function HN(n,t){n&1&&(o(0,"div",108),v(1,"i",94),o(2,"p"),l(3,"No material transfers for this PR yet."),a()())}function zN(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a()()),n&2){let e=t.$implicit,i=d(5);c(2),f(e.transferNumber),c(2),f(i.formatDate(e.transferDate)),c(2),f(e.projectName||"-"),c(2),f(e.supplierName||"-"),c(2),f((e.items==null?null:e.items.length)||0)}}function GN(n,t){if(n&1&&(o(0,"table",125)(1,"thead")(2,"tr")(3,"th"),l(4,"Transfer #"),a(),o(5,"th"),l(6,"Date"),a(),o(7,"th"),l(8,"Project"),a(),o(9,"th"),l(10,"Supplier"),a(),o(11,"th"),l(12,"Items"),a()()(),o(13,"tbody"),M(14,zN,11,5,"tr",87),a()()),n&2){let e=d(4);c(14),u("ngForOf",e.materialTransfers)}}function $N(n,t){if(n&1&&(o(0,"div",103),M(1,HN,4,0,"div",105)(2,GN,15,1,"table",208),a()),n&2){let e=d(3);c(),u("ngIf",e.materialTransfers.length===0),c(),u("ngIf",e.materialTransfers.length>0)}}function QN(n,t){if(n&1){let e=O();o(0,"div",205)(1,"div",206)(2,"button",207),_("click",function(){m(e);let r=d(2);return g(r.viewTabActive="purchaseOrders")}),v(3,"i",76),l(4),a(),o(5,"button",207),_("click",function(){m(e);let r=d(2);return g(r.viewTabActive="stockFulfillments")}),v(6,"i",93),l(7),a(),o(8,"button",207),_("click",function(){m(e);let r=d(2);return g(r.viewTabActive="materialTransfers")}),v(9,"i",94),l(10),a()(),M(11,UN,3,2,"div",95)(12,qN,3,2,"div",95)(13,$N,3,2,"div",95),a()}if(n&2){let e=d(2);c(2),L("active",e.viewTabActive==="purchaseOrders"),c(2),E(" Purchase Orders (",e.purchaseOrders.length,") "),c(),L("active",e.viewTabActive==="stockFulfillments"),c(2),E(" Stock Fulfillments (",e.stockFulfillments.length,") "),c(),L("active",e.viewTabActive==="materialTransfers"),c(2),E(" Material Transfers (",e.materialTransfers.length,") "),c(),u("ngIf",e.viewTabActive==="purchaseOrders"),c(),u("ngIf",e.viewTabActive==="stockFulfillments"),c(),u("ngIf",e.viewTabActive==="materialTransfers")}}function JN(n,t){if(n&1){let e=O();o(0,"button",2),_("click",function(){m(e);let r=d(2);return g(r.saveDraft())}),v(1,"i",209),l(2," Save as Draft "),a()}}function KN(n,t){if(n&1){let e=O();o(0,"button",210),_("click",function(){m(e);let r=d(2);return g(r.submitPR())}),v(1,"i",64),l(2," Submit "),a()}}function YN(n,t){if(n&1){let e=O();o(0,"button",211),_("click",function(){m(e);let r=d(2);return g(r.approvePR(r.selectedPR))}),v(1,"i",61),l(2," Approve "),a()}}function ZN(n,t){if(n&1){let e=O();o(0,"button",212),_("click",function(){m(e);let r=d(2);return g(r.rejectPR(r.selectedPR))}),v(1,"i",63),l(2," Reject "),a()}}function XN(n,t){if(n&1){let e=O();o(0,"button",182),_("click",function(){m(e);let r=d(2);return g(r.openViewModal(r.selectedPR))}),v(1,"i",74),l(2," View History "),a()}}function eF(n,t){if(n&1){let e=O();o(0,"button",2),_("click",function(){m(e);let r=d(2);return g(r.convertToPO(r.selectedPR))}),v(1,"i",76),l(2," Convert to PO "),a()}}function tF(n,t){if(n&1){let e=O();o(0,"button",182),_("click",function(){m(e);let r=d(2);return g(r.openStockFulfillmentModal(r.selectedPR))}),v(1,"i",93),l(2," Fulfill from Stock "),a()}}function nF(n,t){if(n&1){let e=O();o(0,"button",182),_("click",function(){m(e);let r=d(2);return g(r.openMaterialTransferModal(r.selectedPR))}),v(1,"i",94),l(2," Material Transfer "),a()}}function iF(n,t){n&1&&(o(0,"span",213),v(1,"i",110),l(2," This requisition has been fully fulfilled "),a())}function rF(n,t){n&1&&(o(0,"span",214),v(1,"i",117),l(2," This requisition was rejected "),a())}function oF(n,t){if(n&1){let e=O();o(0,"div",149),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",150),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",151)(3,"h2"),l(4),a(),o(5,"button",152),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",63),a()(),o(7,"div",153)(8,"div",154)(9,"div",155)(10,"label"),l(11,"PR Number"),a(),o(12,"input",156),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPR.prNumber,r)||(s.selectedPR.prNumber=r),g(r)}),a()(),o(13,"div",155)(14,"label"),l(15,"PR Date *"),a(),o(16,"input",157),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPR.prDate,r)||(s.selectedPR.prDate=r),g(r)}),a()(),o(17,"div",155)(18,"label"),l(19,"Required Date *"),a(),o(20,"input",157),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPR.requiredDate,r)||(s.selectedPR.requiredDate=r),g(r)}),a()(),o(21,"div",155)(22,"label"),l(23,"Requested By"),a(),o(24,"input",156),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPR.requestedBy,r)||(s.selectedPR.requestedBy=r),g(r)}),a()(),o(25,"div",155)(26,"label"),l(27,"Department / Project *"),a(),o(28,"input",158),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPR.department,r)||(s.selectedPR.department=r),g(r)}),a()(),o(29,"div",155)(30,"label"),l(31,"Delivery Location"),a(),o(32,"input",159),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPR.deliveryLocation,r)||(s.selectedPR.deliveryLocation=r),g(r)}),a()(),o(33,"div",160)(34,"label"),l(35,"Purpose"),a(),o(36,"textarea",161),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPR.purpose,r)||(s.selectedPR.purpose=r),g(r)}),a()(),o(37,"div",155)(38,"label"),l(39,"Priority *"),a(),o(40,"select",162),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPR.priority,r)||(s.selectedPR.priority=r),g(r)}),o(41,"option",163),l(42,"Normal"),a(),o(43,"option",164),l(44,"Urgent"),a(),o(45,"option",165),l(46,"Critical"),a()()(),o(47,"div",155)(48,"label"),l(49,"Status"),a(),v(50,"input",166),a()(),o(51,"div",167)(52,"div",168)(53,"h3"),l(54,"Material List"),a(),o(55,"div",169),M(56,PN,7,3,"div",170)(57,EN,3,0,"button",171),a()(),o(58,"div",172)(59,"table",173)(60,"thead")(61,"tr")(62,"th",174),l(63,"#"),a(),o(64,"th",175),l(65,"Item Name *"),a(),o(66,"th"),l(67,"Item Description"),a(),o(68,"th",85),l(69,"Qty *"),a(),M(70,wN,2,0,"th",176),o(71,"th",177),l(72,"UOM"),a(),M(73,ON,2,0,"th",178),o(74,"th"),l(75,"Remarks"),a(),M(76,IN,2,0,"th",179),a()(),o(77,"tbody"),M(78,NN,22,16,"tr",87),a()()()(),M(79,QN,14,12,"div",180),a(),o(80,"div",181)(81,"button",182),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(82,"Cancel"),a(),M(83,JN,3,0,"button",183)(84,KN,3,0,"button",184)(85,YN,3,0,"button",185)(86,ZN,3,0,"button",186)(87,XN,3,0,"button",171)(88,eF,3,0,"button",183)(89,tF,3,0,"button",171)(90,nF,3,0,"button",171)(91,iF,3,0,"span",187)(92,rF,3,0,"span",188),a()()()}if(n&2){let e=d();c(4),f(e.isEditing?"Edit Requisition":"New Purchase Requisition"),c(8),C("ngModel",e.selectedPR.prNumber),c(4),C("ngModel",e.selectedPR.prDate),c(4),C("ngModel",e.selectedPR.requiredDate),c(4),C("ngModel",e.selectedPR.requestedBy),c(4),C("ngModel",e.selectedPR.department),c(4),C("ngModel",e.selectedPR.deliveryLocation),c(4),C("ngModel",e.selectedPR.purpose),c(4),C("ngModel",e.selectedPR.priority),c(10),u("value",e.selectedPR.status),c(6),u("ngIf",e.selectedPR.status!=="Draft"&&e.selectedPR.status!=="Submitted"&&e.selectedPR.status!=="Rejected"),c(),u("ngIf",e.canSubmit(e.selectedPR)||!e.isEditing),c(13),u("ngIf",e.selectedPR.status!=="Draft"),c(3),u("ngIf",e.selectedPR.status!=="Draft"),c(3),u("ngIf",e.canSubmit(e.selectedPR)),c(2),u("ngForOf",e.selectedPR.items),c(),u("ngIf",e.isEditing&&(e.selectedPR.status==="Approved"||e.selectedPR.status==="Partially Fulfilled"||e.selectedPR.status==="Fully Fulfilled")),c(4),u("ngIf",e.canSubmit(e.selectedPR)||!e.isEditing),c(),u("ngIf",e.canSubmit(e.selectedPR)||!e.isEditing),c(),u("ngIf",e.canApproveReject(e.selectedPR)),c(),u("ngIf",e.canApproveReject(e.selectedPR)),c(),u("ngIf",e.canConvertToPO(e.selectedPR)),c(),u("ngIf",e.canConvertToPO(e.selectedPR)),c(),u("ngIf",e.canFulfillFromStock(e.selectedPR)),c(),u("ngIf",e.canMaterialTransfer(e.selectedPR)),c(),u("ngIf",e.isCompleted(e.selectedPR)),c(),u("ngIf",e.isRejected(e.selectedPR))}}function aF(n,t){n&1&&(o(0,"div",108),v(1,"i",76),o(2,"p"),l(3,"No purchase orders created for this PR yet."),a()())}function sF(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",215),l(11),a()()()),n&2){let e=t.$implicit,i=d(4);c(2),f(e.poNumber),c(2),f(i.formatDate(e.poDate)),c(2),f(e.supplierName),c(2),f(e.itemCount||(e.items==null?null:e.items.length)||0),c(3),f(e.status)}}function lF(n,t){if(n&1&&(o(0,"table",125)(1,"thead")(2,"tr")(3,"th"),l(4,"PO Number"),a(),o(5,"th"),l(6,"Date"),a(),o(7,"th"),l(8,"Supplier"),a(),o(9,"th"),l(10,"Items"),a(),o(11,"th"),l(12,"Status"),a()()(),o(13,"tbody"),M(14,sF,12,5,"tr",87),a()()),n&2){let e=d(3);c(14),u("ngForOf",e.purchaseOrders)}}function cF(n,t){if(n&1&&(o(0,"div",103),M(1,aF,4,0,"div",105)(2,lF,15,1,"table",208),a()),n&2){let e=d(2);c(),u("ngIf",e.purchaseOrders.length===0),c(),u("ngIf",e.purchaseOrders.length>0)}}function dF(n,t){n&1&&(o(0,"div",108),v(1,"i",93),o(2,"p"),l(3,"No stock fulfillments for this PR yet."),a()())}function pF(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a()()),n&2){let e=t.$implicit,i=d(4);c(2),f(e.fulfillmentNumber),c(2),f(i.formatDate(e.fulfillmentDate)),c(2),f(e.warehouseName||"-"),c(2),f(e.supplierName||"-"),c(2),f((e.items==null?null:e.items.length)||0)}}function uF(n,t){if(n&1&&(o(0,"table",125)(1,"thead")(2,"tr")(3,"th"),l(4,"Fulfillment #"),a(),o(5,"th"),l(6,"Date"),a(),o(7,"th"),l(8,"Warehouse"),a(),o(9,"th"),l(10,"Supplier"),a(),o(11,"th"),l(12,"Items"),a()()(),o(13,"tbody"),M(14,pF,11,5,"tr",87),a()()),n&2){let e=d(3);c(14),u("ngForOf",e.stockFulfillments)}}function mF(n,t){if(n&1&&(o(0,"div",103),M(1,dF,4,0,"div",105)(2,uF,15,1,"table",208),a()),n&2){let e=d(2);c(),u("ngIf",e.stockFulfillments.length===0),c(),u("ngIf",e.stockFulfillments.length>0)}}function gF(n,t){n&1&&(o(0,"div",108),v(1,"i",94),o(2,"p"),l(3,"No material transfers for this PR yet."),a()())}function fF(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a()()),n&2){let e=t.$implicit,i=d(4);c(2),f(e.transferNumber),c(2),f(i.formatDate(e.transferDate)),c(2),f(e.projectName||"-"),c(2),f(e.supplierName||"-"),c(2),f((e.items==null?null:e.items.length)||0)}}function hF(n,t){if(n&1&&(o(0,"table",125)(1,"thead")(2,"tr")(3,"th"),l(4,"Transfer #"),a(),o(5,"th"),l(6,"Date"),a(),o(7,"th"),l(8,"Project"),a(),o(9,"th"),l(10,"Supplier"),a(),o(11,"th"),l(12,"Items"),a()()(),o(13,"tbody"),M(14,fF,11,5,"tr",87),a()()),n&2){let e=d(3);c(14),u("ngForOf",e.materialTransfers)}}function _F(n,t){if(n&1&&(o(0,"div",103),M(1,gF,4,0,"div",105)(2,hF,15,1,"table",208),a()),n&2){let e=d(2);c(),u("ngIf",e.materialTransfers.length===0),c(),u("ngIf",e.materialTransfers.length>0)}}function vF(n,t){if(n&1){let e=O();o(0,"div",149),_("click",function(){m(e);let r=d();return g(r.closeViewModal())}),o(1,"div",150),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",151)(3,"h2"),l(4),a(),o(5,"button",152),_("click",function(){m(e);let r=d();return g(r.closeViewModal())}),v(6,"i",63),a()(),o(7,"div",153)(8,"div",206)(9,"button",207),_("click",function(){m(e);let r=d();return g(r.viewTabActive="purchaseOrders")}),v(10,"i",76),l(11),a(),o(12,"button",207),_("click",function(){m(e);let r=d();return g(r.viewTabActive="stockFulfillments")}),v(13,"i",93),l(14),a(),o(15,"button",207),_("click",function(){m(e);let r=d();return g(r.viewTabActive="materialTransfers")}),v(16,"i",94),l(17),a()(),M(18,cF,3,2,"div",95)(19,mF,3,2,"div",95)(20,_F,3,2,"div",95),a(),o(21,"div",181)(22,"button",182),_("click",function(){m(e);let r=d();return g(r.closeViewModal())}),l(23,"Close"),a()()()()}if(n&2){let e=d();c(4),E("PR History - ",e.selectedPR.prNumber),c(5),L("active",e.viewTabActive==="purchaseOrders"),c(2),E(" Purchase Orders (",e.purchaseOrders.length,") "),c(),L("active",e.viewTabActive==="stockFulfillments"),c(2),E(" Stock Fulfillments (",e.stockFulfillments.length,") "),c(),L("active",e.viewTabActive==="materialTransfers"),c(2),E(" Material Transfers (",e.materialTransfers.length,") "),c(),u("ngIf",e.viewTabActive==="purchaseOrders"),c(),u("ngIf",e.viewTabActive==="stockFulfillments"),c(),u("ngIf",e.viewTabActive==="materialTransfers")}}function yF(n,t){if(n&1&&(o(0,"option",201),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne("",e.name," (",e.code,")")}}function CF(n,t){if(n&1&&(o(0,"option",201),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function xF(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",97),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.selected,r)||(s.selected=r),g(r)}),a()(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"input",218),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.fulfillQty,r)||(s.fulfillQty=r),g(r)}),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(2),C("ngModel",e.selected),c(2),f(e.itemName),c(2),f(e.quantity),c(2),f(e.fulfilledQuantity||0),c(2),f(i.getRemainingQty(e)),c(2),C("ngModel",e.fulfillQty),u("max",i.getRemainingQty(e))("disabled",!e.selected)}}function bF(n,t){if(n&1){let e=O();o(0,"div",149),_("click",function(){m(e);let r=d();return g(r.closeStockFulfillmentModal())}),o(1,"div",150),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",151)(3,"h2"),l(4),a(),o(5,"button",152),_("click",function(){m(e);let r=d();return g(r.closeStockFulfillmentModal())}),v(6,"i",63),a()(),o(7,"div",153)(8,"div",154)(9,"div",155)(10,"label"),l(11,"Warehouse"),a(),o(12,"select",216),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedWarehouseId,r)||(s.selectedWarehouseId=r),g(r)}),o(13,"option",201),l(14,"Select Warehouse"),a(),M(15,yF,2,3,"option",196),a()(),o(16,"div",155)(17,"label"),l(18,"Supplier"),a(),o(19,"select",216),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplierId,r)||(s.selectedSupplierId=r),g(r)}),o(20,"option",201),l(21,"Select Supplier"),a(),M(22,CF,2,2,"option",196),a()(),o(23,"div",160)(24,"label"),l(25,"Remarks"),a(),o(26,"textarea",217),x("ngModelChange",function(r){m(e);let s=d();return b(s.stockFulfillmentRemarks,r)||(s.stockFulfillmentRemarks=r),g(r)}),a()()(),o(27,"div",167)(28,"div",168)(29,"h3"),l(30,"Select Items to Fulfill"),a()(),o(31,"div",172)(32,"table",173)(33,"thead")(34,"tr")(35,"th",83)(36,"input",84),_("change",function(r){m(e);let s=d();return g(s.toggleAllItems(s.stockFulfillmentItems,r))}),a()(),o(37,"th"),l(38,"Item Name"),a(),o(39,"th",177),l(40,"Required"),a(),o(41,"th",177),l(42,"Already Fulfilled"),a(),o(43,"th",177),l(44,"Remaining"),a(),o(45,"th",177),l(46,"Qty to Fulfill"),a()()(),o(47,"tbody"),M(48,xF,13,8,"tr",87),a()()()()(),o(49,"div",181)(50,"button",182),_("click",function(){m(e);let r=d();return g(r.closeStockFulfillmentModal())}),l(51,"Cancel"),a(),o(52,"button",2),_("click",function(){m(e);let r=d();return g(r.saveStockFulfillment())}),v(53,"i",61),l(54," Fulfill Selected Items "),a()()()()}if(n&2){let e=d();c(4),E("Stock Fulfillment - ",e.selectedPR.prNumber),c(8),C("ngModel",e.selectedWarehouseId),c(),u("value",null),c(2),u("ngForOf",e.warehouses),c(4),C("ngModel",e.selectedSupplierId),c(),u("value",null),c(2),u("ngForOf",e.suppliers),c(4),C("ngModel",e.stockFulfillmentRemarks),c(22),u("ngForOf",e.stockFulfillmentItems)}}function MF(n,t){if(n&1&&(o(0,"option",201),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function SF(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",97),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.selected,r)||(s.selected=r),g(r)}),a()(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"input",218),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.fulfillQty,r)||(s.fulfillQty=r),g(r)}),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(2),C("ngModel",e.selected),c(2),f(e.itemName),c(2),f(e.quantity),c(2),f(e.fulfilledQuantity||0),c(2),f(i.getRemainingQty(e)),c(2),C("ngModel",e.fulfillQty),u("max",i.getRemainingQty(e))("disabled",!e.selected)}}function PF(n,t){if(n&1){let e=O();o(0,"div",149),_("click",function(){m(e);let r=d();return g(r.closeMaterialTransferModal())}),o(1,"div",150),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",151)(3,"h2"),l(4),a(),o(5,"button",152),_("click",function(){m(e);let r=d();return g(r.closeMaterialTransferModal())}),v(6,"i",63),a()(),o(7,"div",153)(8,"div",154)(9,"div",155)(10,"label"),l(11,"Project Name"),a(),o(12,"input",219),x("ngModelChange",function(r){m(e);let s=d();return b(s.transferProjectName,r)||(s.transferProjectName=r),g(r)}),a()(),o(13,"div",155)(14,"label"),l(15,"Supplier"),a(),o(16,"select",216),x("ngModelChange",function(r){m(e);let s=d();return b(s.transferSupplierId,r)||(s.transferSupplierId=r),g(r)}),o(17,"option",201),l(18,"Select Supplier"),a(),M(19,MF,2,2,"option",196),a()(),o(20,"div",160)(21,"label"),l(22,"Remarks"),a(),o(23,"textarea",217),x("ngModelChange",function(r){m(e);let s=d();return b(s.materialTransferRemarks,r)||(s.materialTransferRemarks=r),g(r)}),a()()(),o(24,"div",167)(25,"div",168)(26,"h3"),l(27,"Select Items to Transfer"),a()(),o(28,"div",172)(29,"table",173)(30,"thead")(31,"tr")(32,"th",83)(33,"input",84),_("change",function(r){m(e);let s=d();return g(s.toggleAllItems(s.materialTransferItems,r))}),a()(),o(34,"th"),l(35,"Item Name"),a(),o(36,"th",177),l(37,"Required"),a(),o(38,"th",177),l(39,"Already Fulfilled"),a(),o(40,"th",177),l(41,"Remaining"),a(),o(42,"th",177),l(43,"Qty to Transfer"),a()()(),o(44,"tbody"),M(45,SF,13,8,"tr",87),a()()()()(),o(46,"div",181)(47,"button",182),_("click",function(){m(e);let r=d();return g(r.closeMaterialTransferModal())}),l(48,"Cancel"),a(),o(49,"button",2),_("click",function(){m(e);let r=d();return g(r.saveMaterialTransfer())}),v(50,"i",61),l(51," Transfer Selected Items "),a()()()()}if(n&2){let e=d();c(4),E("Material Transfer - ",e.selectedPR.prNumber),c(8),C("ngModel",e.transferProjectName),c(4),C("ngModel",e.transferSupplierId),c(),u("value",null),c(2),u("ngForOf",e.suppliers),c(4),C("ngModel",e.materialTransferRemarks),c(22),u("ngForOf",e.materialTransferItems)}}var Fu=class n{constructor(t,e,i,r,s,p,h,y,S){this.prService=t;this.unitService=e;this.itemService=i;this.router=r;this.settingsService=s;this.warehouseService=p;this.supplierService=h;this.notificationService=y;this.authService=S;let P=this.authService.getCurrentUser();P&&(this.currentUserName=P.firstName&&P.lastName?`${P.firstName} ${P.lastName}`:P.username)}requisitions=[];draftPRs=[];submittedPRs=[];approvedPRs=[];partiallyFulfilledPRs=[];fullyFulfilledPRs=[];rejectedPRs=[];isAdmin=!0;units=[];items=[];warehouses=[];suppliers=[];showModal=!1;isEditing=!1;searchTerm="";viewMode="kanban";selectedPR=this.getEmptyPR();showViewModal=!1;viewTabActive="purchaseOrders";purchaseOrders=[];stockFulfillments=[];materialTransfers=[];showStockFulfillmentModal=!1;stockFulfillmentItems=[];selectedWarehouseId=null;selectedSupplierId=null;stockFulfillmentRemarks="";showMaterialTransferModal=!1;materialTransferItems=[];transferProjectName="";transferSupplierId=null;materialTransferRemarks="";sortOptions=[{value:"date-created",label:"Date Created"},{value:"pr-date",label:"PR Date"},{value:"priority",label:"Priority"}];currentSort="date-created";expandedPRId=null;inlineTabActive="purchaseOrders";inlinePurchaseOrders=[];inlineStockFulfillments=[];inlineMaterialTransfers=[];inlineSelectableItems=[];currentUserName="";ngOnInit(){this.loadData()}loadData(){this.prService.getAll().subscribe({next:t=>{this.requisitions=t,this.filterByStatus()},error:()=>{this.requisitions=[],this.filterByStatus()}}),this.unitService.getActive().subscribe({next:t=>this.units=t,error:()=>this.units=[]}),this.itemService.getActive().subscribe({next:t=>this.items=t,error:()=>this.items=[]}),this.warehouseService.getActiveWarehouses().subscribe({next:t=>this.warehouses=t,error:()=>this.warehouses=[]}),this.supplierService.getActive().subscribe({next:t=>this.suppliers=t,error:()=>this.suppliers=[]})}filterByStatus(){this.draftPRs=this.requisitions.filter(t=>t.status==="Draft"),this.submittedPRs=this.requisitions.filter(t=>t.status==="Submitted"),this.approvedPRs=this.requisitions.filter(t=>t.status==="Approved"),this.partiallyFulfilledPRs=this.requisitions.filter(t=>t.status==="Partially Fulfilled"),this.fullyFulfilledPRs=this.requisitions.filter(t=>t.status==="Fully Fulfilled"),this.rejectedPRs=this.requisitions.filter(t=>t.status==="Rejected")}getFilteredPRs(t){if(!this.searchTerm)return t;let e=this.searchTerm.toLowerCase();return t.filter(i=>i.prNumber?.toLowerCase().includes(e)||i.department?.toLowerCase().includes(e)||i.requestedBy?.toLowerCase().includes(e))}getEmptyPR(){return{prNumber:"",prDate:new Date().toISOString().split("T")[0],requiredDate:"",requestedBy:this.currentUserName||"Current User",department:"",deliveryLocation:"",purpose:"",priority:"Normal",status:"Draft",items:[this.getEmptyItem()],commentsCount:0}}getEmptyItem(){return{itemId:void 0,itemCode:"",itemName:"",itemDescription:"",quantity:0,fulfilledQuantity:0,uom:"",remarks:"",status:"Pending"}}openNewModal(){this.isEditing=!1,this.selectedPR=this.getEmptyPR(),this.generatePRNumber(),this.showModal=!0}generatePRNumber(){this.settingsService.generatePrefixId("pr").subscribe({next:t=>{this.selectedPR.prNumber=t},error:t=>{console.error("Error generating PR number",t),this.selectedPR.prNumber=this.prService.generatePRNumber()}})}openEditModal(t){this.isEditing=!0,this.selectedPR=JSON.parse(JSON.stringify(t)),(!this.selectedPR.items||this.selectedPR.items.length===0)&&(this.selectedPR.items=[this.getEmptyItem()]),this.showModal=!0,this.viewTabActive="purchaseOrders",(t.status==="Approved"||t.status==="Partially Fulfilled"||t.status==="Fully Fulfilled")&&this.loadViewTabData()}viewPR(t){this.openEditModal(t)}closeModal(){this.showModal=!1,this.selectedPR=this.getEmptyPR(),this.purchaseOrders=[],this.stockFulfillments=[],this.materialTransfers=[]}addItem(){this.selectedPR.items.push(this.getEmptyItem())}removeItem(t){this.selectedPR.items.length>1&&this.selectedPR.items.splice(t,1)}onItemSelect(t){let e=this.items.find(i=>i.name===this.selectedPR.items[t].itemName);e&&(this.selectedPR.items[t].itemId=e.id,this.selectedPR.items[t].itemCode=e.code||"",this.selectedPR.items[t].itemDescription=e.description||"",this.selectedPR.items[t].uom=e.unitOfMeasure?.symbol||e.unitOfMeasure?.code||"")}saveDraft(){this.selectedPR.status="Draft",this.saveRequisition()}submitPR(){this.selectedPR.status="Submitted",this.saveRequisition()}saveRequisition(){let t=this.selectedPR.items.filter(e=>e.itemName&&e.quantity>0);if(t.length===0){this.notificationService.error("Please add at least one item with name and quantity.");return}this.selectedPR.items=t,this.isEditing&&this.selectedPR.id?this.prService.update(this.selectedPR.id,this.selectedPR).subscribe({next:()=>{this.notificationService.success("Purchase requisition updated successfully"),this.loadData(),this.closeModal()},error:e=>{this.notificationService.error("Error updating PR"),console.error("Error updating PR:",e)}}):this.prService.create(this.selectedPR).subscribe({next:()=>{this.notificationService.success("Purchase requisition created successfully"),this.loadData(),this.closeModal()},error:e=>{this.notificationService.error("Error creating PR"),console.error("Error creating PR:",e)}})}deletePR(t){if(t.status!=="Draft"){this.notificationService.error("Only Draft PRs can be deleted.");return}confirm(`Are you sure you want to delete ${t.prNumber}?`)&&t.id&&this.prService.delete(t.id).subscribe({next:()=>{this.notificationService.success("Purchase requisition deleted successfully"),this.loadData()},error:e=>{this.notificationService.error("Error deleting PR"),console.error("Error deleting PR:",e)}})}getPriorityClass(t){switch(t){case"Critical":return"priority-critical";case"Urgent":return"priority-urgent";default:return"priority-normal"}}formatDate(t){return t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}canEdit(t){return t.status==="Draft"}canDelete(t){return t.status==="Draft"}toggleViewMode(){this.viewMode=this.viewMode==="kanban"?"table":"kanban"}getAllFilteredPRs(){if(!this.searchTerm)return this.requisitions;let t=this.searchTerm.toLowerCase();return this.requisitions.filter(e=>e.prNumber?.toLowerCase().includes(t)||e.department?.toLowerCase().includes(t)||e.requestedBy?.toLowerCase().includes(t))}getStatusClass(t){switch(t){case"Draft":return"status-draft";case"Submitted":return"status-submitted";case"Approved":return"status-approved";case"Partially Fulfilled":return"status-partial";case"Fully Fulfilled":return"status-fulfilled";case"Rejected":return"status-rejected";default:return"status-default"}}canSubmit(t){return t.status==="Draft"}canApproveReject(t){return t.status==="Submitted"&&this.isAdmin}canConvertToPO(t){return t.status==="Approved"||t.status==="Partially Fulfilled"}canFulfillFromStock(t){return t.status==="Approved"||t.status==="Partially Fulfilled"}canMaterialTransfer(t){return t.status==="Approved"||t.status==="Partially Fulfilled"}isCompleted(t){return t.status==="Fully Fulfilled"}isRejected(t){return t.status==="Rejected"}approvePR(t,e){e?.stopPropagation(),this.canApproveReject(t)&&confirm(`Are you sure you want to approve ${t.prNumber}?`)&&t.id&&this.prService.approve(t.id).subscribe({next:()=>this.loadData(),error:i=>console.error("Error approving PR:",i)})}rejectPR(t,e){if(e?.stopPropagation(),!this.canApproveReject(t))return;let i=prompt(`Enter rejection reason for ${t.prNumber}:`);i&&t.id&&this.prService.reject(t.id,i).subscribe({next:()=>{this.loadData(),this.closeModal()},error:r=>console.error("Error rejecting PR:",r)})}convertToPO(t,e){e?.stopPropagation(),this.canConvertToPO(t)&&this.router.navigate(["/app/purchase/fulfillment/convert-to-po"],{queryParams:{prId:t.id}})}fulfillFromStock(t,e){e?.stopPropagation(),this.canFulfillFromStock(t)&&this.router.navigate(["/app/purchase/fulfillment/stock-issue"],{queryParams:{prId:t.id}})}materialTransfer(t,e){e?.stopPropagation(),this.canMaterialTransfer(t)&&this.router.navigate(["/app/purchase/fulfillment/material-transfer"],{queryParams:{prId:t.id}})}getItemStatusClass(t){switch(t){case"Pending":return"item-pending";case"Partially Fulfilled":return"item-partial";case"Fully Fulfilled":return"item-fulfilled";default:return"item-pending"}}calculateFulfillmentProgress(t){if(!t.items||t.items.length===0)return 0;let e=t.items.reduce((r,s)=>r+s.quantity,0),i=t.items.reduce((r,s)=>r+(s.fulfilledQuantity||0),0);return e>0?Math.round(i/e*100):0}printPR(t){t.id&&this.router.navigate(["/app/purchase/requisition",t.id,"print"])}openViewModal(t){this.selectedPR=JSON.parse(JSON.stringify(t)),this.viewTabActive="purchaseOrders",this.showViewModal=!0,this.loadViewTabData()}closeViewModal(){this.showViewModal=!1,this.purchaseOrders=[],this.stockFulfillments=[],this.materialTransfers=[]}loadViewTabData(){this.selectedPR.id&&(this.prService.getPurchaseOrdersByPrId(this.selectedPR.id).subscribe({next:t=>this.purchaseOrders=t,error:()=>this.purchaseOrders=[]}),this.prService.getStockFulfillmentsByPrId(this.selectedPR.id).subscribe({next:t=>this.stockFulfillments=t,error:()=>this.stockFulfillments=[]}),this.prService.getMaterialTransfersByPrId(this.selectedPR.id).subscribe({next:t=>this.materialTransfers=t,error:()=>this.materialTransfers=[]}))}openStockFulfillmentModal(t,e){e?.stopPropagation(),this.canFulfillFromStock(t)&&(this.selectedPR=JSON.parse(JSON.stringify(t)),this.stockFulfillmentItems=this.selectedPR.items.filter(i=>i.quantity-(i.fulfilledQuantity||0)>0).map(i=>me(T({},i),{selected:!1,fulfillQty:i.quantity-(i.fulfilledQuantity||0)})),this.selectedWarehouseId=null,this.selectedSupplierId=null,this.stockFulfillmentRemarks="",this.showStockFulfillmentModal=!0)}closeStockFulfillmentModal(){this.showStockFulfillmentModal=!1,this.stockFulfillmentItems=[]}saveStockFulfillment(){let t=this.stockFulfillmentItems.filter(i=>i.selected&&i.fulfillQty&&i.fulfillQty>0);if(t.length===0){this.notificationService.error("Please select at least one item to fulfill.");return}if(!this.selectedWarehouseId&&!this.selectedSupplierId){this.notificationService.error("Please select a warehouse or supplier.");return}let e={prId:this.selectedPR.id,warehouseId:this.selectedWarehouseId||void 0,supplierId:this.selectedSupplierId||void 0,remarks:this.stockFulfillmentRemarks,items:t.map(i=>({prItemId:i.id,itemId:i.itemId,quantity:i.fulfillQty}))};this.prService.createStockFulfillment(e).subscribe({next:()=>{if(this.closeStockFulfillmentModal(),this.loadData(),this.expandedPRId){let i=this.requisitions.find(r=>r.id===this.expandedPRId);i&&setTimeout(()=>this.loadInlineData(i),500)}this.notificationService.success("Stock fulfillment created successfully")},error:i=>{console.error("Error creating stock fulfillment:",i),this.notificationService.error("Error creating stock fulfillment. Please try again.")}})}openMaterialTransferModal(t,e){e?.stopPropagation(),this.canMaterialTransfer(t)&&(this.selectedPR=JSON.parse(JSON.stringify(t)),this.materialTransferItems=this.selectedPR.items.filter(i=>i.quantity-(i.fulfilledQuantity||0)>0).map(i=>me(T({},i),{selected:!1,fulfillQty:i.quantity-(i.fulfilledQuantity||0)})),this.transferProjectName="",this.transferSupplierId=null,this.materialTransferRemarks="",this.showMaterialTransferModal=!0)}closeMaterialTransferModal(){this.showMaterialTransferModal=!1,this.materialTransferItems=[]}saveMaterialTransfer(){let t=this.materialTransferItems.filter(i=>i.selected&&i.fulfillQty&&i.fulfillQty>0);if(t.length===0){this.notificationService.error("Please select at least one item to transfer.");return}let e={prId:this.selectedPR.id,projectName:this.transferProjectName,supplierId:this.transferSupplierId||void 0,remarks:this.materialTransferRemarks,items:t.map(i=>({prItemId:i.id,itemId:i.itemId,quantity:i.fulfillQty}))};this.prService.createMaterialTransfer(e).subscribe({next:()=>{if(this.closeMaterialTransferModal(),this.loadData(),this.expandedPRId){let i=this.requisitions.find(r=>r.id===this.expandedPRId);i&&setTimeout(()=>this.loadInlineData(i),500)}this.notificationService.success("Material transfer created successfully")},error:i=>{console.error("Error creating material transfer:",i),this.notificationService.error("Error creating material transfer. Please try again.")}})}toggleAllItems(t,e){let i=e.target.checked;t.forEach(r=>r.selected=i)}getRemainingQty(t){return t.quantity-(t.fulfilledQuantity||0)}togglePRExpand(t,e){e?.stopPropagation(),this.expandedPRId===t.id?(this.expandedPRId=null,this.resetInlineState()):(this.resetInlineState(),this.expandedPRId=t.id,this.inlineTabActive="purchaseOrders",this.loadInlineData(t))}resetInlineState(){this.inlineSelectableItems=[],this.inlinePurchaseOrders=[],this.inlineStockFulfillments=[],this.inlineMaterialTransfers=[]}loadInlineData(t){t.id&&(this.inlineSelectableItems=t.items.filter(e=>e.quantity-(e.fulfilledQuantity||0)>0).map(e=>me(T({},e),{selected:!1,fulfillQty:e.quantity-(e.fulfilledQuantity||0)})),this.prService.getPurchaseOrdersByPrId(t.id).subscribe({next:e=>this.inlinePurchaseOrders=e,error:()=>this.inlinePurchaseOrders=[]}),this.prService.getStockFulfillmentsByPrId(t.id).subscribe({next:e=>this.inlineStockFulfillments=e,error:()=>this.inlineStockFulfillments=[]}),this.prService.getMaterialTransfersByPrId(t.id).subscribe({next:e=>this.inlineMaterialTransfers=e,error:()=>this.inlineMaterialTransfers=[]}))}openInlineStockFulfillment(t,e){e?.stopPropagation();let i=this.inlineSelectableItems.filter(r=>r.selected&&r.fulfillQty&&r.fulfillQty>0);if(i.length===0){this.notificationService.error("Please select at least one item to fulfill from stock.");return}this.selectedPR=JSON.parse(JSON.stringify(t)),this.stockFulfillmentItems=i,this.selectedWarehouseId=null,this.selectedSupplierId=null,this.stockFulfillmentRemarks="",this.showStockFulfillmentModal=!0}openInlineMaterialTransfer(t,e){e?.stopPropagation();let i=this.inlineSelectableItems.filter(r=>r.selected&&r.fulfillQty&&r.fulfillQty>0);if(i.length===0){this.notificationService.error("Please select at least one item for material transfer.");return}this.selectedPR=JSON.parse(JSON.stringify(t)),this.materialTransferItems=i,this.transferProjectName="",this.transferSupplierId=null,this.materialTransferRemarks="",this.showMaterialTransferModal=!0}toggleInlineItemSelection(t){t.selected=!t.selected}toggleAllInlineItems(t){let e=t.target.checked;this.inlineSelectableItems.forEach(i=>i.selected=e)}getSelectedItemsCount(){return this.inlineSelectableItems.filter(t=>t.selected).length}static \u0275fac=function(e){return new(e||n)(w(Jt),w(bi),w(Ve),w(ue),w(ke),w(Ke),w(It),w(Oe),w(Ln))};static \u0275cmp=k({type:n,selectors:[["app-purchase-requisition"]],standalone:!1,decls:24,vars:12,consts:[[1,"page-container"],[1,"page-header"],[1,"btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"toolbar"],[1,"search-box"],[1,"fa","fa-search"],["type","text","placeholder","Search Requisitions",3,"ngModelChange","ngModel"],[1,"toolbar-right"],[1,"view-toggle"],["title","Kanban View",1,"toggle-btn",3,"click"],[1,"fa","fa-columns"],["title","Table View",1,"toggle-btn",3,"click"],[1,"fa","fa-table"],["class","sort-options",4,"ngIf"],["class","kanban-board",4,"ngIf"],["class","table-view",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"sort-options"],["class","sort-link",3,"active","click",4,"ngFor","ngForOf"],[1,"sort-link",3,"click"],[1,"kanban-board"],[1,"kanban-column","draft"],[1,"column-header"],[1,"column-title"],[1,"column-count"],[1,"column-body"],["class","pr-card",3,"click",4,"ngFor","ngForOf"],["class","empty-column",4,"ngIf"],[1,"kanban-column","submitted"],[1,"kanban-column","approved"],["class","pr-card-wrapper",4,"ngFor","ngForOf"],[1,"kanban-column","partial"],[1,"kanban-column","fulfilled"],["class","pr-card completed",3,"click",4,"ngFor","ngForOf"],[1,"kanban-column","rejected"],["class","pr-card rejected-card",3,"click",4,"ngFor","ngForOf"],[1,"pr-card",3,"click"],[1,"card-header"],[1,"pr-number"],[1,"priority-badge",3,"ngClass"],[1,"card-department"],[1,"card-details"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"card-footer"],[1,"comments"],[1,"fa","fa-comments"],[1,"card-actions"],["title","Print",1,"btn-icon","print",3,"click"],[1,"fa","fa-print"],["title","Edit",1,"btn-icon",3,"click"],[1,"fa","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fa","fa-trash"],[1,"empty-column"],[1,"fa","fa-file-alt"],["class","card-actions-row",4,"ngIf"],[1,"card-actions-row"],["title","Approve",1,"btn-action","approve",3,"click"],[1,"fa","fa-check"],["title","Reject",1,"btn-action","reject",3,"click"],[1,"fa","fa-times"],[1,"fa","fa-paper-plane"],[1,"pr-card-wrapper"],[1,"pr-card"],[1,"header-right"],[1,"expand-btn",3,"click","title"],[1,"fa"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],["title","View Details",1,"btn-action","view",3,"click"],[1,"fa","fa-eye"],["title","Convert to PO",1,"btn-action","convert",3,"click"],[1,"fa","fa-file-invoice"],["class","inline-expand-section",4,"ngIf"],[1,"inline-expand-section"],[1,"inline-items-section"],[1,"inline-section-header"],["class","selected-count",4,"ngIf"],[1,"inline-items-table"],[2,"width","40px"],["type","checkbox",3,"change"],[2,"width","80px"],[2,"width","90px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","inline-action-buttons",4,"ngIf"],[1,"inline-tabs"],[1,"tab-headers"],[1,"tab-header",3,"click"],[1,"fa","fa-box"],[1,"fa","fa-exchange-alt"],["class","tab-content",4,"ngIf"],[1,"selected-count"],["type","checkbox",3,"ngModelChange","ngModel"],["type","number","min","1",1,"inline-qty-input",3,"ngModelChange","ngModel","max","disabled"],["colspan","6",1,"no-items"],[1,"inline-action-buttons"],[1,"btn-action","stock",3,"click"],[1,"btn-action","transfer",3,"click"],[1,"tab-content"],["class","inline-data-table",4,"ngIf"],["class","empty-tab",4,"ngIf"],[1,"inline-data-table"],[1,"status-badge",3,"ngClass"],[1,"empty-tab"],[1,"status-badge","status-approved"],[1,"fa","fa-check-circle"],[1,"fa","fa-tasks"],[1,"pr-card","completed",3,"click"],[1,"completed-badge"],[1,"fa","fa-check-double"],[1,"pr-card","rejected-card",3,"click"],[1,"rejected-badge"],[1,"fa","fa-times-circle"],["class","detail-row",4,"ngIf"],["class","rejected-by",4,"ngIf"],[1,"value","rejection-reason"],[1,"rejected-by"],[1,"fa","fa-ban"],[1,"table-view"],[1,"table-container"],[1,"data-table"],["class","clickable-row",3,"click",4,"ngFor","ngForOf"],["colspan","8",1,"empty-state"],[1,"clickable-row",3,"click"],[1,"pr-link"],[1,"action-buttons"],["class","btn-icon","title","Edit",3,"click",4,"ngIf"],["class","btn-icon","title","View",3,"click",4,"ngIf"],["class","btn-icon delete","title","Delete",3,"click",4,"ngIf"],["class","btn-icon approve","title","Approve",3,"click",4,"ngIf"],["class","btn-icon reject","title","Reject",3,"click",4,"ngIf"],["class","btn-icon view","title","View History",3,"click",4,"ngIf"],["class","btn-icon convert","title","Convert to PO",3,"click",4,"ngIf"],["class","btn-icon stock","title","Fulfill from Stock",3,"click",4,"ngIf"],["class","btn-icon transfer","title","Material Transfer",3,"click",4,"ngIf"],["class","completed-label",4,"ngIf"],["title","View",1,"btn-icon",3,"click"],["title","Approve",1,"btn-icon","approve",3,"click"],["title","Reject",1,"btn-icon","reject",3,"click"],["title","View History",1,"btn-icon","view",3,"click"],["title","Convert to PO",1,"btn-icon","convert",3,"click"],["title","Fulfill from Stock",1,"btn-icon","stock",3,"click"],["title","Material Transfer",1,"btn-icon","transfer",3,"click"],[1,"completed-label"],[1,"modal-overlay",3,"click"],[1,"modal-content","large",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-grid"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["type","date","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter department or project","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter delivery location",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["placeholder","Enter purpose of requisition","rows","2",1,"form-control",3,"ngModelChange","ngModel"],["required","",1,"form-control",3,"ngModelChange","ngModel"],["value","Normal"],["value","Urgent"],["value","Critical"],["type","text","readonly","",1,"form-control",3,"value"],[1,"items-section"],[1,"section-header"],[1,"section-header-right"],["class","fulfillment-progress",4,"ngIf"],["class","btn-secondary",3,"click",4,"ngIf"],[1,"items-table-container"],[1,"items-table"],[2,"width","30px"],[2,"width","180px"],["style","width: 80px;",4,"ngIf"],[2,"width","100px"],["style","width: 100px;",4,"ngIf"],["style","width: 50px;",4,"ngIf"],["class","view-tabs-section",4,"ngIf"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],["class","btn-primary",3,"click",4,"ngIf"],["class","btn-success",3,"click",4,"ngIf"],["class","btn-approve",3,"click",4,"ngIf"],["class","btn-reject",3,"click",4,"ngIf"],["class","completed-message",4,"ngIf"],["class","rejected-message",4,"ngIf"],[1,"fulfillment-progress"],[1,"progress-label"],[1,"progress-bar-inline"],[1,"progress-percent"],[2,"width","50px"],[1,"form-control",3,"ngModelChange","change","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Description",1,"form-control",3,"ngModelChange","ngModel","readonly"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","text","placeholder","Remarks",1,"form-control",3,"ngModelChange","ngModel","readonly"],[3,"value"],[1,"fulfilled-qty"],[1,"item-status-badge",3,"ngClass"],["title","Remove",1,"btn-icon","delete",3,"click","disabled"],[1,"view-tabs-section"],[1,"tabs"],[1,"tab-btn",3,"click"],["class","data-table",4,"ngIf"],[1,"fa","fa-save"],[1,"btn-success",3,"click"],[1,"btn-approve",3,"click"],[1,"btn-reject",3,"click"],[1,"completed-message"],[1,"rejected-message"],[1,"status-badge"],[1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Enter remarks","rows","2",1,"form-control",3,"ngModelChange","ngModel"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel","max","disabled"],["type","text","placeholder","Enter project name",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),l(3,"Purchase Requisition"),a(),o(4,"button",2),_("click",function(){return i.openNewModal()}),v(5,"i",3),l(6," New Requisition "),a()(),o(7,"div",4)(8,"div",5),v(9,"i",6),o(10,"input",7),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),a()(),o(11,"div",8)(12,"div",9)(13,"button",10),_("click",function(){return i.viewMode="kanban"}),v(14,"i",11),a(),o(15,"button",12),_("click",function(){return i.viewMode="table"}),v(16,"i",13),a()(),M(17,f6,4,1,"div",14),a()(),M(18,pN,55,18,"div",15)(19,SN,24,2,"div",16),a(),M(20,oF,93,27,"div",17)(21,vF,24,13,"div",17)(22,bF,55,9,"div",17)(23,PF,52,7,"div",17)),e&2&&(c(10),C("ngModel",i.searchTerm),c(3),L("active",i.viewMode==="kanban"),c(2),L("active",i.viewMode==="table"),c(2),u("ngIf",i.viewMode==="kanban"),c(),u("ngIf",i.viewMode==="kanban"),c(),u("ngIf",i.viewMode==="table"),c(),u("ngIf",i.showModal),c(),u("ngIf",i.showViewModal),c(),u("ngIf",i.showStockFulfillmentModal),c(),u("ngIf",i.showMaterialTransferModal))},dependencies:[ae,A,N,z,G,B,pe,fe,H,V,ve,Se,rn,F],styles:[".page-container[_ngcontent-%COMP%]{padding:24px;background:#f5f5f5;min-height:calc(100vh - 64px)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:teal;font-size:24px;font-weight:600;margin:0}.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:background .2s}.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:teal;border:1px solid #008080;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:6px;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background:teal;color:#fff}.btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:background .2s}.btn-success[_ngcontent-%COMP%]:hover{background:#218838}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}.toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.view-toggle[_ngcontent-%COMP%]{display:flex;background:#fff;border:1px solid #ddd;border-radius:6px;overflow:hidden}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:#fff;border:none;padding:8px 12px;cursor:pointer;color:#666;transition:all .2s;display:flex;align-items:center;justify-content:center}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:teal}.view-toggle[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:teal;color:#fff}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid #ddd;border-radius:6px;padding:8px 12px;min-width:280px}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#999;margin-right:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;font-size:14px;width:100%}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#999}.table-view[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 4px #00000014}.table-view[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:teal;color:#fff;font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.clickable-row[_ngcontent-%COMP%]{cursor:pointer;transition:background .2s}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.clickable-row[_ngcontent-%COMP%]:hover{background:#f8fafa}.data-table[_ngcontent-%COMP%]   .pr-link[_ngcontent-%COMP%]{color:teal}.data-table[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#999}.data-table[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;display:block;margin-bottom:12px}.data-table[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.status-badge.status-draft[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.status-badge.status-submitted[_ngcontent-%COMP%]{background:#cce5ff;color:#004085}.status-badge.status-approved[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-badge.status-rejected[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.status-badge.status-default[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px}.sort-options[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#666}.sort-options[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]{color:teal;cursor:pointer;padding:4px 8px;border-radius:4px;transition:all .2s}.sort-options[_ngcontent-%COMP%]   .sort-link[_ngcontent-%COMP%]:hover{background:#0080801a}.sort-options[_ngcontent-%COMP%]   .sort-link.active[_ngcontent-%COMP%]{background:teal;color:#fff}.kanban-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;align-items:start}.kanban-column[_ngcontent-%COMP%]{background:#e8f4f4;border-radius:8px;overflow:hidden;min-height:400px}.kanban-column.draft[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:#6c757d}.kanban-column.submitted[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:#007bff}.kanban-column.approved[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:#28a745}.column-header[_ngcontent-%COMP%]{padding:16px;color:#fff;display:flex;justify-content:space-between;align-items:center}.column-header[_ngcontent-%COMP%]   .column-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.column-header[_ngcontent-%COMP%]   .column-count[_ngcontent-%COMP%]{font-size:12px;opacity:.9}.column-body[_ngcontent-%COMP%]{padding:12px;max-height:calc(100vh - 300px);overflow-y:auto}.pr-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;margin-bottom:12px;cursor:pointer;box-shadow:0 2px 4px #00000014;transition:all .2s}.pr-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.pr-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.card-header[_ngcontent-%COMP%]   .pr-number[_ngcontent-%COMP%]{font-weight:600;color:teal;font-size:15px}.priority-badge[_ngcontent-%COMP%]{font-size:11px;padding:3px 8px;border-radius:12px;font-weight:500}.priority-badge.priority-normal[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.priority-badge.priority-urgent[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.priority-badge.priority-critical[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.card-department[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500;margin-bottom:12px}.card-details[_ngcontent-%COMP%]{margin-bottom:12px}.card-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-bottom:4px}.card-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#666;width:70px}.card-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid #eee}.card-footer[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]{font-size:12px;color:#666}.card-footer[_ngcontent-%COMP%]   .comments[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.card-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;padding:6px 8px;cursor:pointer;color:#666;border-radius:4px;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:teal}.btn-icon.delete[_ngcontent-%COMP%]:hover{background:#fee;color:#dc3545}.btn-icon[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.empty-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:#999}.empty-column[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:12px;opacity:.5}.empty-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:900px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-content.large[_ngcontent-%COMP%]{max-width:1100px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #eee;background:teal;color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer;padding:4px 8px;opacity:.8;transition:opacity .2s}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;flex:1}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:24px}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:span 2}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:500;color:#333;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .2s;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:read-only, .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:disabled{background:#f5f5f5;color:#666}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:60px}.items-section[_ngcontent-%COMP%]{margin-top:20px}.items-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.items-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#333;font-weight:600}.items-table-container[_ngcontent-%COMP%]{overflow-x:auto;border:1px solid #ddd;border-radius:6px}.items-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:800px}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;font-size:13px;color:#333}.items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:8px 10px;font-size:13px}.items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#fafafa}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px;border-top:1px solid #eee;background:#f8f9fa}.kanban-column.partial[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#ff9800)}.kanban-column.fulfilled[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997)}.kanban-column.rejected[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#c82333)}.card-actions-row[_ngcontent-%COMP%]{display:flex;gap:8px;margin:12px 0;flex-wrap:wrap}.btn-action[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;cursor:pointer;font-size:12px;display:flex;align-items:center;gap:4px;transition:all .2s}.btn-action.convert[_ngcontent-%COMP%]{background:teal;color:#fff}.btn-action.convert[_ngcontent-%COMP%]:hover{background:#066}.btn-action.stock[_ngcontent-%COMP%]{background:#17a2b8;color:#fff}.btn-action.stock[_ngcontent-%COMP%]:hover{background:#138496}.btn-action.transfer[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-action.transfer[_ngcontent-%COMP%]:hover{background:#5a6268}.btn-action.approve[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-action.approve[_ngcontent-%COMP%]:hover{background:#218838}.btn-action.reject[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-action.reject[_ngcontent-%COMP%]:hover{background:#c82333}.progress-bar[_ngcontent-%COMP%]{height:20px;background:#e9ecef;border-radius:10px;overflow:hidden;position:relative;margin:10px 0}.progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ffc107,#28a745);transition:width .3s ease}.progress-bar[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:11px;font-weight:600;color:#333}.completed-badge[_ngcontent-%COMP%]{background:#d4edda;color:#155724;padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600}.completed-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.rejected-badge[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600}.rejected-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.pr-card.completed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fff8,#e8f5e9);border-left:4px solid #28a745}.pr-card.rejected-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff8f8,#ffebee);border-left:4px solid #dc3545}.rejection-reason[_ngcontent-%COMP%]{color:#dc3545;font-style:italic}.rejected-by[_ngcontent-%COMP%]{font-size:11px;color:#999}.status-partial[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-fulfilled[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.btn-icon.approve[_ngcontent-%COMP%]{color:#28a745}.btn-icon.approve[_ngcontent-%COMP%]:hover{background:#d4edda}.btn-icon.reject[_ngcontent-%COMP%]{color:#dc3545}.btn-icon.reject[_ngcontent-%COMP%]:hover{background:#f8d7da}.btn-icon.convert[_ngcontent-%COMP%]{color:teal}.btn-icon.convert[_ngcontent-%COMP%]:hover{background:#e0f2f2}.btn-icon.stock[_ngcontent-%COMP%]{color:#17a2b8}.btn-icon.stock[_ngcontent-%COMP%]:hover{background:#d1ecf1}.btn-icon.transfer[_ngcontent-%COMP%]{color:#6c757d}.btn-icon.transfer[_ngcontent-%COMP%]:hover{background:#e9ecef}.btn-icon.print[_ngcontent-%COMP%]{color:#6f42c1}.btn-icon.print[_ngcontent-%COMP%]:hover{background:#e2d9f3}.completed-label[_ngcontent-%COMP%]{color:#28a745;font-size:12px;font-weight:600;display:flex;align-items:center;gap:4px}.item-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.item-partial[_ngcontent-%COMP%]{background:#cce5ff;color:#004085}.item-fulfilled[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.btn-approve[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:background .2s}.btn-approve[_ngcontent-%COMP%]:hover{background:#218838}.btn-reject[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:background .2s}.btn-reject[_ngcontent-%COMP%]:hover{background:#c82333}.completed-message[_ngcontent-%COMP%]{color:#28a745;font-size:14px;font-weight:600;display:flex;align-items:center;gap:8px;padding:10px 16px;background:#d4edda;border-radius:6px}.rejected-message[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;font-weight:600;display:flex;align-items:center;gap:8px;padding:10px 16px;background:#f8d7da;border-radius:6px}.section-header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.fulfillment-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.fulfillment-progress[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:13px;color:#666}.fulfillment-progress[_ngcontent-%COMP%]   .progress-bar-inline[_ngcontent-%COMP%]{width:120px;height:8px;background:#e9ecef;border-radius:4px;overflow:hidden}.fulfillment-progress[_ngcontent-%COMP%]   .progress-bar-inline[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#ffc107,#28a745);transition:width .3s ease}.fulfillment-progress[_ngcontent-%COMP%]   .progress-percent[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:teal;min-width:35px}.fulfilled-qty[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#666}.item-status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:11px;font-weight:600;white-space:nowrap}@media(max-width:992px){.kanban-board[_ngcontent-%COMP%]{grid-template-columns:1fr}.kanban-column[_ngcontent-%COMP%]{min-height:auto}.column-body[_ngcontent-%COMP%]{max-height:300px}}@media(max-width:768px){.page-container[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-box[_ngcontent-%COMP%]{min-width:100%}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:span 1}.modal-content[_ngcontent-%COMP%]{width:95%;max-height:95vh}}.view-tabs-section[_ngcontent-%COMP%]{margin-top:24px;padding-top:20px;border-top:1px solid #e0e0e0}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid #e0e0e0;margin-bottom:20px}.tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{background:transparent;border:none;padding:12px 20px;cursor:pointer;font-size:14px;color:#666;display:flex;align-items:center;gap:8px;transition:all .2s;border-bottom:2px solid transparent;margin-bottom:-2px}.tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover{color:teal;background:#0080800d}.tabs[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{color:teal;border-bottom-color:teal;font-weight:500}.tabs[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.tab-content[_ngcontent-%COMP%]{min-height:200px}.empty-tab[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;color:#999;text-align:center}.empty-tab[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;opacity:.5}.empty-tab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.btn-action.view[_ngcontent-%COMP%]{background:#17a2b8;color:#fff}.btn-action.view[_ngcontent-%COMP%]:hover{background:#138496}.btn-icon.view[_ngcontent-%COMP%]{color:#17a2b8}.btn-icon.view[_ngcontent-%COMP%]:hover{color:#138496}.pr-card-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.pr-card-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:0}.pr-card.expanded[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:2px solid #008080}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.expand-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #ddd;border-radius:4px;padding:4px 8px;cursor:pointer;color:#666;transition:all .2s}.expand-btn[_ngcontent-%COMP%]:hover{background:teal;color:#fff;border-color:teal}.expand-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.inline-expand-section[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-top:none;border-radius:0 0 8px 8px;padding:16px;box-shadow:0 4px 8px #0000001a}.inline-items-section[_ngcontent-%COMP%]{margin-bottom:20px}.inline-section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.inline-section-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333;font-weight:600}.inline-section-header[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{background:teal;color:#fff;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.inline-items-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:13px;border:1px solid #e0e0e0;border-radius:6px;overflow:hidden}.inline-items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .inline-items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;text-align:left;border-bottom:1px solid #e0e0e0}.inline-items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:600;color:#333}.inline-items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.inline-items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#fafafa}.inline-items-table[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}.inline-items-table[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#999;font-style:italic}.inline-qty-input[_ngcontent-%COMP%]{width:70px;padding:6px 8px;border:1px solid #ddd;border-radius:4px;font-size:13px;text-align:right}.inline-qty-input[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.inline-qty-input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;color:#999}.inline-action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:12px;justify-content:flex-end}.inline-tabs[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:16px}.inline-tabs[_ngcontent-%COMP%]   .tab-headers[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:12px;border-bottom:1px solid #e0e0e0;padding-bottom:0}.inline-tabs[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]{background:transparent;border:none;padding:10px 16px;cursor:pointer;font-size:13px;color:#666;display:flex;align-items:center;gap:6px;transition:all .2s;border-bottom:2px solid transparent;margin-bottom:-1px}.inline-tabs[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]:hover{color:teal}.inline-tabs[_ngcontent-%COMP%]   .tab-header.active[_ngcontent-%COMP%]{color:teal;border-bottom-color:teal;font-weight:500}.inline-tabs[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.inline-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{min-height:100px}.inline-data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:12px;border:1px solid #e0e0e0;border-radius:6px;overflow:hidden}.inline-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .inline-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 10px;text-align:left;border-bottom:1px solid #e0e0e0}.inline-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.inline-data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.inline-data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#fafafa}.inline-tabs[_ngcontent-%COMP%]   .empty-tab[_ngcontent-%COMP%]{padding:24px;text-align:center;color:#999;font-size:13px;background:#fafafa;border-radius:6px}"]})};function EF(n,t){n&1&&(o(0,"div",7),v(1,"i",8),o(2,"span"),l(3,"Loading PR details..."),a()())}function wF(n,t){if(n&1&&(o(0,"option",21),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function OF(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",46),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.selected,r)||(s.selected=r),g(r)}),_("change",function(){let r=m(e).$implicit,s=d(2);return g(s.onItemSelectionChange(r))}),a()(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td",47),l(8),a(),o(9,"td",47),l(10),a(),o(11,"td",48),l(12),a(),o(13,"td",47),l(14),a(),o(15,"td")(16,"input",49),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.fulfillQty,r)||(s.fulfillQty=r),g(r)}),_("input",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(17,"td")(18,"input",50),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.rate,r)||(s.rate=r),g(r)}),_("input",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(19,"td",51),l(20),U(21,"number"),a()()}if(n&2){let e=t.$implicit;L("selected",e.selected),c(2),C("ngModel",e.selected),c(2),f(e.itemName),c(2),f(e.itemDescription||"-"),c(2),f(e.requestedQty),c(2),f(e.fulfilledQty),c(2),f(e.pendingQty),c(2),f(e.uom),c(2),C("ngModel",e.fulfillQty),u("disabled",!e.selected)("max",e.pendingQty),c(2),C("ngModel",e.rate),u("disabled",!e.selected),c(2),E(" ",e.selected?$(21,15,e.amount,"1.2-2"):"-"," ")}}function IF(n,t){n&1&&v(0,"i",52)}function DF(n,t){n&1&&v(0,"i",8)}function TF(n,t){if(n&1){let e=O();o(0,"div",9)(1,"div",10)(2,"div",11)(3,"h3"),l(4,"Purchase Requisition Details"),a(),o(5,"div",12)(6,"div",13)(7,"span",14),l(8,"PR Number:"),a(),o(9,"span",15),l(10),a()(),o(11,"div",13)(12,"span",14),l(13,"PR Date:"),a(),o(14,"span",15),l(15),a()(),o(16,"div",13)(17,"span",14),l(18,"Required Date:"),a(),o(19,"span",15),l(20),a()(),o(21,"div",13)(22,"span",14),l(23,"Department:"),a(),o(24,"span",15),l(25),a()(),o(26,"div",13)(27,"span",14),l(28,"Requested By:"),a(),o(29,"span",15),l(30),a()(),o(31,"div",13)(32,"span",14),l(33,"Purpose:"),a(),o(34,"span",15),l(35),a()()()(),o(36,"div",16)(37,"h3"),l(38,"Purchase Order Details"),a(),o(39,"div",17)(40,"div",18)(41,"label"),l(42,"PO Number"),a(),o(43,"input",19),x("ngModelChange",function(r){m(e);let s=d();return b(s.poNumber,r)||(s.poNumber=r),g(r)}),a()(),o(44,"div",18)(45,"label"),l(46,"Supplier *"),a(),o(47,"select",20),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedSupplierId,r)||(s.selectedSupplierId=r),g(r)}),_("change",function(){m(e);let r=d();return g(r.onSupplierChange())}),o(48,"option",21),l(49,"Select Supplier"),a(),M(50,wF,2,2,"option",22),a()(),o(51,"div",18)(52,"label"),l(53,"Payment Terms"),a(),o(54,"input",23),x("ngModelChange",function(r){m(e);let s=d();return b(s.paymentTerms,r)||(s.paymentTerms=r),g(r)}),a()(),o(55,"div",18)(56,"label"),l(57,"Expected Delivery Date *"),a(),o(58,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.expectedDeliveryDate,r)||(s.expectedDeliveryDate=r),g(r)}),a()(),o(59,"div",25)(60,"label"),l(61,"Remarks"),a(),o(62,"textarea",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.remarks,r)||(s.remarks=r),g(r)}),a()()()()(),o(63,"div",27)(64,"div",28)(65,"h3"),l(66,"Select Items for Purchase Order"),a(),o(67,"span",29),l(68),a()(),o(69,"div",30)(70,"table",31)(71,"thead")(72,"tr")(73,"th",32)(74,"input",33),_("change",function(r){m(e);let s=d();return g(s.toggleSelectAll(r))}),a()(),o(75,"th"),l(76,"Item Name"),a(),o(77,"th"),l(78,"Description"),a(),o(79,"th",34),l(80,"Requested"),a(),o(81,"th",34),l(82,"Fulfilled"),a(),o(83,"th",34),l(84,"Pending"),a(),o(85,"th",34),l(86,"UOM"),a(),o(87,"th",35),l(88,"Qty to Order *"),a(),o(89,"th",35),l(90,"Rate *"),a(),o(91,"th",36),l(92,"Amount"),a()()(),o(93,"tbody"),M(94,OF,22,18,"tr",37),a(),o(95,"tfoot")(96,"tr",38)(97,"td",39)(98,"strong"),l(99,"Total Amount:"),a()(),o(100,"td",40)(101,"strong"),l(102),U(103,"number"),a()()()()()()(),o(104,"div",41)(105,"button",42),_("click",function(){m(e);let r=d();return g(r.cancel())}),l(106,"Cancel"),a(),o(107,"button",43),_("click",function(){m(e);let r=d();return g(r.createPO())}),M(108,IF,1,0,"i",44)(109,DF,1,0,"i",45),l(110),a()()()}if(n&2){let e=d();c(10),f(e.pr.prNumber),c(5),f(e.formatDate(e.pr.prDate)),c(5),f(e.formatDate(e.pr.requiredDate)),c(5),f(e.pr.department),c(5),f(e.pr.requestedBy),c(5),f(e.pr.purpose||"-"),c(8),C("ngModel",e.poNumber),c(4),C("ngModel",e.selectedSupplierId),c(),u("value",0),c(2),u("ngForOf",e.suppliers),c(4),C("ngModel",e.paymentTerms),c(4),C("ngModel",e.expectedDeliveryDate),c(4),C("ngModel",e.remarks),c(6),ne("",e.getSelectedItemsCount()," of ",e.fulfillmentItems.length," items selected"),c(26),u("ngForOf",e.fulfillmentItems),c(8),f($(103,21,e.getTotalAmount(),"1.2-2")),c(5),u("disabled",!e.isValid()||e.saving),c(),u("ngIf",!e.saving),c(),u("ngIf",e.saving),c(),E(" ",e.saving?"Creating PO...":"Create Purchase Order"," ")}}var Vu=class n{constructor(t,e,i,r,s,p,h){this.route=t;this.router=e;this.prService=i;this.fulfillmentService=r;this.supplierService=s;this.settingsService=p;this.notificationService=h}prId=0;pr=null;suppliers=[];fulfillmentItems=[];poNumber="";selectedSupplierId=0;selectedSupplierName="";paymentTerms="";expectedDeliveryDate="";remarks="";loading=!1;saving=!1;ngOnInit(){this.route.queryParams.subscribe(t=>{t.prId?(this.prId=+t.prId,this.loadData()):this.router.navigate(["/app/purchase/requisition"])})}loadData(){this.loading=!0,this.generatePONumber(),this.prService.getById(this.prId).subscribe({next:t=>{this.pr=t,this.initializeFulfillmentItems(),this.loading=!1},error:t=>{console.error("Error loading PR:",t),this.loading=!1,this.router.navigate(["/app/purchase/requisition"])}}),this.supplierService.getActive().subscribe({next:t=>this.suppliers=t,error:t=>console.error("Error loading suppliers:",t)})}generatePONumber(){this.settingsService.generatePrefixId("po").subscribe({next:t=>{this.poNumber=t},error:()=>{this.poNumber=this.fulfillmentService.generatePONumber()}})}initializeFulfillmentItems(){!this.pr||!this.pr.items||(this.fulfillmentItems=this.pr.items.filter(t=>t.quantity-(t.fulfilledQuantity||0)>0).map((t,e)=>({prItemId:t.id||e,itemId:t.itemId,itemCode:t.itemCode,itemName:t.itemName,itemDescription:t.itemDescription,requestedQty:t.quantity,fulfilledQty:t.fulfilledQuantity||0,pendingQty:t.quantity-(t.fulfilledQuantity||0),uom:t.uom,selected:!1,fulfillQty:0,rate:0,amount:0})))}onSupplierChange(){let t=this.suppliers.find(e=>e.id===this.selectedSupplierId);this.selectedSupplierName=t?t.name:""}toggleSelectAll(t){let e=t.target.checked;this.fulfillmentItems.forEach(i=>{i.selected=e,e&&!i.fulfillQty&&(i.fulfillQty=i.pendingQty)}),this.calculateAmounts()}onItemSelectionChange(t){t.selected&&!t.fulfillQty&&(t.fulfillQty=t.pendingQty),this.calculateAmounts()}calculateItemAmount(t){t.amount=(t.fulfillQty||0)*(t.rate||0)}calculateAmounts(){this.fulfillmentItems.forEach(t=>{t.selected&&(t.amount=(t.fulfillQty||0)*(t.rate||0))})}getTotalAmount(){return this.fulfillmentItems.filter(t=>t.selected).reduce((t,e)=>t+(e.amount||0),0)}getSelectedItemsCount(){return this.fulfillmentItems.filter(t=>t.selected).length}isValid(){if(!this.selectedSupplierId||!this.expectedDeliveryDate)return!1;let t=this.fulfillmentItems.filter(e=>e.selected);return t.length===0?!1:t.every(e=>e.fulfillQty&&e.fulfillQty>0&&e.fulfillQty<=e.pendingQty&&e.rate&&e.rate>0)}createPO(){if(!this.isValid()||!this.pr)return;this.saving=!0;let t={prId:this.prId,prNumber:this.pr.prNumber||"",fulfillmentType:"PO",referenceNumber:this.poNumber,fulfillmentDate:new Date().toISOString().split("T")[0],performedBy:"Current User",supplierId:this.selectedSupplierId,supplierName:this.selectedSupplierName,paymentTerms:this.paymentTerms,expectedDeliveryDate:this.expectedDeliveryDate,remarks:this.remarks,totalAmount:this.getTotalAmount(),items:this.fulfillmentItems.filter(e=>e.selected)};this.fulfillmentService.createPOFulfillment(t).subscribe({next:()=>{this.saving=!1,this.notificationService.success("Purchase Order created successfully"),this.router.navigate(["/app/purchase/requisition"])},error:e=>{console.error("Error creating PO:",e),this.saving=!1,this.notificationService.warning("PO creation saved locally. Backend integration pending."),this.router.navigate(["/app/purchase/requisition"])}})}cancel(){this.router.navigate(["/app/purchase/requisition"])}formatDate(t){return t?new Date(t).toLocaleDateString("en-GB"):""}static \u0275fac=function(e){return new(e||n)(w(Ge),w(ue),w(Jt),w(Dt),w(It),w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-convert-to-po"]],standalone:!1,decls:9,vars:2,consts:[[1,"page-container"],[1,"page-header"],[1,"header-left"],[1,"btn-back",3,"click"],[1,"fa","fa-arrow-left"],["class","loading-state",4,"ngIf"],["class","content",4,"ngIf"],[1,"loading-state"],[1,"fa","fa-spinner","fa-spin"],[1,"content"],[1,"info-cards"],[1,"info-card","pr-info"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"info-card","po-info"],[1,"form-grid"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["required","",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","e.g., Net 30",1,"form-control",3,"ngModelChange","ngModel"],["type","date","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["rows","2","placeholder","Additional notes...",1,"form-control",3,"ngModelChange","ngModel"],[1,"items-section"],[1,"section-header"],[1,"selected-count"],[1,"items-table-container"],[1,"items-table"],[2,"width","40px"],["type","checkbox",3,"change"],[2,"width","80px"],[2,"width","100px"],[2,"width","120px"],[3,"selected",4,"ngFor","ngForOf"],[1,"total-row"],["colspan","9",1,"text-right"],[1,"text-right","total-amount"],[1,"action-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],["class","fa fa-file-invoice",4,"ngIf"],["class","fa fa-spinner fa-spin",4,"ngIf"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"text-center"],[1,"text-center","pending-qty"],["type","number","min","1",1,"form-control",3,"ngModelChange","input","ngModel","disabled","max"],["type","number","min","0","step","0.01",1,"form-control",3,"ngModelChange","input","ngModel","disabled"],[1,"text-right","amount"],[1,"fa","fa-file-invoice"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),_("click",function(){return i.cancel()}),v(4,"i",4),a(),o(5,"h1"),l(6,"Convert to Purchase Order"),a()()(),M(7,EF,4,0,"div",5)(8,TF,111,24,"div",6),a()),e&2&&(c(7),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.pr))},dependencies:[A,N,z,G,B,pe,fe,H,V,ve,Se,rn,F,he],styles:[".page-container[_ngcontent-%COMP%]{padding:20px;background:#f8f9fa;min-height:calc(100vh - 60px)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0}.btn-back[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#fff;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:teal;box-shadow:0 2px 4px #0000001a}.btn-back[_ngcontent-%COMP%]:hover{background:teal;color:#fff}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px;color:#666}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:15px;color:teal}.info-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 8px #00000014}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:16px;color:teal;border-bottom:1px solid #eee;padding-bottom:10px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#555;font-weight:500}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:teal;box-shadow:0 0 0 3px #0080801a}.form-control[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.form-control[readonly][_ngcontent-%COMP%]{background:#f0f0f0}select.form-control[_ngcontent-%COMP%]{cursor:pointer}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:60px}.items-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 8px #00000014;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:teal}.section-header[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{font-size:13px;color:#666;background:#f0f0f0;padding:5px 12px;border-radius:20px}.items-table-container[_ngcontent-%COMP%]{overflow-x:auto}.items-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px;text-align:left;border-bottom:1px solid #eee}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#555;font-size:13px;white-space:nowrap}.items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background:#0080800d}.items-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.items-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.items-table[_ngcontent-%COMP%]   .pending-qty[_ngcontent-%COMP%]{color:#e74c3c;font-weight:600}.items-table[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500;color:teal}.items-table[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;text-align:right}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:disabled{background:#f5f5f5}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background:#f8f9fa}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 10px;border-top:2px solid #008080}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{color:teal;font-size:16px}.action-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #00000014}.btn-secondary[_ngcontent-%COMP%]{padding:12px 24px;background:#fff;color:#666;border:1px solid #ddd;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-primary[_ngcontent-%COMP%]{padding:12px 24px;background:teal;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#066}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media(max-width:992px){.info-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function kF(n,t){n&1&&(o(0,"div",7),v(1,"i",8),o(2,"span"),l(3,"Loading PR details..."),a()())}function RF(n,t){if(n&1&&(o(0,"option",21),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne("",e.name," (",e.code,")")}}function AF(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",43),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.selected,r)||(s.selected=r),g(r)}),_("change",function(){let r=m(e).$implicit,s=d(2);return g(s.onItemSelectionChange(r))}),a()(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td",44),l(8),a(),o(9,"td",44),l(10),a(),o(11,"td",45),l(12),a(),o(13,"td",44),l(14),a(),o(15,"td")(16,"input",46),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.fulfillQty,r)||(s.fulfillQty=r),g(r)}),a()()()}if(n&2){let e=t.$implicit;L("selected",e.selected),c(2),C("ngModel",e.selected),c(2),f(e.itemName),c(2),f(e.itemDescription||"-"),c(2),f(e.requestedQty),c(2),f(e.fulfilledQty),c(2),f(e.pendingQty),c(2),f(e.uom),c(2),C("ngModel",e.fulfillQty),u("disabled",!e.selected)("max",e.pendingQty)}}function NF(n,t){n&1&&v(0,"i",47)}function FF(n,t){n&1&&v(0,"i",8)}function VF(n,t){if(n&1){let e=O();o(0,"div",9)(1,"div",10)(2,"div",11)(3,"h3"),l(4,"Purchase Requisition Details"),a(),o(5,"div",12)(6,"div",13)(7,"span",14),l(8,"PR Number:"),a(),o(9,"span",15),l(10),a()(),o(11,"div",13)(12,"span",14),l(13,"PR Date:"),a(),o(14,"span",15),l(15),a()(),o(16,"div",13)(17,"span",14),l(18,"Required Date:"),a(),o(19,"span",15),l(20),a()(),o(21,"div",13)(22,"span",14),l(23,"Department:"),a(),o(24,"span",15),l(25),a()(),o(26,"div",13)(27,"span",14),l(28,"Requested By:"),a(),o(29,"span",15),l(30),a()(),o(31,"div",13)(32,"span",14),l(33,"Delivery Location:"),a(),o(34,"span",15),l(35),a()()()(),o(36,"div",16)(37,"h3"),l(38,"Stock Issue Details"),a(),o(39,"div",17)(40,"div",18)(41,"label"),l(42,"Issue Number"),a(),o(43,"input",19),x("ngModelChange",function(r){m(e);let s=d();return b(s.issueNumber,r)||(s.issueNumber=r),g(r)}),a()(),o(44,"div",18)(45,"label"),l(46,"Source Warehouse *"),a(),o(47,"select",20),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedWarehouseId,r)||(s.selectedWarehouseId=r),g(r)}),_("change",function(){m(e);let r=d();return g(r.onWarehouseChange())}),o(48,"option",21),l(49,"Select Warehouse"),a(),M(50,RF,2,3,"option",22),a()(),o(51,"div",23)(52,"label"),l(53,"Remarks"),a(),o(54,"textarea",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.remarks,r)||(s.remarks=r),g(r)}),a()()()()(),o(55,"div",25)(56,"div",26)(57,"h3"),l(58,"Select Items to Issue from Stock"),a(),o(59,"span",27),l(60),a()(),o(61,"div",28)(62,"table",29)(63,"thead")(64,"tr")(65,"th",30)(66,"input",31),_("change",function(r){m(e);let s=d();return g(s.toggleSelectAll(r))}),a()(),o(67,"th"),l(68,"Item Name"),a(),o(69,"th"),l(70,"Description"),a(),o(71,"th",32),l(72,"Requested"),a(),o(73,"th",32),l(74,"Fulfilled"),a(),o(75,"th",32),l(76,"Pending"),a(),o(77,"th",32),l(78,"UOM"),a(),o(79,"th",33),l(80,"Qty to Issue *"),a()()(),o(81,"tbody"),M(82,AF,17,12,"tr",34),a(),o(83,"tfoot")(84,"tr",35)(85,"td",36)(86,"strong"),l(87,"Total Issue Quantity:"),a()(),o(88,"td",37)(89,"strong"),l(90),a()()()()()()(),o(91,"div",38)(92,"button",39),_("click",function(){m(e);let r=d();return g(r.cancel())}),l(93,"Cancel"),a(),o(94,"button",40),_("click",function(){m(e);let r=d();return g(r.createStockIssue())}),M(95,NF,1,0,"i",41)(96,FF,1,0,"i",42),l(97),a()()()}if(n&2){let e=d();c(10),f(e.pr.prNumber),c(5),f(e.formatDate(e.pr.prDate)),c(5),f(e.formatDate(e.pr.requiredDate)),c(5),f(e.pr.department),c(5),f(e.pr.requestedBy),c(5),f(e.pr.deliveryLocation||"-"),c(8),C("ngModel",e.issueNumber),c(4),C("ngModel",e.selectedWarehouseId),c(),u("value",0),c(2),u("ngForOf",e.warehouses),c(4),C("ngModel",e.remarks),c(6),ne("",e.getSelectedItemsCount()," of ",e.fulfillmentItems.length," items selected"),c(22),u("ngForOf",e.fulfillmentItems),c(8),f(e.getTotalIssueQty()),c(4),u("disabled",!e.isValid()||e.saving),c(),u("ngIf",!e.saving),c(),u("ngIf",e.saving),c(),E(" ",e.saving?"Creating Issue...":"Create Stock Issue"," ")}}var Lu=class n{constructor(t,e,i,r,s,p){this.route=t;this.router=e;this.prService=i;this.fulfillmentService=r;this.settingsService=s;this.notificationService=p}prId=0;pr=null;warehouses=[];fulfillmentItems=[];issueNumber="";selectedWarehouseId=0;selectedWarehouseName="";remarks="";loading=!1;saving=!1;ngOnInit(){this.route.queryParams.subscribe(t=>{t.prId?(this.prId=+t.prId,this.loadData()):this.router.navigate(["/app/purchase/requisition"])})}loadData(){this.loading=!0,this.generateIssueNumber(),this.warehouses=[{id:1,name:"Main Warehouse",code:"WH-001"},{id:2,name:"Secondary Warehouse",code:"WH-002"},{id:3,name:"Project Site A",code:"WH-003"}],this.prService.getById(this.prId).subscribe({next:t=>{this.pr=t,this.initializeFulfillmentItems(),this.loading=!1},error:t=>{console.error("Error loading PR:",t),this.loading=!1,this.router.navigate(["/app/purchase/requisition"])}})}generateIssueNumber(){this.settingsService.generatePrefixId("issue").subscribe({next:t=>{this.issueNumber=t},error:()=>{this.issueNumber=this.fulfillmentService.generateIssueNumber()}})}initializeFulfillmentItems(){!this.pr||!this.pr.items||(this.fulfillmentItems=this.pr.items.filter(t=>t.quantity-(t.fulfilledQuantity||0)>0).map((t,e)=>({prItemId:t.id||e,itemId:t.itemId,itemCode:t.itemCode,itemName:t.itemName,itemDescription:t.itemDescription,requestedQty:t.quantity,fulfilledQty:t.fulfilledQuantity||0,pendingQty:t.quantity-(t.fulfilledQuantity||0),uom:t.uom,selected:!1,fulfillQty:0})))}onWarehouseChange(){let t=this.warehouses.find(e=>e.id===this.selectedWarehouseId);this.selectedWarehouseName=t?t.name:""}toggleSelectAll(t){let e=t.target.checked;this.fulfillmentItems.forEach(i=>{i.selected=e,e&&!i.fulfillQty&&(i.fulfillQty=i.pendingQty)})}onItemSelectionChange(t){t.selected&&!t.fulfillQty&&(t.fulfillQty=t.pendingQty)}getTotalIssueQty(){return this.fulfillmentItems.filter(t=>t.selected).reduce((t,e)=>t+(e.fulfillQty||0),0)}getSelectedItemsCount(){return this.fulfillmentItems.filter(t=>t.selected).length}isValid(){if(!this.selectedWarehouseId)return!1;let t=this.fulfillmentItems.filter(e=>e.selected);return t.length===0?!1:t.every(e=>e.fulfillQty&&e.fulfillQty>0&&e.fulfillQty<=e.pendingQty)}createStockIssue(){if(!this.isValid()||!this.pr)return;this.saving=!0;let t={prId:this.prId,prNumber:this.pr.prNumber||"",fulfillmentType:"Stock Issue",referenceNumber:this.issueNumber,fulfillmentDate:new Date().toISOString().split("T")[0],performedBy:"Current User",warehouseId:this.selectedWarehouseId,warehouseName:this.selectedWarehouseName,remarks:this.remarks,items:this.fulfillmentItems.filter(e=>e.selected)};this.fulfillmentService.createStockIssueFulfillment(t).subscribe({next:()=>{this.saving=!1,this.notificationService.success("Stock Issue created successfully"),this.router.navigate(["/app/purchase/requisition"])},error:e=>{console.error("Error creating stock issue:",e),this.saving=!1,this.notificationService.warning("Stock Issue saved locally. Backend integration pending."),this.router.navigate(["/app/purchase/requisition"])}})}cancel(){this.router.navigate(["/app/purchase/requisition"])}formatDate(t){return t?new Date(t).toLocaleDateString("en-GB"):""}static \u0275fac=function(e){return new(e||n)(w(Ge),w(ue),w(Jt),w(Dt),w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-stock-issue-fulfillment"]],standalone:!1,decls:9,vars:2,consts:[[1,"page-container"],[1,"page-header"],[1,"header-left"],[1,"btn-back",3,"click"],[1,"fa","fa-arrow-left"],["class","loading-state",4,"ngIf"],["class","content",4,"ngIf"],[1,"loading-state"],[1,"fa","fa-spinner","fa-spin"],[1,"content"],[1,"info-cards"],[1,"info-card","pr-info"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"info-card","issue-info"],[1,"form-grid"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["required","",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","full-width"],["rows","2","placeholder","Additional notes...",1,"form-control",3,"ngModelChange","ngModel"],[1,"items-section"],[1,"section-header"],[1,"selected-count"],[1,"items-table-container"],[1,"items-table"],[2,"width","40px"],["type","checkbox",3,"change"],[2,"width","80px"],[2,"width","120px"],[3,"selected",4,"ngFor","ngForOf"],[1,"total-row"],["colspan","7",1,"text-right"],[1,"text-center","total-qty"],[1,"action-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],["class","fa fa-box",4,"ngIf"],["class","fa fa-spinner fa-spin",4,"ngIf"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"text-center"],[1,"text-center","pending-qty"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel","disabled","max"],[1,"fa","fa-box"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),_("click",function(){return i.cancel()}),v(4,"i",4),a(),o(5,"h1"),l(6,"Fulfill from Stock"),a()()(),M(7,kF,4,0,"div",5)(8,VF,98,19,"div",6),a()),e&2&&(c(7),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.pr))},dependencies:[A,N,z,G,B,pe,fe,H,V,ve,Se,rn,F],styles:[".page-container[_ngcontent-%COMP%]{padding:20px;background:#f8f9fa;min-height:calc(100vh - 60px)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0}.btn-back[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#fff;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:teal;box-shadow:0 2px 4px #0000001a}.btn-back[_ngcontent-%COMP%]:hover{background:teal;color:#fff}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px;color:#666}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:15px;color:teal}.info-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 8px #00000014}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:16px;color:teal;border-bottom:1px solid #eee;padding-bottom:10px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#555;font-weight:500}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:teal;box-shadow:0 0 0 3px #0080801a}.form-control[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.form-control[readonly][_ngcontent-%COMP%]{background:#f0f0f0}select.form-control[_ngcontent-%COMP%]{cursor:pointer}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:60px}.items-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 8px #00000014;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:teal}.section-header[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{font-size:13px;color:#666;background:#f0f0f0;padding:5px 12px;border-radius:20px}.items-table-container[_ngcontent-%COMP%]{overflow-x:auto}.items-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px;text-align:left;border-bottom:1px solid #eee}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#555;font-size:13px;white-space:nowrap}.items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background:#0080800d}.items-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.items-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.items-table[_ngcontent-%COMP%]   .pending-qty[_ngcontent-%COMP%]{color:#e74c3c;font-weight:600}.items-table[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;text-align:right}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:disabled{background:#f5f5f5}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background:#f8f9fa}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 10px;border-top:2px solid #008080}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .total-qty[_ngcontent-%COMP%]{color:teal;font-size:16px}.action-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #00000014}.btn-secondary[_ngcontent-%COMP%]{padding:12px 24px;background:#fff;color:#666;border:1px solid #ddd;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-primary[_ngcontent-%COMP%]{padding:12px 24px;background:teal;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#066}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media(max-width:992px){.info-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function LF(n,t){n&1&&(o(0,"div",7),v(1,"i",8),o(2,"span"),l(3,"Loading PR details..."),a()())}function UF(n,t){if(n&1&&(o(0,"option",21),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne("",e.name," (",e.code,")")}}function BF(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",44),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.selected,r)||(s.selected=r),g(r)}),_("change",function(){let r=m(e).$implicit,s=d(2);return g(s.onItemSelectionChange(r))}),a()(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td",45),l(8),a(),o(9,"td",45),l(10),a(),o(11,"td",46),l(12),a(),o(13,"td",45),l(14),a(),o(15,"td")(16,"input",47),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.fulfillQty,r)||(s.fulfillQty=r),g(r)}),a()()()}if(n&2){let e=t.$implicit;L("selected",e.selected),c(2),C("ngModel",e.selected),c(2),f(e.itemName),c(2),f(e.itemDescription||"-"),c(2),f(e.requestedQty),c(2),f(e.fulfilledQty),c(2),f(e.pendingQty),c(2),f(e.uom),c(2),C("ngModel",e.fulfillQty),u("disabled",!e.selected)("max",e.pendingQty)}}function WF(n,t){n&1&&v(0,"i",48)}function jF(n,t){n&1&&v(0,"i",8)}function qF(n,t){if(n&1){let e=O();o(0,"div",9)(1,"div",10)(2,"div",11)(3,"h3"),l(4,"Purchase Requisition Details"),a(),o(5,"div",12)(6,"div",13)(7,"span",14),l(8,"PR Number:"),a(),o(9,"span",15),l(10),a()(),o(11,"div",13)(12,"span",14),l(13,"PR Date:"),a(),o(14,"span",15),l(15),a()(),o(16,"div",13)(17,"span",14),l(18,"Required Date:"),a(),o(19,"span",15),l(20),a()(),o(21,"div",13)(22,"span",14),l(23,"Department:"),a(),o(24,"span",15),l(25),a()(),o(26,"div",13)(27,"span",14),l(28,"Requested By:"),a(),o(29,"span",15),l(30),a()(),o(31,"div",13)(32,"span",14),l(33,"Delivery Location:"),a(),o(34,"span",15),l(35),a()()()(),o(36,"div",16)(37,"h3"),l(38,"Material Transfer Details"),a(),o(39,"div",17)(40,"div",18)(41,"label"),l(42,"Transfer Number"),a(),o(43,"input",19),x("ngModelChange",function(r){m(e);let s=d();return b(s.transferNumber,r)||(s.transferNumber=r),g(r)}),a()(),o(44,"div",18)(45,"label"),l(46,"Source Project / Location *"),a(),o(47,"select",20),x("ngModelChange",function(r){m(e);let s=d();return b(s.sourceLocationId,r)||(s.sourceLocationId=r),g(r)}),_("change",function(){m(e);let r=d();return g(r.onSourceLocationChange())}),o(48,"option",21),l(49,"Select Source Location"),a(),M(50,UF,2,3,"option",22),a()(),o(51,"div",18)(52,"label"),l(53,"Target Location *"),a(),o(54,"input",23),x("ngModelChange",function(r){m(e);let s=d();return b(s.targetLocation,r)||(s.targetLocation=r),g(r)}),a()(),o(55,"div",24)(56,"label"),l(57,"Remarks"),a(),o(58,"textarea",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.remarks,r)||(s.remarks=r),g(r)}),a()()()()(),o(59,"div",26)(60,"div",27)(61,"h3"),l(62,"Select Items to Transfer"),a(),o(63,"span",28),l(64),a()(),o(65,"div",29)(66,"table",30)(67,"thead")(68,"tr")(69,"th",31)(70,"input",32),_("change",function(r){m(e);let s=d();return g(s.toggleSelectAll(r))}),a()(),o(71,"th"),l(72,"Item Name"),a(),o(73,"th"),l(74,"Description"),a(),o(75,"th",33),l(76,"Requested"),a(),o(77,"th",33),l(78,"Fulfilled"),a(),o(79,"th",33),l(80,"Pending"),a(),o(81,"th",33),l(82,"UOM"),a(),o(83,"th",34),l(84,"Qty to Transfer *"),a()()(),o(85,"tbody"),M(86,BF,17,12,"tr",35),a(),o(87,"tfoot")(88,"tr",36)(89,"td",37)(90,"strong"),l(91,"Total Transfer Quantity:"),a()(),o(92,"td",38)(93,"strong"),l(94),a()()()()()()(),o(95,"div",39)(96,"button",40),_("click",function(){m(e);let r=d();return g(r.cancel())}),l(97,"Cancel"),a(),o(98,"button",41),_("click",function(){m(e);let r=d();return g(r.createTransfer())}),M(99,WF,1,0,"i",42)(100,jF,1,0,"i",43),l(101),a()()()}if(n&2){let e=d();c(10),f(e.pr.prNumber),c(5),f(e.formatDate(e.pr.prDate)),c(5),f(e.formatDate(e.pr.requiredDate)),c(5),f(e.pr.department),c(5),f(e.pr.requestedBy),c(5),f(e.pr.deliveryLocation||"-"),c(8),C("ngModel",e.transferNumber),c(4),C("ngModel",e.sourceLocationId),c(),u("value",0),c(2),u("ngForOf",e.locations),c(4),C("ngModel",e.targetLocation),c(4),C("ngModel",e.remarks),c(6),ne("",e.getSelectedItemsCount()," of ",e.fulfillmentItems.length," items selected"),c(22),u("ngForOf",e.fulfillmentItems),c(8),f(e.getTotalTransferQty()),c(4),u("disabled",!e.isValid()||e.saving),c(),u("ngIf",!e.saving),c(),u("ngIf",e.saving),c(),E(" ",e.saving?"Creating Transfer...":"Create Material Transfer"," ")}}var Uu=class n{constructor(t,e,i,r,s,p){this.route=t;this.router=e;this.prService=i;this.fulfillmentService=r;this.settingsService=s;this.notificationService=p}prId=0;pr=null;locations=[];fulfillmentItems=[];transferNumber="";sourceLocationId=0;sourceLocationName="";targetLocation="";remarks="";loading=!1;saving=!1;ngOnInit(){this.route.queryParams.subscribe(t=>{t.prId?(this.prId=+t.prId,this.loadData()):this.router.navigate(["/app/purchase/requisition"])})}loadData(){this.loading=!0,this.generateTransferNumber(),this.locations=[{id:1,name:"Project Site A",code:"PS-A"},{id:2,name:"Project Site B",code:"PS-B"},{id:3,name:"Central Store",code:"CS"},{id:4,name:"Regional Depot",code:"RD"}],this.prService.getById(this.prId).subscribe({next:t=>{this.pr=t,this.targetLocation=t.deliveryLocation||"",this.initializeFulfillmentItems(),this.loading=!1},error:t=>{console.error("Error loading PR:",t),this.loading=!1,this.router.navigate(["/app/purchase/requisition"])}})}generateTransferNumber(){this.settingsService.generatePrefixId("transfer").subscribe({next:t=>{this.transferNumber=t},error:()=>{this.transferNumber=this.fulfillmentService.generateTransferNumber()}})}initializeFulfillmentItems(){!this.pr||!this.pr.items||(this.fulfillmentItems=this.pr.items.filter(t=>t.quantity-(t.fulfilledQuantity||0)>0).map((t,e)=>({prItemId:t.id||e,itemId:t.itemId,itemCode:t.itemCode,itemName:t.itemName,itemDescription:t.itemDescription,requestedQty:t.quantity,fulfilledQty:t.fulfilledQuantity||0,pendingQty:t.quantity-(t.fulfilledQuantity||0),uom:t.uom,selected:!1,fulfillQty:0})))}onSourceLocationChange(){let t=this.locations.find(e=>e.id===this.sourceLocationId);this.sourceLocationName=t?t.name:""}toggleSelectAll(t){let e=t.target.checked;this.fulfillmentItems.forEach(i=>{i.selected=e,e&&!i.fulfillQty&&(i.fulfillQty=i.pendingQty)})}onItemSelectionChange(t){t.selected&&!t.fulfillQty&&(t.fulfillQty=t.pendingQty)}getTotalTransferQty(){return this.fulfillmentItems.filter(t=>t.selected).reduce((t,e)=>t+(e.fulfillQty||0),0)}getSelectedItemsCount(){return this.fulfillmentItems.filter(t=>t.selected).length}isValid(){if(!this.sourceLocationId||!this.targetLocation)return!1;let t=this.fulfillmentItems.filter(e=>e.selected);return t.length===0?!1:t.every(e=>e.fulfillQty&&e.fulfillQty>0&&e.fulfillQty<=e.pendingQty)}createTransfer(){if(!this.isValid()||!this.pr)return;this.saving=!0;let t={prId:this.prId,prNumber:this.pr.prNumber||"",fulfillmentType:"Material Transfer",referenceNumber:this.transferNumber,fulfillmentDate:new Date().toISOString().split("T")[0],performedBy:"Current User",sourceLocation:this.sourceLocationName,targetLocation:this.targetLocation,remarks:this.remarks,items:this.fulfillmentItems.filter(e=>e.selected)};this.fulfillmentService.createMaterialTransferFulfillment(t).subscribe({next:()=>{this.saving=!1,this.notificationService.success("Material Transfer created successfully"),this.router.navigate(["/app/purchase/requisition"])},error:e=>{console.error("Error creating transfer:",e),this.saving=!1,this.notificationService.warning("Material Transfer saved locally. Backend integration pending."),this.router.navigate(["/app/purchase/requisition"])}})}cancel(){this.router.navigate(["/app/purchase/requisition"])}formatDate(t){return t?new Date(t).toLocaleDateString("en-GB"):""}static \u0275fac=function(e){return new(e||n)(w(Ge),w(ue),w(Jt),w(Dt),w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-material-transfer-fulfillment"]],standalone:!1,decls:9,vars:2,consts:[[1,"page-container"],[1,"page-header"],[1,"header-left"],[1,"btn-back",3,"click"],[1,"fa","fa-arrow-left"],["class","loading-state",4,"ngIf"],["class","content",4,"ngIf"],[1,"loading-state"],[1,"fa","fa-spinner","fa-spin"],[1,"content"],[1,"info-cards"],[1,"info-card","pr-info"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"info-card","transfer-info"],[1,"form-grid"],[1,"form-group"],["type","text","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["required","",1,"form-control",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Destination location","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["rows","2","placeholder","Additional notes...",1,"form-control",3,"ngModelChange","ngModel"],[1,"items-section"],[1,"section-header"],[1,"selected-count"],[1,"items-table-container"],[1,"items-table"],[2,"width","40px"],["type","checkbox",3,"change"],[2,"width","80px"],[2,"width","120px"],[3,"selected",4,"ngFor","ngForOf"],[1,"total-row"],["colspan","7",1,"text-right"],[1,"text-center","total-qty"],[1,"action-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],["class","fa fa-exchange-alt",4,"ngIf"],["class","fa fa-spinner fa-spin",4,"ngIf"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"text-center"],[1,"text-center","pending-qty"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel","disabled","max"],[1,"fa","fa-exchange-alt"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),_("click",function(){return i.cancel()}),v(4,"i",4),a(),o(5,"h1"),l(6,"Material Transfer"),a()()(),M(7,LF,4,0,"div",5)(8,qF,102,20,"div",6),a()),e&2&&(c(7),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.pr))},dependencies:[A,N,z,G,B,pe,fe,H,V,ve,Se,rn,F],styles:[".page-container[_ngcontent-%COMP%]{padding:20px;background:#f8f9fa;min-height:calc(100vh - 60px)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0}.btn-back[_ngcontent-%COMP%]{width:36px;height:36px;border:none;background:#fff;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:teal;box-shadow:0 2px 4px #0000001a}.btn-back[_ngcontent-%COMP%]:hover{background:teal;color:#fff}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px;color:#666}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:15px;color:teal}.info-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 8px #00000014}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:16px;color:teal;border-bottom:1px solid #eee;padding-bottom:10px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#555;font-weight:500}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:teal;box-shadow:0 0 0 3px #0080801a}.form-control[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.form-control[readonly][_ngcontent-%COMP%]{background:#f0f0f0}select.form-control[_ngcontent-%COMP%]{cursor:pointer}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:60px}.items-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 8px #00000014;margin-bottom:20px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;color:teal}.section-header[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{font-size:13px;color:#666;background:#f0f0f0;padding:5px 12px;border-radius:20px}.items-table-container[_ngcontent-%COMP%]{overflow-x:auto}.items-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px;text-align:left;border-bottom:1px solid #eee}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#555;font-size:13px;white-space:nowrap}.items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background:#0080800d}.items-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.items-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.items-table[_ngcontent-%COMP%]   .pending-qty[_ngcontent-%COMP%]{color:#e74c3c;font-weight:600}.items-table[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;text-align:right}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.items-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:disabled{background:#f5f5f5}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background:#f8f9fa}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 10px;border-top:2px solid #008080}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .total-qty[_ngcontent-%COMP%]{color:teal;font-size:16px}.action-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #00000014}.btn-secondary[_ngcontent-%COMP%]{padding:12px 24px;background:#fff;color:#666;border:1px solid #ddd;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-primary[_ngcontent-%COMP%]{padding:12px 24px;background:teal;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#066}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media(max-width:992px){.info-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var hr=class n{constructor(t){this.http=t}baseUrl="/api/purchase/direct";getAll(){return this.http.get(this.baseUrl)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function HF(n,t){n&1&&(o(0,"tr")(1,"td",28),v(2,"i",29),o(3,"p"),l(4,"Loading..."),a()()())}function zF(n,t){n&1&&(o(0,"tr")(1,"td",28),v(2,"i",30),o(3,"p"),l(4,"No entries found"),a()()())}function GF(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td"),l(5),a(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td")(15,"span",31),l(16),a()(),o(17,"td")(18,"div",32)(19,"button",33),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPurchase(r))}),v(20,"i",34),a(),o(21,"button",35),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.deletePurchase(r.id))}),v(22,"i",36),a()()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.poNumber||"Draft"),c(2),f(e.prNumber||"-"),c(2),f(e.poType),c(2),f(e.supplierName),c(2),f(i.formatDate(e.createdDate)),c(2),f(i.formatDate(e.deliveryDate)),c(2),u("ngClass",i.getStatusClass(e.status)),c(),E(" ",e.status," ")}}function $F(n,t){if(n&1&&(o(0,"div",24)(1,"table",25)(2,"thead")(3,"tr")(4,"th"),l(5,"PO Number"),a(),o(6,"th"),l(7,"PR Ref"),a(),o(8,"th"),l(9,"PO Type"),a(),o(10,"th"),l(11,"Supplier"),a(),o(12,"th"),l(13,"Created Date"),a(),o(14,"th"),l(15,"Deliver Date"),a(),o(16,"th"),l(17,"Status"),a(),o(18,"th"),l(19,"Options"),a()()(),o(20,"tbody"),M(21,HF,5,0,"tr",26)(22,zF,5,0,"tr",26)(23,GF,23,8,"tr",27),a()()()),n&2){let e=d();c(21),u("ngIf",e.loading),c(),u("ngIf",!e.loading&&e.filteredPurchases.length===0),c(),u("ngForOf",e.filteredPurchases)}}function QF(n,t){if(n&1&&(o(0,"div",64)(1,"span",54),l(2,"PR Ref:"),a(),o(3,"span",55),l(4),a()()),n&2){let e=d().$implicit;c(4),f(e.prNumber)}}function JF(n,t){if(n&1&&(o(0,"div",53)(1,"span",54),l(2,"Amount:"),a(),o(3,"span",55),l(4),U(5,"number"),a()()),n&2){let e=d().$implicit;c(4),f($(5,1,e.totalAmount,"1.2-2"))}}function KF(n,t){if(n&1){let e=O();o(0,"div",47),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPurchase(r))}),o(1,"div",48)(2,"span",49),l(3),a(),o(4,"span",31),l(5),a()(),o(6,"div",50),l(7),a(),M(8,QF,5,1,"div",51),o(9,"div",52)(10,"div",53)(11,"span",54),l(12,"Created:"),a(),o(13,"span",55),l(14),a()(),o(15,"div",53)(16,"span",54),l(17,"Deliver:"),a(),o(18,"span",55),l(19),a()(),M(20,JF,6,4,"div",56),a(),o(21,"div",57)(22,"div",58)(23,"button",59),_("click",function(r){let s=m(e).$implicit;return d(2).printPO(s),g(r.stopPropagation())}),v(24,"i",60),a(),o(25,"button",61),_("click",function(r){let s=m(e).$implicit;return d(2).openModal(s),g(r.stopPropagation())}),v(26,"i",62),a(),o(27,"button",63),_("click",function(r){let s=m(e).$implicit;return d(2).deletePurchase(s.id),g(r.stopPropagation())}),v(28,"i",36),a()()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.poNumber||"Draft"),c(),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status),c(2),f(e.supplierName),c(),u("ngIf",e.prNumber),c(6),f(i.formatDate(e.createdDate)),c(5),f(i.formatDate(e.deliveryDate)),c(),u("ngIf",e.totalAmount)}}function YF(n,t){n&1&&(o(0,"div",65),v(1,"i",66),o(2,"span"),l(3,"No Draft Orders"),a()())}function ZF(n,t){if(n&1&&(o(0,"div",64)(1,"span",54),l(2,"PR Ref:"),a(),o(3,"span",55),l(4),a()()),n&2){let e=d().$implicit;c(4),f(e.prNumber)}}function XF(n,t){if(n&1&&(o(0,"div",53)(1,"span",54),l(2,"Amount:"),a(),o(3,"span",55),l(4),U(5,"number"),a()()),n&2){let e=d().$implicit;c(4),f($(5,1,e.totalAmount,"1.2-2"))}}function e8(n,t){if(n&1){let e=O();o(0,"div",47),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPurchase(r))}),o(1,"div",48)(2,"span",49),l(3),a(),o(4,"span",31),l(5),a()(),o(6,"div",50),l(7),a(),M(8,ZF,5,1,"div",51),o(9,"div",52)(10,"div",53)(11,"span",54),l(12,"Created:"),a(),o(13,"span",55),l(14),a()(),o(15,"div",53)(16,"span",54),l(17,"Deliver:"),a(),o(18,"span",55),l(19),a()(),M(20,XF,6,4,"div",56),a(),o(21,"div",57)(22,"div",58)(23,"button",59),_("click",function(r){let s=m(e).$implicit;return d(2).printPO(s),g(r.stopPropagation())}),v(24,"i",60),a(),o(25,"button",67),_("click",function(r){let s=m(e).$implicit;return d(2).viewPurchase(s),g(r.stopPropagation())}),v(26,"i",34),a()()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.poNumber),c(),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status),c(2),f(e.supplierName),c(),u("ngIf",e.prNumber),c(6),f(i.formatDate(e.createdDate)),c(5),f(i.formatDate(e.deliveryDate)),c(),u("ngIf",e.totalAmount)}}function t8(n,t){n&1&&(o(0,"div",65),v(1,"i",68),o(2,"span"),l(3,"No Pending Orders"),a()())}function n8(n,t){if(n&1&&(o(0,"div",64)(1,"span",54),l(2,"PR Ref:"),a(),o(3,"span",55),l(4),a()()),n&2){let e=d().$implicit;c(4),f(e.prNumber)}}function i8(n,t){if(n&1&&(o(0,"div",53)(1,"span",54),l(2,"Amount:"),a(),o(3,"span",55),l(4),U(5,"number"),a()()),n&2){let e=d().$implicit;c(4),f($(5,1,e.totalAmount,"1.2-2"))}}function r8(n,t){if(n&1){let e=O();o(0,"div",47),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPurchase(r))}),o(1,"div",48)(2,"span",49),l(3),a(),o(4,"span",31),l(5),a()(),o(6,"div",50),l(7),a(),M(8,n8,5,1,"div",51),o(9,"div",52)(10,"div",53)(11,"span",54),l(12,"Created:"),a(),o(13,"span",55),l(14),a()(),o(15,"div",53)(16,"span",54),l(17,"Deliver:"),a(),o(18,"span",55),l(19),a()(),M(20,i8,6,4,"div",56),a(),o(21,"div",57)(22,"div",58)(23,"button",59),_("click",function(r){let s=m(e).$implicit;return d(2).printPO(s),g(r.stopPropagation())}),v(24,"i",60),a(),o(25,"button",67),_("click",function(r){let s=m(e).$implicit;return d(2).viewPurchase(s),g(r.stopPropagation())}),v(26,"i",34),a()()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.poNumber),c(),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status),c(2),f(e.supplierName),c(),u("ngIf",e.prNumber),c(6),f(i.formatDate(e.createdDate)),c(5),f(i.formatDate(e.deliveryDate)),c(),u("ngIf",e.totalAmount)}}function o8(n,t){n&1&&(o(0,"div",65),v(1,"i",69),o(2,"span"),l(3,"No Completed Orders"),a()())}function a8(n,t){if(n&1&&(o(0,"div",37)(1,"div",38)(2,"div",39)(3,"span",40),l(4,"Draft"),a(),o(5,"span",41),l(6),a()(),o(7,"div",42),M(8,KF,29,8,"div",43)(9,YF,4,0,"div",44),a()(),o(10,"div",45)(11,"div",39)(12,"span",40),l(13,"Pending"),a(),o(14,"span",41),l(15),a()(),o(16,"div",42),M(17,e8,27,8,"div",43)(18,t8,4,0,"div",44),a()(),o(19,"div",46)(20,"div",39)(21,"span",40),l(22,"Completed"),a(),o(23,"span",41),l(24),a()(),o(25,"div",42),M(26,r8,27,8,"div",43)(27,o8,4,0,"div",44),a()()()),n&2){let e=d();c(6),E("",e.draftPurchases.length," Orders"),c(2),u("ngForOf",e.draftPurchases),c(),u("ngIf",e.draftPurchases.length===0),c(6),E("",e.pendingPurchases.length," Orders"),c(2),u("ngForOf",e.pendingPurchases),c(),u("ngIf",e.pendingPurchases.length===0),c(6),E("",e.completedPurchases.length," Orders"),c(2),u("ngForOf",e.completedPurchases),c(),u("ngIf",e.completedPurchases.length===0)}}function s8(n,t){if(n&1&&(o(0,"option",97),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function l8(n,t){if(n&1&&(o(0,"option",109),l(1),a()),n&2){let e=t.$implicit;u("value",e.code),c(),f(e.code)}}function c8(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",98),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.itemName,r)||(s.itemName=r),g(r)}),a()(),o(3,"td")(4,"input",99),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.description,r)||(s.description=r),g(r)}),a()(),o(5,"td",100)(6,"input",101),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.quantity,r)||(s.quantity=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(7,"td",100)(8,"select",102),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.uom,r)||(s.uom=r),g(r)}),o(9,"option",103),l(10,"-"),a(),M(11,l8,2,2,"option",104),a()(),o(12,"td",100)(13,"input",105),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.rate,r)||(s.rate=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(14,"td",100),v(15,"input",106),a(),o(16,"td")(17,"input",107),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.remarks,r)||(s.remarks=r),g(r)}),a()(),o(18,"td")(19,"button",108),_("click",function(){let r=m(e).index,s=d(2);return g(s.removeItem(r))}),v(20,"i",74),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(2),C("ngModel",e.itemName),c(2),C("ngModel",e.description),c(2),C("ngModel",e.quantity),c(2),C("ngModel",e.uom),c(3),u("ngForOf",i.units),c(2),C("ngModel",e.rate),c(2),u("value",e.amount),c(2),C("ngModel",e.remarks),c(2),u("disabled",i.selectedPurchase.items.length<=1)}}function d8(n,t){if(n&1){let e=O();o(0,"div",70),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",71),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",72)(3,"h2"),l(4),a(),o(5,"button",73),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",74),a()(),o(7,"div",75)(8,"div",76)(9,"h3"),l(10,"Purchase Order Details"),a(),o(11,"div",77)(12,"div",78)(13,"label"),l(14,"PO Type"),a(),v(15,"input",79),a(),o(16,"div",80)(17,"label"),l(18,"Supplier *"),a(),o(19,"select",81),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPurchase.supplierId,r)||(s.selectedPurchase.supplierId=r),g(r)}),o(20,"option",82),l(21,"Select Supplier"),a(),M(22,s8,2,2,"option",83),a()(),o(23,"div",78)(24,"label"),l(25,"Delivery Location"),a(),o(26,"input",84),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPurchase.deliveryLocation,r)||(s.selectedPurchase.deliveryLocation=r),g(r)}),a()()(),o(27,"div",85)(28,"div",78)(29,"label"),l(30,"Payment Terms"),a(),o(31,"input",86),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPurchase.paymentTerms,r)||(s.selectedPurchase.paymentTerms=r),g(r)}),a()(),o(32,"div",78)(33,"label"),l(34,"Delivery Date"),a(),o(35,"input",87),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedPurchase.deliveryDate,r)||(s.selectedPurchase.deliveryDate=r),g(r)}),a()()()(),o(36,"div",76)(37,"div",88)(38,"h3"),l(39,"Item List"),a(),o(40,"button",89),_("click",function(){m(e);let r=d();return g(r.addItem())}),v(41,"i",5),l(42," Add Item "),a()(),o(43,"div",90)(44,"table",91)(45,"thead")(46,"tr")(47,"th"),l(48,"Item Name"),a(),o(49,"th"),l(50,"Description"),a(),o(51,"th"),l(52,"Qty"),a(),o(53,"th"),l(54,"UOM"),a(),o(55,"th"),l(56,"Rate"),a(),o(57,"th"),l(58,"Amount"),a(),o(59,"th"),l(60,"Remarks"),a(),v(61,"th"),a()(),o(62,"tbody"),M(63,c8,21,9,"tr",27),a(),o(64,"tfoot")(65,"tr")(66,"td",92)(67,"strong"),l(68,"Total Amount:"),a()(),o(69,"td",93)(70,"strong"),l(71),U(72,"number"),a()()()()()()()(),o(73,"div",94)(74,"button",95),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(75,"Cancel"),a(),o(76,"button",96),_("click",function(){m(e);let r=d();return g(r.savePurchase())}),l(77),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Direct PO":"Create Direct PO"),c(15),C("ngModel",e.selectedPurchase.supplierId),c(),u("ngValue",0),c(2),u("ngForOf",e.suppliers),c(4),C("ngModel",e.selectedPurchase.deliveryLocation),c(5),C("ngModel",e.selectedPurchase.paymentTerms),c(4),C("ngModel",e.selectedPurchase.deliveryDate),c(28),u("ngForOf",e.selectedPurchase.items),c(8),f($(72,11,e.getTotalAmount(),"1.2-2")),c(5),u("disabled",e.selectedPurchase.supplierId===0),c(),E(" ",e.editMode?"Update":"Save"," ")}}var Bu=class n{constructor(t,e,i,r,s){this.directPurchaseService=t;this.supplierService=e;this.unitService=i;this.router=r;this.settingsService=s}purchases=[];suppliers=[];units=[];searchQuery="";showModal=!1;editMode=!1;viewMode="table";selectedPurchase=this.getEmptyPurchase();loading=!1;ngOnInit(){this.loadPurchases(),this.loadSuppliers(),this.loadUnits()}loadPurchases(){this.loading=!0,this.directPurchaseService.getAll().subscribe({next:t=>{this.purchases=t,this.loading=!1},error:t=>{console.error("Error loading direct purchases",t),this.loading=!1}})}loadSuppliers(){this.supplierService.getActive().subscribe({next:t=>this.suppliers=t,error:t=>console.error("Error loading suppliers",t)})}loadUnits(){this.unitService.getActive().subscribe({next:t=>this.units=t,error:t=>console.error("Error loading units",t)})}get filteredPurchases(){if(!this.searchQuery)return this.purchases;let t=this.searchQuery.toLowerCase();return this.purchases.filter(e=>e.poNumber?.toLowerCase().includes(t)||e.supplierName?.toLowerCase().includes(t))}getEmptyPurchase(){return{poType:"Direct Purchase",supplierId:0,supplierName:"",deliveryLocation:"",paymentTerms:"",deliveryDate:"",status:"Draft",items:[]}}getEmptyItem(){return{itemName:"",description:"",quantity:0,uom:"",rate:0,amount:0,remarks:""}}openModal(t){t?(this.editMode=!0,this.selectedPurchase=me(T({},t),{items:[...t.items]})):(this.editMode=!1,this.selectedPurchase=this.getEmptyPurchase(),this.generatePONumber(),this.addItem()),this.showModal=!0}generatePONumber(){this.settingsService.generatePrefixId("po").subscribe({next:t=>{this.selectedPurchase.poNumber=t},error:t=>console.error("Error generating PO number",t)})}closeModal(){this.showModal=!1,this.selectedPurchase=this.getEmptyPurchase()}addItem(){this.selectedPurchase.items.push(this.getEmptyItem())}removeItem(t){this.selectedPurchase.items.length>1&&this.selectedPurchase.items.splice(t,1)}calculateItemAmount(t){t.amount=t.quantity*t.rate}getTotalAmount(){return this.selectedPurchase.items.reduce((t,e)=>t+(e.amount||0),0)}getSupplierName(t){let e=this.suppliers.find(i=>i.id===t);return e?e.name:""}savePurchase(){this.selectedPurchase.totalAmount=this.getTotalAmount(),this.selectedPurchase.supplierName=this.getSupplierName(this.selectedPurchase.supplierId),this.editMode&&this.selectedPurchase.id?this.directPurchaseService.update(this.selectedPurchase.id,this.selectedPurchase).subscribe({next:()=>{this.loadPurchases(),this.closeModal()},error:t=>console.error("Error updating purchase",t)}):this.directPurchaseService.create(this.selectedPurchase).subscribe({next:()=>{this.loadPurchases(),this.closeModal()},error:t=>console.error("Error creating purchase",t)})}deletePurchase(t){confirm("Are you sure you want to delete this purchase order?")&&this.directPurchaseService.delete(t).subscribe({next:()=>this.loadPurchases(),error:e=>console.error("Error deleting purchase",e)})}viewPurchase(t){this.openModal(t)}getStatusClass(t){switch(t){case"Completed":return"badge-success";case"Pending":return"badge-warning";case"Draft":return"badge-secondary";case"Cancelled":return"badge-danger";default:return"badge-info"}}formatDate(t){return t?new Date(t).toLocaleDateString():"-"}toggleViewMode(){this.viewMode=this.viewMode==="kanban"?"table":"kanban"}get draftPurchases(){return this.filteredPurchases.filter(t=>t.status==="Draft"||t.status?.toLowerCase().includes("draft"))}get pendingPurchases(){return this.filteredPurchases.filter(t=>t.status==="Pending"||t.status==="Pending Approval"||t.status?.toLowerCase().includes("pending"))}get completedPurchases(){return this.filteredPurchases.filter(t=>t.status==="Completed"||t.status==="Approved"||t.status?.toLowerCase().includes("complete"))}printPO(t){t.id&&this.router.navigate(["/app/purchase/direct",t.id,"print"])}static \u0275fac=function(e){return new(e||n)(w(hr),w(It),w(bi),w(ue),w(ke))};static \u0275cmp=k({type:n,selectors:[["app-direct-purchase"]],standalone:!1,decls:44,vars:8,consts:[[1,"inventory-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"card-header-row"],[1,"filter-group"],[1,"form-control"],[1,"btn","btn-secondary","btn-sm"],[1,"fas","fa-file-export"],[1,"toolbar-right"],[1,"view-toggle"],["title","Kanban View",1,"toggle-btn",3,"click"],[1,"fas","fa-columns"],["title","Table View",1,"toggle-btn",3,"click"],[1,"fas","fa-table"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search...",3,"ngModelChange","ngModel"],["class","table-container",4,"ngIf"],["class","kanban-board",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"empty-state"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-cart-plus"],[1,"badge",3,"ngClass"],[1,"action-buttons"],["title","View/Edit",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-eye"],["title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"kanban-board"],[1,"kanban-column","draft"],[1,"column-header"],[1,"column-title"],[1,"column-count"],[1,"column-body"],["class","po-card",3,"click",4,"ngFor","ngForOf"],["class","empty-column",4,"ngIf"],[1,"kanban-column","pending"],[1,"kanban-column","completed"],[1,"po-card",3,"click"],[1,"card-header"],[1,"po-number"],[1,"card-supplier"],["class","card-pr-ref",4,"ngIf"],[1,"card-details"],[1,"detail-row"],[1,"label"],[1,"value"],["class","detail-row",4,"ngIf"],[1,"card-footer"],[1,"card-actions"],["title","Print",1,"btn-icon","print",3,"click"],[1,"fas","fa-print"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"card-pr-ref"],[1,"empty-column"],[1,"fas","fa-file-alt"],["title","View",1,"btn-icon",3,"click"],[1,"fas","fa-clock"],[1,"fas","fa-check-circle"],[1,"modal-overlay",3,"click"],[1,"modal","modal-lg",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-section"],[1,"grid-3"],[1,"form-group"],["type","text","value","Direct Purchase","readonly","",1,"form-control"],[1,"form-group","required"],["required","",1,"form-control",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","placeholder","Enter delivery location",1,"form-control",3,"ngModelChange","ngModel"],[1,"grid-2"],["type","text","placeholder","e.g., Net 30",1,"form-control",3,"ngModelChange","ngModel"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"section-header"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"items-table"],[1,"table","table-compact"],["colspan","5",1,"text-right"],["colspan","3"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[3,"ngValue"],["type","text","placeholder","Item name",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","text","placeholder","Description",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"col-sm"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","min","0","step","0.01",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","number","readonly","",1,"form-control","form-control-sm",3,"value"],["type","text","placeholder","Remarks",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"btn","btn-sm","btn-danger",3,"click","disabled"],[3,"value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Direct Purchase"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Purchase Order Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Direct Purchase"),a()()(),o(16,"button",4),_("click",function(){return i.openModal()}),v(17,"i",5),l(18," New "),a()(),o(19,"div",6)(20,"div",7)(21,"div",8)(22,"select",9)(23,"option"),l(24,"25"),a(),o(25,"option"),l(26,"50"),a(),o(27,"option"),l(28,"100"),a()(),o(29,"button",10),v(30,"i",11),l(31," Export "),a()(),o(32,"div",12)(33,"div",13)(34,"button",14),_("click",function(){return i.viewMode="kanban"}),v(35,"i",15),a(),o(36,"button",16),_("click",function(){return i.viewMode="table"}),v(37,"i",17),a()(),o(38,"div",18),v(39,"i",19),o(40,"input",20),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()()()(),M(41,$F,24,3,"div",21)(42,a8,28,9,"div",22),a()(),M(43,d8,78,14,"div",23)),e&2&&(c(34),L("active",i.viewMode==="kanban"),c(2),L("active",i.viewMode==="table"),c(4),C("ngModel",i.searchQuery),c(),u("ngIf",i.viewMode==="table"),c(),u("ngIf",i.viewMode==="kanban"),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,ve,Se,F,Z,he],styles:['.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:16px}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:auto;min-width:80px}.form-section[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e9ecef}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:teal;margin-bottom:16px}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}@media(max-width:768px){.grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr}}.items-table[_ngcontent-%COMP%]{overflow-x:auto}.items-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:0}.items-table[_ngcontent-%COMP%]   .table-compact[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .items-table[_ngcontent-%COMP%]   .table-compact[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;font-size:.875rem}.items-table[_ngcontent-%COMP%]   .col-sm[_ngcontent-%COMP%]{width:80px}.items-table[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{padding:4px 8px;font-size:.875rem}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background:#f8f9fa}.items-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.text-right[_ngcontent-%COMP%]{text-align:right}.modal-lg[_ngcontent-%COMP%]{max-width:900px;width:95%}.required[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:"";color:#dc3545}.toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.view-toggle[_ngcontent-%COMP%]{display:flex;background:#fff;border:1px solid #ddd;border-radius:6px;overflow:hidden}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:#fff;border:none;padding:8px 12px;cursor:pointer;color:#666;transition:all .2s;display:flex;align-items:center;justify-content:center}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:teal}.view-toggle[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:teal;color:#fff}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.kanban-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;align-items:start}.kanban-column[_ngcontent-%COMP%]{background:#e8f4f4;border-radius:8px;overflow:hidden;min-height:400px}.kanban-column.draft[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:#6c757d}.kanban-column.pending[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:#ffc107;color:#212529}.kanban-column.completed[_ngcontent-%COMP%]   .column-header[_ngcontent-%COMP%]{background:#28a745}.column-header[_ngcontent-%COMP%]{padding:16px;color:#fff;display:flex;justify-content:space-between;align-items:center}.column-header[_ngcontent-%COMP%]   .column-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.column-header[_ngcontent-%COMP%]   .column-count[_ngcontent-%COMP%]{font-size:12px;opacity:.9}.column-body[_ngcontent-%COMP%]{padding:12px;max-height:calc(100vh - 350px);overflow-y:auto}.po-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;margin-bottom:12px;cursor:pointer;box-shadow:0 2px 4px #00000014;transition:all .2s}.po-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.po-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.po-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.po-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .po-number[_ngcontent-%COMP%]{font-weight:600;color:teal;font-size:15px}.card-supplier[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500;margin-bottom:12px}.card-pr-ref[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-bottom:8px;padding:4px 8px;background:#e8f5e9;border-radius:4px;display:inline-block}.card-pr-ref[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#388e3c;font-weight:500}.card-pr-ref[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#2e7d32;font-weight:600;margin-left:4px}.card-details[_ngcontent-%COMP%]{margin-bottom:12px}.card-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-bottom:4px}.card-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#666;width:70px}.card-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333}.po-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding-top:12px;border-top:1px solid #eee}.card-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;padding:6px 8px;cursor:pointer;color:#666;border-radius:4px;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:teal}.btn-icon.delete[_ngcontent-%COMP%]:hover{background:#fee;color:#dc3545}.btn-icon.print[_ngcontent-%COMP%]{color:#6f42c1}.btn-icon.print[_ngcontent-%COMP%]:hover{background:#e2d9f3}.btn-icon[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.empty-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:#999}.empty-column[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:12px;opacity:.5}.empty-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}@media(max-width:992px){.kanban-board[_ngcontent-%COMP%]{grid-template-columns:1fr}.kanban-column[_ngcontent-%COMP%]{min-height:auto}.column-body[_ngcontent-%COMP%]{max-height:300px}}']})};function p8(n,t){n&1&&(o(0,"tr")(1,"td",29),v(2,"i",30),o(3,"p"),l(4,"Generate report to view data"),a()()())}function u8(n,t){n&1&&(o(0,"tr")(1,"td",29),v(2,"i",31),o(3,"p"),l(4,"Loading..."),a()()())}function m8(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td"),l(14),U(15,"number"),a(),o(16,"td")(17,"span",32),l(18),a()()()),n&2){let e=t.$implicit,i=d();c(2),f(e.prNumber),c(2),f(e.prDate),c(2),f(e.requiredDate),c(2),f(e.department),c(2),f(e.requestedBy),c(2),f(e.itemCount),c(2),f($(15,9,e.totalAmount,"1.2-2")),c(3),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status)}}var Wu=class n{constructor(t,e){this.prService=t;this.exportService=e}reportData=[];loading=!1;selectedStatus="";fromDate="";toDate="";ngOnInit(){}generateReport(){this.loading=!0,this.prService.getAll().subscribe({next:t=>{this.reportData=t.map(e=>({prNumber:e.prNumber,prDate:e.prDate,requiredDate:e.requiredDate,department:e.department,requestedBy:e.requestedBy,status:e.status,itemCount:e.items?.length||0,totalAmount:e.totalAmount||0})),this.selectedStatus&&(this.reportData=this.reportData.filter(e=>e.status===this.selectedStatus)),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"pr-list-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"pr-list-report","Purchase Requisition List Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"pr-list-report")}getStatusClass(t){switch(t){case"Draft":return"badge-secondary";case"Submitted":return"badge-info";case"Approved":return"badge-success";case"Rejected":return"badge-danger";case"Partially Fulfilled":return"badge-warning";case"Fully Fulfilled":return"badge-primary";default:return"badge-secondary"}}static \u0275fac=function(e){return new(e||n)(w(Jt),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-pr-list-report"]],standalone:!1,decls:82,vars:11,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Draft"],["value","Submitted"],["value","Approved"],["value","Rejected"],["value","Partially Fulfilled"],["value","Fully Fulfilled"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"empty-state"],[1,"fas","fa-file-alt"],[1,"fas","fa-spinner","fa-spin"],[1,"badge",3,"ngClass"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Purchase Requisition List Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"PR List"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Status"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedStatus,s)||(i.selectedStatus=s),s}),o(32,"option",15),l(33,"All Statuses"),a(),o(34,"option",16),l(35,"Draft"),a(),o(36,"option",17),l(37,"Submitted"),a(),o(38,"option",18),l(39,"Approved"),a(),o(40,"option",19),l(41,"Rejected"),a(),o(42,"option",20),l(43,"Partially Fulfilled"),a(),o(44,"option",21),l(45,"Fully Fulfilled"),a()()(),o(46,"div",13)(47,"label"),l(48,"From Date"),a(),o(49,"input",22),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(50,"div",13)(51,"label"),l(52,"To Date"),a(),o(53,"input",22),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(54,"button",23),_("click",function(){return i.generateReport()}),v(55,"i",24),l(56),a()()(),o(57,"div",11)(58,"div",25)(59,"table",26)(60,"thead")(61,"tr")(62,"th"),l(63,"PR Number"),a(),o(64,"th"),l(65,"Date"),a(),o(66,"th"),l(67,"Required Date"),a(),o(68,"th"),l(69,"Department"),a(),o(70,"th"),l(71,"Requested By"),a(),o(72,"th"),l(73,"Items"),a(),o(74,"th"),l(75,"Amount"),a(),o(76,"th"),l(77,"Status"),a()()(),o(78,"tbody"),M(79,p8,5,0,"tr",27)(80,u8,5,0,"tr",27)(81,m8,19,12,"tr",28),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedStatus),c(18),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(23),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[ae,A,N,z,G,B,H,V,F,Z,he],styles:[".page-container[_ngcontent-%COMP%]{padding:24px}"]})};function g8(n,t){n&1&&(o(0,"tr")(1,"td",19),v(2,"i",20),o(3,"p"),l(4,"No pending PR items found"),a()()())}function f8(n,t){n&1&&(o(0,"tr")(1,"td",19),v(2,"i",21),o(3,"p"),l(4,"Loading..."),a()()())}function h8(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td"),l(14),a(),o(15,"td")(16,"strong"),l(17),a()(),o(18,"td"),l(19),a()()),n&2){let e=t.$implicit;c(2),f(e.prNumber),c(2),f(e.prDate),c(2),f(e.itemCode),c(2),f(e.itemName),c(2),f(e.department),c(2),f(e.requestedQty),c(2),f(e.fulfilledQty),c(3),f(e.pendingQty),c(2),f(e.unit)}}var ju=class n{constructor(t,e){this.prService=t;this.exportService=e}reportData=[];loading=!1;ngOnInit(){}generateReport(){this.loading=!0,this.prService.getAll().subscribe({next:t=>{let e=[];t.forEach(i=>{(i.status==="Approved"||i.status==="Partially Fulfilled")&&i.items?.forEach(r=>{let s=(r.quantity||0)-(r.fulfilledQuantity||0);s>0&&e.push({prNumber:i.prNumber,prDate:i.prDate,itemName:r.itemName,itemCode:r.itemCode,requestedQty:r.quantity||0,fulfilledQty:r.fulfilledQuantity||0,pendingQty:s,unit:r.unit||"",department:i.department})})}),this.reportData=e,this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"pr-pending-items-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"pr-pending-items-report","PR Item Pending Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"pr-pending-items-report")}static \u0275fac=function(e){return new(e||n)(w(Jt),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-pr-pending-report"]],standalone:!1,decls:58,vars:8,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-sync"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"empty-state"],[1,"fas","fa-check-circle"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"PR Item Pending Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"PR Pending"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"button",13),_("click",function(){return i.generateReport()}),v(29,"i",14),l(30),a()()(),o(31,"div",11)(32,"div",15)(33,"table",16)(34,"thead")(35,"tr")(36,"th"),l(37,"PR Number"),a(),o(38,"th"),l(39,"PR Date"),a(),o(40,"th"),l(41,"Item Code"),a(),o(42,"th"),l(43,"Item Name"),a(),o(44,"th"),l(45,"Department"),a(),o(46,"th"),l(47,"Requested"),a(),o(48,"th"),l(49,"Fulfilled"),a(),o(50,"th"),l(51,"Pending"),a(),o(52,"th"),l(53,"Unit"),a()()(),o(54,"tbody"),M(55,g8,5,0,"tr",17)(56,f8,5,0,"tr",17)(57,h8,20,9,"tr",18),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(5),u("disabled",i.loading),c(2),E(" ",i.loading?"Loading...":"Refresh"," "),c(25),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[A,N,Z],styles:[".page-container[_ngcontent-%COMP%]{padding:24px}"]})};function _8(n,t){n&1&&(o(0,"tr")(1,"td",26),v(2,"i",27),o(3,"p"),l(4,"Generate report to view data"),a()()())}function v8(n,t){n&1&&(o(0,"tr")(1,"td",26),v(2,"i",28),o(3,"p"),l(4,"Loading..."),a()()())}function y8(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"span",29),l(9),a()(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td"),l(15),a(),o(16,"td"),l(17),U(18,"number"),a()()),n&2){let e=t.$implicit,i=d();c(2),f(e.referenceNumber),c(2),f(e.prNumber),c(2),f(e.fulfillmentDate),c(2),u("ngClass",i.getTypeClass(e.fulfillmentType)),c(),f(e.fulfillmentType),c(2),f(e.performedBy),c(2),f(e.supplierName!=="-"?e.supplierName:e.warehouseName),c(2),f(e.itemCount),c(2),f($(18,9,e.totalAmount,"1.2-2"))}}var qu=class n{constructor(t,e){this.fulfillmentService=t;this.exportService=e}reportData=[];loading=!1;selectedType="";fromDate="";toDate="";ngOnInit(){}generateReport(){this.loading=!0,this.fulfillmentService.getAll().subscribe({next:t=>{this.reportData=t.map(e=>({referenceNumber:e.referenceNumber,prNumber:e.prNumber,fulfillmentDate:e.fulfillmentDate,fulfillmentType:e.fulfillmentType,performedBy:e.performedBy,supplierName:e.supplierName||"-",warehouseName:e.warehouseName||"-",itemCount:e.items?.length||0,totalAmount:e.totalAmount||0})),this.selectedType&&(this.reportData=this.reportData.filter(e=>e.fulfillmentType===this.selectedType)),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"pr-fulfillment-history-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"pr-fulfillment-history-report","PR Fulfillment History Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"pr-fulfillment-history-report")}getTypeClass(t){switch(t){case"Convert to PO":return"badge-primary";case"Stock Issue":return"badge-success";case"Material Transfer":return"badge-info";default:return"badge-secondary"}}static \u0275fac=function(e){return new(e||n)(w(Dt),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-pr-history-report"]],standalone:!1,decls:76,vars:11,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Convert to PO"],["value","Stock Issue"],["value","Material Transfer"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"empty-state"],[1,"fas","fa-history"],[1,"fas","fa-spinner","fa-spin"],[1,"badge",3,"ngClass"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"PR Fulfillment History Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"PR History"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Fulfillment Type"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedType,s)||(i.selectedType=s),s}),o(32,"option",15),l(33,"All Types"),a(),o(34,"option",16),l(35,"Convert to PO"),a(),o(36,"option",17),l(37,"Stock Issue"),a(),o(38,"option",18),l(39,"Material Transfer"),a()()(),o(40,"div",13)(41,"label"),l(42,"From Date"),a(),o(43,"input",19),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(44,"div",13)(45,"label"),l(46,"To Date"),a(),o(47,"input",19),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(48,"button",20),_("click",function(){return i.generateReport()}),v(49,"i",21),l(50),a()()(),o(51,"div",11)(52,"div",22)(53,"table",23)(54,"thead")(55,"tr")(56,"th"),l(57,"Reference #"),a(),o(58,"th"),l(59,"PR Number"),a(),o(60,"th"),l(61,"Date"),a(),o(62,"th"),l(63,"Type"),a(),o(64,"th"),l(65,"Performed By"),a(),o(66,"th"),l(67,"Supplier/Warehouse"),a(),o(68,"th"),l(69,"Items"),a(),o(70,"th"),l(71,"Amount"),a()()(),o(72,"tbody"),M(73,_8,5,0,"tr",24)(74,v8,5,0,"tr",24)(75,y8,19,12,"tr",25),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedType),c(12),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(23),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[ae,A,N,z,G,B,H,V,F,Z,he],styles:[".page-container[_ngcontent-%COMP%]{padding:24px}"]})};function C8(n,t){n&1&&(o(0,"tr")(1,"td",21),v(2,"i",22),o(3,"p"),l(4,"Generate report to view data"),a()()())}function x8(n,t){n&1&&(o(0,"tr")(1,"td",21),v(2,"i",23),o(3,"p"),l(4,"Loading..."),a()()())}function b8(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td"),l(14),U(15,"number"),a(),o(16,"td")(17,"span",24),l(18),a()()()),n&2){let e=t.$implicit;c(2),f(e.poNumber),c(2),f(e.poDate),c(2),f(e.prNumber),c(2),f(e.supplierName),c(2),f(e.expectedDelivery),c(2),f(e.itemCount),c(2),f($(15,8,e.totalAmount,"1.2-2")),c(4),f(e.status)}}var Hu=class n{constructor(t,e){this.fulfillmentService=t;this.exportService=e}reportData=[];loading=!1;fromDate="";toDate="";ngOnInit(){}generateReport(){this.loading=!0,this.fulfillmentService.getAll().subscribe({next:t=>{this.reportData=t.filter(e=>e.fulfillmentType==="Convert to PO"||e.fulfillmentType==="PO").map(e=>({poNumber:e.referenceNumber,poDate:e.fulfillmentDate,prNumber:e.prNumber,supplierName:e.supplierName||"-",expectedDelivery:e.expectedDeliveryDate||"-",itemCount:e.items?.length||0,totalAmount:e.totalAmount||0,status:"Created"})),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"po-list-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"po-list-report","Purchase Order List Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"po-list-report")}static \u0275fac=function(e){return new(e||n)(w(Dt),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-po-list-report"]],standalone:!1,decls:64,vars:10,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"empty-state"],[1,"fas","fa-shopping-cart"],[1,"fas","fa-spinner","fa-spin"],[1,"badge","badge-success"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Purchase Order List Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"PO List"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"From Date"),a(),o(31,"input",14),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(32,"div",13)(33,"label"),l(34,"To Date"),a(),o(35,"input",14),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(36,"button",15),_("click",function(){return i.generateReport()}),v(37,"i",16),l(38),a()()(),o(39,"div",11)(40,"div",17)(41,"table",18)(42,"thead")(43,"tr")(44,"th"),l(45,"PO Number"),a(),o(46,"th"),l(47,"Date"),a(),o(48,"th"),l(49,"PR Number"),a(),o(50,"th"),l(51,"Supplier"),a(),o(52,"th"),l(53,"Expected Delivery"),a(),o(54,"th"),l(55,"Items"),a(),o(56,"th"),l(57,"Amount"),a(),o(58,"th"),l(59,"Status"),a()()(),o(60,"tbody"),M(61,C8,5,0,"tr",19)(62,x8,5,0,"tr",19)(63,b8,19,11,"tr",20),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(23),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[A,N,B,V,F,Z,he],styles:[".page-container[_ngcontent-%COMP%]{padding:24px}"]})};function M8(n,t){n&1&&(o(0,"tr")(1,"td",21),v(2,"i",22),o(3,"p"),l(4,"Generate report to view data"),a()()())}function S8(n,t){n&1&&(o(0,"tr")(1,"td",21),v(2,"i",23),o(3,"p"),l(4,"Loading..."),a()()())}function P8(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),U(13,"number"),a(),o(14,"td"),l(15),U(16,"number"),a(),o(17,"td")(18,"span",24),l(19),a()()()),n&2){let e=t.$implicit;c(2),f(e.dpNumber),c(2),f(e.date),c(2),f(e.supplier),c(2),f(e.item),c(2),f(e.quantity),c(2),f($(13,8,e.rate,"1.2-2")),c(3),f($(16,11,e.amount,"1.2-2")),c(4),f(e.status)}}var zu=class n{constructor(t){this.exportService=t}reportData=[];loading=!1;fromDate="";toDate="";ngOnInit(){}generateReport(){this.loading=!0,setTimeout(()=>{this.reportData=[],this.loading=!1},500)}exportToExcel(){this.exportService.exportToExcel(this.reportData,"direct-purchase-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"direct-purchase-report","Direct Purchase Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"direct-purchase-report")}static \u0275fac=function(e){return new(e||n)(w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-direct-purchase-report"]],standalone:!1,decls:64,vars:10,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","8",1,"empty-state"],[1,"fas","fa-shopping-bag"],[1,"fas","fa-spinner","fa-spin"],[1,"badge","badge-success"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Direct Purchase Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Direct Purchase"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"From Date"),a(),o(31,"input",14),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(32,"div",13)(33,"label"),l(34,"To Date"),a(),o(35,"input",14),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(36,"button",15),_("click",function(){return i.generateReport()}),v(37,"i",16),l(38),a()()(),o(39,"div",11)(40,"div",17)(41,"table",18)(42,"thead")(43,"tr")(44,"th"),l(45,"DP Number"),a(),o(46,"th"),l(47,"Date"),a(),o(48,"th"),l(49,"Supplier"),a(),o(50,"th"),l(51,"Item"),a(),o(52,"th"),l(53,"Quantity"),a(),o(54,"th"),l(55,"Rate"),a(),o(56,"th"),l(57,"Amount"),a(),o(58,"th"),l(59,"Status"),a()()(),o(60,"tbody"),M(61,M8,5,0,"tr",19)(62,S8,5,0,"tr",19)(63,P8,20,14,"tr",20),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(23),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[A,N,B,V,F,Z,he],styles:[".page-container[_ngcontent-%COMP%]{padding:24px}"]})};function E8(n,t){n&1&&(o(0,"tr")(1,"td",25),v(2,"i",26),o(3,"p"),l(4,"Generate report to view data"),a()()())}function w8(n,t){n&1&&(o(0,"tr")(1,"td",25),v(2,"i",27),o(3,"p"),l(4,"Loading..."),a()()())}function O8(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td")(6,"span",28),l(7),a()(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td"),l(15),a(),o(16,"td"),l(17),a(),o(18,"td"),l(19),a()()),n&2){let e=t.$implicit,i=d();c(2),f(e.referenceNumber),c(2),f(e.date),c(2),u("ngClass",i.getTypeClass(e.type)),c(),f(e.type),c(2),f(e.prNumber),c(2),f(e.warehouse),c(2),f(e.sourceLocation),c(2),f(e.targetLocation),c(2),f(e.performedBy),c(2),f(e.itemCount)}}var Gu=class n{constructor(t,e){this.fulfillmentService=t;this.exportService=e}reportData=[];loading=!1;selectedType="";fromDate="";toDate="";ngOnInit(){}generateReport(){this.loading=!0,this.fulfillmentService.getAll().subscribe({next:t=>{this.reportData=t.filter(e=>this.selectedType==="Stock Issue"?e.fulfillmentType==="Stock Issue":this.selectedType==="Material Transfer"?e.fulfillmentType==="Material Transfer":e.fulfillmentType==="Stock Issue"||e.fulfillmentType==="Material Transfer").map(e=>({referenceNumber:e.referenceNumber,date:e.fulfillmentDate,type:e.fulfillmentType,prNumber:e.prNumber,warehouse:e.warehouseName||"-",sourceLocation:e.sourceLocation||"-",targetLocation:e.targetLocation||"-",performedBy:e.performedBy,itemCount:e.items?.length||0})),this.loading=!1},error:t=>{console.error("Error generating report",t),this.loading=!1}})}exportToExcel(){this.exportService.exportToExcel(this.reportData,"stock-issue-transfer-report")}exportToPDF(){this.exportService.exportToPDF(this.reportData,"stock-issue-transfer-report","Stock Issue / Transfer Report")}exportToCSV(){this.exportService.exportToCSV(this.reportData,"stock-issue-transfer-report")}getTypeClass(t){return t==="Stock Issue"?"badge-success":"badge-info"}static \u0275fac=function(e){return new(e||n)(w(Dt),w(Ue))};static \u0275cmp=k({type:n,selectors:[["app-stock-issue-transfer-report"]],standalone:!1,decls:76,vars:11,consts:[[1,"report-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"export-buttons"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-file-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-file-pdf"],[1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-file-csv"],[1,"card"],[1,"filters-row"],[1,"form-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Stock Issue"],["value","Material Transfer"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","filter-btn",3,"click","disabled"],[1,"fas","fa-filter"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9",1,"empty-state"],[1,"fas","fa-exchange-alt"],[1,"fas","fa-spinner","fa-spin"],[1,"badge",3,"ngClass"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Stock Issue / Transfer Report"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"Reports"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Stock Issue/Transfer"),a()()(),o(16,"div",4)(17,"button",5),_("click",function(){return i.exportToExcel()}),v(18,"i",6),l(19," Excel "),a(),o(20,"button",7),_("click",function(){return i.exportToPDF()}),v(21,"i",8),l(22," PDF "),a(),o(23,"button",9),_("click",function(){return i.exportToCSV()}),v(24,"i",10),l(25," CSV "),a()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"label"),l(30,"Type"),a(),o(31,"select",14),x("ngModelChange",function(s){return b(i.selectedType,s)||(i.selectedType=s),s}),o(32,"option",15),l(33,"All Types"),a(),o(34,"option",16),l(35,"Stock Issue"),a(),o(36,"option",17),l(37,"Material Transfer"),a()()(),o(38,"div",13)(39,"label"),l(40,"From Date"),a(),o(41,"input",18),x("ngModelChange",function(s){return b(i.fromDate,s)||(i.fromDate=s),s}),a()(),o(42,"div",13)(43,"label"),l(44,"To Date"),a(),o(45,"input",18),x("ngModelChange",function(s){return b(i.toDate,s)||(i.toDate=s),s}),a()(),o(46,"button",19),_("click",function(){return i.generateReport()}),v(47,"i",20),l(48),a()()(),o(49,"div",11)(50,"div",21)(51,"table",22)(52,"thead")(53,"tr")(54,"th"),l(55,"Reference #"),a(),o(56,"th"),l(57,"Date"),a(),o(58,"th"),l(59,"Type"),a(),o(60,"th"),l(61,"PR Number"),a(),o(62,"th"),l(63,"Warehouse"),a(),o(64,"th"),l(65,"Source"),a(),o(66,"th"),l(67,"Target"),a(),o(68,"th"),l(69,"Performed By"),a(),o(70,"th"),l(71,"Items"),a()()(),o(72,"tbody"),M(73,E8,5,0,"tr",23)(74,w8,5,0,"tr",23)(75,O8,20,10,"tr",24),a()()()()()),e&2&&(c(17),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(3),u("disabled",i.reportData.length===0),c(8),C("ngModel",i.selectedType),c(10),C("ngModel",i.fromDate),c(4),C("ngModel",i.toDate),c(),u("disabled",i.loading),c(2),E(" ",i.loading?"Generating...":"Generate"," "),c(25),u("ngIf",i.reportData.length===0&&!i.loading),c(),u("ngIf",i.loading),c(),u("ngForOf",i.reportData))},dependencies:[ae,A,N,z,G,B,H,V,F,Z],styles:[".page-container[_ngcontent-%COMP%]{padding:24px}"]})};var _r=class n{constructor(t){this.http=t}apiUrl="/api/audit";getAll(t){let e=new wt;return t&&(t.module&&(e=e.set("module",t.module)),t.entityType&&(e=e.set("entityType",t.entityType)),t.action&&(e=e.set("action",t.action)),t.performedBy&&(e=e.set("performedBy",t.performedBy)),t.startDate&&(e=e.set("startDate",t.startDate)),t.endDate&&(e=e.set("endDate",t.endDate)),t.searchTerm&&(e=e.set("search",t.searchTerm))),this.http.get(this.apiUrl,{params:e}).pipe(yn(()=>ye([])))}getByModule(t,e){let i=new wt().set("module",t);return e&&(e.entityType&&(i=i.set("entityType",e.entityType)),e.action&&(i=i.set("action",e.action)),e.performedBy&&(i=i.set("performedBy",e.performedBy)),e.startDate&&(i=i.set("startDate",e.startDate)),e.endDate&&(i=i.set("endDate",e.endDate)),e.searchTerm&&(i=i.set("search",e.searchTerm))),this.http.get(this.apiUrl,{params:i}).pipe(yn(()=>ye([])))}getSystemAudits(t){return this.getByModule("SYSTEM",t)}getInventoryAudits(t){let e=new wt().set("modules","INVENTORY,STOCK_MOVEMENT");return this.http.get(this.apiUrl,{params:e}).pipe(yn(()=>ye([])))}getPurchaseAudits(t){return this.getByModule("PURCHASE",t)}getByEntityId(t,e){return this.http.get(`${this.apiUrl}/entity/${t}/${e}`).pipe(yn(()=>ye([])))}exportToExcel(t){let e=new wt;return t&&(t.module&&(e=e.set("module",t.module)),t.startDate&&(e=e.set("startDate",t.startDate)),t.endDate&&(e=e.set("endDate",t.endDate))),this.http.get(`${this.apiUrl}/export`,{params:e,responseType:"blob"})}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function I8(n,t){if(n&1&&(o(0,"option",20),l(1),a()),n&2){let e=t.$implicit,i=d();u("value",e),c(),f(i.formatAction(e))}}function D8(n,t){n&1&&(o(0,"div",21),v(1,"i",22),l(2," Loading... "),a())}function T8(n,t){if(n&1&&(o(0,"tr")(1,"td",26),l(2),a(),o(3,"td")(4,"span",27),l(5),a()(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td",28),v(11,"i",29),l(12),a(),o(13,"td",30),l(14),a(),o(15,"td"),l(16),a()()),n&2){let e=t.$implicit,i=d(2);c(2),f(i.formatDate(e.timestamp)),c(2),u("ngClass",i.getActionClass(e.action)),c(),E(" ",i.formatAction(e.action)," "),c(2),f(e.entityType),c(2),f(e.entityName||"-"),c(3),E(" ",e.performedBy," "),c(2),f(e.details||"-"),c(2),f(e.ipAddress||"-")}}function k8(n,t){n&1&&(o(0,"tr")(1,"td",31),v(2,"i",32),o(3,"p"),l(4,"No audit records found"),a()()())}function R8(n,t){if(n&1&&(o(0,"table",23)(1,"thead")(2,"tr")(3,"th"),l(4,"Timestamp"),a(),o(5,"th"),l(6,"Action"),a(),o(7,"th"),l(8,"Entity Type"),a(),o(9,"th"),l(10,"Entity Name"),a(),o(11,"th"),l(12,"Performed By"),a(),o(13,"th"),l(14,"Details"),a(),o(15,"th"),l(16,"IP Address"),a()()(),o(17,"tbody"),M(18,T8,17,8,"tr",24)(19,k8,5,0,"tr",25),a()()),n&2){let e=d();c(18),u("ngForOf",e.filteredAudits),c(),u("ngIf",e.filteredAudits.length===0)}}function A8(n,t){if(n&1&&(o(0,"div",33),l(1),a()),n&2){let e=d();c(),ne(" Showing ",e.filteredAudits.length," of ",e.audits.length," records ")}}var $u=class n{constructor(t){this.auditService=t}audits=[];filteredAudits=[];loading=!1;searchTerm="";selectedAction="";startDate="";endDate="";actions=["LOGIN","LOGOUT","PASSWORD_CHANGED","SETTINGS_UPDATED","CREATED","UPDATED","DELETED"];ngOnInit(){this.loadAudits()}loadAudits(){this.loading=!0,this.auditService.getSystemAudits().subscribe({next:t=>{this.audits=t,this.applyFilters(),this.loading=!1},error:()=>{this.audits=[],this.filteredAudits=[],this.loading=!1}})}applyFilters(){this.filteredAudits=this.audits.filter(t=>{let e=!this.searchTerm||t.entityName?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.performedBy?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.details?.toLowerCase().includes(this.searchTerm.toLowerCase()),i=!this.selectedAction||t.action===this.selectedAction,r=this.isWithinDateRange(t.timestamp);return e&&i&&r})}isWithinDateRange(t){if(!this.startDate&&!this.endDate)return!0;let e=new Date(t);return!(this.startDate&&e<new Date(this.startDate)||this.endDate&&e>new Date(this.endDate+"T23:59:59"))}clearFilters(){this.searchTerm="",this.selectedAction="",this.startDate="",this.endDate="",this.applyFilters()}getActionClass(t){switch(t){case"CREATED":case"LOGIN":return"badge-success";case"UPDATED":case"SETTINGS_UPDATED":return"badge-info";case"DELETED":case"LOGOUT":return"badge-warning";case"PASSWORD_CHANGED":return"badge-primary";default:return"badge-secondary"}}formatAction(t){return t.replace(/_/g," ")}formatDate(t){return t?new Date(t).toLocaleString():"-"}exportToExcel(){this.auditService.exportToExcel({module:"SYSTEM"}).subscribe(t=>{let e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.download=`system-audits-${new Date().toISOString().split("T")[0]}.xlsx`,i.click()})}static \u0275fac=function(e){return new(e||n)(w(_r))};static \u0275cmp=k({type:n,selectors:[["app-system-audits"]],standalone:!1,decls:38,vars:8,consts:[[1,"audit-container"],[1,"page-header"],[1,"subtitle"],[1,"filters-section"],[1,"filter-row"],[1,"filter-group"],["type","text","placeholder","Search by user, entity, or details...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"filter-actions"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-excel"],[1,"table-container"],["class","loading-overlay",4,"ngIf"],["class","data-table",4,"ngIf"],["class","results-summary",4,"ngIf"],[3,"value"],[1,"loading-overlay"],[1,"fas","fa-spinner","fa-spin"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"timestamp-cell"],[1,"badge",3,"ngClass"],[1,"user-cell"],[1,"fas","fa-user"],[1,"details-cell"],["colspan","7",1,"empty-state"],[1,"fas","fa-history"],[1,"results-summary"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"System Audits"),a(),o(4,"p",2),l(5,"Track system-level activities including logins, settings changes, and user management"),a()(),o(6,"div",3)(7,"div",4)(8,"div",5)(9,"label"),l(10,"Search"),a(),o(11,"input",6),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),_("input",function(){return i.applyFilters()}),a()(),o(12,"div",5)(13,"label"),l(14,"Action Type"),a(),o(15,"select",7),x("ngModelChange",function(s){return b(i.selectedAction,s)||(i.selectedAction=s),s}),_("change",function(){return i.applyFilters()}),o(16,"option",8),l(17,"All Actions"),a(),M(18,I8,2,2,"option",9),a()(),o(19,"div",5)(20,"label"),l(21,"Start Date"),a(),o(22,"input",10),x("ngModelChange",function(s){return b(i.startDate,s)||(i.startDate=s),s}),_("change",function(){return i.applyFilters()}),a()(),o(23,"div",5)(24,"label"),l(25,"End Date"),a(),o(26,"input",10),x("ngModelChange",function(s){return b(i.endDate,s)||(i.endDate=s),s}),_("change",function(){return i.applyFilters()}),a()(),o(27,"div",11)(28,"button",12),_("click",function(){return i.clearFilters()}),v(29,"i",13),l(30," Clear "),a(),o(31,"button",14),_("click",function(){return i.exportToExcel()}),v(32,"i",15),l(33," Export "),a()()()(),o(34,"div",16),M(35,D8,3,0,"div",17)(36,R8,20,2,"table",18),a(),M(37,A8,2,2,"div",19),a()),e&2&&(c(11),C("ngModel",i.searchTerm),c(4),C("ngModel",i.selectedAction),c(3),u("ngForOf",i.actions),c(4),C("ngModel",i.startDate),c(4),C("ngModel",i.endDate),c(9),u("ngIf",i.loading),c(),u("ngIf",!i.loading),c(),u("ngIf",!i.loading))},dependencies:[ae,A,N,z,G,B,H,V,F],styles:[".audit-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0 0 8px;font-size:1.75rem;font-weight:600}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.95rem}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 4px #00000014}.filter-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;min-width:180px;flex:1}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:#555}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:.9rem;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:teal;box-shadow:0 0 0 3px #0080801a}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#e8e8e8}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #00000014;overflow:hidden;position:relative}.loading-overlay[_ngcontent-%COMP%]{padding:60px;text-align:center;color:teal;font-size:1.1rem}.loading-overlay[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.timestamp-cell[_ngcontent-%COMP%]{font-size:.85rem;color:#666;white-space:nowrap}.user-cell[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal;margin-right:6px}.details-cell[_ngcontent-%COMP%]{max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#666;font-size:.9rem}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.3px}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.badge.badge-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.badge.badge-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.badge.badge-primary[_ngcontent-%COMP%]{background:#e0f2f2;color:teal}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px!important;color:#999}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;display:block}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.results-summary[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;background:#f8f9fa;border-radius:6px;font-size:.9rem;color:#666}"]})};function N8(n,t){if(n&1&&(o(0,"option",20),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function F8(n,t){if(n&1&&(o(0,"option",20),l(1),a()),n&2){let e=t.$implicit,i=d();u("value",e),c(),f(i.formatAction(e))}}function V8(n,t){n&1&&(o(0,"div",21),v(1,"i",22),l(2," Loading... "),a())}function L8(n,t){if(n&1&&(o(0,"span",35)(1,"span",36),l(2),a(),v(3,"i",37),o(4,"span",38),l(5),a()()),n&2){let e=d().$implicit;c(2),f(e.previousValue),c(3),f(e.newValue)}}function U8(n,t){n&1&&(o(0,"span"),l(1,"-"),a())}function B8(n,t){if(n&1&&(o(0,"tr")(1,"td",26),l(2),a(),o(3,"td")(4,"span",27),l(5),a()(),o(6,"td")(7,"span",28),v(8,"i",29),l(9),a()(),o(10,"td"),l(11),a(),o(12,"td",30),M(13,L8,6,2,"span",31)(14,U8,2,0,"span",25),a(),o(15,"td",32),v(16,"i",33),l(17),a(),o(18,"td",34),l(19),a()()),n&2){let e=t.$implicit,i=d(2);c(2),f(i.formatDate(e.timestamp)),c(2),u("ngClass",i.getActionClass(e.action)),c(),E(" ",i.formatAction(e.action)," "),c(4),E(" ",e.entityType," "),c(2),f(e.entityName||"-"),c(2),u("ngIf",e.previousValue&&e.newValue),c(),u("ngIf",!e.previousValue||!e.newValue),c(3),E(" ",e.performedBy," "),c(2),f(e.details||"-")}}function W8(n,t){n&1&&(o(0,"tr")(1,"td",39),v(2,"i",40),o(3,"p"),l(4,"No inventory audit records found"),a()()())}function j8(n,t){if(n&1&&(o(0,"table",23)(1,"thead")(2,"tr")(3,"th"),l(4,"Timestamp"),a(),o(5,"th"),l(6,"Action"),a(),o(7,"th"),l(8,"Entity Type"),a(),o(9,"th"),l(10,"Entity Name"),a(),o(11,"th"),l(12,"Changes"),a(),o(13,"th"),l(14,"Performed By"),a(),o(15,"th"),l(16,"Details"),a()()(),o(17,"tbody"),M(18,B8,20,9,"tr",24)(19,W8,5,0,"tr",25),a()()),n&2){let e=d();c(18),u("ngForOf",e.filteredAudits),c(),u("ngIf",e.filteredAudits.length===0)}}function q8(n,t){if(n&1&&(o(0,"div",41),l(1),a()),n&2){let e=d();c(),ne(" Showing ",e.filteredAudits.length," of ",e.audits.length," records ")}}var Qu=class n{constructor(t){this.auditService=t}audits=[];filteredAudits=[];loading=!1;searchTerm="";selectedAction="";selectedEntityType="";startDate="";endDate="";actions=["CREATED","UPDATED","DELETED","QUANTITY_MODIFIED","ITEM_ADDED","ITEM_REMOVED","STOCK_ISSUED","STOCK_TRANSFERRED"];entityTypes=["Item","Group","Warehouse","Bin","Supplier","Unit","GRN","Stock Issue","Stock Transfer","Stock Adjustment"];ngOnInit(){this.loadAudits()}loadAudits(){this.loading=!0,this.auditService.getInventoryAudits().subscribe({next:t=>{this.audits=t,this.applyFilters(),this.loading=!1},error:()=>{this.audits=[],this.filteredAudits=[],this.loading=!1}})}applyFilters(){this.filteredAudits=this.audits.filter(t=>{let e=!this.searchTerm||t.entityName?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.performedBy?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.details?.toLowerCase().includes(this.searchTerm.toLowerCase()),i=!this.selectedAction||t.action===this.selectedAction,r=!this.selectedEntityType||t.entityType===this.selectedEntityType,s=this.isWithinDateRange(t.timestamp);return e&&i&&r&&s})}isWithinDateRange(t){if(!this.startDate&&!this.endDate)return!0;let e=new Date(t);return!(this.startDate&&e<new Date(this.startDate)||this.endDate&&e>new Date(this.endDate+"T23:59:59"))}clearFilters(){this.searchTerm="",this.selectedAction="",this.selectedEntityType="",this.startDate="",this.endDate="",this.applyFilters()}getActionClass(t){switch(t){case"CREATED":case"ITEM_ADDED":return"badge-success";case"UPDATED":case"QUANTITY_MODIFIED":return"badge-info";case"DELETED":case"ITEM_REMOVED":return"badge-danger";case"STOCK_ISSUED":return"badge-warning";case"STOCK_TRANSFERRED":return"badge-primary";default:return"badge-secondary"}}formatAction(t){return t.replace(/_/g," ")}formatDate(t){return t?new Date(t).toLocaleString():"-"}getChangeIndicator(t){return t.previousValue&&t.newValue?`${t.previousValue} \u2192 ${t.newValue}`:"-"}exportToExcel(){this.auditService.exportToExcel({module:"INVENTORY"}).subscribe(t=>{let e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.download=`inventory-audits-${new Date().toISOString().split("T")[0]}.xlsx`,i.click()})}static \u0275fac=function(e){return new(e||n)(w(_r))};static \u0275cmp=k({type:n,selectors:[["app-inventory-audits"]],standalone:!1,decls:45,vars:10,consts:[[1,"audit-container"],[1,"page-header"],[1,"subtitle"],[1,"filters-section"],[1,"filter-row"],[1,"filter-group"],["type","text","placeholder","Search by item, user, or details...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"filter-actions"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-excel"],[1,"table-container"],["class","loading-overlay",4,"ngIf"],["class","data-table",4,"ngIf"],["class","results-summary",4,"ngIf"],[3,"value"],[1,"loading-overlay"],[1,"fas","fa-spinner","fa-spin"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"timestamp-cell"],[1,"badge",3,"ngClass"],[1,"entity-type"],[1,"fas","fa-box"],[1,"changes-cell"],["class","change-indicator",4,"ngIf"],[1,"user-cell"],[1,"fas","fa-user"],[1,"details-cell"],[1,"change-indicator"],[1,"old-value"],[1,"fas","fa-arrow-right"],[1,"new-value"],["colspan","7",1,"empty-state"],[1,"fas","fa-boxes"],[1,"results-summary"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Inventory Audits"),a(),o(4,"p",2),l(5,"Track all inventory-related changes including items, stock movements, and warehouse operations"),a()(),o(6,"div",3)(7,"div",4)(8,"div",5)(9,"label"),l(10,"Search"),a(),o(11,"input",6),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),_("input",function(){return i.applyFilters()}),a()(),o(12,"div",5)(13,"label"),l(14,"Entity Type"),a(),o(15,"select",7),x("ngModelChange",function(s){return b(i.selectedEntityType,s)||(i.selectedEntityType=s),s}),_("change",function(){return i.applyFilters()}),o(16,"option",8),l(17,"All Types"),a(),M(18,N8,2,2,"option",9),a()(),o(19,"div",5)(20,"label"),l(21,"Action"),a(),o(22,"select",7),x("ngModelChange",function(s){return b(i.selectedAction,s)||(i.selectedAction=s),s}),_("change",function(){return i.applyFilters()}),o(23,"option",8),l(24,"All Actions"),a(),M(25,F8,2,2,"option",9),a()(),o(26,"div",5)(27,"label"),l(28,"Start Date"),a(),o(29,"input",10),x("ngModelChange",function(s){return b(i.startDate,s)||(i.startDate=s),s}),_("change",function(){return i.applyFilters()}),a()(),o(30,"div",5)(31,"label"),l(32,"End Date"),a(),o(33,"input",10),x("ngModelChange",function(s){return b(i.endDate,s)||(i.endDate=s),s}),_("change",function(){return i.applyFilters()}),a()(),o(34,"div",11)(35,"button",12),_("click",function(){return i.clearFilters()}),v(36,"i",13),l(37," Clear "),a(),o(38,"button",14),_("click",function(){return i.exportToExcel()}),v(39,"i",15),l(40," Export "),a()()()(),o(41,"div",16),M(42,V8,3,0,"div",17)(43,j8,20,2,"table",18),a(),M(44,q8,2,2,"div",19),a()),e&2&&(c(11),C("ngModel",i.searchTerm),c(4),C("ngModel",i.selectedEntityType),c(3),u("ngForOf",i.entityTypes),c(4),C("ngModel",i.selectedAction),c(3),u("ngForOf",i.actions),c(4),C("ngModel",i.startDate),c(4),C("ngModel",i.endDate),c(9),u("ngIf",i.loading),c(),u("ngIf",!i.loading),c(),u("ngIf",!i.loading))},dependencies:[ae,A,N,z,G,B,H,V,F],styles:[".audit-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0 0 8px;font-size:1.75rem;font-weight:600}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.95rem}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 4px #00000014}.filter-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;min-width:160px;flex:1}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:#555}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:.9rem;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:teal;box-shadow:0 0 0 3px #0080801a}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#e8e8e8}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #00000014;overflow:hidden;position:relative}.loading-overlay[_ngcontent-%COMP%]{padding:60px;text-align:center;color:teal;font-size:1.1rem}.loading-overlay[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.timestamp-cell[_ngcontent-%COMP%]{font-size:.85rem;color:#666;white-space:nowrap}.user-cell[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .entity-type[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal;margin-right:6px}.changes-cell[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.9rem}.changes-cell[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]   .old-value[_ngcontent-%COMP%]{color:#dc3545;text-decoration:line-through}.changes-cell[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#999;font-size:.75rem}.changes-cell[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]   .new-value[_ngcontent-%COMP%]{color:#28a745;font-weight:500}.details-cell[_ngcontent-%COMP%]{max-width:250px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#666;font-size:.9rem}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.3px}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.badge.badge-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.badge.badge-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.badge.badge-primary[_ngcontent-%COMP%]{background:#e0f2f2;color:teal}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px!important;color:#999}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;display:block}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.results-summary[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;background:#f8f9fa;border-radius:6px;font-size:.9rem;color:#666}"]})};function H8(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function z8(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit,i=d();u("value",e),c(),f(i.formatAction(e))}}function G8(n,t){n&1&&(o(0,"div",32),v(1,"i",33),l(2," Loading... "),a())}function $8(n,t){if(n&1&&(o(0,"span",48)(1,"span",49),l(2),a(),v(3,"i",12),o(4,"span",50),l(5),a()()),n&2){let e=d().$implicit;c(2),f(e.previousValue),c(3),f(e.newValue)}}function Q8(n,t){n&1&&(o(0,"span"),l(1,"-"),a())}function J8(n,t){if(n&1&&(o(0,"tr")(1,"td",37),l(2),a(),o(3,"td")(4,"span",38),v(5,"i",39),l(6),a()(),o(7,"td")(8,"span",40),v(9,"i",41),l(10),a()(),o(11,"td",42),l(12),a(),o(13,"td",43),M(14,$8,6,2,"span",44)(15,Q8,2,0,"span",36),a(),o(16,"td",45),v(17,"i",46),l(18),a(),o(19,"td",47),l(20),a()()),n&2){let e=t.$implicit,i=d(2);c(2),f(i.formatDate(e.timestamp)),c(2),u("ngClass",i.getActionClass(e.action)),c(),u("ngClass",i.getWorkflowIcon(e.action)),c(),E(" ",i.formatAction(e.action)," "),c(4),E(" ",e.entityType," "),c(2),f(e.entityName||"-"),c(2),u("ngIf",e.previousValue&&e.newValue),c(),u("ngIf",!e.previousValue||!e.newValue),c(3),E(" ",e.performedBy," "),c(2),f(e.details||"-")}}function K8(n,t){n&1&&(o(0,"tr")(1,"td",51),v(2,"i",52),o(3,"p"),l(4,"No purchase audit records found"),a()()())}function Y8(n,t){if(n&1&&(o(0,"table",34)(1,"thead")(2,"tr")(3,"th"),l(4,"Timestamp"),a(),o(5,"th"),l(6,"Action"),a(),o(7,"th"),l(8,"Document Type"),a(),o(9,"th"),l(10,"Document No."),a(),o(11,"th"),l(12,"Changes"),a(),o(13,"th"),l(14,"Performed By"),a(),o(15,"th"),l(16,"Details"),a()()(),o(17,"tbody"),M(18,J8,21,10,"tr",35)(19,K8,5,0,"tr",36),a()()),n&2){let e=d();c(18),u("ngForOf",e.filteredAudits),c(),u("ngIf",e.filteredAudits.length===0)}}function Z8(n,t){if(n&1&&(o(0,"div",53),l(1),a()),n&2){let e=d();c(),ne(" Showing ",e.filteredAudits.length," of ",e.audits.length," records ")}}var Ju=class n{constructor(t){this.auditService=t}audits=[];filteredAudits=[];loading=!1;searchTerm="";selectedAction="";selectedEntityType="";startDate="";endDate="";actions=["CREATED","UPDATED","DELETED","SUBMITTED","APPROVED","REJECTED","CONVERTED_TO_PO","STOCK_ISSUED","STOCK_TRANSFERRED","QUANTITY_MODIFIED","ITEM_ADDED","ITEM_REMOVED","STATUS_CHANGED"];entityTypes=["Purchase Requisition","Purchase Order","Direct Purchase","PR Fulfillment"];ngOnInit(){this.loadAudits()}loadAudits(){this.loading=!0,this.auditService.getPurchaseAudits().subscribe({next:t=>{this.audits=t,this.applyFilters(),this.loading=!1},error:()=>{this.audits=[],this.filteredAudits=[],this.loading=!1}})}applyFilters(){this.filteredAudits=this.audits.filter(t=>{let e=!this.searchTerm||t.entityName?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.performedBy?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.details?.toLowerCase().includes(this.searchTerm.toLowerCase()),i=!this.selectedAction||t.action===this.selectedAction,r=!this.selectedEntityType||t.entityType===this.selectedEntityType,s=this.isWithinDateRange(t.timestamp);return e&&i&&r&&s})}isWithinDateRange(t){if(!this.startDate&&!this.endDate)return!0;let e=new Date(t);return!(this.startDate&&e<new Date(this.startDate)||this.endDate&&e>new Date(this.endDate+"T23:59:59"))}clearFilters(){this.searchTerm="",this.selectedAction="",this.selectedEntityType="",this.startDate="",this.endDate="",this.applyFilters()}getActionClass(t){switch(t){case"CREATED":case"APPROVED":return"badge-success";case"UPDATED":case"QUANTITY_MODIFIED":case"STATUS_CHANGED":return"badge-info";case"DELETED":case"REJECTED":return"badge-danger";case"SUBMITTED":return"badge-warning";case"CONVERTED_TO_PO":return"badge-primary";case"STOCK_ISSUED":case"STOCK_TRANSFERRED":return"badge-teal";default:return"badge-secondary"}}formatAction(t){return t.replace(/_/g," ")}formatDate(t){return t?new Date(t).toLocaleString():"-"}getWorkflowIcon(t){switch(t){case"CREATED":return"fa-plus-circle";case"SUBMITTED":return"fa-paper-plane";case"APPROVED":return"fa-check-circle";case"REJECTED":return"fa-times-circle";case"CONVERTED_TO_PO":return"fa-exchange-alt";case"STOCK_ISSUED":return"fa-arrow-right";case"STOCK_TRANSFERRED":return"fa-truck";case"QUANTITY_MODIFIED":return"fa-edit";default:return"fa-history"}}exportToExcel(){this.auditService.exportToExcel({module:"PURCHASE"}).subscribe(t=>{let e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.download=`purchase-audits-${new Date().toISOString().split("T")[0]}.xlsx`,i.click()})}static \u0275fac=function(e){return new(e||n)(w(_r))};static \u0275cmp=k({type:n,selectors:[["app-purchase-audits"]],standalone:!1,decls:70,vars:10,consts:[[1,"audit-container"],[1,"page-header"],[1,"subtitle"],[1,"audit-legend"],[1,"legend-title"],[1,"legend-items"],[1,"legend-item"],[1,"fas","fa-plus-circle"],[1,"fas","fa-paper-plane"],[1,"fas","fa-check-circle"],[1,"fas","fa-times-circle"],[1,"fas","fa-exchange-alt"],[1,"fas","fa-arrow-right"],[1,"fas","fa-truck"],[1,"filters-section"],[1,"filter-row"],[1,"filter-group"],["type","text","placeholder","Search by PR/PO number, user...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"filter-actions"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-file-excel"],[1,"table-container"],["class","loading-overlay",4,"ngIf"],["class","data-table",4,"ngIf"],["class","results-summary",4,"ngIf"],[3,"value"],[1,"loading-overlay"],[1,"fas","fa-spinner","fa-spin"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"timestamp-cell"],[1,"action-badge",3,"ngClass"],[1,"fas",3,"ngClass"],[1,"entity-type"],[1,"fas","fa-file-alt"],[1,"doc-number"],[1,"changes-cell"],["class","change-indicator",4,"ngIf"],[1,"user-cell"],[1,"fas","fa-user"],[1,"details-cell"],[1,"change-indicator"],[1,"old-value"],[1,"new-value"],["colspan","7",1,"empty-state"],[1,"fas","fa-clipboard-list"],[1,"results-summary"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Purchase Audits"),a(),o(4,"p",2),l(5,"Complete audit trail for purchase requisitions, orders, and fulfillment workflows"),a()(),o(6,"div",3)(7,"div",4),l(8,"Workflow Tracking:"),a(),o(9,"div",5)(10,"span",6),v(11,"i",7),l(12," Created"),a(),o(13,"span",6),v(14,"i",8),l(15," Submitted"),a(),o(16,"span",6),v(17,"i",9),l(18," Approved"),a(),o(19,"span",6),v(20,"i",10),l(21," Rejected"),a(),o(22,"span",6),v(23,"i",11),l(24," Converted to PO"),a(),o(25,"span",6),v(26,"i",12),l(27," Stock Issued"),a(),o(28,"span",6),v(29,"i",13),l(30," Transferred"),a()()(),o(31,"div",14)(32,"div",15)(33,"div",16)(34,"label"),l(35,"Search"),a(),o(36,"input",17),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),_("input",function(){return i.applyFilters()}),a()(),o(37,"div",16)(38,"label"),l(39,"Document Type"),a(),o(40,"select",18),x("ngModelChange",function(s){return b(i.selectedEntityType,s)||(i.selectedEntityType=s),s}),_("change",function(){return i.applyFilters()}),o(41,"option",19),l(42,"All Types"),a(),M(43,H8,2,2,"option",20),a()(),o(44,"div",16)(45,"label"),l(46,"Action"),a(),o(47,"select",18),x("ngModelChange",function(s){return b(i.selectedAction,s)||(i.selectedAction=s),s}),_("change",function(){return i.applyFilters()}),o(48,"option",19),l(49,"All Actions"),a(),M(50,z8,2,2,"option",20),a()(),o(51,"div",16)(52,"label"),l(53,"Start Date"),a(),o(54,"input",21),x("ngModelChange",function(s){return b(i.startDate,s)||(i.startDate=s),s}),_("change",function(){return i.applyFilters()}),a()(),o(55,"div",16)(56,"label"),l(57,"End Date"),a(),o(58,"input",21),x("ngModelChange",function(s){return b(i.endDate,s)||(i.endDate=s),s}),_("change",function(){return i.applyFilters()}),a()(),o(59,"div",22)(60,"button",23),_("click",function(){return i.clearFilters()}),v(61,"i",24),l(62," Clear "),a(),o(63,"button",25),_("click",function(){return i.exportToExcel()}),v(64,"i",26),l(65," Export "),a()()()(),o(66,"div",27),M(67,G8,3,0,"div",28)(68,Y8,20,2,"table",29),a(),M(69,Z8,2,2,"div",30),a()),e&2&&(c(36),C("ngModel",i.searchTerm),c(4),C("ngModel",i.selectedEntityType),c(3),u("ngForOf",i.entityTypes),c(4),C("ngModel",i.selectedAction),c(3),u("ngForOf",i.actions),c(4),C("ngModel",i.startDate),c(4),C("ngModel",i.endDate),c(9),u("ngIf",i.loading),c(),u("ngIf",!i.loading),c(),u("ngIf",!i.loading))},dependencies:[ae,A,N,z,G,B,H,V,F],styles:[".audit-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0 0 8px;font-size:1.75rem;font-weight:600}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.95rem}.audit-legend[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e0f2f2,#f8f9fa);border:1px solid #b8d4d4;border-radius:8px;padding:16px 20px;margin-bottom:20px;display:flex;align-items:center;gap:20px;flex-wrap:wrap}.audit-legend[_ngcontent-%COMP%]   .legend-title[_ngcontent-%COMP%]{font-weight:600;color:teal;font-size:.9rem}.audit-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap}.audit-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.85rem;color:#555}.audit-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 4px #00000014}.filter-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;min-width:160px;flex:1}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500;color:#555}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:.9rem;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:teal;box-shadow:0 0 0 3px #0080801a}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:6px;font-size:.9rem;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:all .2s}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#f5f5f5;color:#333}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#e8e8e8}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #00000014;overflow:hidden;position:relative}.loading-overlay[_ngcontent-%COMP%]{padding:60px;text-align:center;color:teal;font-size:1.1rem}.loading-overlay[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.timestamp-cell[_ngcontent-%COMP%]{font-size:.85rem;color:#666;white-space:nowrap}.user-cell[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .entity-type[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal;margin-right:6px}.doc-number[_ngcontent-%COMP%]{font-weight:600;color:teal}.action-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:16px;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;gap:6px}.action-badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.action-badge.badge-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.action-badge.badge-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.action-badge.badge-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.action-badge.badge-primary[_ngcontent-%COMP%]{background:#e0f2f2;color:teal}.action-badge.badge-teal[_ngcontent-%COMP%]{background:teal;color:#fff}.action-badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.changes-cell[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.9rem}.changes-cell[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]   .old-value[_ngcontent-%COMP%]{color:#dc3545;text-decoration:line-through}.changes-cell[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#999;font-size:.75rem}.changes-cell[_ngcontent-%COMP%]   .change-indicator[_ngcontent-%COMP%]   .new-value[_ngcontent-%COMP%]{color:#28a745;font-weight:500}.details-cell[_ngcontent-%COMP%]{max-width:250px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#666;font-size:.9rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px!important;color:#999}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;display:block}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.results-summary[_ngcontent-%COMP%]{margin-top:16px;padding:12px 16px;background:#f8f9fa;border-radius:6px;font-size:.9rem;color:#666}"]})};function X8(n,t){if(n&1&&(o(0,"div",45)(1,"label"),l(2,"Purpose:"),a(),o(3,"p",46),l(4),a()()),n&2){let e=d(2);c(4),f(e.pr.purpose)}}function eV(n,t){if(n&1&&(o(0,"tr")(1,"td",34),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td",34),l(8),a(),o(9,"td",34),l(10),a(),o(11,"td",34),l(12),a(),o(13,"td",34),l(14),a(),o(15,"td",34)(16,"span",47),l(17),a()()()),n&2){let e=t.$implicit,i=t.index,r=d(2);c(2),f(i+1),c(2),f(e.itemName),c(2),f(e.itemDescription),c(2),f(e.quantity),c(2),f(e.fulfilledQuantity||0),c(2),f(r.getPendingQty(e)),c(2),f(e.uom),c(2),bt((e.status||"Pending").toLowerCase().replace(" ","-")),c(),E(" ",e.status||"Pending"," ")}}function tV(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td",34),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a()()),n&2){let e=t.$implicit;c(2),f(e.date),c(2),f(e.action),c(2),f(e.itemName),c(2),f(e.quantity),c(2),f(e.performedBy),c(2),f(e.reference)}}function nV(n,t){if(n&1&&(o(0,"div",48)(1,"h3",23),l(2,"Fulfillment History"),a(),o(3,"table",49)(4,"thead")(5,"tr")(6,"th"),l(7,"Date"),a(),o(8,"th"),l(9,"Action"),a(),o(10,"th"),l(11,"Item"),a(),o(12,"th"),l(13,"Quantity"),a(),o(14,"th"),l(15,"Performed By"),a(),o(16,"th"),l(17,"Reference"),a()()(),o(18,"tbody"),M(19,tV,13,6,"tr",31),a()()()),n&2){let e=d(2);c(19),u("ngForOf",e.fulfillmentHistory)}}function iV(n,t){if(n&1&&(o(0,"div",50)(1,"h3",23),l(2,"Remarks"),a(),o(3,"p",51),l(4),a()()),n&2){let e=d(2);c(4),f(e.pr.remarks)}}function rV(n,t){if(n&1&&(o(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"h1",11),l(5),a(),o(6,"p",12),l(7),a()(),o(8,"div",13)(9,"h2"),l(10,"PURCHASE REQUISITION"),a(),o(11,"span",14),l(12,"INTERNAL DOCUMENT"),a()()(),o(13,"div",15)(14,"div",16)(15,"div",17)(16,"label"),l(17,"PR Number:"),a(),o(18,"span",18),l(19),a()(),o(20,"div",17)(21,"label"),l(22,"PR Date:"),a(),o(23,"span",18),l(24),a()(),o(25,"div",17)(26,"label"),l(27,"Department:"),a(),o(28,"span",18),l(29),a()(),o(30,"div",17)(31,"label"),l(32,"Required Date:"),a(),o(33,"span",18),l(34),a()(),o(35,"div",17)(36,"label"),l(37,"Priority:"),a(),o(38,"span",19),l(39),a()(),o(40,"div",17)(41,"label"),l(42,"Status:"),a(),o(43,"span",20),l(44),a()()(),M(45,X8,5,1,"div",21),a(),o(46,"div",22)(47,"h3",23),l(48,"Material List"),a(),o(49,"table",24)(50,"thead")(51,"tr")(52,"th",25),l(53,"#"),a(),o(54,"th",26),l(55,"Item Name"),a(),o(56,"th",27),l(57,"Description"),a(),o(58,"th",28),l(59,"Requested Qty"),a(),o(60,"th",28),l(61,"Fulfilled Qty"),a(),o(62,"th",28),l(63,"Pending Qty"),a(),o(64,"th",29),l(65,"UOM"),a(),o(66,"th",30),l(67,"Status"),a()()(),o(68,"tbody"),M(69,eV,18,10,"tr",31),a(),o(70,"tfoot")(71,"tr",32)(72,"td",33)(73,"strong"),l(74,"Totals:"),a()(),o(75,"td",34)(76,"strong"),l(77),a()(),o(78,"td",34)(79,"strong"),l(80),a()(),o(81,"td",34)(82,"strong"),l(83),a()(),v(84,"td",35),a()()()(),M(85,nV,20,1,"div",36)(86,iV,5,1,"div",37),o(87,"div",38)(88,"div",39),v(89,"div",40),o(90,"p",41),l(91,"Requested By"),a(),o(92,"p",42),l(93),a(),o(94,"p",43),l(95,"Date: _______________"),a()(),o(96,"div",39),v(97,"div",40),o(98,"p",41),l(99,"Approved By"),a(),o(100,"p",42),l(101),a(),o(102,"p",43),l(103,"Date: _______________"),a()()(),o(104,"div",44)(105,"p"),l(106),a(),o(107,"p"),l(108,"Page 1 of 1"),a()()()()),n&2){let e=d();c(5),f(e.companyName),c(2),f(e.companyAddress),c(12),f(e.pr.prNumber),c(5),f(e.formatDate(e.pr.prDate)),c(5),f(e.pr.department),c(5),f(e.formatDate(e.pr.requiredDate)),c(4),bt(e.pr.priority.toLowerCase()),c(),f(e.pr.priority),c(5),f(e.pr.status),c(),u("ngIf",e.pr.purpose),c(24),u("ngForOf",e.pr.items),c(8),f(e.getTotalRequested()),c(3),f(e.getTotalFulfilled()),c(3),f(e.getTotalPending()),c(2),u("ngIf",e.fulfillmentHistory.length>0),c(),u("ngIf",e.pr.remarks),c(7),f(e.pr.requestedBy||"_________________"),c(8),f(e.pr.approvedBy||"_________________"),c(5),E("This is an internal document. Printed on: ",e.formatDate(e.today))}}function oV(n,t){n&1&&(o(0,"div",52),v(1,"div",53),o(2,"p"),l(3,"Loading document..."),a()())}var Ku=class n{constructor(t,e,i){this.route=t;this.router=e;this.prService=i}pr=null;prId=0;loading=!0;companyName="Hao System";companyAddress="123 Business Street, City, Country";fulfillmentHistory=[];today=new Date().toISOString();ngOnInit(){this.route.params.subscribe(t=>{this.prId=+t.id,this.loadPR()})}loadPR(){this.prService.getById(this.prId).subscribe({next:t=>{this.pr=t,this.loadFulfillmentHistory(),this.loading=!1,setTimeout(()=>this.triggerPrint(),500)},error:t=>{console.error("Error loading PR:",t),this.loading=!1}})}loadFulfillmentHistory(){this.pr&&this.pr.items&&(this.fulfillmentHistory=this.pr.items.filter(t=>(t.fulfilledQuantity||0)>0).map(t=>({date:this.formatDate(new Date().toISOString()),action:t.status==="Fully Fulfilled"?"Stock Issue":"Partial Fulfillment",itemName:t.itemName,quantity:t.fulfilledQuantity||0,performedBy:"System",reference:this.pr?.prNumber||""})))}formatDate(t){return t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):""}getPendingQty(t){return Math.max(0,(t.quantity||0)-(t.fulfilledQuantity||0))}getTotalRequested(){return!this.pr||!this.pr.items?0:this.pr.items.reduce((t,e)=>t+(e.quantity||0),0)}getTotalFulfilled(){return!this.pr||!this.pr.items?0:this.pr.items.reduce((t,e)=>t+(e.fulfilledQuantity||0),0)}getTotalPending(){return this.getTotalRequested()-this.getTotalFulfilled()}triggerPrint(){window.print()}goBack(){this.router.navigate(["/app/purchase/requisition"])}static \u0275fac=function(e){return new(e||n)(w(Ge),w(ue),w(Jt))};static \u0275cmp=k({type:n,selectors:[["app-pr-print"]],standalone:!1,decls:9,vars:2,consts:[[1,"print-actions","no-print"],[1,"btn-back",3,"click"],[1,"fa","fa-arrow-left"],[1,"btn-print",3,"click"],[1,"fa","fa-print"],["class","print-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"print-container"],[1,"a4-page"],[1,"document-header"],[1,"company-info"],[1,"company-name"],[1,"company-address"],[1,"document-title"],[1,"internal-badge"],[1,"pr-info-section"],[1,"info-grid"],[1,"info-item"],[1,"value"],[1,"value","priority"],[1,"value","status"],["class","purpose-section",4,"ngIf"],[1,"materials-section"],[1,"section-title"],[1,"materials-table"],[1,"col-sno"],[1,"col-item"],[1,"col-desc"],[1,"col-qty"],[1,"col-uom"],[1,"col-status"],[4,"ngFor","ngForOf"],[1,"totals-row"],["colspan","3",1,"right"],[1,"center"],["colspan","2"],["class","history-section",4,"ngIf"],["class","remarks-section",4,"ngIf"],[1,"signatures-section"],[1,"signature-box"],[1,"signature-line"],[1,"signature-label"],[1,"signature-name"],[1,"signature-date"],[1,"document-footer"],[1,"purpose-section"],[1,"purpose-text"],[1,"item-status"],[1,"history-section"],[1,"history-table"],[1,"remarks-section"],[1,"remarks-text"],[1,"loading-container"],[1,"spinner"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"button",1),_("click",function(){return i.goBack()}),v(2,"i",2),l(3," Back "),a(),o(4,"button",3),_("click",function(){return i.triggerPrint()}),v(5,"i",4),l(6," Print "),a()(),M(7,rV,109,20,"div",5)(8,oV,4,0,"div",6)),e&2&&(c(7),u("ngIf",i.pr),c(),u("ngIf",i.loading))},dependencies:[A,N],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}body[_ngcontent-%COMP%]{margin:0;padding:0}.print-container[_ngcontent-%COMP%]{padding:0;background:#fff}.a4-page[_ngcontent-%COMP%]{width:210mm;min-height:297mm;padding:15mm;margin:0;box-shadow:none;page-break-after:always}}@media screen{.print-actions[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;display:flex;gap:10px;z-index:1000}.print-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:all .2s}.print-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.print-actions[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none}.print-actions[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#5a6268}.print-actions[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]{background:teal;color:#fff;border:none}.print-actions[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]:hover{background:#066}.print-container[_ngcontent-%COMP%]{padding:40px;background:#f5f5f5;min-height:100vh;display:flex;justify-content:center}.a4-page[_ngcontent-%COMP%]{width:210mm;min-height:297mm;padding:15mm;background:#fff;box-shadow:0 4px 20px #00000026;margin-top:60px}}.document-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;border-bottom:3px solid #008080;padding-bottom:15px;margin-bottom:20px}.document-header[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:teal;margin:0 0 5px}.document-header[_ngcontent-%COMP%]   .company-info[_ngcontent-%COMP%]   .company-address[_ngcontent-%COMP%]{font-size:12px;color:#666;margin:0}.document-header[_ngcontent-%COMP%]   .document-title[_ngcontent-%COMP%]{text-align:right}.document-header[_ngcontent-%COMP%]   .document-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#333;margin:0 0 8px}.document-header[_ngcontent-%COMP%]   .document-title[_ngcontent-%COMP%]   .internal-badge[_ngcontent-%COMP%]{display:inline-block;background:teal;color:#fff;padding:4px 12px;border-radius:4px;font-size:11px;font-weight:600}.pr-info-section[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:6px;padding:15px;margin-bottom:20px}.pr-info-section[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}.pr-info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.pr-info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px;color:#666;font-weight:500}.pr-info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#333}.pr-info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value.priority.urgent[_ngcontent-%COMP%]{color:#ff9800}.pr-info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value.priority.critical[_ngcontent-%COMP%]{color:#dc3545}.pr-info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value.priority.normal[_ngcontent-%COMP%]{color:#28a745}.pr-info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value.status[_ngcontent-%COMP%]{color:teal}.pr-info-section[_ngcontent-%COMP%]   .purpose-section[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid #e9ecef}.pr-info-section[_ngcontent-%COMP%]   .purpose-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:11px;color:#666;font-weight:500}.pr-info-section[_ngcontent-%COMP%]   .purpose-section[_ngcontent-%COMP%]   .purpose-text[_ngcontent-%COMP%]{font-size:13px;color:#333;margin:4px 0 0}.section-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:teal;margin:0 0 10px;padding-bottom:5px;border-bottom:2px solid #008080}.materials-section[_ngcontent-%COMP%]{margin-bottom:20px}.materials-table[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:11px}.materials-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .materials-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px 6px;text-align:left}.materials-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:teal;color:#fff;font-weight:600;text-transform:uppercase;font-size:10px}.materials-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n), .history-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f8f9fa}.materials-table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.materials-table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.materials-table[_ngcontent-%COMP%]   .col-sno[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .col-sno[_ngcontent-%COMP%]{width:30px}.materials-table[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]{width:120px}.materials-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%]{width:80px}.materials-table[_ngcontent-%COMP%]   .col-uom[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .col-uom[_ngcontent-%COMP%]{width:60px}.materials-table[_ngcontent-%COMP%]   .col-status[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .col-status[_ngcontent-%COMP%]{width:90px}.materials-table[_ngcontent-%COMP%]   .item-status[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .item-status[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;border-radius:10px;font-size:10px;font-weight:600}.materials-table[_ngcontent-%COMP%]   .item-status.pending[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .item-status.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.materials-table[_ngcontent-%COMP%]   .item-status.partially-fulfilled[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .item-status.partially-fulfilled[_ngcontent-%COMP%]{background:#cce5ff;color:#004085}.materials-table[_ngcontent-%COMP%]   .item-status.fully-fulfilled[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   .item-status.fully-fulfilled[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.materials-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%], .history-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .totals-row[_ngcontent-%COMP%]{background:#e9ecef;font-weight:600}.history-section[_ngcontent-%COMP%], .remarks-section[_ngcontent-%COMP%]{margin-bottom:20px}.remarks-section[_ngcontent-%COMP%]   .remarks-text[_ngcontent-%COMP%]{font-size:12px;color:#333;margin:0;padding:10px;background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px}.signatures-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:40px;padding-top:20px}.signatures-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]{width:200px;text-align:center}.signatures-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]   .signature-line[_ngcontent-%COMP%]{border-bottom:2px solid #333;margin-bottom:8px;height:40px}.signatures-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]   .signature-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#333;margin:0 0 4px}.signatures-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]   .signature-name[_ngcontent-%COMP%]{font-size:11px;color:#666;margin:0 0 4px}.signatures-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]   .signature-date[_ngcontent-%COMP%]{font-size:10px;color:#999;margin:0}.document-footer[_ngcontent-%COMP%]{margin-top:30px;padding-top:15px;border-top:1px solid #ddd;display:flex;justify-content:space-between;font-size:10px;color:#999}.document-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #e9ecef;border-top-color:teal;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;color:#666}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};function aV(n,t){if(n&1&&(o(0,"div",19)(1,"span",20),l(2,"PR Ref:"),a(),o(3,"span",21),l(4),a()()),n&2){let e=d(2);c(4),f(e.po.prNumber)}}function sV(n,t){if(n&1&&(o(0,"tr")(1,"td",54),l(2),a(),o(3,"td",54),l(4),a(),o(5,"td"),l(6),a(),o(7,"td",54),l(8),a(),o(9,"td",54),l(10),a(),o(11,"td",54),l(12),a(),o(13,"td",55),l(14),a(),o(15,"td",54),l(16),a(),o(17,"td",55),l(18),a()()),n&2){let e=t.$implicit,i=t.index,r=d(2);c(2),f(i+1),c(2),f(e.itemCode||100+i+1),c(2),f(e.itemName),c(2),f(e.hsnCode||r.getDefaultHsn(e)),c(2),f(e.quantity),c(2),f(e.uom||e.unit||"nos"),c(2),f(r.formatNumber(e.rate)),c(2),E("",e.taxRate||r.defaultTaxRate,"%"),c(2),f(r.formatNumber(r.getItemAmount(e)))}}function lV(n,t){if(n&1&&(o(0,"div",7)(1,"div",8)(2,"div",9)(3,"h1"),l(4,"PURCHASE ORDER"),a()(),o(5,"div",10)(6,"div",11),v(7,"i",12),o(8,"div",13)(9,"span",14),l(10),a(),o(11,"span",15),l(12),a()()(),o(13,"p",16),l(14),a()(),o(15,"div",17)(16,"div",18)(17,"div",19)(18,"span",20),l(19,"Supplier Name:"),a(),o(20,"span",21),l(21),a()(),o(22,"div",19)(23,"span",20),l(24,"Address:"),a(),o(25,"span",21),l(26),a()(),o(27,"div",19)(28,"span",20),l(29,"GSTIN:"),a(),o(30,"span",21),l(31),a()(),o(32,"div",19)(33,"span",20),l(34,"Contact:"),a(),o(35,"span",21),l(36),a()(),o(37,"div",19)(38,"span",20),l(39,"Email:"),a(),o(40,"span",21),l(41),a()()(),o(42,"div",22)(43,"div",19)(44,"span",20),l(45,"Supplier Code:"),a(),o(46,"span",21),l(47),a()(),o(48,"div",19)(49,"span",20),l(50,"PO No:"),a(),o(51,"span",21),l(52),a()(),M(53,aV,5,1,"div",23),o(54,"div",19)(55,"span",20),l(56,"PO Date:"),a(),o(57,"span",21),l(58),a()(),o(59,"div",19)(60,"span",20),l(61,"PO Expiry Days:"),a(),o(62,"span",21),l(63),a()()()(),o(64,"div",24)(65,"div",25)(66,"div",26),l(67,"Bill To:"),a(),o(68,"div",27)(69,"p",28),l(70),a(),o(71,"p"),l(72),a(),o(73,"p"),l(74),a(),o(75,"p"),l(76),a(),o(77,"p"),l(78),a()()(),o(79,"div",25)(80,"div",26),l(81,"Ship To:"),a(),o(82,"div",27)(83,"p",28),l(84),a(),o(85,"p"),l(86),a(),o(87,"p"),l(88),a(),o(89,"p"),l(90),a(),o(91,"p"),l(92),a()()()(),o(93,"div",29)(94,"div",30)(95,"span",20),l(96,"Payment Date:"),a(),o(97,"span",21),l(98),a()(),o(99,"div",30)(100,"span",20),l(101,"Payment Terms:"),a(),o(102,"span",21),l(103),a()()(),o(104,"div",31)(105,"table",32)(106,"thead")(107,"tr")(108,"th",33),l(109,"S.No"),a(),o(110,"th",34),l(111,"Product Code"),a(),o(112,"th",35),l(113,"Product Name"),a(),o(114,"th",36),l(115,"HSN code"),a(),o(116,"th",37),l(117,"Quantity"),a(),o(118,"th",38),l(119,"Units"),a(),o(120,"th",39),l(121,"Rate"),a(),o(122,"th",40),l(123,"Tax"),a(),o(124,"th",41),l(125,"Amount"),a()()(),o(126,"tbody"),M(127,sV,19,9,"tr",42),a()()(),o(128,"div",43)(129,"div",44)(130,"div",45)(131,"span",20),l(132,"Total"),a(),o(133,"span",21),l(134),a()(),o(135,"div",45)(136,"span",20),l(137,"Discounts"),a(),o(138,"span",21),l(139),a()(),o(140,"div",46)(141,"span",20),l(142,"Grand total"),a(),o(143,"span",21),l(144),a()()()(),o(145,"div",47)(146,"div",48)(147,"h4"),l(148,"Terms and conditions:"),a(),o(149,"ol")(150,"li"),l(151,"We deserve the right to cancel the purchase order anytime before product shipment."),a(),o(152,"li"),l(153,"Invoice raised to us should contain the details of purchase order with date mentioned."),a(),o(154,"li"),l(155,"Adherence to agreed product specifications is a must. Any deviation during delivery will result in cancellation of PO."),a(),o(156,"li"),l(157),a(),o(158,"li"),l(159),a()()(),o(160,"div",49)(161,"div",50),l(162),a(),v(163,"div",51),o(164,"div",52),l(165,"Authorized signatory"),a()()(),o(166,"div",53)(167,"p"),l(168),a()()()()),n&2){let e=d();c(10),f(e.companyName),c(2),f(e.companyTagline),c(2),f(e.companyAddress),c(7),f(e.po.supplierName),c(5),f(e.po.supplierAddress||"N/A"),c(5),f(e.supplierGstin),c(5),f(e.po.supplierContact||"N/A"),c(5),f(e.supplierEmail),c(6),f(e.supplierCode),c(5),f(e.po.poNumber),c(),u("ngIf",e.po.prNumber),c(5),f(e.formatDate(e.po.poDate||e.po.createdDate||"")),c(5),E("",e.poExpiryDays," days"),c(7),f(e.companyName),c(2),f(e.billToAddress),c(2),E("GSTIN:",e.companyGstin),c(2),E("Contact: ",e.companyPhone),c(2),E("Email: ",e.companyEmail),c(6),f(e.companyName),c(2),f(e.shipToAddress),c(2),E("GSTIN:",e.companyGstin),c(2),E("Contact: ",e.companyPhone),c(2),E("Email: ",e.companyEmail),c(6),f(e.paymentDateText),c(5),f(e.po.paymentTerms||"100% against invoice"),c(24),u("ngForOf",e.po.items),c(7),f(e.formatNumber(e.getSubtotal())),c(5),f(e.formatNumber(e.discount)),c(5),f(e.formatNumber(e.getGrandTotal())),c(13),E("Packing and shipping charges are to be borne by ",e.po.supplierName,"."),c(2),E("Delivery should be strictly done within ",e.poExpiryDays," days from the date of purchase order."),c(3),E("For ",e.companyName),c(6),E("Mark any communications to ",e.companyEmail)}}function cV(n,t){n&1&&(o(0,"div",56),v(1,"div",57),o(2,"p"),l(3,"Loading document..."),a()())}var Yu=class n{constructor(t,e,i){this.route=t;this.router=e;this.poService=i}po=null;poId=0;loading=!0;companyName="Hao System";companyTagline="Enterprise Solutions";companyAddress="No 23/2, SBI Colony, Ragavendra Nagar, Chennai - 600124";companyPhone="+91-7869825463";companyEmail="purchase-team@haosystem.com";companyGstin="33APFSDF1ZV";billToAddress=`No 23/2, SBI Colony.
Ragavendra Nagar, Chennai - 600124`;shipToAddress=`No 23/2, SBI Colony.
Ragavendra Nagar, Chennai - 600124`;supplierCode="VNDR-104";supplierGstin="33AACCEPVS1ZH";supplierEmail="purchase-sm@gmail.com";poExpiryDays=7;paymentDateText="7 days from date of delivery";defaultTaxRate=5;discount=0;today=new Date().toISOString();ngOnInit(){this.route.params.subscribe(t=>{this.poId=+t.id,this.loadPO()})}loadPO(){this.poService.getById(this.poId).subscribe({next:t=>{this.po=t,t.supplierId&&(this.supplierCode="VNDR-"+t.supplierId),this.loading=!1},error:t=>{console.error("Error loading PO:",t),this.loading=!1}})}formatDate(t){return t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):""}formatNumber(t){return new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t||0)}getDefaultHsn(t){return"34019011"}getItemAmount(t){let e=(t.quantity||0)*(t.rate||0),i=t.taxRate||this.defaultTaxRate,r=e*(i/100);return e+r}getSubtotal(){return!this.po||!this.po.items?0:this.po.items.reduce((t,e)=>t+this.getItemAmount(e),0)}getGrandTotal(){return this.getSubtotal()-this.discount}triggerPrint(){window.print()}goBack(){this.router.navigate(["/app/purchase/direct"])}static \u0275fac=function(e){return new(e||n)(w(Ge),w(ue),w(hr))};static \u0275cmp=k({type:n,selectors:[["app-po-print"]],standalone:!1,decls:9,vars:2,consts:[[1,"print-actions","no-print"],[1,"btn-back",3,"click"],[1,"fa","fa-arrow-left"],[1,"btn-print",3,"click"],[1,"fa","fa-print"],["class","print-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"print-container"],[1,"a4-page"],[1,"document-title"],[1,"company-header"],[1,"company-logo"],[1,"fas","fa-shopping-cart"],[1,"company-brand"],[1,"brand-name"],[1,"brand-tagline"],[1,"company-address"],[1,"info-grid"],[1,"supplier-box"],[1,"info-row-item"],[1,"label"],[1,"value"],[1,"po-details-box"],["class","info-row-item",4,"ngIf"],[1,"address-section"],[1,"address-box"],[1,"address-header"],[1,"address-content"],[1,"company-name"],[1,"payment-info"],[1,"payment-item"],[1,"items-section"],[1,"items-table"],[1,"col-sno"],[1,"col-code"],[1,"col-name"],[1,"col-hsn"],[1,"col-qty"],[1,"col-unit"],[1,"col-rate"],[1,"col-tax"],[1,"col-amount"],[4,"ngFor","ngForOf"],[1,"totals-section"],[1,"totals-box"],[1,"total-row"],[1,"total-row","grand-total"],[1,"footer-section"],[1,"terms-box"],[1,"signature-box"],[1,"for-company"],[1,"signature-line"],[1,"signature-label"],[1,"document-footer"],[1,"center"],[1,"right"],[1,"loading-container"],[1,"spinner"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"button",1),_("click",function(){return i.goBack()}),v(2,"i",2),l(3," Back "),a(),o(4,"button",3),_("click",function(){return i.triggerPrint()}),v(5,"i",4),l(6," Print "),a()(),M(7,lV,169,33,"div",5)(8,cV,4,0,"div",6)),e&2&&(c(7),u("ngIf",i.po),c(),u("ngIf",i.loading))},dependencies:[A,N],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}body[_ngcontent-%COMP%]{margin:0;padding:0}.print-container[_ngcontent-%COMP%]{padding:0;background:#fff}.a4-page[_ngcontent-%COMP%]{width:210mm;min-height:297mm;padding:10mm 15mm;margin:0;box-shadow:none;page-break-after:always}}@media screen{.print-actions[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;display:flex;gap:10px;z-index:1000}.print-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;transition:all .2s}.print-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.print-actions[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none}.print-actions[_ngcontent-%COMP%]   .btn-back[_ngcontent-%COMP%]:hover{background:#5a6268}.print-actions[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]{background:#1a5f7a;color:#fff;border:none}.print-actions[_ngcontent-%COMP%]   .btn-print[_ngcontent-%COMP%]:hover{background:#134a5f}.print-container[_ngcontent-%COMP%]{padding:40px;background:#f5f5f5;min-height:100vh;display:flex;justify-content:center}.a4-page[_ngcontent-%COMP%]{width:210mm;min-height:297mm;padding:10mm 15mm;background:#fff;box-shadow:0 4px 20px #00000026;margin-top:60px}}.document-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.document-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px;font-weight:400;letter-spacing:8px;color:#333;margin:0;text-transform:uppercase}.company-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #1a5f7a}.company-header[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;margin-bottom:8px}.company-header[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#f4a460}.company-header[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]   .company-brand[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:left}.company-header[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]   .company-brand[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1a5f7a}.company-header[_ngcontent-%COMP%]   .company-logo[_ngcontent-%COMP%]   .company-brand[_ngcontent-%COMP%]   .brand-tagline[_ngcontent-%COMP%]{font-size:11px;color:#f4a460;font-style:italic}.company-header[_ngcontent-%COMP%]   .company-address[_ngcontent-%COMP%]{font-size:12px;color:#333;margin:0}.info-grid[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:15px;border:1px solid #ddd}.info-grid[_ngcontent-%COMP%]   .supplier-box[_ngcontent-%COMP%], .info-grid[_ngcontent-%COMP%]   .po-details-box[_ngcontent-%COMP%]{flex:1;padding:12px 15px}.info-grid[_ngcontent-%COMP%]   .supplier-box[_ngcontent-%COMP%]{border-right:1px solid #ddd}.info-grid[_ngcontent-%COMP%]   .info-row-item[_ngcontent-%COMP%]{display:flex;margin-bottom:6px;font-size:11px}.info-grid[_ngcontent-%COMP%]   .info-row-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:100px;font-weight:600;color:#333}.info-grid[_ngcontent-%COMP%]   .info-row-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333}.info-grid[_ngcontent-%COMP%]   .info-row-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.address-section[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.address-section[_ngcontent-%COMP%]   .address-box[_ngcontent-%COMP%]{flex:1}.address-section[_ngcontent-%COMP%]   .address-box[_ngcontent-%COMP%]   .address-header[_ngcontent-%COMP%]{background:#1a5f7a;color:#fff;padding:6px 12px;font-size:11px;font-weight:600}.address-section[_ngcontent-%COMP%]   .address-box[_ngcontent-%COMP%]   .address-content[_ngcontent-%COMP%]{border:1px solid #ddd;border-top:none;padding:10px 12px;min-height:100px}.address-section[_ngcontent-%COMP%]   .address-box[_ngcontent-%COMP%]   .address-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:11px;color:#333}.address-section[_ngcontent-%COMP%]   .address-box[_ngcontent-%COMP%]   .address-content[_ngcontent-%COMP%]   p.company-name[_ngcontent-%COMP%]{font-weight:700;font-size:12px}.address-section[_ngcontent-%COMP%]   .address-box[_ngcontent-%COMP%]   .address-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.payment-info[_ngcontent-%COMP%]{display:flex;margin-bottom:15px;border:1px solid #ddd;border-top:2px solid #1a5f7a}.payment-info[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{flex:1;padding:8px 15px;font-size:11px}.payment-info[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]:first-child{border-right:1px solid #ddd}.payment-info[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700;color:#333}.payment-info[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333}.items-section[_ngcontent-%COMP%]{margin-bottom:15px}.items-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:11px}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px 6px;text-align:left}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1a5f7a;color:#fff;font-weight:600;text-align:center;font-size:10px}.items-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f8f9fa}.items-table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.items-table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.items-table[_ngcontent-%COMP%]   .col-sno[_ngcontent-%COMP%]{width:35px}.items-table[_ngcontent-%COMP%]   .col-code[_ngcontent-%COMP%]{width:75px}.items-table[_ngcontent-%COMP%]   .col-hsn[_ngcontent-%COMP%]{width:70px}.items-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%]{width:55px}.items-table[_ngcontent-%COMP%]   .col-unit[_ngcontent-%COMP%]{width:45px}.items-table[_ngcontent-%COMP%]   .col-rate[_ngcontent-%COMP%]{width:65px}.items-table[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%]{width:45px}.items-table[_ngcontent-%COMP%]   .col-amount[_ngcontent-%COMP%]{width:80px}.totals-section[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.totals-section[_ngcontent-%COMP%]   .totals-box[_ngcontent-%COMP%]{width:220px;border:1px solid #ddd}.totals-section[_ngcontent-%COMP%]   .totals-box[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:6px 12px;font-size:11px;border-bottom:1px solid #ddd}.totals-section[_ngcontent-%COMP%]   .totals-box[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#333}.totals-section[_ngcontent-%COMP%]   .totals-box[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500;color:#333}.totals-section[_ngcontent-%COMP%]   .totals-box[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.totals-section[_ngcontent-%COMP%]   .totals-box[_ngcontent-%COMP%]   .total-row.grand-total[_ngcontent-%COMP%]{background:#e8f4f8}.totals-section[_ngcontent-%COMP%]   .totals-box[_ngcontent-%COMP%]   .total-row.grand-total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .totals-section[_ngcontent-%COMP%]   .totals-box[_ngcontent-%COMP%]   .total-row.grand-total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;font-size:12px}.footer-section[_ngcontent-%COMP%]{display:flex;gap:30px;margin-bottom:20px}.footer-section[_ngcontent-%COMP%]   .terms-box[_ngcontent-%COMP%]{flex:1;background:#e8f4f8;padding:12px 15px;border-radius:4px}.footer-section[_ngcontent-%COMP%]   .terms-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:#333;margin:0 0 8px}.footer-section[_ngcontent-%COMP%]   .terms-box[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding-left:18px}.footer-section[_ngcontent-%COMP%]   .terms-box[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:9px;color:#444;margin-bottom:4px;line-height:1.4}.footer-section[_ngcontent-%COMP%]   .terms-box[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.footer-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]{width:180px;text-align:center;display:flex;flex-direction:column;justify-content:flex-end}.footer-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]   .for-company[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:#333;margin-bottom:40px}.footer-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]   .signature-line[_ngcontent-%COMP%]{border-bottom:1px solid #333;margin-bottom:5px}.footer-section[_ngcontent-%COMP%]   .signature-box[_ngcontent-%COMP%]   .signature-label[_ngcontent-%COMP%]{font-size:10px;color:#666;font-style:italic}.document-footer[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid #ddd}.document-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;color:#666;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #e9ecef;border-top-color:#1a5f7a;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;color:#666}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};var Zu=class n{constructor(t){this.http=t}baseUrl="/api/purchase/invoices";getAll(){return this.http.get(this.baseUrl)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}getByStatus(t){return this.http.get(`${this.baseUrl}/status/${t}`)}getByPoId(t){return this.http.get(`${this.baseUrl}/po/${t}`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}updateStatus(t,e){return this.http.post(`${this.baseUrl}/${t}/status`,{status:e})}generateInvoiceNumber(){return this.http.get(`${this.baseUrl}/generate-number`,{responseType:"text"})}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function pV(n,t){n&1&&(o(0,"div",16),v(1,"div",17),o(2,"p"),l(3,"Loading invoices..."),a()())}function uV(n,t){if(n&1){let e=O();o(0,"button",35),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.updateInvoiceStatus(r,"Submitted"))}),v(1,"i",36),a()}}function mV(n,t){if(n&1){let e=O();o(0,"button",37),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.updateInvoiceStatus(r,"Paid"))}),v(1,"i",38),a()}}function gV(n,t){if(n&1){let e=O();o(0,"tr")(1,"td",23),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td",24),l(12),a(),o(13,"td")(14,"span",25),l(15),a()(),o(16,"td",26)(17,"button",27),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.openModal(r))}),v(18,"i",28),a(),o(19,"button",29),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.printInvoice(r))}),v(20,"i",30),a(),M(21,uV,2,0,"button",31)(22,mV,2,0,"button",32),o(23,"button",33),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.deleteInvoice(r.id))}),v(24,"i",34),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(2),f(e.invoiceNumber),c(2),f(e.poNumber||"-"),c(2),f(e.supplierName),c(2),f(i.formatDate(e.invoiceDate)),c(2),f(i.formatDate(e.dueDate)),c(2),f(i.formatCurrency(e.totalAmount)),c(2),u("ngClass",i.getStatusClass(e.status)),c(),E(" ",e.status," "),c(6),u("ngIf",e.status==="Draft"),c(),u("ngIf",e.status==="Submitted")}}function fV(n,t){n&1&&(o(0,"tr")(1,"td",39)(2,"div",40),v(3,"i",41),o(4,"p"),l(5,"No invoices found"),a()()()())}function hV(n,t){if(n&1&&(o(0,"div",18)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr")(5,"th"),l(6,"Invoice No"),a(),o(7,"th"),l(8,"PO Reference"),a(),o(9,"th"),l(10,"Supplier"),a(),o(11,"th"),l(12,"Invoice Date"),a(),o(13,"th"),l(14,"Due Date"),a(),o(15,"th"),l(16,"Total Amount"),a(),o(17,"th"),l(18,"Status"),a(),o(19,"th"),l(20,"Actions"),a()()(),o(21,"tbody"),M(22,gV,25,10,"tr",21)(23,fV,6,0,"tr",22),a()()()()),n&2){let e=d();c(22),u("ngForOf",e.filteredInvoices),c(),u("ngIf",e.filteredInvoices.length===0)}}function _V(n,t){if(n&1&&(o(0,"p",59),l(1),a()),n&2){let e=d().$implicit;c(),E("PO: ",e.poNumber)}}function vV(n,t){if(n&1){let e=O();o(0,"div",51),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.openModal(r))}),o(1,"div",52)(2,"span",23),l(3),a(),o(4,"span",53),l(5),a()(),o(6,"div",54)(7,"p",55),l(8),a(),M(9,_V,2,1,"p",56),a(),o(10,"div",57)(11,"span",24),l(12),a(),o(13,"span",58),l(14),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.invoiceNumber),c(2),f(e.status),c(3),f(e.supplierName),c(),u("ngIf",e.poNumber),c(3),f(i.formatCurrency(e.totalAmount)),c(2),f(i.formatDate(e.invoiceDate))}}function yV(n,t){if(n&1&&(o(0,"p",59),l(1),a()),n&2){let e=d().$implicit;c(),E("PO: ",e.poNumber)}}function CV(n,t){if(n&1){let e=O();o(0,"div",51),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.openModal(r))}),o(1,"div",52)(2,"span",23),l(3),a(),o(4,"span",60),l(5),a()(),o(6,"div",54)(7,"p",55),l(8),a(),M(9,yV,2,1,"p",56),a(),o(10,"div",57)(11,"span",24),l(12),a(),o(13,"span",58),l(14),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.invoiceNumber),c(2),f(e.status),c(3),f(e.supplierName),c(),u("ngIf",e.poNumber),c(3),f(i.formatCurrency(e.totalAmount)),c(2),f(i.formatDate(e.invoiceDate))}}function xV(n,t){if(n&1&&(o(0,"p",59),l(1),a()),n&2){let e=d().$implicit;c(),E("PO: ",e.poNumber)}}function bV(n,t){if(n&1){let e=O();o(0,"div",51),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.openModal(r))}),o(1,"div",52)(2,"span",23),l(3),a(),o(4,"span",61),l(5),a()(),o(6,"div",54)(7,"p",55),l(8),a(),M(9,xV,2,1,"p",56),a(),o(10,"div",57)(11,"span",24),l(12),a(),o(13,"span",58),l(14),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(e.invoiceNumber),c(2),f(e.status),c(3),f(e.supplierName),c(),u("ngIf",e.poNumber),c(3),f(i.formatCurrency(e.totalAmount)),c(2),f(i.formatDate(e.invoiceDate))}}function MV(n,t){if(n&1&&(o(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45)(4,"h3"),l(5,"Draft"),a(),o(6,"span",46),l(7),a()(),o(8,"div",47),M(9,vV,15,6,"div",48),a()(),o(10,"div",44)(11,"div",49)(12,"h3"),l(13,"Pending"),a(),o(14,"span",46),l(15),a()(),o(16,"div",47),M(17,CV,15,6,"div",48),a()(),o(18,"div",44)(19,"div",50)(20,"h3"),l(21,"Paid"),a(),o(22,"span",46),l(23),a()(),o(24,"div",47),M(25,bV,15,6,"div",48),a()()()()),n&2){let e=d();c(7),f(e.draftInvoices.length),c(2),u("ngForOf",e.draftInvoices),c(6),f(e.pendingInvoices.length),c(2),u("ngForOf",e.pendingInvoices),c(6),f(e.paidInvoices.length),c(2),u("ngForOf",e.paidInvoices)}}function SV(n,t){if(n&1&&(o(0,"option",99),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne(" ",e.poNumber," - ",e.supplierName," ")}}function PV(n,t){if(n&1){let e=O();o(0,"div",68)(1,"h3"),l(2,"Link to Purchase Order"),a(),o(3,"div",70)(4,"label"),l(5,"Select Completed PO (Optional)"),a(),o(6,"select",96),_("change",function(r){m(e);let s=d(2);return g(s.onPoSelect(r))}),o(7,"option",97),l(8,"-- Select PO --"),a(),M(9,SV,2,3,"option",98),a()()()}if(n&2){let e=d(2);c(9),u("ngForOf",e.completedPOs)}}function EV(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"input",100),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.itemCode,r)||(s.itemCode=r),g(r)}),a()(),o(3,"td")(4,"input",101),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.itemName,r)||(s.itemName=r),g(r)}),a()(),o(5,"td")(6,"input",100),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.hsnCode,r)||(s.hsnCode=r),g(r)}),a()(),o(7,"td")(8,"input",102),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.quantity,r)||(s.quantity=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(9,"td")(10,"input",103),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.uom,r)||(s.uom=r),g(r)}),a()(),o(11,"td")(12,"input",92),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.rate,r)||(s.rate=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(13,"td")(14,"input",102),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.taxRate,r)||(s.taxRate=r),g(r)}),_("ngModelChange",function(){let r=m(e).$implicit,s=d(2);return g(s.calculateItemAmount(r))}),a()(),o(15,"td",104),l(16),a(),o(17,"td")(18,"button",105),_("click",function(){let r=m(e).index,s=d(2);return g(s.removeItem(r))}),v(19,"i",34),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(2),C("ngModel",e.itemCode),c(2),C("ngModel",e.itemName),c(2),C("ngModel",e.hsnCode),c(2),C("ngModel",e.quantity),c(2),C("ngModel",e.uom),c(2),C("ngModel",e.rate),c(2),C("ngModel",e.taxRate),c(2),E(" ",i.formatCurrency(e.amount)," "),c(2),u("disabled",i.selectedInvoice.items.length===1)}}function wV(n,t){if(n&1){let e=O();o(0,"div",62),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",63),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",64)(3,"h2"),l(4),a(),o(5,"button",65),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",66),a()(),o(7,"div",67)(8,"div",68)(9,"h3"),l(10,"Invoice Details"),a(),o(11,"div",69)(12,"div",70)(13,"label"),l(14,"Invoice Number"),a(),o(15,"input",71),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.invoiceNumber,r)||(s.selectedInvoice.invoiceNumber=r),g(r)}),a()(),o(16,"div",70)(17,"label"),l(18,"Invoice Date"),a(),o(19,"input",72),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.invoiceDate,r)||(s.selectedInvoice.invoiceDate=r),g(r)}),a()(),o(20,"div",70)(21,"label"),l(22,"Due Date"),a(),o(23,"input",72),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.dueDate,r)||(s.selectedInvoice.dueDate=r),g(r)}),a()(),o(24,"div",70)(25,"label"),l(26,"Status"),a(),o(27,"select",73),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.status,r)||(s.selectedInvoice.status=r),g(r)}),o(28,"option",74),l(29,"Draft"),a(),o(30,"option",75),l(31,"Submitted"),a(),o(32,"option",76),l(33,"Pending"),a(),o(34,"option",77),l(35,"Paid"),a(),o(36,"option",78),l(37,"Cancelled"),a()()()()(),M(38,PV,10,1,"div",79),o(39,"div",68)(40,"h3"),l(41,"Supplier Information"),a(),o(42,"div",69)(43,"div",70)(44,"label"),l(45,"Supplier Name"),a(),o(46,"input",80),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.supplierName,r)||(s.selectedInvoice.supplierName=r),g(r)}),a()(),o(47,"div",70)(48,"label"),l(49,"Supplier GSTIN"),a(),o(50,"input",80),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.supplierGstin,r)||(s.selectedInvoice.supplierGstin=r),g(r)}),a()(),o(51,"div",81)(52,"label"),l(53,"Supplier Address"),a(),o(54,"textarea",82),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.supplierAddress,r)||(s.selectedInvoice.supplierAddress=r),g(r)}),a()(),o(55,"div",70)(56,"label"),l(57,"Contact"),a(),o(58,"input",80),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.supplierContact,r)||(s.selectedInvoice.supplierContact=r),g(r)}),a()(),o(59,"div",70)(60,"label"),l(61,"Email"),a(),o(62,"input",83),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.supplierEmail,r)||(s.selectedInvoice.supplierEmail=r),g(r)}),a()()()(),o(63,"div",68)(64,"h3"),l(65,"Invoice Items"),a(),o(66,"div",84)(67,"table",85)(68,"thead")(69,"tr")(70,"th"),l(71,"Item Code"),a(),o(72,"th"),l(73,"Item Name"),a(),o(74,"th"),l(75,"HSN"),a(),o(76,"th"),l(77,"Qty"),a(),o(78,"th"),l(79,"UOM"),a(),o(80,"th"),l(81,"Rate"),a(),o(82,"th"),l(83,"Tax %"),a(),o(84,"th"),l(85,"Amount"),a(),v(86,"th"),a()(),o(87,"tbody"),M(88,EV,20,9,"tr",21),a()(),o(89,"button",86),_("click",function(){m(e);let r=d();return g(r.addItem())}),v(90,"i",11),l(91," Add Item "),a()()(),o(92,"div",87)(93,"div",88)(94,"div",89)(95,"span",90),l(96,"Subtotal:"),a(),o(97,"span",91),l(98),a()(),o(99,"div",89)(100,"span",90),l(101,"Tax:"),a(),o(102,"span",91),l(103),a()(),o(104,"div",89)(105,"span",90),l(106,"Discount:"),a(),o(107,"input",92),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.discount,r)||(s.selectedInvoice.discount=r),g(r)}),a()(),o(108,"div",93)(109,"span",90),l(110,"Grand Total:"),a(),o(111,"span",91),l(112),a()()()(),o(113,"div",68)(114,"div",81)(115,"label"),l(116,"Remarks"),a(),o(117,"textarea",82),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedInvoice.remarks,r)||(s.selectedInvoice.remarks=r),g(r)}),a()()()(),o(118,"div",94)(119,"button",95),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(120,"Cancel"),a(),o(121,"button",10),_("click",function(){m(e);let r=d();return g(r.saveInvoice())}),l(122),a()()()()}if(n&2){let e=d();c(4),f(e.editMode?"Edit Invoice":"Create New Invoice"),c(11),C("ngModel",e.selectedInvoice.invoiceNumber),c(4),C("ngModel",e.selectedInvoice.invoiceDate),c(4),C("ngModel",e.selectedInvoice.dueDate),c(4),C("ngModel",e.selectedInvoice.status),c(11),u("ngIf",!e.editMode),c(8),C("ngModel",e.selectedInvoice.supplierName),c(4),C("ngModel",e.selectedInvoice.supplierGstin),c(4),C("ngModel",e.selectedInvoice.supplierAddress),c(4),C("ngModel",e.selectedInvoice.supplierContact),c(4),C("ngModel",e.selectedInvoice.supplierEmail),c(26),u("ngForOf",e.selectedInvoice.items),c(10),f(e.formatCurrency(e.getSubtotal())),c(5),f(e.formatCurrency(e.getTaxTotal())),c(4),C("ngModel",e.selectedInvoice.discount),c(5),f(e.formatCurrency(e.getTotalAmount())),c(5),C("ngModel",e.selectedInvoice.remarks),c(5),E(" ",e.editMode?"Update Invoice":"Create Invoice"," ")}}var Xu=class n{constructor(t,e,i,r){this.invoiceService=t;this.poService=e;this.router=i;this.settingsService=r}invoices=[];completedPOs=[];searchQuery="";showModal=!1;editMode=!1;selectedInvoice=this.getEmptyInvoice();loading=!1;viewMode="table";companyName="Hao System";companyGstin="33APFSDF1ZV";companyAddress="No 23/2, SBI Colony, Ragavendra Nagar, Chennai - 600124";ngOnInit(){this.loadInvoices(),this.loadCompletedPOs()}loadInvoices(){this.loading=!0,this.invoiceService.getAll().subscribe({next:t=>{this.invoices=t,this.loading=!1},error:t=>{console.error("Error loading invoices",t),this.loading=!1}})}loadCompletedPOs(){this.poService.getAll().subscribe({next:t=>{this.completedPOs=t.filter(e=>e.status==="Completed"||e.status==="Approved")},error:t=>console.error("Error loading POs",t)})}get filteredInvoices(){if(!this.searchQuery)return this.invoices;let t=this.searchQuery.toLowerCase();return this.invoices.filter(e=>e.invoiceNumber?.toLowerCase().includes(t)||e.poNumber?.toLowerCase().includes(t)||e.supplierName?.toLowerCase().includes(t))}get draftInvoices(){return this.filteredInvoices.filter(t=>t.status==="Draft")}get pendingInvoices(){return this.filteredInvoices.filter(t=>t.status==="Pending"||t.status==="Submitted")}get paidInvoices(){return this.filteredInvoices.filter(t=>t.status==="Paid"||t.status==="Completed")}getEmptyInvoice(){return{invoiceNumber:"",invoiceDate:new Date().toISOString().split("T")[0],status:"Draft",billToName:this.companyName,billToAddress:this.companyAddress,billToGstin:this.companyGstin,shipToName:this.companyName,shipToAddress:this.companyAddress,items:[]}}getEmptyItem(){return{itemCode:"",itemName:"",description:"",hsnCode:"",quantity:0,uom:"nos",rate:0,taxRate:5,taxAmount:0,amount:0,remarks:""}}openModal(t){t?(this.editMode=!0,this.selectedInvoice=me(T({},t),{items:t.items?[...t.items]:[]})):(this.editMode=!1,this.selectedInvoice=this.getEmptyInvoice(),this.generateInvoiceNumber(),this.addItem()),this.showModal=!0}generateInvoiceNumber(){this.settingsService.generatePrefixId("invoice").subscribe({next:t=>{this.selectedInvoice.invoiceNumber=t},error:()=>{this.invoiceService.generateInvoiceNumber().subscribe({next:t=>{this.selectedInvoice.invoiceNumber=t},error:t=>console.error("Error generating invoice number",t)})}})}closeModal(){this.showModal=!1,this.selectedInvoice=this.getEmptyInvoice()}addItem(){this.selectedInvoice.items.push(this.getEmptyItem())}removeItem(t){this.selectedInvoice.items.length>1&&this.selectedInvoice.items.splice(t,1)}calculateItemAmount(t){let e=t.quantity*t.rate;t.taxAmount=e*(t.taxRate/100),t.amount=e+t.taxAmount}getSubtotal(){return this.selectedInvoice.items.reduce((t,e)=>t+e.quantity*e.rate,0)}getTaxTotal(){return this.selectedInvoice.items.reduce((t,e)=>t+(e.taxAmount||0),0)}getTotalAmount(){let t=this.getSubtotal(),e=this.getTaxTotal(),i=this.selectedInvoice.discount||0;return t+e-i}onPoSelect(t){let i=+t.target.value;if(i){let r=this.completedPOs.find(s=>s.id===i);r&&(this.selectedInvoice.poId=r.id,this.selectedInvoice.poNumber=r.poNumber,this.selectedInvoice.supplierId=r.supplierId,this.selectedInvoice.supplierName=r.supplierName,this.selectedInvoice.supplierAddress=r.supplierAddress,this.selectedInvoice.supplierContact=r.supplierContact,this.selectedInvoice.paymentTerms=r.paymentTerms,this.selectedInvoice.items=r.items.map(s=>({itemCode:s.itemCode||"",itemName:s.itemName,description:s.description,hsnCode:s.hsnCode||"",quantity:s.quantity,uom:s.uom||s.unit||"nos",rate:s.rate,taxRate:s.taxRate||5,taxAmount:0,amount:0,remarks:s.remarks})),this.selectedInvoice.items.forEach(s=>this.calculateItemAmount(s)))}}saveInvoice(){this.selectedInvoice.subtotal=this.getSubtotal(),this.selectedInvoice.taxAmount=this.getTaxTotal(),this.selectedInvoice.totalAmount=this.getTotalAmount(),this.editMode&&this.selectedInvoice.id?this.invoiceService.update(this.selectedInvoice.id,this.selectedInvoice).subscribe({next:()=>{this.loadInvoices(),this.closeModal()},error:t=>console.error("Error updating invoice",t)}):this.invoiceService.create(this.selectedInvoice).subscribe({next:()=>{this.loadInvoices(),this.closeModal()},error:t=>console.error("Error creating invoice",t)})}deleteInvoice(t){confirm("Are you sure you want to delete this invoice?")&&this.invoiceService.delete(t).subscribe({next:()=>this.loadInvoices(),error:e=>console.error("Error deleting invoice",e)})}updateInvoiceStatus(t,e){t.id&&this.invoiceService.updateStatus(t.id,e).subscribe({next:()=>this.loadInvoices(),error:i=>console.error("Error updating status",i)})}printInvoice(t){t.id&&this.router.navigate(["/app/purchase/invoice",t.id,"print"])}getStatusClass(t){switch(t){case"Paid":case"Completed":return"badge-success";case"Pending":case"Submitted":return"badge-warning";case"Draft":return"badge-secondary";case"Cancelled":return"badge-danger";default:return"badge-info"}}formatDate(t){return t?new Date(t).toLocaleDateString("en-GB"):"-"}formatCurrency(t){return t===void 0?"0.00":new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}toggleViewMode(){this.viewMode=this.viewMode==="table"?"kanban":"table"}static \u0275fac=function(e){return new(e||n)(w(Zu),w(hr),w(ue),w(ke))};static \u0275cmp=k({type:n,selectors:[["app-purchase-invoice"]],standalone:!1,decls:20,vars:6,consts:[[1,"page-container"],[1,"page-header"],[1,"header-left"],[1,"subtitle"],[1,"header-actions"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search invoices...",3,"ngModelChange","ngModel"],[1,"btn-toggle",3,"click"],[1,"fas",3,"ngClass"],[1,"btn-primary",3,"click"],[1,"fas","fa-plus"],["class","loading-container",4,"ngIf"],["class","table-view",4,"ngIf"],["class","kanban-view",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"table-view"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"invoice-number"],[1,"amount"],[1,"badge",3,"ngClass"],[1,"actions"],["title","View/Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Print",1,"btn-icon",3,"click"],[1,"fas","fa-print"],["class","btn-icon btn-success","title","Mark as Submitted",3,"click",4,"ngIf"],["class","btn-icon btn-success","title","Mark as Paid",3,"click",4,"ngIf"],["title","Delete",1,"btn-icon","btn-danger",3,"click"],[1,"fas","fa-trash"],["title","Mark as Submitted",1,"btn-icon","btn-success",3,"click"],[1,"fas","fa-paper-plane"],["title","Mark as Paid",1,"btn-icon","btn-success",3,"click"],[1,"fas","fa-check-circle"],["colspan","8",1,"empty-row"],[1,"empty-state"],[1,"fas","fa-file-invoice"],[1,"kanban-view"],[1,"kanban-board"],[1,"kanban-column"],[1,"column-header","draft"],[1,"count"],[1,"column-body"],["class","kanban-card",3,"click",4,"ngFor","ngForOf"],[1,"column-header","pending"],[1,"column-header","completed"],[1,"kanban-card",3,"click"],[1,"card-header"],[1,"badge","badge-secondary"],[1,"card-body"],[1,"supplier"],["class","po-ref",4,"ngIf"],[1,"card-footer"],[1,"date"],[1,"po-ref"],[1,"badge","badge-warning"],[1,"badge","badge-success"],[1,"modal-overlay",3,"click"],[1,"modal-content","large",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-section"],[1,"form-grid"],[1,"form-group"],["type","text","readonly","",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","Draft"],["value","Submitted"],["value","Pending"],["value","Paid"],["value","Cancelled"],["class","form-section",4,"ngIf"],["type","text",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["rows","2",3,"ngModelChange","ngModel"],["type","email",3,"ngModelChange","ngModel"],[1,"items-table-container"],[1,"items-table"],[1,"btn-add-item",3,"click"],[1,"form-section","totals-section"],[1,"totals-grid"],[1,"total-row"],[1,"label"],[1,"value"],["type","number",1,"input-sm",3,"ngModelChange","ngModel"],[1,"total-row","grand-total"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text",1,"input-sm",3,"ngModelChange","ngModel"],["type","text",1,"input-md",3,"ngModelChange","ngModel"],["type","number",1,"input-xs",3,"ngModelChange","ngModel"],["type","text",1,"input-xs",3,"ngModelChange","ngModel"],[1,"amount-cell"],[1,"btn-icon","btn-danger",3,"click","disabled"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"Purchase Invoices"),a(),o(5,"p",3),l(6,"Manage purchase invoices from completed orders"),a()(),o(7,"div",4)(8,"div",5),v(9,"i",6),o(10,"input",7),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),a()(),o(11,"button",8),_("click",function(){return i.toggleViewMode()}),v(12,"i",9),a(),o(13,"button",10),_("click",function(){return i.openModal()}),v(14,"i",11),l(15," New Invoice "),a()()(),M(16,pV,4,0,"div",12)(17,hV,24,2,"div",13)(18,MV,26,6,"div",14),a(),M(19,wV,123,18,"div",15)),e&2&&(c(10),C("ngModel",i.searchQuery),c(2),u("ngClass",i.viewMode==="table"?"fa-th":"fa-list"),c(4),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.viewMode==="table"),c(),u("ngIf",!i.loading&&i.viewMode==="kanban"),c(),u("ngIf",i.showModal))},dependencies:[ae,A,N,z,G,B,pe,H,V,F],styles:[".page-container[_ngcontent-%COMP%]{padding:24px;background-color:#f5f7fa;min-height:100vh}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1a5f7a;margin:0}.header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:4px 0 0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#999}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 12px 10px 36px;border:1px solid #ddd;border-radius:8px;width:250px;font-size:14px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a5f7a}.btn-toggle[_ngcontent-%COMP%]{padding:10px 14px;background:#fff;border:1px solid #ddd;border-radius:8px;cursor:pointer;color:#666}.btn-toggle[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-primary[_ngcontent-%COMP%]{padding:10px 20px;background:#1a5f7a;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]:hover{background:#154d63}.btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;background:#e0e0e0;color:#333;border:none;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d0d0d0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f0f0f0;border-top-color:#1a5f7a;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333;font-size:13px;text-transform:uppercase;letter-spacing:.5px}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#444}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#fafafa}.data-table[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-weight:600;color:#1a5f7a}.data-table[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500;text-align:right}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.data-table[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{text-align:center;padding:40px!important}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#999}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:12px}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;background:#f0f0f0;color:#666;cursor:pointer;display:flex;align-items:center;justify-content:center}.btn-icon[_ngcontent-%COMP%]:hover{background:#e0e0e0}.btn-icon.btn-success[_ngcontent-%COMP%]{background:#d4edda;color:#28a745}.btn-icon.btn-success[_ngcontent-%COMP%]:hover{background:#c3e6cb}.btn-icon.btn-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#dc3545}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#f5c6cb}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.badge.badge-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.badge.badge-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.kanban-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.kanban-column[_ngcontent-%COMP%]{background:#f0f2f5;border-radius:12px;overflow:hidden}.column-header[_ngcontent-%COMP%]{padding:16px;display:flex;justify-content:space-between;align-items:center}.column-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:#fff}.column-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#fff3;padding:4px 10px;border-radius:12px;font-size:12px;color:#fff}.column-header.draft[_ngcontent-%COMP%]{background:#6c757d}.column-header.pending[_ngcontent-%COMP%]{background:#ffc107}.column-header.pending[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .column-header.pending[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{color:#333}.column-header.completed[_ngcontent-%COMP%]{background:#28a745}.column-body[_ngcontent-%COMP%]{padding:12px;max-height:calc(100vh - 280px);overflow-y:auto}.kanban-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:14px;margin-bottom:12px;cursor:pointer;box-shadow:0 1px 3px #00000014;transition:box-shadow .2s}.kanban-card[_ngcontent-%COMP%]:hover{box-shadow:0 3px 8px #00000026}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{font-weight:600;color:#1a5f7a}.kanban-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .supplier[_ngcontent-%COMP%]{font-weight:500;margin:0 0 4px}.kanban-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .po-ref[_ngcontent-%COMP%]{font-size:12px;color:#666;margin:0}.kanban-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:12px;padding-top:10px;border-top:1px solid #eee;font-size:13px}.kanban-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;color:#1a5f7a}.kanban-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#999}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:900px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-content.large[_ngcontent-%COMP%]{max-width:1000px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;color:#333}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#999;cursor:pointer}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:24px;overflow-y:auto;flex:1}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px 24px;border-top:1px solid #eee}.form-section[_ngcontent-%COMP%]{margin-bottom:24px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1a5f7a;margin:0 0 16px;padding-bottom:8px;border-bottom:2px solid #1a5f7a}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#555}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a5f7a}.form-group[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[readonly][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[readonly][_ngcontent-%COMP%]{background:#f5f5f5}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.items-table-container[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;overflow:hidden}.items-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .items-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 8px;border-bottom:1px solid #eee}.items-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-size:12px;font-weight:600;text-transform:uppercase;color:#666}.items-table[_ngcontent-%COMP%]   .input-xs[_ngcontent-%COMP%]{width:60px;padding:6px 8px;border:1px solid #ddd;border-radius:4px;font-size:13px}.items-table[_ngcontent-%COMP%]   .input-sm[_ngcontent-%COMP%]{width:90px;padding:6px 8px;border:1px solid #ddd;border-radius:4px;font-size:13px}.items-table[_ngcontent-%COMP%]   .input-md[_ngcontent-%COMP%]{width:150px;padding:6px 8px;border:1px solid #ddd;border-radius:4px;font-size:13px}.items-table[_ngcontent-%COMP%]   .amount-cell[_ngcontent-%COMP%]{font-weight:500;text-align:right}.btn-add-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:10px 16px;border:none;background:#f0f0f0;color:#1a5f7a;font-size:13px;cursor:pointer;width:100%;justify-content:center}.btn-add-item[_ngcontent-%COMP%]:hover{background:#e0e0e0}.totals-section[_ngcontent-%COMP%]   .totals-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:8px}.totals-section[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.totals-section[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:#555;min-width:100px;text-align:right}.totals-section[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:120px;text-align:right;font-weight:500}.totals-section[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:120px;padding:6px 10px;border:1px solid #ddd;border-radius:4px;text-align:right}.totals-section[_ngcontent-%COMP%]   .total-row.grand-total[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #1a5f7a}.totals-section[_ngcontent-%COMP%]   .total-row.grand-total[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .totals-section[_ngcontent-%COMP%]   .total-row.grand-total[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1a5f7a}@media(max-width:768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;flex-wrap:wrap}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.kanban-board[_ngcontent-%COMP%], .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function OV(n,t){n&1&&(o(0,"div",5),v(1,"div",6),o(2,"p"),l(3,"Loading settings..."),a()())}function IV(n,t){if(n&1){let e=O();o(0,"form",7),_("ngSubmit",function(){m(e);let r=d();return g(r.saveSettings())}),o(1,"div",8)(2,"h3",9),v(3,"i",10),l(4," Inventory Prefixes "),a(),o(5,"div",11)(6,"div",12)(7,"label"),l(8,"Item Master"),a(),o(9,"div",13)(10,"input",14),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.itemPrefix,r)||(s.settings.itemPrefix=r),g(r)}),a(),o(11,"input",15),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.itemNextNumber,r)||(s.settings.itemNextNumber=r),g(r)}),a()(),o(12,"span",16),l(13),a()(),o(14,"div",12)(15,"label"),l(16,"Group Master"),a(),o(17,"div",13)(18,"input",17),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.groupPrefix,r)||(s.settings.groupPrefix=r),g(r)}),a(),o(19,"input",18),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.groupNextNumber,r)||(s.settings.groupNextNumber=r),g(r)}),a()(),o(20,"span",16),l(21),a()(),o(22,"div",12)(23,"label"),l(24,"Warehouse"),a(),o(25,"div",13)(26,"input",19),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.warehousePrefix,r)||(s.settings.warehousePrefix=r),g(r)}),a(),o(27,"input",20),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.warehouseNextNumber,r)||(s.settings.warehouseNextNumber=r),g(r)}),a()(),o(28,"span",16),l(29),a()(),o(30,"div",12)(31,"label"),l(32,"Bin Location"),a(),o(33,"div",13)(34,"input",21),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.binPrefix,r)||(s.settings.binPrefix=r),g(r)}),a(),o(35,"input",22),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.binNextNumber,r)||(s.settings.binNextNumber=r),g(r)}),a()(),o(36,"span",16),l(37),a()(),o(38,"div",12)(39,"label"),l(40,"Supplier"),a(),o(41,"div",13)(42,"input",23),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.supplierPrefix,r)||(s.settings.supplierPrefix=r),g(r)}),a(),o(43,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.supplierNextNumber,r)||(s.settings.supplierNextNumber=r),g(r)}),a()(),o(44,"span",16),l(45),a()(),o(46,"div",12)(47,"label"),l(48,"Unit of Measure"),a(),o(49,"div",13)(50,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.unitPrefix,r)||(s.settings.unitPrefix=r),g(r)}),a(),o(51,"input",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.unitNextNumber,r)||(s.settings.unitNextNumber=r),g(r)}),a()(),o(52,"span",16),l(53),a()()()(),o(54,"div",8)(55,"h3",9),v(56,"i",27),l(57," Purchase Prefixes "),a(),o(58,"div",11)(59,"div",12)(60,"label"),l(61,"Purchase Requisition"),a(),o(62,"div",13)(63,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.prPrefix,r)||(s.settings.prPrefix=r),g(r)}),a(),o(64,"input",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.prNextNumber,r)||(s.settings.prNextNumber=r),g(r)}),a()(),o(65,"span",16),l(66),a()(),o(67,"div",12)(68,"label"),l(69,"Purchase Order"),a(),o(70,"div",13)(71,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.poPrefix,r)||(s.settings.poPrefix=r),g(r)}),a(),o(72,"input",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.poNextNumber,r)||(s.settings.poNextNumber=r),g(r)}),a()(),o(73,"span",16),l(74),a()(),o(75,"div",12)(76,"label"),l(77,"Goods Receipt Note"),a(),o(78,"div",13)(79,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.grnPrefix,r)||(s.settings.grnPrefix=r),g(r)}),a(),o(80,"input",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.grnNextNumber,r)||(s.settings.grnNextNumber=r),g(r)}),a()(),o(81,"span",16),l(82),a()()()(),o(83,"div",8)(84,"h3",9),v(85,"i",34),l(86," Stock Movement Prefixes "),a(),o(87,"div",11)(88,"div",12)(89,"label"),l(90,"Goods Issue"),a(),o(91,"div",13)(92,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.issuePrefix,r)||(s.settings.issuePrefix=r),g(r)}),a(),o(93,"input",36),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.issueNextNumber,r)||(s.settings.issueNextNumber=r),g(r)}),a()(),o(94,"span",16),l(95),a()(),o(96,"div",12)(97,"label"),l(98,"Stock Transfer"),a(),o(99,"div",13)(100,"input",37),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.transferPrefix,r)||(s.settings.transferPrefix=r),g(r)}),a(),o(101,"input",38),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.transferNextNumber,r)||(s.settings.transferNextNumber=r),g(r)}),a()(),o(102,"span",16),l(103),a()(),o(104,"div",12)(105,"label"),l(106,"Stock Adjustment"),a(),o(107,"div",13)(108,"input",39),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.adjustmentPrefix,r)||(s.settings.adjustmentPrefix=r),g(r)}),a(),o(109,"input",40),x("ngModelChange",function(r){m(e);let s=d();return b(s.settings.adjustmentNextNumber,r)||(s.settings.adjustmentNextNumber=r),g(r)}),a()(),o(110,"span",16),l(111),a()()()(),o(112,"div",41)(113,"button",42),v(114,"i",43),l(115),a()()()}if(n&2){let e=d();c(10),C("ngModel",e.settings.itemPrefix),c(),C("ngModel",e.settings.itemNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.itemPrefix,e.settings.itemNextNumber)),c(5),C("ngModel",e.settings.groupPrefix),c(),C("ngModel",e.settings.groupNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.groupPrefix,e.settings.groupNextNumber)),c(5),C("ngModel",e.settings.warehousePrefix),c(),C("ngModel",e.settings.warehouseNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.warehousePrefix,e.settings.warehouseNextNumber)),c(5),C("ngModel",e.settings.binPrefix),c(),C("ngModel",e.settings.binNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.binPrefix,e.settings.binNextNumber)),c(5),C("ngModel",e.settings.supplierPrefix),c(),C("ngModel",e.settings.supplierNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.supplierPrefix,e.settings.supplierNextNumber)),c(5),C("ngModel",e.settings.unitPrefix),c(),C("ngModel",e.settings.unitNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.unitPrefix,e.settings.unitNextNumber)),c(10),C("ngModel",e.settings.prPrefix),c(),C("ngModel",e.settings.prNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.prPrefix,e.settings.prNextNumber)),c(5),C("ngModel",e.settings.poPrefix),c(),C("ngModel",e.settings.poNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.poPrefix,e.settings.poNextNumber)),c(5),C("ngModel",e.settings.grnPrefix),c(),C("ngModel",e.settings.grnNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.grnPrefix,e.settings.grnNextNumber)),c(10),C("ngModel",e.settings.issuePrefix),c(),C("ngModel",e.settings.issueNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.issuePrefix,e.settings.issueNextNumber)),c(5),C("ngModel",e.settings.transferPrefix),c(),C("ngModel",e.settings.transferNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.transferPrefix,e.settings.transferNextNumber)),c(5),C("ngModel",e.settings.adjustmentPrefix),c(),C("ngModel",e.settings.adjustmentNextNumber),c(2),E("Preview: ",e.formatPreview(e.settings.adjustmentPrefix,e.settings.adjustmentNextNumber)),c(2),u("disabled",e.saving),c(2),E(" ",e.saving?"Saving...":"Save Settings"," ")}}var em=class n{constructor(t,e){this.settingsService=t;this.notificationService=e}settings={itemPrefix:"ITM-",itemNextNumber:1,groupPrefix:"GRP-",groupNextNumber:1,warehousePrefix:"WH-",warehouseNextNumber:1,binPrefix:"BIN-",binNextNumber:1,supplierPrefix:"SUP-",supplierNextNumber:1,unitPrefix:"UOM-",unitNextNumber:1,prPrefix:"PR-",prNextNumber:1,poPrefix:"PO-",poNextNumber:1,grnPrefix:"GRN-",grnNextNumber:1,issuePrefix:"GI-",issueNextNumber:1,transferPrefix:"ST-",transferNextNumber:1,adjustmentPrefix:"ADJ-",adjustmentNextNumber:1};saving=!1;loading=!1;ngOnInit(){this.loadSettings()}loadSettings(){this.loading=!0,this.settingsService.getPrefixSettings().subscribe({next:t=>{t&&(this.settings=t),this.loading=!1},error:t=>{console.error("Error loading prefix settings",t),this.loading=!1}})}saveSettings(){this.saving=!0,this.settingsService.savePrefixSettings(this.settings).subscribe({next:t=>{this.settings=t,this.saving=!1,this.notificationService.success("Prefix settings saved successfully")},error:t=>{console.error("Error saving prefix settings",t),this.saving=!1,this.notificationService.error("Error saving prefix settings")}})}formatPreview(t,e){return`${t}${e.toString().padStart(4,"0")}`}static \u0275fac=function(e){return new(e||n)(w(ke),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-prefix-settings"]],standalone:!1,decls:8,vars:2,consts:[[1,"prefix-settings-container"],[1,"page-header"],[1,"subtitle"],["class","loading-container",4,"ngIf"],["class","settings-form",3,"ngSubmit",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"settings-form",3,"ngSubmit"],[1,"settings-section"],[1,"section-title"],[1,"fas","fa-boxes"],[1,"prefix-grid"],[1,"prefix-card"],[1,"prefix-inputs"],["type","text","name","itemPrefix","placeholder","ITM-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","itemNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],[1,"preview"],["type","text","name","groupPrefix","placeholder","GRP-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","groupNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],["type","text","name","warehousePrefix","placeholder","WH-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","warehouseNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],["type","text","name","binPrefix","placeholder","BIN-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","binNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],["type","text","name","supplierPrefix","placeholder","SUP-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","supplierNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],["type","text","name","unitPrefix","placeholder","UOM-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","unitNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],[1,"fas","fa-shopping-cart"],["type","text","name","prPrefix","placeholder","PR-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","prNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],["type","text","name","poPrefix","placeholder","PO-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","poNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],["type","text","name","grnPrefix","placeholder","GRN-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","grnNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],[1,"fas","fa-exchange-alt"],["type","text","name","issuePrefix","placeholder","GI-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","issueNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],["type","text","name","transferPrefix","placeholder","ST-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","transferNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],["type","text","name","adjustmentPrefix","placeholder","ADJ-",1,"prefix-input",3,"ngModelChange","ngModel"],["type","number","name","adjustmentNextNumber","min","1",1,"number-input",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Prefix Settings"),a(),o(4,"p",2),l(5,"Configure auto-generated ID prefixes for inventory and purchase modules"),a()(),M(6,OV,4,0,"div",3)(7,IV,116,38,"form",4),a()),e&2&&(c(6),u("ngIf",i.loading),c(),u("ngIf",!i.loading))},dependencies:[N,ot,B,pe,V,rt,Se,F,tt],styles:[".prefix-settings-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0 0 8px;font-size:24px;font-weight:600}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:0;font-size:14px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #e0e0e0;border-top-color:teal;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.settings-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}.settings-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:24px;box-shadow:0 2px 8px #00000014}.settings-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:teal;font-size:18px;font-weight:600;margin:0 0 20px;padding-bottom:12px;border-bottom:2px solid #e0f2f1}.settings-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.prefix-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.prefix-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:16px;border:1px solid #e0e0e0;transition:border-color .2s,box-shadow .2s}.prefix-card[_ngcontent-%COMP%]:hover{border-color:teal;box-shadow:0 2px 8px #0080801a}.prefix-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#333;margin-bottom:12px;font-size:14px}.prefix-card[_ngcontent-%COMP%]   .prefix-inputs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px}.prefix-card[_ngcontent-%COMP%]   .prefix-inputs[_ngcontent-%COMP%]   .prefix-input[_ngcontent-%COMP%]{flex:1;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .2s,box-shadow .2s}.prefix-card[_ngcontent-%COMP%]   .prefix-inputs[_ngcontent-%COMP%]   .prefix-input[_ngcontent-%COMP%]:focus{outline:none;border-color:teal;box-shadow:0 0 0 3px #0080801a}.prefix-card[_ngcontent-%COMP%]   .prefix-inputs[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]{width:100px;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;transition:border-color .2s,box-shadow .2s}.prefix-card[_ngcontent-%COMP%]   .prefix-inputs[_ngcontent-%COMP%]   .number-input[_ngcontent-%COMP%]:focus{outline:none;border-color:teal;box-shadow:0 0 0 3px #0080801a}.prefix-card[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{display:block;font-size:12px;color:teal;font-weight:500;background:#e0f2f1;padding:6px 10px;border-radius:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:16px}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#066}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}@media(max-width:768px){.prefix-settings-container[_ngcontent-%COMP%]{padding:16px}.prefix-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.settings-section[_ngcontent-%COMP%]{padding:16px}}"]})};function DV(n,t){if(n&1){let e=O();o(0,"label",19)(1,"input",20),x("ngModelChange",function(r){let s=m(e).$implicit;return b(s.checked,r)||(s.checked=r),g(r)}),a(),o(2,"span"),l(3),a()()}if(n&2){let e=t.$implicit;c(),C("ngModel",e.checked),c(2),f(e.name)}}function TV(n,t){if(n&1&&(o(0,"tr")(1,"td",15),l(2),a(),o(3,"td",16)(4,"div",17),M(5,DV,4,2,"label",18),a()()()),n&2){let e=t.$implicit;c(2),f(e.feature),c(3),u("ngForOf",e.capabilities)}}var hl=class n{constructor(t,e,i,r){this.router=t;this.route=e;this.roleService=i;this.notificationService=r}roleName="";roleDescription="";editMode=!1;roleId=null;saving=!1;featurePermissions=[{feature:"Dashboard",capabilities:[{name:"View",checked:!1}]},{feature:"Settings",capabilities:[{name:"View",checked:!1},{name:"Edit",checked:!1}]},{feature:"Customer Management",capabilities:[{name:"View (Own)",checked:!1},{name:"View (Global)",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Contract Management",capabilities:[{name:"View (Own)",checked:!1},{name:"View (Global)",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Inventory - Group Master",capabilities:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Inventory - Item Master",capabilities:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Inventory - Units of Measure",capabilities:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Inventory - Warehouse & Bin",capabilities:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Inventory - Supplier",capabilities:[{name:"View",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Inventory - Valuation",capabilities:[{name:"View",checked:!1}]},{feature:"Inventory - Ledger",capabilities:[{name:"View",checked:!1}]},{feature:"Stock Movement - Goods Receipt (GRN)",capabilities:[{name:"View (Own)",checked:!1},{name:"View (Global)",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Stock Movement - Goods Issue",capabilities:[{name:"View (Own)",checked:!1},{name:"View (Global)",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Stock Movement - Stock Transfer",capabilities:[{name:"View (Own)",checked:!1},{name:"View (Global)",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Stock Movement - Stock Adjustments",capabilities:[{name:"View (Own)",checked:!1},{name:"View (Global)",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1},{name:"Approve",checked:!1}]},{feature:"Purchase - Requisition",capabilities:[{name:"View (Own)",checked:!1},{name:"View (Global)",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1},{name:"Approve",checked:!1}]},{feature:"Purchase - PR Fulfillment",capabilities:[{name:"View",checked:!1},{name:"Convert to PO",checked:!1},{name:"Stock Issue",checked:!1},{name:"Material Transfer",checked:!1}]},{feature:"Purchase - Direct Purchase",capabilities:[{name:"View (Own)",checked:!1},{name:"View (Global)",checked:!1},{name:"Create",checked:!1},{name:"Edit",checked:!1},{name:"Delete",checked:!1}]},{feature:"Reports - Inventory",capabilities:[{name:"View",checked:!1},{name:"Export",checked:!1}]},{feature:"Reports - Purchase",capabilities:[{name:"View",checked:!1},{name:"Export",checked:!1}]},{feature:"Audit Trails",capabilities:[{name:"View System Audits",checked:!1},{name:"View Inventory Audits",checked:!1},{name:"View Purchase Audits",checked:!1}]}];ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&(this.editMode=!0,this.roleId=parseInt(t),this.loadRole())}loadRole(){this.roleId&&this.roleService.getById(this.roleId).subscribe({next:t=>{this.roleName=t.name,this.roleDescription=t.description||"",t.permissions&&this.parsePermissions(t.permissions)},error:t=>{console.error("Error loading role:",t)}})}parsePermissions(t){try{let e=JSON.parse(t);for(let i of this.featurePermissions){let r=e[i.feature];if(r)for(let s of i.capabilities)s.checked=r.includes(s.name)}}catch(e){console.error("Error parsing permissions:",e)}}getPermissionsJson(){let t={};for(let e of this.featurePermissions){let i=e.capabilities.filter(r=>r.checked).map(r=>r.name);i.length>0&&(t[e.feature]=i)}return JSON.stringify(t)}saveRole(){if(!this.roleName.trim()){this.notificationService.error("Role name is required");return}this.saving=!0;let t={name:this.roleName,description:this.roleDescription,permissions:this.getPermissionsJson()};this.editMode&&this.roleId?this.roleService.update(this.roleId,t).subscribe({next:()=>{this.notificationService.success("Role updated successfully"),this.router.navigate(["/app/settings/roles"])},error:e=>{this.notificationService.error(e.error?.error||"Error updating role"),this.saving=!1}}):this.roleService.create(t).subscribe({next:()=>{this.notificationService.success("Role created successfully"),this.router.navigate(["/app/settings/roles"])},error:e=>{this.notificationService.error(e.error?.error||"Error creating role"),this.saving=!1}})}cancel(){this.router.navigate(["/app/settings/roles"])}static \u0275fac=function(e){return new(e||n)(w(ue),w(Ge),w(ga),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-add-role"]],standalone:!1,decls:36,vars:5,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],["routerLink","/app/settings/roles"],[1,"card"],[1,"form-group"],[1,"required"],["type","text","placeholder","Enter role name",1,"form-control",3,"ngModelChange","ngModel"],[1,"permissions-section"],[1,"permissions-table"],[4,"ngFor","ngForOf"],[1,"form-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"feature-name"],[1,"capabilities-cell"],[1,"capability-list"],["class","checkbox-label",4,"ngFor","ngForOf"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"a",4),l(11,"Roles"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15),a()()()(),o(16,"div",5)(17,"div",6)(18,"label",7),l(19,"Role Name"),a(),o(20,"input",8),x("ngModelChange",function(s){return b(i.roleName,s)||(i.roleName=s),s}),a()(),o(21,"div",9)(22,"table",10)(23,"thead")(24,"tr")(25,"th"),l(26,"features"),a(),o(27,"th"),l(28,"Capabilities"),a()()(),o(29,"tbody"),M(30,TV,6,2,"tr",11),a()()(),o(31,"div",12)(32,"button",13),_("click",function(){return i.cancel()}),l(33,"Cancel"),a(),o(34,"button",14),_("click",function(){return i.saveRole()}),l(35),a()()()()),e&2&&(c(4),f(i.editMode?"Edit Role":"Add New Role"),c(11),f(i.editMode?"Edit":"Add New"),c(5),C("ngModel",i.roleName),c(10),u("ngForOf",i.featurePermissions),c(5),E(" ",i.editMode?"Update Role":"Save Role"," "))},dependencies:[A,B,fe,V,F,Z],styles:['.settings-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.permissions-section[_ngcontent-%COMP%]{margin-top:24px}.permissions-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.permissions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .permissions-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.permissions-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-primary)}.permissions-table[_ngcontent-%COMP%]   .feature-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary);width:40%}.permissions-table[_ngcontent-%COMP%]   .capabilities-cell[_ngcontent-%COMP%]{width:60%}.capability-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:.9rem;color:var(--text-primary)}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer;accent-color:var(--primary-color)}.required[_ngcontent-%COMP%]:before{content:"*";color:var(--danger-color);margin-right:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:24px;border-top:1px solid var(--border-color)}']})};function kV(n,t){if(n&1){let e=O();o(0,"div",17)(1,"label",23),l(2,"Password"),a(),o(3,"input",35),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.password,r)||(s.password=r),g(r)}),a(),o(4,"small",36),l(5,"Minimum 6 characters"),a()()}if(n&2){let e=d(2);c(3),C("ngModel",e.password)}}function RV(n,t){if(n&1&&(o(0,"option",37),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function AV(n,t){if(n&1){let e=O();o(0,"div",12)(1,"div",13)(2,"label",14)(3,"input",15),x("ngModelChange",function(r){m(e);let s=d();return b(s.staff.isAdmin,r)||(s.staff.isAdmin=r),g(r)}),a(),o(4,"span"),l(5,"Administrator"),a()(),o(6,"label",14)(7,"input",16),_("change",function(){m(e);let r=d();return g(r.staff.isStaffMember=!r.staff.isStaffMember)}),a(),o(8,"span"),l(9,"Not Staff Member"),a()()(),o(10,"div",17)(11,"label"),l(12,"Profile Image"),a(),o(13,"div",18),v(14,"input",19),o(15,"label",20)(16,"span",21),l(17,"Choose File"),a(),o(18,"span",22),l(19,"No file chosen"),a()()()(),o(20,"div",17)(21,"label",23),l(22,"First Name"),a(),o(23,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.staff.firstName,r)||(s.staff.firstName=r),g(r)}),a()(),o(24,"div",17)(25,"label",23),l(26,"Last Name"),a(),o(27,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.staff.lastName,r)||(s.staff.lastName=r),g(r)}),a()(),o(28,"div",17)(29,"label",23),l(30,"Email"),a(),o(31,"input",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.staff.email,r)||(s.staff.email=r),g(r)}),a()(),o(32,"div",17)(33,"label"),l(34,"Hourly Rate"),a(),o(35,"div",27)(36,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.staff.hourlyRate,r)||(s.staff.hourlyRate=r),g(r)}),a(),o(37,"span",29),l(38,"\u20B9"),a()()(),o(39,"div",17)(40,"label"),l(41,"Phone"),a(),o(42,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.staff.phone,r)||(s.staff.phone=r),g(r)}),a()(),M(43,kV,6,1,"div",31),o(44,"div",17)(45,"label"),l(46,"Role"),a(),o(47,"select",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.staff.role,r)||(s.staff.role=r),g(r)}),o(48,"option",33),l(49,"Select Role"),a(),M(50,RV,2,2,"option",34),a()()()}if(n&2){let e=d();c(3),C("ngModel",e.staff.isAdmin),c(4),u("checked",!e.staff.isStaffMember),c(16),C("ngModel",e.staff.firstName),c(4),C("ngModel",e.staff.lastName),c(4),C("ngModel",e.staff.email),c(5),C("ngModel",e.staff.hourlyRate),c(6),C("ngModel",e.staff.phone),c(),u("ngIf",!e.editMode),c(4),C("ngModel",e.staff.role),c(3),u("ngForOf",e.roles)}}function NV(n,t){if(n&1&&(o(0,"option",37),l(1),a()),n&2){let e=t.$implicit;u("value",e.name),c(),f(e.name)}}function FV(n,t){if(n&1){let e=O();o(0,"div",12)(1,"p",38),l(2,"Permissions are managed through the role assigned to this staff member."),a(),o(3,"div",17)(4,"label"),l(5,"Assigned Role"),a(),o(6,"select",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.staff.role,r)||(s.staff.role=r),g(r)}),o(7,"option",33),l(8,"Select Role"),a(),M(9,NV,2,2,"option",34),a()()()}if(n&2){let e=d();c(6),C("ngModel",e.staff.role),c(3),u("ngForOf",e.roles)}}var _l=class n{constructor(t,e,i,r){this.router=t;this.route=e;this.staffService=i;this.notificationService=r}editMode=!1;staffId=null;activeTab="profile";saving=!1;staff={firstName:"",lastName:"",email:"",role:"",isAdmin:!1,isStaffMember:!0,phone:"",hourlyRate:0,active:!0};password="";roles=[];ngOnInit(){this.loadRoles();let t=this.route.snapshot.paramMap.get("id");t&&(this.editMode=!0,this.staffId=parseInt(t),this.loadStaff())}loadRoles(){this.staffService.getRoles().subscribe({next:t=>{console.log("Roles loaded:",t),this.roles=t},error:t=>{console.error("Error loading roles:",t),this.roles=[]}})}loadStaff(){this.staffId&&this.staffService.getById(this.staffId).subscribe({next:t=>{this.staff=t},error:t=>{console.error("Error loading staff:",t)}})}setTab(t){this.activeTab=t}saveStaff(){if(!this.staff.firstName?.trim()||!this.staff.lastName?.trim()){this.notificationService.error("First name and last name are required");return}if(!this.staff.email?.trim()){this.notificationService.error("Email is required");return}if(!this.editMode&&(!this.password||this.password.length<6)){this.notificationService.error("Password must be at least 6 characters");return}this.saving=!0;let t=T({},this.staff);!this.editMode&&this.password&&(t.password=this.password),this.editMode&&this.staffId?this.staffService.update(this.staffId,this.staff).subscribe({next:()=>{this.notificationService.success("Staff updated successfully"),this.router.navigate(["/app/settings/staff"])},error:e=>{this.notificationService.error(e.error?.error||"Error updating staff"),this.saving=!1}}):this.staffService.create(t).subscribe({next:()=>{this.notificationService.success("Staff created successfully"),this.router.navigate(["/app/settings/staff"])},error:e=>{this.notificationService.error(e.error?.error||"Error creating staff"),this.saving=!1}})}cancel(){this.router.navigate(["/app/settings/staff"])}static \u0275fac=function(e){return new(e||n)(w(ue),w(Ge),w(fa),w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-add-staff"]],standalone:!1,decls:29,vars:9,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],["routerLink","/app/settings/staff"],[1,"card"],[1,"tabs"],[1,"tab",3,"click"],["class","tab-content",4,"ngIf"],[1,"form-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"tab-content"],[1,"checkbox-group"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"],["type","checkbox",3,"change","checked"],[1,"form-group"],[1,"file-input"],["type","file","id","profileImage","accept","image/*"],["for","profileImage",1,"file-label"],[1,"choose-file"],[1,"file-name"],[1,"required"],["type","text","placeholder","Enter first name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter last name",1,"form-control",3,"ngModelChange","ngModel"],["type","email","placeholder","Enter email address",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-with-suffix"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"suffix"],["type","tel","placeholder","Enter phone number",1,"form-control",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","password","placeholder","Enter password",1,"form-control",3,"ngModelChange","ngModel"],[1,"help-text"],[3,"value"],[1,"permissions-note"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"a",4),l(11,"Staff Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15),a()()()(),o(16,"div",5)(17,"div",6)(18,"button",7),_("click",function(){return i.setTab("profile")}),l(19,"Profile"),a(),o(20,"button",7),_("click",function(){return i.setTab("permissions")}),l(21,"Permissions"),a()(),M(22,AV,51,10,"div",8)(23,FV,10,2,"div",8),o(24,"div",9)(25,"button",10),_("click",function(){return i.cancel()}),l(26,"Cancel"),a(),o(27,"button",11),_("click",function(){return i.saveStaff()}),l(28),a()()()()),e&2&&(c(4),f(i.editMode?"Edit Staff Member":"Add New Staff Member"),c(11),f(i.editMode?"Edit":"Add New"),c(3),L("active",i.activeTab==="profile"),c(2),L("active",i.activeTab==="permissions"),c(2),u("ngIf",i.activeTab==="profile"),c(),u("ngIf",i.activeTab==="permissions"),c(5),E(" ",i.editMode?"Update Staff":"Save Staff"," "))},dependencies:[A,N,z,G,B,pe,fe,H,V,F,Z],styles:['.settings-page[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:24px}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:transparent;border:none;color:var(--text-secondary);font-size:.95rem;cursor:pointer;position:relative;font-weight:500}.tab.active[_ngcontent-%COMP%]{color:var(--text-primary)}.tab.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;right:0;height:2px;background:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover:not(.active){color:var(--text-primary)}.checkbox-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;font-size:.95rem}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:var(--primary-color)}.file-input[_ngcontent-%COMP%]{position:relative}.file-input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}.file-input[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px;border:1px solid var(--border-color);border-radius:8px;cursor:pointer}.file-input[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   .choose-file[_ngcontent-%COMP%]{padding:6px 16px;background:var(--bg-color);border:1px solid var(--border-color);border-radius:4px;font-size:.9rem}.file-input[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.input-with-suffix[_ngcontent-%COMP%]{position:relative}.input-with-suffix[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:40px}.input-with-suffix[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--text-secondary);font-size:1rem}.required[_ngcontent-%COMP%]:before{content:"*";color:var(--danger-color);margin-right:4px}.permissions-note[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;margin-bottom:20px;padding:12px;background:var(--bg-color);border-radius:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:24px;border-top:1px solid var(--border-color)}']})};var _t=class n{constructor(t){this.http=t}baseUrl="/api/organization";getDepartments(){return this.http.get(`${this.baseUrl}/departments`)}getDepartment(t){return this.http.get(`${this.baseUrl}/departments/${t}`)}createDepartment(t){return this.http.post(`${this.baseUrl}/departments`,t)}updateDepartment(t,e){return this.http.put(`${this.baseUrl}/departments/${t}`,e)}deleteDepartment(t){return this.http.delete(`${this.baseUrl}/departments/${t}`)}getLocations(){return this.http.get(`${this.baseUrl}/locations`)}getLocation(t){return this.http.get(`${this.baseUrl}/locations/${t}`)}createLocation(t){return this.http.post(`${this.baseUrl}/locations`,t)}updateLocation(t,e){return this.http.put(`${this.baseUrl}/locations/${t}`,e)}deleteLocation(t){return this.http.delete(`${this.baseUrl}/locations/${t}`)}getJobRoles(){return this.http.get(`${this.baseUrl}/job-roles`)}getJobRole(t){return this.http.get(`${this.baseUrl}/job-roles/${t}`)}createJobRole(t){return this.http.post(`${this.baseUrl}/job-roles`,t)}updateJobRole(t,e){return this.http.put(`${this.baseUrl}/job-roles/${t}`,e)}deleteJobRole(t){return this.http.delete(`${this.baseUrl}/job-roles/${t}`)}getGrades(){return this.http.get(`${this.baseUrl}/grades`)}getGrade(t){return this.http.get(`${this.baseUrl}/grades/${t}`)}createGrade(t){return this.http.post(`${this.baseUrl}/grades`,t)}updateGrade(t,e){return this.http.put(`${this.baseUrl}/grades/${t}`,e)}deleteGrade(t){return this.http.delete(`${this.baseUrl}/grades/${t}`)}getDesignations(){return this.http.get(`${this.baseUrl}/designations`)}getDesignation(t){return this.http.get(`${this.baseUrl}/designations/${t}`)}createDesignation(t){return this.http.post(`${this.baseUrl}/designations`,t)}updateDesignation(t,e){return this.http.put(`${this.baseUrl}/designations/${t}`,e)}deleteDesignation(t){return this.http.delete(`${this.baseUrl}/designations/${t}`)}getCostCenters(){return this.http.get(`${this.baseUrl}/cost-centers`)}getCostCenter(t){return this.http.get(`${this.baseUrl}/cost-centers/${t}`)}createCostCenter(t){return this.http.post(`${this.baseUrl}/cost-centers`,t)}updateCostCenter(t,e){return this.http.put(`${this.baseUrl}/cost-centers/${t}`,e)}deleteCostCenter(t){return this.http.delete(`${this.baseUrl}/cost-centers/${t}`)}getExpenseCenters(){return this.http.get(`${this.baseUrl}/expense-centers`)}getExpenseCenter(t){return this.http.get(`${this.baseUrl}/expense-centers/${t}`)}createExpenseCenter(t){return this.http.post(`${this.baseUrl}/expense-centers`,t)}updateExpenseCenter(t,e){return this.http.put(`${this.baseUrl}/expense-centers/${t}`,e)}deleteExpenseCenter(t){return this.http.delete(`${this.baseUrl}/expense-centers/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function VV(n,t){n&1&&(o(0,"tr")(1,"td",12),l(2,'No departments found. Click "Add Department" to create one.'),a()())}function LV(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"span",13),l(13),a()(),o(14,"td")(15,"div",14)(16,"button",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(17,"i",16),a(),o(18,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.delete(r))}),v(19,"i",18),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.description),c(2),f((e.location==null?null:e.location.name)||"-"),c(2),f((e.costCenter==null?null:e.costCenter.name)||"-"),c(2),L("badge-success",e.active)("badge-secondary",!e.active),c(),E(" ",e.active?"Active":"Inactive"," ")}}function UV(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function BV(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function WV(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"form",24),_("ngSubmit",function(){m(e);let r=d();return g(r.save())}),o(9,"div",25)(10,"div",26)(11,"label"),l(12,"Code *"),a(),o(13,"input",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.code,r)||(s.editing.code=r),g(r)}),a()(),o(14,"div",26)(15,"label"),l(16,"Name *"),a(),o(17,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.name,r)||(s.editing.name=r),g(r)}),a()()(),o(18,"div",26)(19,"label"),l(20,"Description"),a(),o(21,"textarea",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.description,r)||(s.editing.description=r),g(r)}),a()(),o(22,"div",25)(23,"div",26)(24,"label"),l(25,"Location"),a(),o(26,"select",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.location,r)||(s.editing.location=r),g(r)}),o(27,"option",31),l(28,"-- Select Location --"),a(),M(29,UV,2,2,"option",32),a()(),o(30,"div",26)(31,"label"),l(32,"Cost Center"),a(),o(33,"select",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.costCenter,r)||(s.editing.costCenter=r),g(r)}),o(34,"option",31),l(35,"-- Select Cost Center --"),a(),M(36,BV,2,2,"option",32),a()()(),o(37,"div",26)(38,"label",34)(39,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.active,r)||(s.editing.active=r),g(r)}),a(),l(40," Active "),a()(),o(41,"div",36)(42,"button",37),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(43,"Cancel"),a(),o(44,"button",38),l(45),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditMode?"Edit":"Add"," Department"),c(9),C("ngModel",e.editing.code),c(4),C("ngModel",e.editing.name),c(4),C("ngModel",e.editing.description),c(5),C("ngModel",e.editing.location),c(),u("ngValue",null),c(2),u("ngForOf",e.locations),c(4),C("ngModel",e.editing.costCenter),c(),u("ngValue",null),c(2),u("ngForOf",e.costCenters),c(3),C("ngModel",e.editing.active),c(6),f(e.isEditMode?"Update":"Save")}}var tm=class n{constructor(t){this.orgService=t}departments=[];costCenters=[];locations=[];showModal=!1;isEditMode=!1;editing=this.getEmptyDepartment();ngOnInit(){this.loadData()}loadData(){this.orgService.getDepartments().subscribe({next:t=>this.departments=t,error:t=>console.error("Error loading departments:",t)}),this.orgService.getCostCenters().subscribe({next:t=>this.costCenters=t,error:t=>console.error("Error loading cost centers:",t)}),this.orgService.getLocations().subscribe({next:t=>this.locations=t,error:t=>console.error("Error loading locations:",t)})}getEmptyDepartment(){return{code:"",name:"",description:"",active:!0}}openModal(){this.isEditMode=!1,this.editing=this.getEmptyDepartment(),this.showModal=!0}openEditModal(t){this.isEditMode=!0,this.editing=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}save(){this.isEditMode&&this.editing.id?this.orgService.updateDepartment(this.editing.id,this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.orgService.createDepartment(this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating:",t)})}delete(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.orgService.deleteDepartment(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(_t))};static \u0275cmp=k({type:n,selectors:[["app-departments"]],standalone:!1,decls:46,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","7",1,"text-center"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","code","required","","placeholder","Enter department code",3,"ngModelChange","ngModel"],["type","text","name","name","required","","placeholder","Enter department name",3,"ngModelChange","ngModel"],["name","description","placeholder","Enter description",3,"ngModelChange","ngModel"],["name","location",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","costCenter",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox","name","active",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Departments"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Organization"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Departments"),a()()(),o(20,"button",4),_("click",function(){return i.openModal()}),v(21,"i",5),l(22," Add Department "),a()(),o(23,"div",6)(24,"div",7)(25,"table",8)(26,"thead")(27,"tr")(28,"th"),l(29,"Code"),a(),o(30,"th"),l(31,"Name"),a(),o(32,"th"),l(33,"Description"),a(),o(34,"th"),l(35,"Location"),a(),o(36,"th"),l(37,"Cost Center"),a(),o(38,"th"),l(39,"Status"),a(),o(40,"th"),l(41,"Actions"),a()()(),o(42,"tbody"),M(43,VV,3,0,"tr",9)(44,LV,20,10,"tr",10),a()()()()(),M(45,WV,46,12,"div",11)),e&2&&(c(43),u("ngIf",i.departments.length===0),c(),u("ngForOf",i.departments),c(),u("ngIf",i.showModal))},dependencies:[A,N,ot,z,G,B,fe,H,V,rt,ve,F,tt,Z],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}']})};function jV(n,t){n&1&&(o(0,"tr")(1,"td",12),l(2,'No locations found. Click "Add Location" to create one.'),a()())}function qV(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td")(14,"span",13),l(15),a()(),o(16,"td")(17,"div",14)(18,"button",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(19,"i",16),a(),o(20,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.delete(r))}),v(21,"i",18),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.locationType||"-"),c(2),f(e.city||"-"),c(2),f(e.country||"-"),c(2),f(e.phone||"-"),c(2),L("badge-success",e.active)("badge-secondary",!e.active),c(),E(" ",e.active?"Active":"Inactive"," ")}}function HV(n,t){if(n&1&&(o(0,"option",44),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function zV(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"form",24),_("ngSubmit",function(){m(e);let r=d();return g(r.save())}),o(9,"div",25)(10,"div",26)(11,"label"),l(12,"Code *"),a(),o(13,"input",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.code,r)||(s.editing.code=r),g(r)}),a()(),o(14,"div",26)(15,"label"),l(16,"Name *"),a(),o(17,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.name,r)||(s.editing.name=r),g(r)}),a()()(),o(18,"div",25)(19,"div",26)(20,"label"),l(21,"Location Type"),a(),o(22,"select",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.locationType,r)||(s.editing.locationType=r),g(r)}),o(23,"option",30),l(24,"-- Select Type --"),a(),M(25,HV,2,2,"option",31),a()(),o(26,"div",26)(27,"label"),l(28,"Email"),a(),o(29,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.email,r)||(s.editing.email=r),g(r)}),a()()(),o(30,"div",26)(31,"label"),l(32,"Address"),a(),o(33,"textarea",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.address,r)||(s.editing.address=r),g(r)}),a()(),o(34,"div",25)(35,"div",26)(36,"label"),l(37,"City"),a(),o(38,"input",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.city,r)||(s.editing.city=r),g(r)}),a()(),o(39,"div",26)(40,"label"),l(41,"State"),a(),o(42,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.state,r)||(s.editing.state=r),g(r)}),a()()(),o(43,"div",25)(44,"div",26)(45,"label"),l(46,"Country"),a(),o(47,"input",36),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.country,r)||(s.editing.country=r),g(r)}),a()(),o(48,"div",26)(49,"label"),l(50,"ZIP Code"),a(),o(51,"input",37),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.zipCode,r)||(s.editing.zipCode=r),g(r)}),a()()(),o(52,"div",25)(53,"div",26)(54,"label"),l(55,"Phone"),a(),o(56,"input",38),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.phone,r)||(s.editing.phone=r),g(r)}),a()(),o(57,"div",26)(58,"label",39)(59,"input",40),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.active,r)||(s.editing.active=r),g(r)}),a(),l(60," Active "),a()()(),o(61,"div",41)(62,"button",42),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(63,"Cancel"),a(),o(64,"button",43),l(65),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditMode?"Edit":"Add"," Location"),c(9),C("ngModel",e.editing.code),c(4),C("ngModel",e.editing.name),c(5),C("ngModel",e.editing.locationType),c(3),u("ngForOf",e.locationTypes),c(4),C("ngModel",e.editing.email),c(4),C("ngModel",e.editing.address),c(5),C("ngModel",e.editing.city),c(4),C("ngModel",e.editing.state),c(5),C("ngModel",e.editing.country),c(4),C("ngModel",e.editing.zipCode),c(5),C("ngModel",e.editing.phone),c(3),C("ngModel",e.editing.active),c(6),f(e.isEditMode?"Update":"Save")}}var nm=class n{constructor(t){this.orgService=t}locations=[];showModal=!1;isEditMode=!1;editing=this.getEmpty();locationTypes=["Headquarters","Branch","Warehouse","Office","Factory","Remote"];ngOnInit(){this.loadData()}loadData(){this.orgService.getLocations().subscribe({next:t=>this.locations=t,error:t=>console.error("Error loading locations:",t)})}getEmpty(){return{code:"",name:"",address:"",city:"",state:"",country:"",zipCode:"",phone:"",email:"",locationType:"",active:!0}}openModal(){this.isEditMode=!1,this.editing=this.getEmpty(),this.showModal=!0}openEditModal(t){this.isEditMode=!0,this.editing=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}save(){this.isEditMode&&this.editing.id?this.orgService.updateLocation(this.editing.id,this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.orgService.createLocation(this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating:",t)})}delete(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.orgService.deleteLocation(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(_t))};static \u0275cmp=k({type:n,selectors:[["app-locations"]],standalone:!1,decls:48,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","8",1,"text-center"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content","modal-lg",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","code","required","","placeholder","Enter location code",3,"ngModelChange","ngModel"],["type","text","name","name","required","","placeholder","Enter location name",3,"ngModelChange","ngModel"],["name","locationType",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","email","name","email","placeholder","Enter email",3,"ngModelChange","ngModel"],["name","address","placeholder","Enter address",3,"ngModelChange","ngModel"],["type","text","name","city","placeholder","Enter city",3,"ngModelChange","ngModel"],["type","text","name","state","placeholder","Enter state",3,"ngModelChange","ngModel"],["type","text","name","country","placeholder","Enter country",3,"ngModelChange","ngModel"],["type","text","name","zipCode","placeholder","Enter ZIP code",3,"ngModelChange","ngModel"],["type","text","name","phone","placeholder","Enter phone number",3,"ngModelChange","ngModel"],[1,"checkbox-label",2,"margin-top","30px"],["type","checkbox","name","active",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Locations"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Organization"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Locations"),a()()(),o(20,"button",4),_("click",function(){return i.openModal()}),v(21,"i",5),l(22," Add Location "),a()(),o(23,"div",6)(24,"div",7)(25,"table",8)(26,"thead")(27,"tr")(28,"th"),l(29,"Code"),a(),o(30,"th"),l(31,"Name"),a(),o(32,"th"),l(33,"Type"),a(),o(34,"th"),l(35,"City"),a(),o(36,"th"),l(37,"Country"),a(),o(38,"th"),l(39,"Phone"),a(),o(40,"th"),l(41,"Status"),a(),o(42,"th"),l(43,"Actions"),a()()(),o(44,"tbody"),M(45,jV,3,0,"tr",9)(46,qV,22,11,"tr",10),a()()()()(),M(47,zV,66,14,"div",11)),e&2&&(c(45),u("ngIf",i.locations.length===0),c(),u("ngForOf",i.locations),c(),u("ngIf",i.showModal))},dependencies:[A,N,ot,z,G,B,fe,H,V,rt,ve,F,tt,Z],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.modal-content.modal-lg[_ngcontent-%COMP%]{max-width:800px}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}']})};function GV(n,t){n&1&&(o(0,"tr")(1,"td",12),l(2,'No job roles found. Click "Add Job Role" to create one.'),a()())}function $V(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",13),l(11),a()(),o(12,"td")(13,"div",14)(14,"button",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(15,"i",16),a(),o(16,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.delete(r))}),v(17,"i",18),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.title),c(2),f((e.department==null?null:e.department.name)||"-"),c(2),f((e.grade==null?null:e.grade.name)||"-"),c(2),L("badge-success",e.active)("badge-secondary",!e.active),c(),E(" ",e.active?"Active":"Inactive"," ")}}function QV(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function JV(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function KV(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"form",24),_("ngSubmit",function(){m(e);let r=d();return g(r.save())}),o(9,"div",25)(10,"div",26)(11,"label"),l(12,"Code *"),a(),o(13,"input",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.code,r)||(s.editing.code=r),g(r)}),a()(),o(14,"div",26)(15,"label"),l(16,"Title *"),a(),o(17,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.title,r)||(s.editing.title=r),g(r)}),a()()(),o(18,"div",26)(19,"label"),l(20,"Description"),a(),o(21,"textarea",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.description,r)||(s.editing.description=r),g(r)}),a()(),o(22,"div",25)(23,"div",26)(24,"label"),l(25,"Department"),a(),o(26,"select",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.department,r)||(s.editing.department=r),g(r)}),o(27,"option",31),l(28,"-- Select Department --"),a(),M(29,QV,2,2,"option",32),a()(),o(30,"div",26)(31,"label"),l(32,"Grade"),a(),o(33,"select",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.grade,r)||(s.editing.grade=r),g(r)}),o(34,"option",31),l(35,"-- Select Grade --"),a(),M(36,JV,2,2,"option",32),a()()(),o(37,"div",26)(38,"label",34)(39,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.active,r)||(s.editing.active=r),g(r)}),a(),l(40," Active "),a()(),o(41,"div",36)(42,"button",37),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(43,"Cancel"),a(),o(44,"button",38),l(45),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditMode?"Edit":"Add"," Job Role"),c(9),C("ngModel",e.editing.code),c(4),C("ngModel",e.editing.title),c(4),C("ngModel",e.editing.description),c(5),C("ngModel",e.editing.department),c(),u("ngValue",null),c(2),u("ngForOf",e.departments),c(4),C("ngModel",e.editing.grade),c(),u("ngValue",null),c(2),u("ngForOf",e.grades),c(3),C("ngModel",e.editing.active),c(6),f(e.isEditMode?"Update":"Save")}}var im=class n{constructor(t){this.orgService=t}jobRoles=[];departments=[];grades=[];showModal=!1;isEditMode=!1;editing=this.getEmpty();ngOnInit(){this.loadData()}loadData(){this.orgService.getJobRoles().subscribe({next:t=>this.jobRoles=t,error:t=>console.error("Error loading job roles:",t)}),this.orgService.getDepartments().subscribe({next:t=>this.departments=t,error:t=>console.error("Error loading departments:",t)}),this.orgService.getGrades().subscribe({next:t=>this.grades=t,error:t=>console.error("Error loading grades:",t)})}getEmpty(){return{code:"",title:"",description:"",active:!0}}openModal(){this.isEditMode=!1,this.editing=this.getEmpty(),this.showModal=!0}openEditModal(t){this.isEditMode=!0,this.editing=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}save(){this.isEditMode&&this.editing.id?this.orgService.updateJobRole(this.editing.id,this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.orgService.createJobRole(this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating:",t)})}delete(t){t.id&&confirm(`Are you sure you want to delete "${t.title}"?`)&&this.orgService.deleteJobRole(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(_t))};static \u0275cmp=k({type:n,selectors:[["app-job-roles"]],standalone:!1,decls:44,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","6",1,"text-center"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","code","required","","placeholder","Enter job role code",3,"ngModelChange","ngModel"],["type","text","name","title","required","","placeholder","Enter job title",3,"ngModelChange","ngModel"],["name","description","placeholder","Enter description",3,"ngModelChange","ngModel"],["name","department",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","grade",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox","name","active",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Job Roles"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Organization"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Job Roles"),a()()(),o(20,"button",4),_("click",function(){return i.openModal()}),v(21,"i",5),l(22," Add Job Role "),a()(),o(23,"div",6)(24,"div",7)(25,"table",8)(26,"thead")(27,"tr")(28,"th"),l(29,"Code"),a(),o(30,"th"),l(31,"Title"),a(),o(32,"th"),l(33,"Department"),a(),o(34,"th"),l(35,"Grade"),a(),o(36,"th"),l(37,"Status"),a(),o(38,"th"),l(39,"Actions"),a()()(),o(40,"tbody"),M(41,GV,3,0,"tr",9)(42,$V,18,9,"tr",10),a()()()()(),M(43,KV,46,12,"div",11)),e&2&&(c(41),u("ngIf",i.jobRoles.length===0),c(),u("ngForOf",i.jobRoles),c(),u("ngIf",i.showModal))},dependencies:[A,N,ot,z,G,B,fe,H,V,rt,ve,F,tt,Z],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}']})};function YV(n,t){n&1&&(o(0,"tr")(1,"td",12),l(2,'No grades found. Click "Add Grade" to create one.'),a()())}function ZV(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),U(9,"currency"),a(),o(10,"td"),l(11),U(12,"currency"),a(),o(13,"td")(14,"span",13),l(15),a()(),o(16,"td")(17,"div",14)(18,"button",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(19,"i",16),a(),o(20,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.delete(r))}),v(21,"i",18),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.level),c(2),f(mn(9,10,e.minSalary)),c(3),f(mn(12,12,e.maxSalary)),c(3),L("badge-success",e.active)("badge-secondary",!e.active),c(),E(" ",e.active?"Active":"Inactive"," ")}}function XV(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"form",24),_("ngSubmit",function(){m(e);let r=d();return g(r.save())}),o(9,"div",25)(10,"div",26)(11,"label"),l(12,"Code *"),a(),o(13,"input",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.code,r)||(s.editing.code=r),g(r)}),a()(),o(14,"div",26)(15,"label"),l(16,"Name *"),a(),o(17,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.name,r)||(s.editing.name=r),g(r)}),a()()(),o(18,"div",26)(19,"label"),l(20,"Description"),a(),o(21,"textarea",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.description,r)||(s.editing.description=r),g(r)}),a()(),o(22,"div",25)(23,"div",26)(24,"label"),l(25,"Level"),a(),o(26,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.level,r)||(s.editing.level=r),g(r)}),a()()(),o(27,"div",25)(28,"div",26)(29,"label"),l(30,"Min Salary"),a(),o(31,"input",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.minSalary,r)||(s.editing.minSalary=r),g(r)}),a()(),o(32,"div",26)(33,"label"),l(34,"Max Salary"),a(),o(35,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.maxSalary,r)||(s.editing.maxSalary=r),g(r)}),a()()(),o(36,"div",26)(37,"label",33)(38,"input",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.active,r)||(s.editing.active=r),g(r)}),a(),l(39," Active "),a()(),o(40,"div",35)(41,"button",36),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(42,"Cancel"),a(),o(43,"button",37),l(44),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditMode?"Edit":"Add"," Grade"),c(9),C("ngModel",e.editing.code),c(4),C("ngModel",e.editing.name),c(4),C("ngModel",e.editing.description),c(5),C("ngModel",e.editing.level),c(5),C("ngModel",e.editing.minSalary),c(4),C("ngModel",e.editing.maxSalary),c(3),C("ngModel",e.editing.active),c(6),f(e.isEditMode?"Update":"Save")}}var rm=class n{constructor(t){this.orgService=t}grades=[];showModal=!1;isEditMode=!1;editing=this.getEmpty();ngOnInit(){this.loadData()}loadData(){this.orgService.getGrades().subscribe({next:t=>this.grades=t,error:t=>console.error("Error loading grades:",t)})}getEmpty(){return{code:"",name:"",description:"",level:1,minSalary:0,maxSalary:0,active:!0}}openModal(){this.isEditMode=!1,this.editing=this.getEmpty(),this.showModal=!0}openEditModal(t){this.isEditMode=!0,this.editing=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}save(){this.isEditMode&&this.editing.id?this.orgService.updateGrade(this.editing.id,this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.orgService.createGrade(this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating:",t)})}delete(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.orgService.deleteGrade(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(_t))};static \u0275cmp=k({type:n,selectors:[["app-grades"]],standalone:!1,decls:46,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","7",1,"text-center"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","code","required","","placeholder","Enter grade code",3,"ngModelChange","ngModel"],["type","text","name","name","required","","placeholder","Enter grade name",3,"ngModelChange","ngModel"],["name","description","placeholder","Enter description",3,"ngModelChange","ngModel"],["type","number","name","level","min","1","placeholder","Enter level",3,"ngModelChange","ngModel"],["type","number","name","minSalary","min","0","placeholder","Enter minimum salary",3,"ngModelChange","ngModel"],["type","number","name","maxSalary","min","0","placeholder","Enter maximum salary",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox","name","active",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Grades"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Organization"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Grades"),a()()(),o(20,"button",4),_("click",function(){return i.openModal()}),v(21,"i",5),l(22," Add Grade "),a()(),o(23,"div",6)(24,"div",7)(25,"table",8)(26,"thead")(27,"tr")(28,"th"),l(29,"Code"),a(),o(30,"th"),l(31,"Name"),a(),o(32,"th"),l(33,"Level"),a(),o(34,"th"),l(35,"Min Salary"),a(),o(36,"th"),l(37,"Max Salary"),a(),o(38,"th"),l(39,"Status"),a(),o(40,"th"),l(41,"Actions"),a()()(),o(42,"tbody"),M(43,YV,3,0,"tr",9)(44,ZV,22,14,"tr",10),a()()()()(),M(45,XV,45,9,"div",11)),e&2&&(c(43),u("ngIf",i.grades.length===0),c(),u("ngForOf",i.grades),c(),u("ngIf",i.showModal))},dependencies:[A,N,ot,B,pe,fe,V,rt,ve,Se,F,tt,Z,$f],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}']})};function e7(n,t){n&1&&(o(0,"tr")(1,"td",12),l(2,'No designations found. Click "Add Designation" to create one.'),a()())}function t7(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",13),l(11),a()(),o(12,"td")(13,"div",14)(14,"button",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(15,"i",16),a(),o(16,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.delete(r))}),v(17,"i",18),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.title),c(2),f((e.grade==null?null:e.grade.name)||"-"),c(2),f(e.description||"-"),c(2),L("badge-success",e.active)("badge-secondary",!e.active),c(),E(" ",e.active?"Active":"Inactive"," ")}}function n7(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function i7(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"form",24),_("ngSubmit",function(){m(e);let r=d();return g(r.save())}),o(9,"div",25)(10,"div",26)(11,"label"),l(12,"Code *"),a(),o(13,"input",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.code,r)||(s.editing.code=r),g(r)}),a()(),o(14,"div",26)(15,"label"),l(16,"Title *"),a(),o(17,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.title,r)||(s.editing.title=r),g(r)}),a()()(),o(18,"div",26)(19,"label"),l(20,"Description"),a(),o(21,"textarea",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.description,r)||(s.editing.description=r),g(r)}),a()(),o(22,"div",26)(23,"label"),l(24,"Grade"),a(),o(25,"select",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.grade,r)||(s.editing.grade=r),g(r)}),o(26,"option",31),l(27,"-- Select Grade --"),a(),M(28,n7,2,2,"option",32),a()(),o(29,"div",26)(30,"label",33)(31,"input",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.active,r)||(s.editing.active=r),g(r)}),a(),l(32," Active "),a()(),o(33,"div",35)(34,"button",36),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(35,"Cancel"),a(),o(36,"button",37),l(37),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditMode?"Edit":"Add"," Designation"),c(9),C("ngModel",e.editing.code),c(4),C("ngModel",e.editing.title),c(4),C("ngModel",e.editing.description),c(4),C("ngModel",e.editing.grade),c(),u("ngValue",null),c(2),u("ngForOf",e.grades),c(3),C("ngModel",e.editing.active),c(6),f(e.isEditMode?"Update":"Save")}}var om=class n{constructor(t){this.orgService=t}designations=[];grades=[];showModal=!1;isEditMode=!1;editing=this.getEmpty();ngOnInit(){this.loadData()}loadData(){this.orgService.getDesignations().subscribe({next:t=>this.designations=t,error:t=>console.error("Error loading designations:",t)}),this.orgService.getGrades().subscribe({next:t=>this.grades=t,error:t=>console.error("Error loading grades:",t)})}getEmpty(){return{code:"",title:"",description:"",active:!0}}openModal(){this.isEditMode=!1,this.editing=this.getEmpty(),this.showModal=!0}openEditModal(t){this.isEditMode=!0,this.editing=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}save(){this.isEditMode&&this.editing.id?this.orgService.updateDesignation(this.editing.id,this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.orgService.createDesignation(this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating:",t)})}delete(t){t.id&&confirm(`Are you sure you want to delete "${t.title}"?`)&&this.orgService.deleteDesignation(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(_t))};static \u0275cmp=k({type:n,selectors:[["app-designations"]],standalone:!1,decls:44,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","6",1,"text-center"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","code","required","","placeholder","Enter designation code",3,"ngModelChange","ngModel"],["type","text","name","title","required","","placeholder","Enter designation title",3,"ngModelChange","ngModel"],["name","description","placeholder","Enter description",3,"ngModelChange","ngModel"],["name","grade",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"checkbox-label"],["type","checkbox","name","active",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Designations"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Organization"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Designations"),a()()(),o(20,"button",4),_("click",function(){return i.openModal()}),v(21,"i",5),l(22," Add Designation "),a()(),o(23,"div",6)(24,"div",7)(25,"table",8)(26,"thead")(27,"tr")(28,"th"),l(29,"Code"),a(),o(30,"th"),l(31,"Title"),a(),o(32,"th"),l(33,"Grade"),a(),o(34,"th"),l(35,"Description"),a(),o(36,"th"),l(37,"Status"),a(),o(38,"th"),l(39,"Actions"),a()()(),o(40,"tbody"),M(41,e7,3,0,"tr",9)(42,t7,18,9,"tr",10),a()()()()(),M(43,i7,38,9,"div",11)),e&2&&(c(41),u("ngIf",i.designations.length===0),c(),u("ngForOf",i.designations),c(),u("ngIf",i.showModal))},dependencies:[A,N,ot,z,G,B,fe,H,V,rt,ve,F,tt,Z],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}']})};function r7(n,t){n&1&&(o(0,"tr")(1,"td",12),l(2,'No cost centers found. Click "Add Cost Center" to create one.'),a()())}function o7(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",13),l(11),a()(),o(12,"td")(13,"div",14)(14,"button",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(15,"i",16),a(),o(16,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.delete(r))}),v(17,"i",18),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.description||"-"),c(2),f((e.parent==null?null:e.parent.name)||"-"),c(2),L("badge-success",e.active)("badge-secondary",!e.active),c(),E(" ",e.active?"Active":"Inactive"," ")}}function a7(n,t){if(n&1&&(o(0,"option",38),l(1),a()),n&2){let e=t.$implicit,i=d(2);u("ngValue",e)("disabled",e.id===i.editing.id),c(),f(e.name)}}function s7(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"form",24),_("ngSubmit",function(){m(e);let r=d();return g(r.save())}),o(9,"div",25)(10,"div",26)(11,"label"),l(12,"Code *"),a(),o(13,"input",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.code,r)||(s.editing.code=r),g(r)}),a()(),o(14,"div",26)(15,"label"),l(16,"Name *"),a(),o(17,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.name,r)||(s.editing.name=r),g(r)}),a()()(),o(18,"div",26)(19,"label"),l(20,"Description"),a(),o(21,"textarea",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.description,r)||(s.editing.description=r),g(r)}),a()(),o(22,"div",26)(23,"label"),l(24,"Parent Cost Center"),a(),o(25,"select",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.parent,r)||(s.editing.parent=r),g(r)}),o(26,"option",31),l(27,"-- No Parent --"),a(),M(28,a7,2,3,"option",32),a()(),o(29,"div",26)(30,"label",33)(31,"input",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.active,r)||(s.editing.active=r),g(r)}),a(),l(32," Active "),a()(),o(33,"div",35)(34,"button",36),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(35,"Cancel"),a(),o(36,"button",37),l(37),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditMode?"Edit":"Add"," Cost Center"),c(9),C("ngModel",e.editing.code),c(4),C("ngModel",e.editing.name),c(4),C("ngModel",e.editing.description),c(4),C("ngModel",e.editing.parent),c(),u("ngValue",null),c(2),u("ngForOf",e.costCenters),c(3),C("ngModel",e.editing.active),c(6),f(e.isEditMode?"Update":"Save")}}var am=class n{constructor(t){this.orgService=t}costCenters=[];showModal=!1;isEditMode=!1;editing=this.getEmpty();ngOnInit(){this.loadData()}loadData(){this.orgService.getCostCenters().subscribe({next:t=>this.costCenters=t,error:t=>console.error("Error loading cost centers:",t)})}getEmpty(){return{code:"",name:"",description:"",active:!0}}openModal(){this.isEditMode=!1,this.editing=this.getEmpty(),this.showModal=!0}openEditModal(t){this.isEditMode=!0,this.editing=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}save(){this.isEditMode&&this.editing.id?this.orgService.updateCostCenter(this.editing.id,this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.orgService.createCostCenter(this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating:",t)})}delete(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.orgService.deleteCostCenter(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(_t))};static \u0275cmp=k({type:n,selectors:[["app-cost-centers"]],standalone:!1,decls:44,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","6",1,"text-center"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","code","required","","placeholder","Enter cost center code",3,"ngModelChange","ngModel"],["type","text","name","name","required","","placeholder","Enter cost center name",3,"ngModelChange","ngModel"],["name","description","placeholder","Enter description",3,"ngModelChange","ngModel"],["name","parent",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"checkbox-label"],["type","checkbox","name","active",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"ngValue","disabled"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Cost Centers"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Organization"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Cost Centers"),a()()(),o(20,"button",4),_("click",function(){return i.openModal()}),v(21,"i",5),l(22," Add Cost Center "),a()(),o(23,"div",6)(24,"div",7)(25,"table",8)(26,"thead")(27,"tr")(28,"th"),l(29,"Code"),a(),o(30,"th"),l(31,"Name"),a(),o(32,"th"),l(33,"Description"),a(),o(34,"th"),l(35,"Parent"),a(),o(36,"th"),l(37,"Status"),a(),o(38,"th"),l(39,"Actions"),a()()(),o(40,"tbody"),M(41,r7,3,0,"tr",9)(42,o7,18,9,"tr",10),a()()()()(),M(43,s7,38,9,"div",11)),e&2&&(c(41),u("ngIf",i.costCenters.length===0),c(),u("ngForOf",i.costCenters),c(),u("ngIf",i.showModal))},dependencies:[A,N,ot,z,G,B,fe,H,V,rt,ve,F,tt,Z],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}']})};function l7(n,t){n&1&&(o(0,"tr")(1,"td",12),l(2,'No expense centers found. Click "Add Expense Center" to create one.'),a()())}function c7(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td")(10,"span",13),l(11),a()(),o(12,"td")(13,"div",14)(14,"button",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(15,"i",16),a(),o(16,"button",17),_("click",function(){let r=m(e).$implicit,s=d();return g(s.delete(r))}),v(17,"i",18),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f(e.description||"-"),c(2),f((e.costCenter==null?null:e.costCenter.name)||"-"),c(2),L("badge-success",e.active)("badge-secondary",!e.active),c(),E(" ",e.active?"Active":"Inactive"," ")}}function d7(n,t){if(n&1&&(o(0,"option",31),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function p7(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"form",24),_("ngSubmit",function(){m(e);let r=d();return g(r.save())}),o(9,"div",25)(10,"div",26)(11,"label"),l(12,"Code *"),a(),o(13,"input",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.code,r)||(s.editing.code=r),g(r)}),a()(),o(14,"div",26)(15,"label"),l(16,"Name *"),a(),o(17,"input",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.name,r)||(s.editing.name=r),g(r)}),a()()(),o(18,"div",26)(19,"label"),l(20,"Description"),a(),o(21,"textarea",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.description,r)||(s.editing.description=r),g(r)}),a()(),o(22,"div",26)(23,"label"),l(24,"Cost Center"),a(),o(25,"select",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.costCenter,r)||(s.editing.costCenter=r),g(r)}),o(26,"option",31),l(27,"-- Select Cost Center --"),a(),M(28,d7,2,2,"option",32),a()(),o(29,"div",26)(30,"label",33)(31,"input",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.active,r)||(s.editing.active=r),g(r)}),a(),l(32," Active "),a()(),o(33,"div",35)(34,"button",36),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(35,"Cancel"),a(),o(36,"button",37),l(37),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditMode?"Edit":"Add"," Expense Center"),c(9),C("ngModel",e.editing.code),c(4),C("ngModel",e.editing.name),c(4),C("ngModel",e.editing.description),c(4),C("ngModel",e.editing.costCenter),c(),u("ngValue",null),c(2),u("ngForOf",e.costCenters),c(3),C("ngModel",e.editing.active),c(6),f(e.isEditMode?"Update":"Save")}}var sm=class n{constructor(t){this.orgService=t}expenseCenters=[];costCenters=[];showModal=!1;isEditMode=!1;editing=this.getEmpty();ngOnInit(){this.loadData()}loadData(){this.orgService.getExpenseCenters().subscribe({next:t=>this.expenseCenters=t,error:t=>console.error("Error loading expense centers:",t)}),this.orgService.getCostCenters().subscribe({next:t=>this.costCenters=t,error:t=>console.error("Error loading cost centers:",t)})}getEmpty(){return{code:"",name:"",description:"",active:!0}}openModal(){this.isEditMode=!1,this.editing=this.getEmpty(),this.showModal=!0}openEditModal(t){this.isEditMode=!0,this.editing=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}save(){this.isEditMode&&this.editing.id?this.orgService.updateExpenseCenter(this.editing.id,this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.orgService.createExpenseCenter(this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating:",t)})}delete(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.orgService.deleteExpenseCenter(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(_t))};static \u0275cmp=k({type:n,selectors:[["app-expense-centers"]],standalone:!1,decls:44,vars:3,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],["colspan","6",1,"text-center"],[1,"badge"],[1,"action-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","code","required","","placeholder","Enter expense center code",3,"ngModelChange","ngModel"],["type","text","name","name","required","","placeholder","Enter expense center name",3,"ngModelChange","ngModel"],["name","description","placeholder","Enter description",3,"ngModelChange","ngModel"],["name","costCenter",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"checkbox-label"],["type","checkbox","name","active",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Expense Centers"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Organization"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Expense Centers"),a()()(),o(20,"button",4),_("click",function(){return i.openModal()}),v(21,"i",5),l(22," Add Expense Center "),a()(),o(23,"div",6)(24,"div",7)(25,"table",8)(26,"thead")(27,"tr")(28,"th"),l(29,"Code"),a(),o(30,"th"),l(31,"Name"),a(),o(32,"th"),l(33,"Description"),a(),o(34,"th"),l(35,"Cost Center"),a(),o(36,"th"),l(37,"Status"),a(),o(38,"th"),l(39,"Actions"),a()()(),o(40,"tbody"),M(41,l7,3,0,"tr",9)(42,c7,18,9,"tr",10),a()()()()(),M(43,p7,38,9,"div",11)),e&2&&(c(41),u("ngIf",i.expenseCenters.length===0),c(),u("ngForOf",i.expenseCenters),c(),u("ngIf",i.showModal))},dependencies:[A,N,ot,z,G,B,fe,H,V,rt,ve,F,tt,Z],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}']})};var va=class n{constructor(t){this.http=t}baseUrl="/api/employees";getAll(){return this.http.get(this.baseUrl)}getActive(){return this.http.get(`${this.baseUrl}/active`)}search(t){return this.http.get(`${this.baseUrl}/search`,{params:{query:t}})}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}getByDepartment(t){return this.http.get(`${this.baseUrl}/by-department/${t}`)}getByDesignation(t){return this.http.get(`${this.baseUrl}/by-designation/${t}`)}getByLocation(t){return this.http.get(`${this.baseUrl}/by-location/${t}`)}getByManager(t){return this.http.get(`${this.baseUrl}/by-manager/${t}`)}getBankDetails(t){return this.http.get(`${this.baseUrl}/${t}/bank-details`)}createBankDetail(t,e){return this.http.post(`${this.baseUrl}/${t}/bank-details`,e)}updateBankDetail(t,e){return this.http.put(`${this.baseUrl}/bank-details/${t}`,e)}deleteBankDetail(t){return this.http.delete(`${this.baseUrl}/bank-details/${t}`)}getSalaryHistory(t){return this.http.get(`${this.baseUrl}/${t}/salary`)}getCurrentSalary(t){return this.http.get(`${this.baseUrl}/${t}/salary/current`)}createSalary(t,e){return this.http.post(`${this.baseUrl}/${t}/salary`,e)}getEducation(t){return this.http.get(`${this.baseUrl}/${t}/education`)}createEducation(t,e){return this.http.post(`${this.baseUrl}/${t}/education`,e)}updateEducation(t,e){return this.http.put(`${this.baseUrl}/education/${t}`,e)}deleteEducation(t){return this.http.delete(`${this.baseUrl}/education/${t}`)}getExperience(t){return this.http.get(`${this.baseUrl}/${t}/experience`)}createExperience(t,e){return this.http.post(`${this.baseUrl}/${t}/experience`,e)}updateExperience(t,e){return this.http.put(`${this.baseUrl}/experience/${t}`,e)}deleteExperience(t){return this.http.delete(`${this.baseUrl}/experience/${t}`)}getAssets(t){return this.http.get(`${this.baseUrl}/${t}/assets`)}createAsset(t,e){return this.http.post(`${this.baseUrl}/${t}/assets`,e)}updateAsset(t,e){return this.http.put(`${this.baseUrl}/assets/${t}`,e)}approveAsset(t,e){return this.http.put(`${this.baseUrl}/assets/${t}/approve`,null,{params:{status:e}})}deleteAsset(t){return this.http.delete(`${this.baseUrl}/assets/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function u7(n,t){if(n&1&&(o(0,"option",22),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function m7(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td")(4,"div",27)(5,"div",28),l(6),a(),o(7,"span"),l(8),a()()(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td"),l(14),a(),o(15,"td")(16,"span",29),l(17),a()(),o(18,"td")(19,"div",30)(20,"button",31),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewEmployee(r.id))}),v(21,"i",32),a(),o(22,"button",33),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.editEmployee(r.id))}),v(23,"i",34),a(),o(24,"button",35),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.deleteEmployee(r))}),v(25,"i",36),a()()()()}if(n&2){let e=t.$implicit,i=d(2);c(2),f(e.employeeCode),c(4),ne("",e.firstName==null?null:e.firstName.charAt(0),"",e.lastName==null?null:e.lastName.charAt(0)),c(2),ne("",e.firstName," ",e.lastName),c(2),f(e.email),c(2),f((e.department==null?null:e.department.name)||"-"),c(2),f((e.designation==null?null:e.designation.title)||"-"),c(2),u("ngClass",i.getStatusClass(e)),c(),E(" ",e.active?e.employmentStatus||"Active":"Inactive"," ")}}function g7(n,t){n&1&&(o(0,"tr")(1,"td",37),l(2,"No employees found"),a()())}function f7(n,t){if(n&1&&(o(0,"div",23)(1,"table",24)(2,"thead")(3,"tr")(4,"th"),l(5,"Employee Code"),a(),o(6,"th"),l(7,"Name"),a(),o(8,"th"),l(9,"Email"),a(),o(10,"th"),l(11,"Department"),a(),o(12,"th"),l(13,"Designation"),a(),o(14,"th"),l(15,"Status"),a(),o(16,"th"),l(17,"Actions"),a()()(),o(18,"tbody"),M(19,m7,26,10,"tr",25)(20,g7,3,0,"tr",26),a()()()),n&2){let e=d();c(19),u("ngForOf",e.filteredEmployees),c(),u("ngIf",e.filteredEmployees.length===0)}}function h7(n,t){n&1&&(o(0,"div",38),v(1,"i",39),l(2," Loading... "),a())}var lm=class n{constructor(t,e,i){this.employeeService=t;this.orgService=e;this.router=i}employees=[];filteredEmployees=[];departments=[];designations=[];searchQuery="";filterDepartment="";filterStatus="";loading=!1;ngOnInit(){this.loadData()}loadData(){this.loading=!0,this.employeeService.getAll().subscribe({next:t=>{this.employees=t,this.applyFilters(),this.loading=!1},error:t=>{console.error("Error loading employees:",t),this.loading=!1}}),this.orgService.getDepartments().subscribe({next:t=>this.departments=t,error:t=>console.error("Error loading departments:",t)}),this.orgService.getDesignations().subscribe({next:t=>this.designations=t,error:t=>console.error("Error loading designations:",t)})}applyFilters(){this.filteredEmployees=this.employees.filter(t=>{let e=!this.searchQuery||t.firstName.toLowerCase().includes(this.searchQuery.toLowerCase())||t.lastName.toLowerCase().includes(this.searchQuery.toLowerCase())||t.employeeCode.toLowerCase().includes(this.searchQuery.toLowerCase())||t.email.toLowerCase().includes(this.searchQuery.toLowerCase()),i=!this.filterDepartment||t.department&&t.department.id?.toString()===this.filterDepartment,r=!this.filterStatus||this.filterStatus==="active"&&t.active||this.filterStatus==="inactive"&&!t.active;return e&&i&&r})}onSearch(){this.applyFilters()}clearFilters(){this.searchQuery="",this.filterDepartment="",this.filterStatus="",this.applyFilters()}addEmployee(){this.router.navigate(["/app/hr/employees/new"])}viewEmployee(t){this.router.navigate(["/app/hr/employees",t])}editEmployee(t){this.router.navigate(["/app/hr/employees",t],{queryParams:{edit:!0}})}deleteEmployee(t){t.id&&confirm(`Are you sure you want to delete ${t.firstName} ${t.lastName}?`)&&this.employeeService.delete(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting employee:",e)})}getStatusClass(t){if(!t.active)return"status-inactive";switch(t.employmentStatus){case"CONFIRMED":return"status-confirmed";case"PROBATION":return"status-probation";case"NOTICE":return"status-notice";case"RESIGNED":return"status-resigned";default:return"status-active"}}get activeCount(){return this.filteredEmployees.filter(t=>t.active).length}static \u0275fac=function(e){return new(e||n)(w(va),w(_t),w(ue))};static \u0275cmp=k({type:n,selectors:[["app-employee-list"]],standalone:!1,decls:39,vars:8,consts:[[1,"employee-list-container"],[1,"page-header"],[1,"btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"filters-section"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search by name, code, or email...",3,"ngModelChange","ngModel"],[1,"filter-group"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","active"],["value","inactive"],[1,"btn-secondary",3,"click"],[1,"fas","fa-times"],[1,"stats-bar"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["class","table-container",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[3,"value"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"employee-name"],[1,"avatar"],[1,"status-badge",3,"ngClass"],[1,"action-buttons"],["title","View",1,"btn-icon",3,"click"],[1,"fas","fa-eye"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","btn-danger",3,"click"],[1,"fas","fa-trash"],["colspan","7",1,"no-data"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Employee Master"),a(),o(4,"button",2),_("click",function(){return i.addEmployee()}),v(5,"i",3),l(6," Add Employee "),a()(),o(7,"div",4)(8,"div",5),v(9,"i",6),o(10,"input",7),x("ngModelChange",function(s){return b(i.searchQuery,s)||(i.searchQuery=s),s}),_("ngModelChange",function(){return i.onSearch()}),a()(),o(11,"div",8)(12,"select",9),x("ngModelChange",function(s){return b(i.filterDepartment,s)||(i.filterDepartment=s),s}),_("ngModelChange",function(){return i.applyFilters()}),o(13,"option",10),l(14,"All Departments"),a(),M(15,u7,2,2,"option",11),a(),o(16,"select",9),x("ngModelChange",function(s){return b(i.filterStatus,s)||(i.filterStatus=s),s}),_("ngModelChange",function(){return i.applyFilters()}),o(17,"option",10),l(18,"All Status"),a(),o(19,"option",12),l(20,"Active"),a(),o(21,"option",13),l(22,"Inactive"),a()(),o(23,"button",14),_("click",function(){return i.clearFilters()}),v(24,"i",15),l(25," Clear "),a()()(),o(26,"div",16)(27,"div",17)(28,"span",18),l(29),a(),o(30,"span",19),l(31,"Total Employees"),a()(),o(32,"div",17)(33,"span",18),l(34),a(),o(35,"span",19),l(36,"Active"),a()()(),M(37,f7,21,2,"div",20)(38,h7,3,0,"div",21),a()),e&2&&(c(10),C("ngModel",i.searchQuery),c(2),C("ngModel",i.filterDepartment),c(3),u("ngForOf",i.departments),c(),C("ngModel",i.filterStatus),c(13),f(i.filteredEmployees.length),c(5),f(i.activeCount),c(3),u("ngIf",!i.loading),c(),u("ngIf",i.loading))},dependencies:[ae,A,N,z,G,B,H,V,F],styles:[".employee-list-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0;font-size:24px}.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn-secondary[_ngcontent-%COMP%]{background:#f0f0f0;color:#333;border:1px solid #ddd;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.filters-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;gap:16px;flex-wrap:wrap}.search-box[_ngcontent-%COMP%]{position:relative;flex:1;min-width:250px}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#999}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px 10px 36px;border:1px solid #ddd;border-radius:6px;font-size:14px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.filter-group[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:150px}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.stats-bar[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:20px;padding:16px;background:#f8f9fa;border-radius:8px}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:teal}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#666}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333;font-size:13px;text-transform:uppercase}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.employee-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:teal;color:#fff;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600}.status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.status-badge.status-active[_ngcontent-%COMP%], .status-badge.status-confirmed[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-badge.status-probation[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-badge.status-notice[_ngcontent-%COMP%], .status-badge.status-resigned[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.status-badge.status-inactive[_ngcontent-%COMP%]{background:#e2e3e5;color:#383d41}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;padding:6px;cursor:pointer;color:#666;border-radius:4px}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:teal}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#fee;color:#c00}.no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px!important}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:40px;color:teal;font-size:16px}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}"]})};var vr=class n{constructor(t){this.http=t}baseUrl="/api/documents";getCategories(){return this.http.get(`${this.baseUrl}/categories`)}getAllCategories(){return this.http.get(`${this.baseUrl}/categories/all`)}getCategoryById(t){return this.http.get(`${this.baseUrl}/categories/${t}`)}createCategory(t){return this.http.post(`${this.baseUrl}/categories`,t)}updateCategory(t,e){return this.http.put(`${this.baseUrl}/categories/${t}`,e)}deleteCategory(t){return this.http.delete(`${this.baseUrl}/categories/${t}`)}getTypes(){return this.http.get(`${this.baseUrl}/types`)}getAllTypes(){return this.http.get(`${this.baseUrl}/types/all`)}getTypesByCategory(t){return this.http.get(`${this.baseUrl}/types/by-category/${t}`)}getMandatoryTypes(){return this.http.get(`${this.baseUrl}/types/mandatory`)}getTypeById(t){return this.http.get(`${this.baseUrl}/types/${t}`)}createType(t){return this.http.post(`${this.baseUrl}/types`,t)}updateType(t,e){return this.http.put(`${this.baseUrl}/types/${t}`,e)}deleteType(t){return this.http.delete(`${this.baseUrl}/types/${t}`)}getEmployeeDocuments(t){return this.http.get(`${this.baseUrl}/employee/${t}`)}getEmployeeDocumentsByCategory(t,e){return this.http.get(`${this.baseUrl}/employee/${t}/category/${e}`)}getDocumentById(t){return this.http.get(`${this.baseUrl}/${t}`)}createDocument(t,e){return this.http.post(`${this.baseUrl}/employee/${t}`,e)}updateDocument(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}verifyDocument(t,e,i){let r=new wt().set("status",e);return i&&(r=r.set("remarks",i)),this.http.put(`${this.baseUrl}/${t}/verify`,null,{params:r})}deleteDocument(t){return this.http.delete(`${this.baseUrl}/${t}`)}getPendingVerification(){return this.http.get(`${this.baseUrl}/pending-verification`)}getExpiringDocuments(t=30){return this.http.get(`${this.baseUrl}/expiring`,{params:{days:t.toString()}})}getExpiredDocuments(){return this.http.get(`${this.baseUrl}/expired`)}getEmployeeDocumentStats(t){return this.http.get(`${this.baseUrl}/employee/${t}/stats`)}initCategories(){return this.http.post(`${this.baseUrl}/init-categories`,null,{responseType:"text"})}checkExpiry(){return this.http.post(`${this.baseUrl}/check-expiry`,null)}resetReminder(t){return this.http.put(`${this.baseUrl}/${t}/reset-reminder`,null)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var _7=(n,t,e,i)=>({"badge-success":n,"badge-primary":t,"badge-info":e,"badge-warning":i}),gM=(n,t,e)=>({"badge-warning":n,"badge-success":t,"badge-danger":e});function v7(n,t){n&1&&(o(0,"h2"),l(1,"New Employee"),a())}function y7(n,t){if(n&1&&(o(0,"h2"),l(1),a()),n&2){let e=d();c(),ne("",e.employee.firstName," ",e.employee.lastName)}}function C7(n,t){if(n&1&&(o(0,"span",12),l(1),a()),n&2){let e=d();c(),f(e.employee.employeeCode)}}function x7(n,t){if(n&1){let e=O();o(0,"button",16),_("click",function(){m(e);let r=d(2);return g(r.toggleEditMode())}),v(1,"i",17),l(2," Edit "),a()}}function b7(n,t){if(n&1){let e=O();o(0,"button",18),_("click",function(){m(e);let r=d(2);return g(r.saveEmployee())}),v(1,"i",19),l(2," Save "),a()}}function M7(n,t){if(n&1){let e=O();o(0,"button",16),_("click",function(){m(e);let r=d(2);return g(r.cancel())}),l(1,"Cancel"),a()}}function S7(n,t){if(n&1&&(o(0,"div",13),M(1,x7,3,0,"button",14)(2,b7,3,0,"button",15)(3,M7,2,0,"button",14),a()),n&2){let e=d();c(),u("ngIf",!e.isEditMode),c(),u("ngIf",e.isEditMode),c(),u("ngIf",e.isEditMode)}}function P7(n,t){if(n&1){let e=O();o(0,"div",13)(1,"button",18),_("click",function(){m(e);let r=d();return g(r.saveEmployee())}),v(2,"i",19),l(3," Save "),a(),o(4,"button",16),_("click",function(){m(e);let r=d();return g(r.cancel())}),l(5,"Cancel"),a()()}}function E7(n,t){if(n&1){let e=O();o(0,"div",20)(1,"div",21)(2,"h3"),l(3,"Basic Information"),a(),o(4,"div",22)(5,"div",23)(6,"label"),l(7,"Employee Code *"),a(),o(8,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.employeeCode,r)||(s.employee.employeeCode=r),g(r)}),a()(),o(9,"div",23)(10,"label"),l(11,"First Name *"),a(),o(12,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.firstName,r)||(s.employee.firstName=r),g(r)}),a()(),o(13,"div",23)(14,"label"),l(15,"Middle Name"),a(),o(16,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.middleName,r)||(s.employee.middleName=r),g(r)}),a()(),o(17,"div",23)(18,"label"),l(19,"Last Name *"),a(),o(20,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.lastName,r)||(s.employee.lastName=r),g(r)}),a()(),o(21,"div",23)(22,"label"),l(23,"Date of Birth"),a(),o(24,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.dateOfBirth,r)||(s.employee.dateOfBirth=r),g(r)}),a()(),o(25,"div",23)(26,"label"),l(27,"Gender"),a(),o(28,"select",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.gender,r)||(s.employee.gender=r),g(r)}),o(29,"option",27),l(30,"Select"),a(),o(31,"option",28),l(32,"Male"),a(),o(33,"option",29),l(34,"Female"),a(),o(35,"option",30),l(36,"Other"),a()()(),o(37,"div",23)(38,"label"),l(39,"Marital Status"),a(),o(40,"select",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.maritalStatus,r)||(s.employee.maritalStatus=r),g(r)}),o(41,"option",27),l(42,"Select"),a(),o(43,"option",31),l(44,"Single"),a(),o(45,"option",32),l(46,"Married"),a(),o(47,"option",33),l(48,"Divorced"),a(),o(49,"option",34),l(50,"Widowed"),a()()(),o(51,"div",23)(52,"label"),l(53,"Blood Group"),a(),o(54,"select",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.bloodGroup,r)||(s.employee.bloodGroup=r),g(r)}),o(55,"option",27),l(56,"Select"),a(),o(57,"option",35),l(58,"A+"),a(),o(59,"option",36),l(60,"A-"),a(),o(61,"option",37),l(62,"B+"),a(),o(63,"option",38),l(64,"B-"),a(),o(65,"option",39),l(66,"AB+"),a(),o(67,"option",40),l(68,"AB-"),a(),o(69,"option",41),l(70,"O+"),a(),o(71,"option",42),l(72,"O-"),a()()()()(),o(73,"div",21)(74,"h3"),l(75,"Identification & Work Authorization"),a(),o(76,"div",22)(77,"div",23)(78,"label"),l(79,"SSN"),a(),o(80,"input",43),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.ssn,r)||(s.employee.ssn=r),g(r)}),a()(),o(81,"div",23)(82,"label"),l(83,"National ID"),a(),o(84,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.nationalId,r)||(s.employee.nationalId=r),g(r)}),a()(),o(85,"div",23)(86,"label"),l(87,"Citizenship"),a(),o(88,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.citizenship,r)||(s.employee.citizenship=r),g(r)}),a()(),o(89,"div",23)(90,"label"),l(91,"Nationality"),a(),o(92,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.nationality,r)||(s.employee.nationality=r),g(r)}),a()(),o(93,"div",23)(94,"label"),l(95,"Passport Number"),a(),o(96,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.passportNumber,r)||(s.employee.passportNumber=r),g(r)}),a()(),o(97,"div",23)(98,"label"),l(99,"Passport Expiry"),a(),o(100,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.passportExpiry,r)||(s.employee.passportExpiry=r),g(r)}),a()(),o(101,"div",23)(102,"label"),l(103,"Visa Type"),a(),o(104,"select",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.visaType,r)||(s.employee.visaType=r),g(r)}),o(105,"option",27),l(106,"Select"),a(),o(107,"option",44),l(108,"H-1B"),a(),o(109,"option",45),l(110,"L-1"),a(),o(111,"option",46),l(112,"F-1 OPT"),a(),o(113,"option",47),l(114,"F-1 CPT"),a(),o(115,"option",48),l(116,"H-4 EAD"),a(),o(117,"option",49),l(118,"Green Card"),a(),o(119,"option",50),l(120,"US Citizen"),a(),o(121,"option",51),l(122,"TN Visa"),a(),o(123,"option",52),l(124,"E-2"),a(),o(125,"option",30),l(126,"Other"),a()()(),o(127,"div",23)(128,"label"),l(129,"Visa Expiry"),a(),o(130,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.visaExpiry,r)||(s.employee.visaExpiry=r),g(r)}),a()(),o(131,"div",23)(132,"label"),l(133,"I-9 Status"),a(),o(134,"select",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.i9Status,r)||(s.employee.i9Status=r),g(r)}),o(135,"option",27),l(136,"Select"),a(),o(137,"option",53),l(138,"Pending"),a(),o(139,"option",54),l(140,"Completed"),a(),o(141,"option",55),l(142,"Re-verified"),a(),o(143,"option",56),l(144,"Expired"),a()()(),o(145,"div",23)(146,"label"),l(147,"I-9 Expiry Date"),a(),o(148,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.i9ExpiryDate,r)||(s.employee.i9ExpiryDate=r),g(r)}),a()(),o(149,"div",23)(150,"label"),l(151,"Work Authorization Type"),a(),o(152,"select",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.workAuthorizationType,r)||(s.employee.workAuthorizationType=r),g(r)}),o(153,"option",27),l(154,"Select"),a(),o(155,"option",50),l(156,"US Citizen"),a(),o(157,"option",57),l(158,"Permanent Resident"),a(),o(159,"option",58),l(160,"Work Visa"),a(),o(161,"option",59),l(162,"EAD"),a(),o(163,"option",30),l(164,"Other"),a()()()()(),o(165,"div",21)(166,"h3"),l(167,"Contact Information"),a(),o(168,"div",22)(169,"div",23)(170,"label"),l(171,"Email *"),a(),o(172,"input",60),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.email,r)||(s.employee.email=r),g(r)}),a()(),o(173,"div",23)(174,"label"),l(175,"Phone"),a(),o(176,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.phone,r)||(s.employee.phone=r),g(r)}),a()(),o(177,"div",23)(178,"label"),l(179,"Mobile"),a(),o(180,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.mobile,r)||(s.employee.mobile=r),g(r)}),a()()()(),o(181,"div",21)(182,"h3"),l(183,"Permanent Address"),a(),o(184,"div",22)(185,"div",61)(186,"label"),l(187,"Street Address"),a(),o(188,"textarea",62),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.permanentAddress,r)||(s.employee.permanentAddress=r),g(r)}),a()(),o(189,"div",23)(190,"label"),l(191,"City"),a(),o(192,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.permanentCity,r)||(s.employee.permanentCity=r),g(r)}),a()(),o(193,"div",23)(194,"label"),l(195,"State"),a(),o(196,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.permanentState,r)||(s.employee.permanentState=r),g(r)}),a()(),o(197,"div",23)(198,"label"),l(199,"Country"),a(),o(200,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.permanentCountry,r)||(s.employee.permanentCountry=r),g(r)}),a()(),o(201,"div",23)(202,"label"),l(203,"Zip Code"),a(),o(204,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.permanentZipCode,r)||(s.employee.permanentZipCode=r),g(r)}),a()()()(),o(205,"div",21)(206,"h3"),l(207,"Current Address"),a(),o(208,"div",22)(209,"div",61)(210,"label"),l(211,"Street Address"),a(),o(212,"textarea",62),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.currentAddress,r)||(s.employee.currentAddress=r),g(r)}),a()(),o(213,"div",23)(214,"label"),l(215,"City"),a(),o(216,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.currentCity,r)||(s.employee.currentCity=r),g(r)}),a()(),o(217,"div",23)(218,"label"),l(219,"State"),a(),o(220,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.currentState,r)||(s.employee.currentState=r),g(r)}),a()(),o(221,"div",23)(222,"label"),l(223,"Country"),a(),o(224,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.currentCountry,r)||(s.employee.currentCountry=r),g(r)}),a()(),o(225,"div",23)(226,"label"),l(227,"Zip Code"),a(),o(228,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.currentZipCode,r)||(s.employee.currentZipCode=r),g(r)}),a()()()(),o(229,"div",21)(230,"h3"),l(231,"Emergency Contact"),a(),o(232,"div",22)(233,"div",23)(234,"label"),l(235,"Contact Name"),a(),o(236,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.emergencyContactName,r)||(s.employee.emergencyContactName=r),g(r)}),a()(),o(237,"div",23)(238,"label"),l(239,"Contact Phone"),a(),o(240,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.emergencyContactPhone,r)||(s.employee.emergencyContactPhone=r),g(r)}),a()(),o(241,"div",23)(242,"label"),l(243,"Relationship"),a(),o(244,"input",24),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.emergencyContactRelation,r)||(s.employee.emergencyContactRelation=r),g(r)}),a()()()()()}if(n&2){let e=d();c(8),C("ngModel",e.employee.employeeCode),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.firstName),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.middleName),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.lastName),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.dateOfBirth),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.gender),u("disabled",!e.isEditMode),c(12),C("ngModel",e.employee.maritalStatus),u("disabled",!e.isEditMode),c(14),C("ngModel",e.employee.bloodGroup),u("disabled",!e.isEditMode),c(26),C("ngModel",e.employee.ssn),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.nationalId),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.citizenship),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.nationality),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.passportNumber),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.passportExpiry),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.visaType),u("disabled",!e.isEditMode),c(26),C("ngModel",e.employee.visaExpiry),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.i9Status),u("disabled",!e.isEditMode),c(14),C("ngModel",e.employee.i9ExpiryDate),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.workAuthorizationType),u("disabled",!e.isEditMode),c(20),C("ngModel",e.employee.email),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.phone),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.mobile),u("disabled",!e.isEditMode),c(8),C("ngModel",e.employee.permanentAddress),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.permanentCity),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.permanentState),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.permanentCountry),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.permanentZipCode),u("disabled",!e.isEditMode),c(8),C("ngModel",e.employee.currentAddress),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.currentCity),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.currentState),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.currentCountry),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.currentZipCode),u("disabled",!e.isEditMode),c(8),C("ngModel",e.employee.emergencyContactName),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.emergencyContactPhone),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.emergencyContactRelation),u("disabled",!e.isEditMode)}}function w7(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function O7(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.title)}}function I7(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function D7(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.title)}}function T7(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function k7(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function R7(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function A7(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),ne("",e.firstName," ",e.lastName)}}function N7(n,t){if(n&1){let e=O();o(0,"div",20)(1,"div",21)(2,"h3"),l(3,"Organization Details"),a(),o(4,"div",22)(5,"div",23)(6,"label"),l(7,"Department"),a(),o(8,"select",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.department,r)||(s.employee.department=r),g(r)}),o(9,"option",64),l(10,"Select"),a(),M(11,w7,2,2,"option",65),a()(),o(12,"div",23)(13,"label"),l(14,"Designation"),a(),o(15,"select",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.designation,r)||(s.employee.designation=r),g(r)}),o(16,"option",64),l(17,"Select"),a(),M(18,O7,2,2,"option",65),a()(),o(19,"div",23)(20,"label"),l(21,"Grade"),a(),o(22,"select",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.grade,r)||(s.employee.grade=r),g(r)}),o(23,"option",64),l(24,"Select"),a(),M(25,I7,2,2,"option",65),a()(),o(26,"div",23)(27,"label"),l(28,"Job Role"),a(),o(29,"select",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.jobRole,r)||(s.employee.jobRole=r),g(r)}),o(30,"option",64),l(31,"Select"),a(),M(32,D7,2,2,"option",65),a()(),o(33,"div",23)(34,"label"),l(35,"Location"),a(),o(36,"select",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.location,r)||(s.employee.location=r),g(r)}),o(37,"option",64),l(38,"Select"),a(),M(39,T7,2,2,"option",65),a()(),o(40,"div",23)(41,"label"),l(42,"Cost Center"),a(),o(43,"select",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.costCenter,r)||(s.employee.costCenter=r),g(r)}),o(44,"option",64),l(45,"Select"),a(),M(46,k7,2,2,"option",65),a()(),o(47,"div",23)(48,"label"),l(49,"Expense Center"),a(),o(50,"select",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.expenseCenter,r)||(s.employee.expenseCenter=r),g(r)}),o(51,"option",64),l(52,"Select"),a(),M(53,R7,2,2,"option",65),a()(),o(54,"div",23)(55,"label"),l(56,"Reporting Manager"),a(),o(57,"select",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.reportingManager,r)||(s.employee.reportingManager=r),g(r)}),o(58,"option",64),l(59,"Select"),a(),M(60,A7,2,3,"option",65),a()()()(),o(61,"div",21)(62,"h3"),l(63,"Employment Details"),a(),o(64,"div",22)(65,"div",23)(66,"label"),l(67,"Employment Type"),a(),o(68,"select",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.employmentType,r)||(s.employee.employmentType=r),g(r)}),o(69,"option",66),l(70,"Full Time"),a(),o(71,"option",67),l(72,"Part Time"),a(),o(73,"option",68),l(74,"W-2 Employee"),a(),o(75,"option",69),l(76,"1099 Contractor"),a(),o(77,"option",70),l(78,"Union Employee"),a(),o(79,"option",71),l(80,"Contract"),a(),o(81,"option",72),l(82,"Intern"),a(),o(83,"option",73),l(84,"Consultant"),a()()(),o(85,"div",23)(86,"label"),l(87,"Employment Status"),a(),o(88,"select",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.employmentStatus,r)||(s.employee.employmentStatus=r),g(r)}),o(89,"option",74),l(90,"Probation"),a(),o(91,"option",75),l(92,"Confirmed"),a(),o(93,"option",76),l(94,"Notice Period"),a(),o(95,"option",77),l(96,"Resigned"),a(),o(97,"option",78),l(98,"Terminated"),a()()(),o(99,"div",23)(100,"label"),l(101,"Joining Date"),a(),o(102,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.joiningDate,r)||(s.employee.joiningDate=r),g(r)}),a()(),o(103,"div",23)(104,"label"),l(105,"Confirmation Date"),a(),o(106,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.confirmationDate,r)||(s.employee.confirmationDate=r),g(r)}),a()(),o(107,"div",23)(108,"label"),l(109,"Probation Period (Months)"),a(),o(110,"input",79),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.probationMonths,r)||(s.employee.probationMonths=r),g(r)}),a()(),o(111,"div",23)(112,"label"),l(113,"Notice Period (Days)"),a(),o(114,"input",79),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.noticePeriodDays,r)||(s.employee.noticePeriodDays=r),g(r)}),a()(),o(115,"div",23)(116,"label"),l(117,"Resignation Date"),a(),o(118,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.resignationDate,r)||(s.employee.resignationDate=r),g(r)}),a()(),o(119,"div",23)(120,"label"),l(121,"Last Working Date"),a(),o(122,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.lastWorkingDate,r)||(s.employee.lastWorkingDate=r),g(r)}),a()(),o(123,"div",23)(124,"label"),l(125,"Status"),a(),o(126,"label",80)(127,"input",81),x("ngModelChange",function(r){m(e);let s=d();return b(s.employee.active,r)||(s.employee.active=r),g(r)}),a(),l(128," Active "),a()()()()()}if(n&2){let e=d();c(8),C("ngModel",e.employee.department),u("compareWith",e.compareById)("disabled",!e.isEditMode),c(),u("ngValue",null),c(2),u("ngForOf",e.departments),c(4),C("ngModel",e.employee.designation),u("compareWith",e.compareById)("disabled",!e.isEditMode),c(),u("ngValue",null),c(2),u("ngForOf",e.designations),c(4),C("ngModel",e.employee.grade),u("compareWith",e.compareById)("disabled",!e.isEditMode),c(),u("ngValue",null),c(2),u("ngForOf",e.grades),c(4),C("ngModel",e.employee.jobRole),u("compareWith",e.compareById)("disabled",!e.isEditMode),c(),u("ngValue",null),c(2),u("ngForOf",e.jobRoles),c(4),C("ngModel",e.employee.location),u("compareWith",e.compareById)("disabled",!e.isEditMode),c(),u("ngValue",null),c(2),u("ngForOf",e.locations),c(4),C("ngModel",e.employee.costCenter),u("compareWith",e.compareById)("disabled",!e.isEditMode),c(),u("ngValue",null),c(2),u("ngForOf",e.costCenters),c(4),C("ngModel",e.employee.expenseCenter),u("compareWith",e.compareById)("disabled",!e.isEditMode),c(),u("ngValue",null),c(2),u("ngForOf",e.expenseCenters),c(4),C("ngModel",e.employee.reportingManager),u("compareWith",e.compareById)("disabled",!e.isEditMode),c(),u("ngValue",null),c(2),u("ngForOf",e.employees),c(8),C("ngModel",e.employee.employmentType),u("disabled",!e.isEditMode),c(20),C("ngModel",e.employee.employmentStatus),u("disabled",!e.isEditMode),c(14),C("ngModel",e.employee.joiningDate),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.confirmationDate),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.probationMonths),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.noticePeriodDays),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.resignationDate),u("disabled",!e.isEditMode),c(4),C("ngModel",e.employee.lastWorkingDate),u("disabled",!e.isEditMode),c(5),C("ngModel",e.employee.active),u("disabled",!e.isEditMode)}}function F7(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"span",89),l(13),a()(),o(14,"td")(15,"button",90),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.openBankModal(r))}),v(16,"i",17),a(),o(17,"button",91),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.deleteBankDetail(r))}),v(18,"i",92),a()()()}if(n&2){let e=t.$implicit;c(2),f(e.bankName),c(2),f(e.branchName),c(2),f(e.accountNumber),c(2),f(e.accountType),c(2),f(e.ifscCode),c(2),L("badge-primary",e.isPrimary),c(),f(e.isPrimary?"Yes":"No")}}function V7(n,t){if(n&1&&(o(0,"table",87)(1,"thead")(2,"tr")(3,"th"),l(4,"Bank Name"),a(),o(5,"th"),l(6,"Branch"),a(),o(7,"th"),l(8,"Account Number"),a(),o(9,"th"),l(10,"Account Type"),a(),o(11,"th"),l(12,"IFSC Code"),a(),o(13,"th"),l(14,"Primary"),a(),o(15,"th"),l(16,"Actions"),a()()(),o(17,"tbody"),M(18,F7,19,8,"tr",88),a()()),n&2){let e=d(2);c(18),u("ngForOf",e.bankDetails)}}function L7(n,t){n&1&&(o(0,"p",93),l(1,"No bank details added"),a())}function U7(n,t){if(n&1){let e=O();o(0,"div",20)(1,"div",82)(2,"h3"),l(3,"Bank Details"),a(),o(4,"button",83),_("click",function(){m(e);let r=d();return g(r.openBankModal())}),v(5,"i",84),l(6," Add Bank "),a()(),M(7,V7,19,1,"table",85)(8,L7,2,0,"p",86),a()}if(n&2){let e=d();c(7),u("ngIf",e.bankDetails.length>0),c(),u("ngIf",e.bankDetails.length===0)}}function B7(n,t){n&1&&(o(0,"span",96),l(1,"Current"),a())}function W7(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),U(5,"number"),a(),o(6,"td"),l(7),U(8,"number"),a(),o(9,"td"),l(10),U(11,"number"),a(),o(12,"td"),l(13),U(14,"number"),a(),o(15,"td"),l(16),U(17,"number"),a(),o(18,"td"),l(19),U(20,"number"),a(),o(21,"td"),M(22,B7,2,0,"span",95),a()()),n&2){let e=t.$implicit;L("current-row",e.isCurrent),c(2),f(e.effectiveFrom),c(2),f(mn(5,10,e.basicSalary)),c(3),f(mn(8,12,e.hraAmount)),c(3),f(mn(11,14,e.grossSalary)),c(3),f(mn(14,16,(e.pfDeduction||0)+(e.tdsDeduction||0)+(e.otherDeductions||0))),c(3),f(mn(17,18,e.netSalary)),c(3),f(mn(20,20,e.ctcAnnual)),c(3),u("ngIf",e.isCurrent)}}function j7(n,t){if(n&1&&(o(0,"table",87)(1,"thead")(2,"tr")(3,"th"),l(4,"Effective From"),a(),o(5,"th"),l(6,"Basic"),a(),o(7,"th"),l(8,"HRA"),a(),o(9,"th"),l(10,"Gross"),a(),o(11,"th"),l(12,"Deductions"),a(),o(13,"th"),l(14,"Net"),a(),o(15,"th"),l(16,"CTC"),a(),o(17,"th"),l(18,"Current"),a()()(),o(19,"tbody"),M(20,W7,23,22,"tr",94),a()()),n&2){let e=d(2);c(20),u("ngForOf",e.salaryHistory)}}function q7(n,t){n&1&&(o(0,"p",93),l(1,"No salary records"),a())}function H7(n,t){if(n&1){let e=O();o(0,"div",20)(1,"div",82)(2,"h3"),l(3,"Salary History"),a(),o(4,"button",83),_("click",function(){m(e);let r=d();return g(r.openSalaryModal())}),v(5,"i",84),l(6," Add Salary Revision "),a()(),M(7,j7,21,1,"table",85)(8,q7,2,0,"p",86),a()}if(n&2){let e=d();c(7),u("ngIf",e.salaryHistory.length>0),c(),u("ngIf",e.salaryHistory.length===0)}}function z7(n,t){n&1&&(o(0,"div",99),v(1,"i",100),l(2," Save employee first to add CTC history records. "),a())}function G7(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),U(9,"number"),a(),o(10,"td"),l(11),a(),o(12,"td")(13,"span",101),l(14),a()(),o(15,"td"),l(16),a()()),n&2){let e=t.$implicit,i=t.index,r=d(3);L("current-row",e.isCurrent),c(2),E("v",r.salaryHistory.length-i),c(2),f(e.effectiveFrom),c(2),f(e.effectiveTo||"-"),c(2),f($(9,10,e.ctcAnnual,"1.0-0")),c(3),f(r.getPayFrequencyLabel(e.payFrequency)),c(2),u("ngClass",Pf(13,_7,e.changeReason==="PROMOTION",e.changeReason==="INCREMENT",e.changeReason==="REVISION"||e.changeReason==="NEW_HIRE",e.changeReason==="TRANSFER"||e.changeReason==="CORRECTION")),c(),f(r.getChangeReasonLabel(e.changeReason)),c(2),f(e.remarks||"-")}}function $7(n,t){if(n&1&&(o(0,"table",87)(1,"thead")(2,"tr")(3,"th"),l(4,"Version"),a(),o(5,"th"),l(6,"Effective From"),a(),o(7,"th"),l(8,"Effective To"),a(),o(9,"th"),l(10,"CTC (Annual)"),a(),o(11,"th"),l(12,"Pay Frequency"),a(),o(13,"th"),l(14,"Change Reason"),a(),o(15,"th"),l(16,"Remarks"),a()()(),o(17,"tbody"),M(18,G7,17,18,"tr",94),a()()),n&2){let e=d(2);c(18),u("ngForOf",e.salaryHistory)}}function Q7(n,t){n&1&&(o(0,"p",93),l(1,"No CTC history records"),a())}function J7(n,t){if(n&1&&(o(0,"div",20)(1,"div",82)(2,"h3"),l(3,"CTC History"),a(),o(4,"p",97),l(5,"Version-wise salary history with change justification"),a()(),M(6,z7,3,0,"div",98)(7,$7,19,1,"table",85)(8,Q7,2,0,"p",86),a()),n&2){let e=d();c(6),u("ngIf",e.isNewEmployee),c(),u("ngIf",e.salaryHistory.length>0&&!e.isNewEmployee),c(),u("ngIf",e.salaryHistory.length===0&&!e.isNewEmployee)}}function K7(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td")(14,"button",90),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.openEducationModal(r))}),v(15,"i",17),a(),o(16,"button",91),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.deleteEducation(r))}),v(17,"i",92),a()()()}if(n&2){let e=t.$implicit;c(2),f(e.qualification),c(2),f(e.institution),c(2),f(e.university),c(2),f(e.specialization),c(2),f(e.yearOfPassing),c(2),f(e.percentage?e.percentage+"%":e.grade)}}function Y7(n,t){if(n&1&&(o(0,"table",87)(1,"thead")(2,"tr")(3,"th"),l(4,"Qualification"),a(),o(5,"th"),l(6,"Institution"),a(),o(7,"th"),l(8,"University"),a(),o(9,"th"),l(10,"Specialization"),a(),o(11,"th"),l(12,"Year"),a(),o(13,"th"),l(14,"Percentage/Grade"),a(),o(15,"th"),l(16,"Actions"),a()()(),o(17,"tbody"),M(18,K7,18,6,"tr",88),a()()),n&2){let e=d(2);c(18),u("ngForOf",e.education)}}function Z7(n,t){n&1&&(o(0,"p",93),l(1,"No education records"),a())}function X7(n,t){if(n&1){let e=O();o(0,"div",20)(1,"div",82)(2,"h3"),l(3,"Educational Qualifications"),a(),o(4,"button",83),_("click",function(){m(e);let r=d();return g(r.openEducationModal())}),v(5,"i",84),l(6," Add Education "),a()(),M(7,Y7,19,1,"table",85)(8,Z7,2,0,"p",86),a()}if(n&2){let e=d();c(7),u("ngIf",e.education.length>0),c(),u("ngIf",e.education.length===0)}}function eL(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td")(14,"button",90),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.openExperienceModal(r))}),v(15,"i",17),a(),o(16,"button",91),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.deleteExperience(r))}),v(17,"i",92),a()()()}if(n&2){let e=t.$implicit;c(2),f(e.companyName),c(2),f(e.designation),c(2),f(e.fromDate),c(2),f(e.toDate?e.toDate:"Present"),c(2),f(e.location),c(2),f(e.lastSalary)}}function tL(n,t){if(n&1&&(o(0,"table",87)(1,"thead")(2,"tr")(3,"th"),l(4,"Company"),a(),o(5,"th"),l(6,"Designation"),a(),o(7,"th"),l(8,"From"),a(),o(9,"th"),l(10,"To"),a(),o(11,"th"),l(12,"Location"),a(),o(13,"th"),l(14,"Last Salary"),a(),o(15,"th"),l(16,"Actions"),a()()(),o(17,"tbody"),M(18,eL,18,6,"tr",88),a()()),n&2){let e=d(2);c(18),u("ngForOf",e.experience)}}function nL(n,t){n&1&&(o(0,"p",93),l(1,"No experience records"),a())}function iL(n,t){if(n&1){let e=O();o(0,"div",20)(1,"div",82)(2,"h3"),l(3,"Work Experience"),a(),o(4,"button",83),_("click",function(){m(e);let r=d();return g(r.openExperienceModal())}),v(5,"i",84),l(6," Add Experience "),a()(),M(7,tL,19,1,"table",85)(8,nL,2,0,"p",86),a()}if(n&2){let e=d();c(7),u("ngIf",e.experience.length>0),c(),u("ngIf",e.experience.length===0)}}function rL(n,t){if(n&1){let e=O();o(0,"button",104),_("click",function(){m(e);let r=d().$implicit,s=d(3);return g(s.approveAsset(r,"APPROVED"))}),v(1,"i",105),a()}}function oL(n,t){if(n&1){let e=O();o(0,"button",106),_("click",function(){m(e);let r=d().$implicit,s=d(3);return g(s.approveAsset(r,"REJECTED"))}),v(1,"i",107),a()}}function aL(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"span",101),l(13),a()(),o(14,"td"),M(15,rL,2,0,"button",102)(16,oL,2,0,"button",103),o(17,"button",90),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.openAssetModal(r))}),v(18,"i",17),a(),o(19,"button",91),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.deleteAsset(r))}),v(20,"i",92),a()()()}if(n&2){let e=t.$implicit;c(2),f(e.assetType),c(2),f(e.assetName),c(2),f(e.assetTag),c(2),f(e.serialNumber),c(2),f(e.issuedDate),c(2),u("ngClass",cd(9,gM,e.approvalStatus==="PENDING",e.approvalStatus==="APPROVED",e.approvalStatus==="REJECTED")),c(),f(e.approvalStatus),c(2),u("ngIf",e.approvalStatus==="PENDING"),c(),u("ngIf",e.approvalStatus==="PENDING")}}function sL(n,t){if(n&1&&(o(0,"table",87)(1,"thead")(2,"tr")(3,"th"),l(4,"Asset Type"),a(),o(5,"th"),l(6,"Name"),a(),o(7,"th"),l(8,"Asset Tag"),a(),o(9,"th"),l(10,"Serial Number"),a(),o(11,"th"),l(12,"Issued Date"),a(),o(13,"th"),l(14,"Status"),a(),o(15,"th"),l(16,"Actions"),a()()(),o(17,"tbody"),M(18,aL,21,13,"tr",88),a()()),n&2){let e=d(2);c(18),u("ngForOf",e.assets)}}function lL(n,t){n&1&&(o(0,"p",93),l(1,"No assets assigned"),a())}function cL(n,t){if(n&1){let e=O();o(0,"div",20)(1,"div",82)(2,"h3"),l(3,"Assigned Assets"),a(),o(4,"button",83),_("click",function(){m(e);let r=d();return g(r.openAssetModal())}),v(5,"i",84),l(6," Add Asset "),a()(),M(7,sL,19,1,"table",85)(8,lL,2,0,"p",86),a()}if(n&2){let e=d();c(7),u("ngIf",e.assets.length>0),c(),u("ngIf",e.assets.length===0)}}function dL(n,t){n&1&&v(0,"i",111)}function pL(n,t){if(n&1){let e=O();o(0,"button",112),_("click",function(){m(e);let r=d().$implicit,s=d(3);return g(s.verifyDocument(r,"VERIFIED"))}),v(1,"i",105),a()}}function uL(n,t){if(n&1){let e=O();o(0,"button",106),_("click",function(){m(e);let r=d().$implicit,s=d(3);return g(s.verifyDocument(r,"REJECTED"))}),v(1,"i",107),a()}}function mL(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"span"),l(9),M(10,dL,1,0,"i",109),a()(),o(11,"td")(12,"span",101),l(13),a()(),o(14,"td"),M(15,pL,2,0,"button",110)(16,uL,2,0,"button",103),o(17,"button",90),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.openDocumentModal(r))}),v(18,"i",17),a(),o(19,"button",91),_("click",function(){let r=m(e).$implicit,s=d(3);return g(s.deleteDocument(r))}),v(20,"i",92),a()()()}if(n&2){let e=t.$implicit,i=d(3);L("expiring",i.isDocumentExpiring(e))("expired",i.isDocumentExpired(e)),c(2),f(e.documentType==null?null:e.documentType.name),c(2),f(e.documentNumber),c(2),f(e.issueDate),c(2),L("text-warning",i.isDocumentExpiring(e))("text-danger",i.isDocumentExpired(e)),c(),E(" ",e.expiryDate," "),c(),u("ngIf",i.isDocumentExpiring(e)||i.isDocumentExpired(e)),c(2),u("ngClass",cd(17,gM,e.verificationStatus==="PENDING",e.verificationStatus==="VERIFIED",e.verificationStatus==="REJECTED")),c(),f(e.verificationStatus),c(2),u("ngIf",e.verificationStatus==="PENDING"),c(),u("ngIf",e.verificationStatus==="PENDING")}}function gL(n,t){if(n&1&&(o(0,"table",87)(1,"thead")(2,"tr")(3,"th"),l(4,"Document Type"),a(),o(5,"th"),l(6,"Document Number"),a(),o(7,"th"),l(8,"Issue Date"),a(),o(9,"th"),l(10,"Expiry Date"),a(),o(11,"th"),l(12,"Status"),a(),o(13,"th"),l(14,"Actions"),a()()(),o(15,"tbody"),M(16,mL,21,21,"tr",108),a()()),n&2){let e=d(2);c(16),u("ngForOf",e.documents)}}function fL(n,t){n&1&&(o(0,"p",93),l(1,"No documents uploaded"),a())}function hL(n,t){if(n&1){let e=O();o(0,"div",20)(1,"div",82)(2,"h3"),l(3,"Employee Documents"),a(),o(4,"button",83),_("click",function(){m(e);let r=d();return g(r.openDocumentModal())}),v(5,"i",84),l(6," Add Document "),a()(),M(7,gL,17,1,"table",85)(8,fL,2,0,"p",86),a()}if(n&2){let e=d();c(7),u("ngIf",e.documents.length>0),c(),u("ngIf",e.documents.length===0)}}function _L(n,t){if(n&1){let e=O();o(0,"div",113),_("click",function(){m(e);let r=d();return g(r.showBankModal=!1)}),o(1,"div",114),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",115)(3,"h3"),l(4),a(),o(5,"button",116),_("click",function(){m(e);let r=d();return g(r.showBankModal=!1)}),l(6,"\xD7"),a()(),o(7,"div",117)(8,"div",23)(9,"label"),l(10,"Bank Name *"),a(),o(11,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.bankName,r)||(s.editingBank.bankName=r),g(r)}),a()(),o(12,"div",23)(13,"label"),l(14,"Branch Name"),a(),o(15,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.branchName,r)||(s.editingBank.branchName=r),g(r)}),a()(),o(16,"div",23)(17,"label"),l(18,"Account Number *"),a(),o(19,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.accountNumber,r)||(s.editingBank.accountNumber=r),g(r)}),a()(),o(20,"div",23)(21,"label"),l(22,"Account Type"),a(),o(23,"select",119),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.accountType,r)||(s.editingBank.accountType=r),g(r)}),o(24,"option",27),l(25,"Select"),a(),o(26,"option",120),l(27,"Savings"),a(),o(28,"option",121),l(29,"Current"),a(),o(30,"option",122),l(31,"Salary"),a()()(),o(32,"div",23)(33,"label"),l(34,"IFSC Code"),a(),o(35,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.ifscCode,r)||(s.editingBank.ifscCode=r),g(r)}),a()(),o(36,"div",23)(37,"label"),l(38,"SWIFT Code"),a(),o(39,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.swiftCode,r)||(s.editingBank.swiftCode=r),g(r)}),a()(),o(40,"div",23)(41,"label"),l(42,"Routing Number"),a(),o(43,"input",123),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.routingNumber,r)||(s.editingBank.routingNumber=r),g(r)}),a()(),o(44,"div",23)(45,"label"),l(46,"Payment Method"),a(),o(47,"select",119),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.paymentMethod,r)||(s.editingBank.paymentMethod=r),g(r)}),o(48,"option",27),l(49,"Select"),a(),o(50,"option",124),l(51,"Direct Deposit"),a(),o(52,"option",125),l(53,"Check"),a(),o(54,"option",126),l(55,"Wire Transfer"),a()()(),o(56,"div",23)(57,"label",80)(58,"input",127),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingBank.isPrimary,r)||(s.editingBank.isPrimary=r),g(r)}),a(),l(59," Primary Account "),a()()(),o(60,"div",128)(61,"button",16),_("click",function(){m(e);let r=d();return g(r.showBankModal=!1)}),l(62,"Cancel"),a(),o(63,"button",18),_("click",function(){m(e);let r=d();return g(r.saveBankDetail())}),l(64,"Save"),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditingSubItem?"Edit":"Add"," Bank Detail"),c(7),C("ngModel",e.editingBank.bankName),c(4),C("ngModel",e.editingBank.branchName),c(4),C("ngModel",e.editingBank.accountNumber),c(4),C("ngModel",e.editingBank.accountType),c(12),C("ngModel",e.editingBank.ifscCode),c(4),C("ngModel",e.editingBank.swiftCode),c(4),C("ngModel",e.editingBank.routingNumber),c(4),C("ngModel",e.editingBank.paymentMethod),c(11),C("ngModel",e.editingBank.isPrimary)}}function vL(n,t){if(n&1){let e=O();o(0,"div",113),_("click",function(){m(e);let r=d();return g(r.showSalaryModal=!1)}),o(1,"div",129),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",115)(3,"h3"),l(4,"Add Salary Revision"),a(),o(5,"button",116),_("click",function(){m(e);let r=d();return g(r.showSalaryModal=!1)}),l(6,"\xD7"),a()(),o(7,"div",117)(8,"div",22)(9,"div",23)(10,"label"),l(11,"Effective From *"),a(),o(12,"input",130),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.effectiveFrom,r)||(s.editingSalary.effectiveFrom=r),g(r)}),a()(),o(13,"div",23)(14,"label"),l(15,"Basic Salary *"),a(),o(16,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.basicSalary,r)||(s.editingSalary.basicSalary=r),g(r)}),a()(),o(17,"div",23)(18,"label"),l(19,"HRA (House Rent Allowance)"),a(),o(20,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.hraAmount,r)||(s.editingSalary.hraAmount=r),g(r)}),a()(),o(21,"div",23)(22,"label"),l(23,"DA (Dearness Allowance)"),a(),o(24,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.daAmount,r)||(s.editingSalary.daAmount=r),g(r)}),a()(),o(25,"div",23)(26,"label"),l(27,"TA (Transport Allowance)"),a(),o(28,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.taAmount,r)||(s.editingSalary.taAmount=r),g(r)}),a()(),o(29,"div",23)(30,"label"),l(31,"Medical Allowance"),a(),o(32,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.medicalAllowance,r)||(s.editingSalary.medicalAllowance=r),g(r)}),a()(),o(33,"div",23)(34,"label"),l(35,"Special Allowance"),a(),o(36,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.specialAllowance,r)||(s.editingSalary.specialAllowance=r),g(r)}),a()(),o(37,"div",23)(38,"label"),l(39,"Other Allowances"),a(),o(40,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.otherAllowances,r)||(s.editingSalary.otherAllowances=r),g(r)}),a()(),o(41,"div",23)(42,"label"),l(43,"PF Deduction"),a(),o(44,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.pfDeduction,r)||(s.editingSalary.pfDeduction=r),g(r)}),a()(),o(45,"div",23)(46,"label"),l(47,"ESI Deduction"),a(),o(48,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.esiDeduction,r)||(s.editingSalary.esiDeduction=r),g(r)}),a()(),o(49,"div",23)(50,"label"),l(51,"Professional Tax"),a(),o(52,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.professionalTax,r)||(s.editingSalary.professionalTax=r),g(r)}),a()(),o(53,"div",23)(54,"label"),l(55,"TDS Deduction"),a(),o(56,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.tdsDeduction,r)||(s.editingSalary.tdsDeduction=r),g(r)}),a()(),o(57,"div",23)(58,"label"),l(59,"Other Deductions"),a(),o(60,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.otherDeductions,r)||(s.editingSalary.otherDeductions=r),g(r)}),a()(),o(61,"div",23)(62,"label"),l(63,"CTC (Annual)"),a(),o(64,"input",131),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.ctcAnnual,r)||(s.editingSalary.ctcAnnual=r),g(r)}),a()(),o(65,"div",23)(66,"label"),l(67,"Hourly Rate"),a(),o(68,"input",132),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.hourlyRate,r)||(s.editingSalary.hourlyRate=r),g(r)}),a()(),o(69,"div",23)(70,"label"),l(71,"Pay Frequency"),a(),o(72,"select",119),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.payFrequency,r)||(s.editingSalary.payFrequency=r),g(r)}),o(73,"option",27),l(74,"Select"),a(),o(75,"option",133),l(76,"Weekly"),a(),o(77,"option",134),l(78,"Bi-Weekly"),a(),o(79,"option",135),l(80,"Semi-Monthly"),a(),o(81,"option",136),l(82,"Monthly"),a()()(),o(83,"div",23)(84,"label"),l(85,"Change Reason"),a(),o(86,"select",119),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.changeReason,r)||(s.editingSalary.changeReason=r),g(r)}),o(87,"option",27),l(88,"Select"),a(),o(89,"option",137),l(90,"New Hire"),a(),o(91,"option",138),l(92,"Promotion"),a(),o(93,"option",139),l(94,"Annual Increment"),a(),o(95,"option",140),l(96,"Salary Revision"),a(),o(97,"option",141),l(98,"Transfer"),a(),o(99,"option",142),l(100,"Correction"),a()()(),o(101,"div",61)(102,"label"),l(103,"Remarks"),a(),o(104,"textarea",143),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingSalary.remarks,r)||(s.editingSalary.remarks=r),g(r)}),a()()()(),o(105,"div",128)(106,"button",16),_("click",function(){m(e);let r=d();return g(r.showSalaryModal=!1)}),l(107,"Cancel"),a(),o(108,"button",18),_("click",function(){m(e);let r=d();return g(r.saveSalary())}),l(109,"Save"),a()()()()}if(n&2){let e=d();c(12),C("ngModel",e.editingSalary.effectiveFrom),c(4),C("ngModel",e.editingSalary.basicSalary),c(4),C("ngModel",e.editingSalary.hraAmount),c(4),C("ngModel",e.editingSalary.daAmount),c(4),C("ngModel",e.editingSalary.taAmount),c(4),C("ngModel",e.editingSalary.medicalAllowance),c(4),C("ngModel",e.editingSalary.specialAllowance),c(4),C("ngModel",e.editingSalary.otherAllowances),c(4),C("ngModel",e.editingSalary.pfDeduction),c(4),C("ngModel",e.editingSalary.esiDeduction),c(4),C("ngModel",e.editingSalary.professionalTax),c(4),C("ngModel",e.editingSalary.tdsDeduction),c(4),C("ngModel",e.editingSalary.otherDeductions),c(4),C("ngModel",e.editingSalary.ctcAnnual),c(4),C("ngModel",e.editingSalary.hourlyRate),c(4),C("ngModel",e.editingSalary.payFrequency),c(14),C("ngModel",e.editingSalary.changeReason),c(18),C("ngModel",e.editingSalary.remarks)}}function yL(n,t){if(n&1){let e=O();o(0,"div",113),_("click",function(){m(e);let r=d();return g(r.showEducationModal=!1)}),o(1,"div",114),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",115)(3,"h3"),l(4),a(),o(5,"button",116),_("click",function(){m(e);let r=d();return g(r.showEducationModal=!1)}),l(6,"\xD7"),a()(),o(7,"div",117)(8,"div",23)(9,"label"),l(10,"Qualification *"),a(),o(11,"select",119),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingEducation.qualification,r)||(s.editingEducation.qualification=r),g(r)}),o(12,"option",27),l(13,"Select"),a(),o(14,"option",144),l(15,"10th Standard"),a(),o(16,"option",145),l(17,"12th Standard"),a(),o(18,"option",146),l(19,"Diploma"),a(),o(20,"option",147),l(21,"Bachelor's Degree"),a(),o(22,"option",148),l(23,"Master's Degree"),a(),o(24,"option",149),l(25,"PhD"),a(),o(26,"option",150),l(27,"Certification"),a()()(),o(28,"div",23)(29,"label"),l(30,"Institution *"),a(),o(31,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingEducation.institution,r)||(s.editingEducation.institution=r),g(r)}),a()(),o(32,"div",23)(33,"label"),l(34,"University"),a(),o(35,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingEducation.university,r)||(s.editingEducation.university=r),g(r)}),a()(),o(36,"div",23)(37,"label"),l(38,"Specialization"),a(),o(39,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingEducation.specialization,r)||(s.editingEducation.specialization=r),g(r)}),a()(),o(40,"div",23)(41,"label"),l(42,"Year of Passing"),a(),o(43,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingEducation.yearOfPassing,r)||(s.editingEducation.yearOfPassing=r),g(r)}),a()(),o(44,"div",23)(45,"label"),l(46,"Percentage"),a(),o(47,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingEducation.percentage,r)||(s.editingEducation.percentage=r),g(r)}),a()(),o(48,"div",23)(49,"label"),l(50,"Grade"),a(),o(51,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingEducation.grade,r)||(s.editingEducation.grade=r),g(r)}),a()(),o(52,"div",23)(53,"label"),l(54,"Remarks"),a(),o(55,"textarea",143),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingEducation.remarks,r)||(s.editingEducation.remarks=r),g(r)}),a()()(),o(56,"div",128)(57,"button",16),_("click",function(){m(e);let r=d();return g(r.showEducationModal=!1)}),l(58,"Cancel"),a(),o(59,"button",18),_("click",function(){m(e);let r=d();return g(r.saveEducation())}),l(60,"Save"),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditingSubItem?"Edit":"Add"," Education"),c(7),C("ngModel",e.editingEducation.qualification),c(20),C("ngModel",e.editingEducation.institution),c(4),C("ngModel",e.editingEducation.university),c(4),C("ngModel",e.editingEducation.specialization),c(4),C("ngModel",e.editingEducation.yearOfPassing),c(4),C("ngModel",e.editingEducation.percentage),c(4),C("ngModel",e.editingEducation.grade),c(4),C("ngModel",e.editingEducation.remarks)}}function CL(n,t){if(n&1){let e=O();o(0,"div",113),_("click",function(){m(e);let r=d();return g(r.showExperienceModal=!1)}),o(1,"div",114),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",115)(3,"h3"),l(4),a(),o(5,"button",116),_("click",function(){m(e);let r=d();return g(r.showExperienceModal=!1)}),l(6,"\xD7"),a()(),o(7,"div",117)(8,"div",23)(9,"label"),l(10,"Company Name *"),a(),o(11,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.companyName,r)||(s.editingExperience.companyName=r),g(r)}),a()(),o(12,"div",23)(13,"label"),l(14,"Designation *"),a(),o(15,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.designation,r)||(s.editingExperience.designation=r),g(r)}),a()(),o(16,"div",23)(17,"label"),l(18,"From Date *"),a(),o(19,"input",130),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.fromDate,r)||(s.editingExperience.fromDate=r),g(r)}),a()(),o(20,"div",23)(21,"label"),l(22,"To Date (leave blank if current)"),a(),o(23,"input",130),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.toDate,r)||(s.editingExperience.toDate=r),g(r)}),a()(),o(24,"div",23)(25,"label"),l(26,"Location"),a(),o(27,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.location,r)||(s.editingExperience.location=r),g(r)}),a()(),o(28,"div",61)(29,"label"),l(30,"Responsibilities"),a(),o(31,"textarea",143),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.responsibilities,r)||(s.editingExperience.responsibilities=r),g(r)}),a()(),o(32,"div",23)(33,"label"),l(34,"Last Salary"),a(),o(35,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.lastSalary,r)||(s.editingExperience.lastSalary=r),g(r)}),a()(),o(36,"div",23)(37,"label"),l(38,"Reason for Leaving"),a(),o(39,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.reasonForLeaving,r)||(s.editingExperience.reasonForLeaving=r),g(r)}),a()(),o(40,"div",23)(41,"label"),l(42,"Reference Contact"),a(),o(43,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingExperience.referenceContact,r)||(s.editingExperience.referenceContact=r),g(r)}),a()()(),o(44,"div",128)(45,"button",16),_("click",function(){m(e);let r=d();return g(r.showExperienceModal=!1)}),l(46,"Cancel"),a(),o(47,"button",18),_("click",function(){m(e);let r=d();return g(r.saveExperience())}),l(48,"Save"),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditingSubItem?"Edit":"Add"," Experience"),c(7),C("ngModel",e.editingExperience.companyName),c(4),C("ngModel",e.editingExperience.designation),c(4),C("ngModel",e.editingExperience.fromDate),c(4),C("ngModel",e.editingExperience.toDate),c(4),C("ngModel",e.editingExperience.location),c(4),C("ngModel",e.editingExperience.responsibilities),c(4),C("ngModel",e.editingExperience.lastSalary),c(4),C("ngModel",e.editingExperience.reasonForLeaving),c(4),C("ngModel",e.editingExperience.referenceContact)}}function xL(n,t){if(n&1){let e=O();o(0,"div",113),_("click",function(){m(e);let r=d();return g(r.showAssetModal=!1)}),o(1,"div",114),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",115)(3,"h3"),l(4),a(),o(5,"button",116),_("click",function(){m(e);let r=d();return g(r.showAssetModal=!1)}),l(6,"\xD7"),a()(),o(7,"div",117)(8,"div",23)(9,"label"),l(10,"Asset Type *"),a(),o(11,"select",119),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingAsset.assetType,r)||(s.editingAsset.assetType=r),g(r)}),o(12,"option",27),l(13,"Select"),a(),o(14,"option",151),l(15,"Laptop"),a(),o(16,"option",152),l(17,"Desktop"),a(),o(18,"option",153),l(19,"Mobile Phone"),a(),o(20,"option",154),l(21,"Monitor"),a(),o(22,"option",155),l(23,"Keyboard"),a(),o(24,"option",156),l(25,"Mouse"),a(),o(26,"option",157),l(27,"Headset"),a(),o(28,"option",158),l(29,"ID Card"),a(),o(30,"option",159),l(31,"Access Card"),a(),o(32,"option",160),l(33,"Vehicle"),a(),o(34,"option",30),l(35,"Other"),a()()(),o(36,"div",23)(37,"label"),l(38,"Asset Name *"),a(),o(39,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingAsset.assetName,r)||(s.editingAsset.assetName=r),g(r)}),a()(),o(40,"div",23)(41,"label"),l(42,"Asset Tag"),a(),o(43,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingAsset.assetTag,r)||(s.editingAsset.assetTag=r),g(r)}),a()(),o(44,"div",23)(45,"label"),l(46,"Serial Number"),a(),o(47,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingAsset.serialNumber,r)||(s.editingAsset.serialNumber=r),g(r)}),a()(),o(48,"div",23)(49,"label"),l(50,"Issued Date"),a(),o(51,"input",130),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingAsset.issuedDate,r)||(s.editingAsset.issuedDate=r),g(r)}),a()(),o(52,"div",23)(53,"label"),l(54,"Return Date"),a(),o(55,"input",130),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingAsset.returnDate,r)||(s.editingAsset.returnDate=r),g(r)}),a()(),o(56,"div",23)(57,"label"),l(58,"Condition"),a(),o(59,"select",119),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingAsset.condition,r)||(s.editingAsset.condition=r),g(r)}),o(60,"option",27),l(61,"Select"),a(),o(62,"option",161),l(63,"New"),a(),o(64,"option",162),l(65,"Good"),a(),o(66,"option",163),l(67,"Fair"),a(),o(68,"option",164),l(69,"Poor"),a()()(),o(70,"div",23)(71,"label"),l(72,"Remarks"),a(),o(73,"textarea",143),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingAsset.remarks,r)||(s.editingAsset.remarks=r),g(r)}),a()()(),o(74,"div",128)(75,"button",16),_("click",function(){m(e);let r=d();return g(r.showAssetModal=!1)}),l(76,"Cancel"),a(),o(77,"button",18),_("click",function(){m(e);let r=d();return g(r.saveAsset())}),l(78,"Save"),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditingSubItem?"Edit":"Add"," Asset"),c(7),C("ngModel",e.editingAsset.assetType),c(28),C("ngModel",e.editingAsset.assetName),c(4),C("ngModel",e.editingAsset.assetTag),c(4),C("ngModel",e.editingAsset.serialNumber),c(4),C("ngModel",e.editingAsset.issuedDate),c(4),C("ngModel",e.editingAsset.returnDate),c(4),C("ngModel",e.editingAsset.condition),c(14),C("ngModel",e.editingAsset.remarks)}}function bL(n,t){if(n&1&&(o(0,"option",64),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function ML(n,t){if(n&1){let e=O();o(0,"div",113),_("click",function(){m(e);let r=d();return g(r.showDocumentModal=!1)}),o(1,"div",114),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",115)(3,"h3"),l(4),a(),o(5,"button",116),_("click",function(){m(e);let r=d();return g(r.showDocumentModal=!1)}),l(6,"\xD7"),a()(),o(7,"div",117)(8,"div",23)(9,"label"),l(10,"Document Type *"),a(),o(11,"select",165),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingDocument.documentType,r)||(s.editingDocument.documentType=r),g(r)}),o(12,"option",64),l(13,"Select Document Type"),a(),M(14,bL,2,2,"option",65),a()(),o(15,"div",23)(16,"label"),l(17,"Document Number"),a(),o(18,"input",118),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingDocument.documentNumber,r)||(s.editingDocument.documentNumber=r),g(r)}),a()(),o(19,"div",23)(20,"label"),l(21,"Issue Date"),a(),o(22,"input",130),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingDocument.issueDate,r)||(s.editingDocument.issueDate=r),g(r)}),a()(),o(23,"div",23)(24,"label"),l(25,"Expiry Date"),a(),o(26,"input",130),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingDocument.expiryDate,r)||(s.editingDocument.expiryDate=r),g(r)}),a()(),o(27,"div",23)(28,"label"),l(29,"File URL"),a(),o(30,"input",166),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingDocument.fileUrl,r)||(s.editingDocument.fileUrl=r),g(r)}),a()(),o(31,"div",23)(32,"label"),l(33,"Reminder Days Before Expiry"),a(),o(34,"input",167),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingDocument.reminderDays,r)||(s.editingDocument.reminderDays=r),g(r)}),a()(),o(35,"div",61)(36,"label"),l(37,"Remarks"),a(),o(38,"textarea",143),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingDocument.remarks,r)||(s.editingDocument.remarks=r),g(r)}),a()()(),o(39,"div",128)(40,"button",16),_("click",function(){m(e);let r=d();return g(r.showDocumentModal=!1)}),l(41,"Cancel"),a(),o(42,"button",18),_("click",function(){m(e);let r=d();return g(r.saveDocument())}),l(43,"Save"),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditingSubItem?"Edit":"Add"," Document"),c(7),C("ngModel",e.editingDocument.documentType),u("compareWith",e.compareById),c(),u("ngValue",null),c(2),u("ngForOf",e.documentTypes),c(4),C("ngModel",e.editingDocument.documentNumber),c(4),C("ngModel",e.editingDocument.issueDate),c(4),C("ngModel",e.editingDocument.expiryDate),c(4),C("ngModel",e.editingDocument.fileUrl),c(4),C("ngModel",e.editingDocument.reminderDays),c(4),C("ngModel",e.editingDocument.remarks)}}var cm=class n{constructor(t,e,i,r,s){this.route=t;this.router=e;this.employeeService=i;this.orgService=r;this.documentService=s}employeeId=null;isNewEmployee=!1;isEditMode=!1;activeTab="personal";employee=this.getEmptyEmployee();bankDetails=[];salaryHistory=[];education=[];experience=[];assets=[];documents=[];documentTypes=[];documentCategories=[];departments=[];designations=[];grades=[];jobRoles=[];locations=[];costCenters=[];expenseCenters=[];employees=[];showBankModal=!1;showSalaryModal=!1;showEducationModal=!1;showExperienceModal=!1;showAssetModal=!1;showDocumentModal=!1;editingBank=this.getEmptyBankDetail();editingSalary=this.getEmptySalary();editingEducation=this.getEmptyEducation();editingExperience=this.getEmptyExperience();editingAsset=this.getEmptyAsset();editingDocument=this.getEmptyDocument();isEditingSubItem=!1;loading=!1;ngOnInit(){this.loadDropdownData();let t=this.route.snapshot.paramMap.get("id");if(t==="new")this.isNewEmployee=!0,this.isEditMode=!0;else if(t){this.employeeId=parseInt(t),this.loadEmployee();let e=this.route.snapshot.queryParamMap.get("edit");this.isEditMode=e==="true"}}loadDropdownData(){this.orgService.getDepartments().subscribe(t=>this.departments=t),this.orgService.getDesignations().subscribe(t=>this.designations=t),this.orgService.getGrades().subscribe(t=>this.grades=t),this.orgService.getJobRoles().subscribe(t=>this.jobRoles=t),this.orgService.getLocations().subscribe(t=>this.locations=t),this.orgService.getCostCenters().subscribe(t=>this.costCenters=t),this.orgService.getExpenseCenters().subscribe(t=>this.expenseCenters=t),this.employeeService.getActive().subscribe(t=>this.employees=t),this.documentService.getTypes().subscribe(t=>this.documentTypes=t),this.documentService.getCategories().subscribe(t=>this.documentCategories=t)}loadEmployee(){this.employeeId&&(this.loading=!0,this.employeeService.getById(this.employeeId).subscribe({next:t=>{this.employee=t,this.loadSubData(),this.loading=!1},error:t=>{console.error("Error loading employee:",t),this.loading=!1}}))}loadSubData(){this.employeeId&&(this.employeeService.getBankDetails(this.employeeId).subscribe(t=>this.bankDetails=t),this.employeeService.getSalaryHistory(this.employeeId).subscribe(t=>this.salaryHistory=t),this.employeeService.getEducation(this.employeeId).subscribe(t=>this.education=t),this.employeeService.getExperience(this.employeeId).subscribe(t=>this.experience=t),this.employeeService.getAssets(this.employeeId).subscribe(t=>this.assets=t),this.documentService.getEmployeeDocuments(this.employeeId).subscribe(t=>this.documents=t))}getEmptyEmployee(){return{employeeCode:"",firstName:"",lastName:"",email:"",active:!0,employmentStatus:"PROBATION",employmentType:"FULL_TIME"}}getEmptyBankDetail(){return{bankName:"",accountNumber:"",isPrimary:!1,active:!0}}getEmptySalary(){return{basicSalary:0,effectiveFrom:"",isCurrent:!0}}getEmptyEducation(){return{qualification:"",institution:""}}getEmptyExperience(){return{companyName:"",designation:"",fromDate:""}}getEmptyAsset(){return{assetType:"",assetName:"",approvalStatus:"PENDING"}}getEmptyDocument(){return{verificationStatus:"PENDING",reminderDays:30}}setTab(t){this.isNewEmployee&&["bank","salary","ctcHistory","assets","documents"].includes(t)||(this.activeTab=t)}getPayFrequencyLabel(t){return t?{WEEKLY:"Weekly",BI_WEEKLY:"Bi-Weekly",SEMI_MONTHLY:"Semi-Monthly",MONTHLY:"Monthly"}[t]||t:"-"}getChangeReasonLabel(t){return t?{NEW_HIRE:"New Hire",PROMOTION:"Promotion",INCREMENT:"Annual Increment",REVISION:"Salary Revision",TRANSFER:"Transfer",CORRECTION:"Correction"}[t]||t:"-"}toggleEditMode(){this.isEditMode=!this.isEditMode}saveEmployee(){this.isNewEmployee?this.employeeService.create(this.employee).subscribe({next:t=>{this.router.navigate(["/app/hr/employees",t.id])},error:t=>console.error("Error creating employee:",t)}):this.employeeId&&this.employeeService.update(this.employeeId,this.employee).subscribe({next:()=>{this.isEditMode=!1,this.loadEmployee()},error:t=>console.error("Error updating employee:",t)})}cancel(){this.isNewEmployee?this.router.navigate(["/app/hr/employees"]):(this.isEditMode=!1,this.loadEmployee())}goBack(){this.router.navigate(["/app/hr/employees"])}openBankModal(t){this.isEditingSubItem=!!t,this.editingBank=t?T({},t):this.getEmptyBankDetail(),this.showBankModal=!0}saveBankDetail(){this.employeeId&&(this.isEditingSubItem&&this.editingBank.id?this.employeeService.updateBankDetail(this.editingBank.id,this.editingBank).subscribe({next:()=>{this.showBankModal=!1,this.loadSubData()},error:t=>console.error("Error updating bank detail:",t)}):this.employeeService.createBankDetail(this.employeeId,this.editingBank).subscribe({next:()=>{this.showBankModal=!1,this.loadSubData()},error:t=>console.error("Error creating bank detail:",t)}))}deleteBankDetail(t){t.id&&confirm("Delete this bank detail?")&&this.employeeService.deleteBankDetail(t.id).subscribe({next:()=>this.loadSubData(),error:e=>console.error("Error deleting:",e)})}openSalaryModal(){this.editingSalary=this.getEmptySalary(),this.showSalaryModal=!0}saveSalary(){this.employeeId&&this.employeeService.createSalary(this.employeeId,this.editingSalary).subscribe({next:()=>{this.showSalaryModal=!1,this.loadSubData()},error:t=>console.error("Error creating salary:",t)})}openEducationModal(t){this.isEditingSubItem=!!t,this.editingEducation=t?T({},t):this.getEmptyEducation(),this.showEducationModal=!0}saveEducation(){this.employeeId&&(this.isEditingSubItem&&this.editingEducation.id?this.employeeService.updateEducation(this.editingEducation.id,this.editingEducation).subscribe({next:()=>{this.showEducationModal=!1,this.loadSubData()},error:t=>console.error("Error updating education:",t)}):this.employeeService.createEducation(this.employeeId,this.editingEducation).subscribe({next:()=>{this.showEducationModal=!1,this.loadSubData()},error:t=>console.error("Error creating education:",t)}))}deleteEducation(t){t.id&&confirm("Delete this education record?")&&this.employeeService.deleteEducation(t.id).subscribe({next:()=>this.loadSubData(),error:e=>console.error("Error deleting:",e)})}openExperienceModal(t){this.isEditingSubItem=!!t,this.editingExperience=t?T({},t):this.getEmptyExperience(),this.showExperienceModal=!0}saveExperience(){this.employeeId&&(this.isEditingSubItem&&this.editingExperience.id?this.employeeService.updateExperience(this.editingExperience.id,this.editingExperience).subscribe({next:()=>{this.showExperienceModal=!1,this.loadSubData()},error:t=>console.error("Error updating experience:",t)}):this.employeeService.createExperience(this.employeeId,this.editingExperience).subscribe({next:()=>{this.showExperienceModal=!1,this.loadSubData()},error:t=>console.error("Error creating experience:",t)}))}deleteExperience(t){t.id&&confirm("Delete this experience record?")&&this.employeeService.deleteExperience(t.id).subscribe({next:()=>this.loadSubData(),error:e=>console.error("Error deleting:",e)})}openAssetModal(t){this.isEditingSubItem=!!t,this.editingAsset=t?T({},t):this.getEmptyAsset(),this.showAssetModal=!0}saveAsset(){this.employeeId&&(this.isEditingSubItem&&this.editingAsset.id?this.employeeService.updateAsset(this.editingAsset.id,this.editingAsset).subscribe({next:()=>{this.showAssetModal=!1,this.loadSubData()},error:t=>console.error("Error updating asset:",t)}):this.employeeService.createAsset(this.employeeId,this.editingAsset).subscribe({next:()=>{this.showAssetModal=!1,this.loadSubData()},error:t=>console.error("Error creating asset:",t)}))}approveAsset(t,e){t.id&&this.employeeService.approveAsset(t.id,e).subscribe({next:()=>this.loadSubData(),error:i=>console.error("Error approving asset:",i)})}deleteAsset(t){t.id&&confirm("Delete this asset record?")&&this.employeeService.deleteAsset(t.id).subscribe({next:()=>this.loadSubData(),error:e=>console.error("Error deleting:",e)})}compareById(t,e){return t&&e?t.id===e.id:t===e}openDocumentModal(t){this.isEditingSubItem=!!t,this.editingDocument=t?T({},t):this.getEmptyDocument(),this.showDocumentModal=!0}saveDocument(){this.employeeId&&(this.isEditingSubItem&&this.editingDocument.id?this.documentService.updateDocument(this.editingDocument.id,this.editingDocument).subscribe({next:()=>{this.showDocumentModal=!1,this.loadSubData()},error:t=>console.error("Error updating document:",t)}):this.documentService.createDocument(this.employeeId,this.editingDocument).subscribe({next:()=>{this.showDocumentModal=!1,this.loadSubData()},error:t=>console.error("Error creating document:",t)}))}verifyDocument(t,e){t.id&&this.documentService.verifyDocument(t.id,e).subscribe({next:()=>this.loadSubData(),error:i=>console.error("Error verifying document:",i)})}deleteDocument(t){t.id&&confirm("Delete this document?")&&this.documentService.deleteDocument(t.id).subscribe({next:()=>this.loadSubData(),error:e=>console.error("Error deleting:",e)})}getDocumentStatusClass(t){switch(t){case"VERIFIED":return"status-verified";case"REJECTED":return"status-rejected";default:return"status-pending"}}isDocumentExpiring(t){if(!t.expiryDate)return!1;let e=new Date(t.expiryDate),i=new Date,r=Math.ceil((e.getTime()-i.getTime())/(1e3*60*60*24));return r<=30&&r>0}isDocumentExpired(t){return t.expiryDate?new Date(t.expiryDate)<new Date:!1}static \u0275fac=function(e){return new(e||n)(w(Ge),w(ue),w(va),w(_t),w(vr))};static \u0275cmp=k({type:n,selectors:[["app-employee-detail"]],standalone:!1,decls:40,vars:44,consts:[[1,"employee-detail-container"],[1,"page-header"],[1,"header-left"],[1,"btn-back",3,"click"],[1,"fas","fa-arrow-left"],[4,"ngIf"],["class","employee-code",4,"ngIf"],["class","header-actions",4,"ngIf"],[1,"tabs"],[3,"click"],["class","tab-content",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"employee-code"],[1,"header-actions"],["class","btn-secondary",3,"click",4,"ngIf"],["class","btn-primary",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn-primary",3,"click"],[1,"fas","fa-save"],[1,"tab-content"],[1,"form-section"],[1,"form-grid"],[1,"form-group"],["type","text",3,"ngModelChange","ngModel","disabled"],["type","date",3,"ngModelChange","ngModel","disabled"],[3,"ngModelChange","ngModel","disabled"],["value",""],["value","MALE"],["value","FEMALE"],["value","OTHER"],["value","SINGLE"],["value","MARRIED"],["value","DIVORCED"],["value","WIDOWED"],["value","A+"],["value","A-"],["value","B+"],["value","B-"],["value","AB+"],["value","AB-"],["value","O+"],["value","O-"],["type","text","placeholder","XXX-XX-XXXX",3,"ngModelChange","ngModel","disabled"],["value","H1B"],["value","L1"],["value","F1_OPT"],["value","F1_CPT"],["value","H4_EAD"],["value","GREEN_CARD"],["value","US_CITIZEN"],["value","TN"],["value","E2"],["value","PENDING"],["value","COMPLETED"],["value","REVERIFIED"],["value","EXPIRED"],["value","PERMANENT_RESIDENT"],["value","WORK_VISA"],["value","EAD"],["type","email",3,"ngModelChange","ngModel","disabled"],[1,"form-group","full-width"],["rows","2",3,"ngModelChange","ngModel","disabled"],[3,"ngModelChange","ngModel","compareWith","disabled"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["value","FULL_TIME"],["value","PART_TIME"],["value","W2"],["value","1099"],["value","UNION"],["value","CONTRACT"],["value","INTERN"],["value","CONSULTANT"],["value","PROBATION"],["value","CONFIRMED"],["value","NOTICE"],["value","RESIGNED"],["value","TERMINATED"],["type","number",3,"ngModelChange","ngModel","disabled"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel","disabled"],[1,"section-header"],[1,"btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["class","data-table",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"badge"],[1,"btn-icon",3,"click"],[1,"btn-icon","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"no-data"],[3,"current-row",4,"ngFor","ngForOf"],["class","badge badge-primary",4,"ngIf"],[1,"badge","badge-primary"],[1,"section-description"],["class","info-banner",4,"ngIf"],[1,"info-banner"],[1,"fas","fa-info-circle"],[1,"badge",3,"ngClass"],["class","btn-icon","title","Approve",3,"click",4,"ngIf"],["class","btn-icon btn-danger","title","Reject",3,"click",4,"ngIf"],["title","Approve",1,"btn-icon",3,"click"],[1,"fas","fa-check"],["title","Reject",1,"btn-icon","btn-danger",3,"click"],[1,"fas","fa-times"],[3,"expiring","expired",4,"ngFor","ngForOf"],["class","fas fa-exclamation-triangle",4,"ngIf"],["class","btn-icon btn-success","title","Verify",3,"click",4,"ngIf"],[1,"fas","fa-exclamation-triangle"],["title","Verify",1,"btn-icon","btn-success",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"modal-body"],["type","text",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","SAVINGS"],["value","CURRENT"],["value","SALARY"],["type","text","placeholder","9-digit routing number",3,"ngModelChange","ngModel"],["value","DIRECT_DEPOSIT"],["value","CHECK"],["value","WIRE"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"modal","modal-lg",3,"click"],["type","date",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],["type","number","step","0.01",3,"ngModelChange","ngModel"],["value","WEEKLY"],["value","BI_WEEKLY"],["value","SEMI_MONTHLY"],["value","MONTHLY"],["value","NEW_HIRE"],["value","PROMOTION"],["value","INCREMENT"],["value","REVISION"],["value","TRANSFER"],["value","CORRECTION"],["rows","2",3,"ngModelChange","ngModel"],["value","10TH"],["value","12TH"],["value","DIPLOMA"],["value","BACHELORS"],["value","MASTERS"],["value","PHD"],["value","CERTIFICATION"],["value","LAPTOP"],["value","DESKTOP"],["value","MOBILE"],["value","MONITOR"],["value","KEYBOARD"],["value","MOUSE"],["value","HEADSET"],["value","ID_CARD"],["value","ACCESS_CARD"],["value","VEHICLE"],["value","NEW"],["value","GOOD"],["value","FAIR"],["value","POOR"],[3,"ngModelChange","ngModel","compareWith"],["type","text","placeholder","Enter file URL or path",3,"ngModelChange","ngModel"],["type","number","min","1",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),_("click",function(){return i.goBack()}),v(4,"i",4),a(),M(5,v7,2,0,"h2",5)(6,y7,2,2,"h2",5)(7,C7,2,1,"span",6),a(),M(8,S7,4,3,"div",7)(9,P7,6,0,"div",7),a(),o(10,"div",8)(11,"button",9),_("click",function(){return i.setTab("personal")}),l(12,"Personal Info"),a(),o(13,"button",9),_("click",function(){return i.setTab("employment")}),l(14,"Employment"),a(),o(15,"button",9),_("click",function(){return i.setTab("bank")}),l(16,"Bank Details"),a(),o(17,"button",9),_("click",function(){return i.setTab("salary")}),l(18,"Salary"),a(),o(19,"button",9),_("click",function(){return i.setTab("ctcHistory")}),l(20,"CTC History"),a(),o(21,"button",9),_("click",function(){return i.setTab("assets")}),l(22,"Assets"),a(),o(23,"button",9),_("click",function(){return i.setTab("documents")}),l(24,"Documents"),a()(),M(25,E7,245,70,"div",10)(26,N7,129,58,"div",10)(27,U7,9,2,"div",10)(28,H7,9,2,"div",10)(29,J7,9,3,"div",10)(30,X7,9,2,"div",10)(31,iL,9,2,"div",10)(32,cL,9,2,"div",10)(33,hL,9,2,"div",10),a(),M(34,_L,65,10,"div",11)(35,vL,110,18,"div",11)(36,yL,61,9,"div",11)(37,CL,49,10,"div",11)(38,xL,79,9,"div",11)(39,ML,44,11,"div",11)),e&2&&(c(5),u("ngIf",i.isNewEmployee),c(),u("ngIf",!i.isNewEmployee),c(),u("ngIf",!i.isNewEmployee),c(),u("ngIf",!i.isNewEmployee),c(),u("ngIf",i.isNewEmployee),c(2),L("active",i.activeTab==="personal"),c(2),L("active",i.activeTab==="employment"),c(2),L("active",i.activeTab==="bank")("disabled",i.isNewEmployee),c(2),L("active",i.activeTab==="salary")("disabled",i.isNewEmployee),c(2),L("active",i.activeTab==="ctcHistory")("disabled",i.isNewEmployee),c(2),L("active",i.activeTab==="assets")("disabled",i.isNewEmployee),c(2),L("active",i.activeTab==="documents")("disabled",i.isNewEmployee),c(2),u("ngIf",i.activeTab==="personal"),c(),u("ngIf",i.activeTab==="employment"),c(),u("ngIf",i.activeTab==="bank"),c(),u("ngIf",i.activeTab==="salary"),c(),u("ngIf",i.activeTab==="ctcHistory"),c(),u("ngIf",i.activeTab==="education"),c(),u("ngIf",i.activeTab==="experience"),c(),u("ngIf",i.activeTab==="assets"),c(),u("ngIf",i.activeTab==="documents"),c(),u("ngIf",i.showBankModal),c(),u("ngIf",i.showSalaryModal),c(),u("ngIf",i.showEducationModal),c(),u("ngIf",i.showExperienceModal),c(),u("ngIf",i.showAssetModal),c(),u("ngIf",i.showDocumentModal))},dependencies:[ae,A,N,z,G,B,pe,fe,H,V,Se,F,he],styles:[".employee-detail-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0;font-size:24px}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .employee-code[_ngcontent-%COMP%]{background:#e0f2f2;color:teal;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-back[_ngcontent-%COMP%]{background:transparent;border:1px solid #ddd;padding:8px 12px;border-radius:6px;cursor:pointer;color:#666}.btn-back[_ngcontent-%COMP%]:hover{background:#f0f0f0}.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn-primary.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.btn-secondary[_ngcontent-%COMP%]{background:#f0f0f0;color:#333;border:1px solid #ddd;padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.tabs[_ngcontent-%COMP%]{display:flex;gap:4px;border-bottom:2px solid #e0e0e0;margin-bottom:24px;flex-wrap:wrap}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;padding:12px 20px;cursor:pointer;color:#666;font-size:14px;border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .2s}.tabs[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{color:#bbb;cursor:not-allowed;opacity:.6}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:teal}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:teal;border-bottom-color:teal;font-weight:500}.tab-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:24px}.form-section[_ngcontent-%COMP%]{margin-bottom:32px}.form-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:16px;margin:0 0 16px;padding-bottom:8px;border-bottom:1px solid #eee}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:8px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:16px;margin:0}.section-header[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{width:100%;color:#666;font-size:13px;margin:0}.info-banner[_ngcontent-%COMP%]{background:#e8f4f8;border:1px solid #b8d4e3;border-radius:6px;padding:12px 16px;color:#31708f;display:flex;align-items:center;gap:10px;margin-bottom:16px}.info-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:1200px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media(max-width:900px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:600px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:#555;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-weight:400!important}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 14px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333;font-size:12px;text-transform:uppercase}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   .current-row[_ngcontent-%COMP%]{background:#e0f2f2}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:11px;font-weight:500}.badge.badge-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.badge.badge-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;padding:6px;cursor:pointer;color:#666;border-radius:4px}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:teal}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#fee;color:#c00}.no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px;font-style:italic}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 4px 20px #00000026}.modal.modal-lg[_ngcontent-%COMP%]{max-width:700px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:24px;cursor:pointer;color:#999;padding:0;line-height:1}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}.text-warning[_ngcontent-%COMP%]{color:#f0ad4e}.text-danger[_ngcontent-%COMP%]{color:#dc3545}tr.expiring[_ngcontent-%COMP%]{background-color:#fff3cd}tr.expired[_ngcontent-%COMP%]{background-color:#f8d7da}.btn-success[_ngcontent-%COMP%]{color:#28a745}.btn-success[_ngcontent-%COMP%]:hover{color:#1e7e34}"]})};function SL(n,t){if(n&1&&(o(0,"div",36),l(1),a()),n&2){let e=d().$implicit;c(),f(e.description)}}function PL(n,t){if(n&1){let e=O();o(0,"div",26)(1,"div",27)(2,"div",28),l(3),a(),o(4,"div",29),l(5),a(),M(6,SL,2,1,"div",30),a(),o(7,"div",31)(8,"button",32),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditCategoryModal(r))}),v(9,"i",33),a(),o(10,"button",34),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteCategory(r))}),v(11,"i",35),a()()()}if(n&2){let e=t.$implicit;L("inactive",!e.active),c(3),f(e.code),c(2),f(e.name),c(),u("ngIf",e.description)}}function EL(n,t){n&1&&(o(0,"div",37)(1,"p"),l(2,'No categories found. Click "Init Categories" to create default categories.'),a()())}function wL(n,t){if(n&1&&(o(0,"option",18),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e.id),c(),f(e.name)}}function OL(n,t){n&1&&(o(0,"tr")(1,"td",38),l(2,"No document types found."),a()())}function IL(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td")(8,"span",39),l(9),a()(),o(10,"td")(11,"span",39),l(12),a()(),o(13,"td"),l(14),a(),o(15,"td")(16,"span",39),l(17),a()(),o(18,"td")(19,"div",40)(20,"button",32),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(21,"i",33),a(),o(22,"button",34),_("click",function(){let r=m(e).$implicit,s=d();return g(s.delete(r))}),v(23,"i",35),a()()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),f((e.category==null?null:e.category.name)||"-"),c(2),L("badge-warning",e.isMandatory)("badge-secondary",!e.isMandatory),c(),E(" ",e.isMandatory?"Yes":"No"," "),c(2),L("badge-info",e.hasExpiry)("badge-secondary",!e.hasExpiry),c(),E(" ",e.hasExpiry?"Yes":"No"," "),c(2),f(e.hasExpiry?e.defaultReminderDays+" days":"-"),c(2),L("badge-success",e.active)("badge-secondary",!e.active),c(),E(" ",e.active?"Active":"Inactive"," ")}}function DL(n,t){if(n&1&&(o(0,"option",18),l(1),a()),n&2){let e=t.$implicit;u("ngValue",e),c(),f(e.name)}}function TL(n,t){if(n&1){let e=O();o(0,"div",47)(1,"div",48)(2,"label"),l(3,"Default Reminder Days"),a(),o(4,"input",61),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editing.defaultReminderDays,r)||(s.editing.defaultReminderDays=r),g(r)}),a()(),o(5,"div",48)(6,"label"),l(7,"Sort Order"),a(),o(8,"input",62),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.editing.sortOrder,r)||(s.editing.sortOrder=r),g(r)}),a()()()}if(n&2){let e=d(2);c(4),C("ngModel",e.editing.defaultReminderDays),c(4),C("ngModel",e.editing.sortOrder)}}function kL(n,t){if(n&1){let e=O();o(0,"div",41),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",42),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",43)(3,"h3"),l(4),a(),o(5,"button",44),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",45)(8,"form",46),_("ngSubmit",function(){m(e);let r=d();return g(r.save())}),o(9,"div",47)(10,"div",48)(11,"label"),l(12,"Code *"),a(),o(13,"input",49),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.code,r)||(s.editing.code=r),g(r)}),a()(),o(14,"div",48)(15,"label"),l(16,"Name *"),a(),o(17,"input",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.name,r)||(s.editing.name=r),g(r)}),a()()(),o(18,"div",48)(19,"label"),l(20,"Category"),a(),o(21,"select",51),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.category,r)||(s.editing.category=r),g(r)}),o(22,"option",18),l(23,"-- Select Category --"),a(),M(24,DL,2,2,"option",19),a()(),o(25,"div",48)(26,"label"),l(27,"Description"),a(),o(28,"textarea",52),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.description,r)||(s.editing.description=r),g(r)}),a()(),o(29,"div",47)(30,"div",48)(31,"label",53)(32,"input",54),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.isMandatory,r)||(s.editing.isMandatory=r),g(r)}),a(),l(33," Mandatory Document "),a()(),o(34,"div",48)(35,"label",53)(36,"input",55),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.hasExpiry,r)||(s.editing.hasExpiry=r),g(r)}),a(),l(37," Has Expiry Date "),a()()(),M(38,TL,9,2,"div",56),o(39,"div",48)(40,"label",53)(41,"input",57),x("ngModelChange",function(r){m(e);let s=d();return b(s.editing.active,r)||(s.editing.active=r),g(r)}),a(),l(42," Active "),a()(),o(43,"div",58)(44,"button",59),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(45,"Cancel"),a(),o(46,"button",60),l(47),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditMode?"Edit":"Add"," Document Type"),c(9),C("ngModel",e.editing.code),c(4),C("ngModel",e.editing.name),c(4),C("ngModel",e.editing.category),c(),u("ngValue",null),c(2),u("ngForOf",e.categories),c(4),C("ngModel",e.editing.description),c(4),C("ngModel",e.editing.isMandatory),c(4),C("ngModel",e.editing.hasExpiry),c(2),u("ngIf",e.editing.hasExpiry),c(3),C("ngModel",e.editing.active),c(6),f(e.isEditMode?"Update":"Save")}}function RL(n,t){if(n&1){let e=O();o(0,"div",41),_("click",function(){m(e);let r=d();return g(r.closeCategoryModal())}),o(1,"div",42),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",43)(3,"h3"),l(4),a(),o(5,"button",44),_("click",function(){m(e);let r=d();return g(r.closeCategoryModal())}),l(6,"\xD7"),a()(),o(7,"div",45)(8,"form",46),_("ngSubmit",function(){m(e);let r=d();return g(r.saveCategory())}),o(9,"div",47)(10,"div",48)(11,"label"),l(12,"Code *"),a(),o(13,"input",63),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingCategory.code,r)||(s.editingCategory.code=r),g(r)}),a()(),o(14,"div",48)(15,"label"),l(16,"Name *"),a(),o(17,"input",64),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingCategory.name,r)||(s.editingCategory.name=r),g(r)}),a()()(),o(18,"div",48)(19,"label"),l(20,"Description"),a(),o(21,"textarea",65),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingCategory.description,r)||(s.editingCategory.description=r),g(r)}),a()(),o(22,"div",47)(23,"div",48)(24,"label"),l(25,"Sort Order"),a(),o(26,"input",66),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingCategory.sortOrder,r)||(s.editingCategory.sortOrder=r),g(r)}),a()(),o(27,"div",48)(28,"label",53)(29,"input",67),x("ngModelChange",function(r){m(e);let s=d();return b(s.editingCategory.active,r)||(s.editingCategory.active=r),g(r)}),a(),l(30," Active "),a()()(),o(31,"div",58)(32,"button",59),_("click",function(){m(e);let r=d();return g(r.closeCategoryModal())}),l(33,"Cancel"),a(),o(34,"button",60),l(35),a()()()()()()}if(n&2){let e=d();c(4),E("",e.isEditCategoryMode?"Edit":"Add"," Category"),c(9),C("ngModel",e.editingCategory.code),c(4),C("ngModel",e.editingCategory.name),c(4),C("ngModel",e.editingCategory.description),c(5),C("ngModel",e.editingCategory.sortOrder),c(3),C("ngModel",e.editingCategory.active),c(6),f(e.isEditCategoryMode?"Update":"Save")}}var dm=class n{constructor(t){this.documentService=t}documentTypes=[];categories=[];filteredTypes=[];selectedCategoryId=null;searchTerm="";showModal=!1;isEditMode=!1;editing=this.getEmptyType();showCategoryModal=!1;isEditCategoryMode=!1;editingCategory=this.getEmptyCategory();ngOnInit(){this.loadData()}loadData(){this.documentService.getAllCategories().subscribe({next:t=>this.categories=t,error:t=>console.error("Error loading categories:",t)}),this.documentService.getAllTypes().subscribe({next:t=>{this.documentTypes=t,this.filterTypes()},error:t=>console.error("Error loading document types:",t)})}filterTypes(){let t=this.documentTypes;if(this.selectedCategoryId&&(t=t.filter(e=>e.category?.id===this.selectedCategoryId)),this.searchTerm){let e=this.searchTerm.toLowerCase();t=t.filter(i=>i.name.toLowerCase().includes(e)||i.code.toLowerCase().includes(e))}this.filteredTypes=t}onCategoryChange(){this.filterTypes()}onSearchChange(){this.filterTypes()}getEmptyType(){return{code:"",name:"",description:"",isMandatory:!1,hasExpiry:!1,defaultReminderDays:30,sortOrder:0,active:!0}}getEmptyCategory(){return{code:"",name:"",description:"",sortOrder:0,active:!0}}openModal(){this.isEditMode=!1,this.editing=this.getEmptyType(),this.showModal=!0}openEditModal(t){this.isEditMode=!0,this.editing=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}save(){this.isEditMode&&this.editing.id?this.documentService.updateType(this.editing.id,this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.documentService.createType(this.editing).subscribe({next:()=>{this.loadData(),this.closeModal()},error:t=>console.error("Error creating:",t)})}delete(t){t.id&&confirm(`Are you sure you want to delete "${t.name}"?`)&&this.documentService.deleteType(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting:",e)})}openCategoryModal(){this.isEditCategoryMode=!1,this.editingCategory=this.getEmptyCategory(),this.showCategoryModal=!0}openEditCategoryModal(t){this.isEditCategoryMode=!0,this.editingCategory=T({},t),this.showCategoryModal=!0}closeCategoryModal(){this.showCategoryModal=!1}saveCategory(){this.isEditCategoryMode&&this.editingCategory.id?this.documentService.updateCategory(this.editingCategory.id,this.editingCategory).subscribe({next:()=>{this.loadData(),this.closeCategoryModal()},error:t=>console.error("Error updating category:",t)}):this.documentService.createCategory(this.editingCategory).subscribe({next:()=>{this.loadData(),this.closeCategoryModal()},error:t=>console.error("Error creating category:",t)})}deleteCategory(t){t.id&&confirm(`Are you sure you want to delete category "${t.name}"? This may affect document types.`)&&this.documentService.deleteCategory(t.id).subscribe({next:()=>this.loadData(),error:e=>console.error("Error deleting category:",e)})}initDefaultCategories(){this.documentService.initCategories().subscribe({next:()=>{alert("Default categories initialized successfully!"),this.loadData()},error:t=>console.error("Error initializing categories:",t)})}static \u0275fac=function(e){return new(e||n)(w(vr))};static \u0275cmp=k({type:n,selectors:[["app-document-types"]],standalone:!1,decls:74,vars:10,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"header-actions"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-magic"],[1,"fas","fa-folder-plus"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"card","categories-section"],[1,"categories-grid"],["class","category-card",3,"inactive",4,"ngFor","ngForOf"],["class","category-card empty",4,"ngIf"],[1,"card"],[1,"filters"],[1,"filter-group"],[3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","placeholder","Search by name or code...",3,"ngModelChange","input","ngModel"],[1,"table-container"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"category-card"],[1,"category-info"],[1,"category-code"],[1,"category-name"],["class","category-desc",4,"ngIf"],[1,"category-actions"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"category-desc"],[1,"category-card","empty"],["colspan","8",1,"text-center"],[1,"badge"],[1,"action-buttons"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["type","text","name","code","required","","placeholder","e.g., PASSPORT",3,"ngModelChange","ngModel"],["type","text","name","name","required","","placeholder","e.g., Passport",3,"ngModelChange","ngModel"],["name","category",3,"ngModelChange","ngModel"],["name","description","placeholder","Enter description",3,"ngModelChange","ngModel"],[1,"checkbox-label"],["type","checkbox","name","isMandatory",3,"ngModelChange","ngModel"],["type","checkbox","name","hasExpiry",3,"ngModelChange","ngModel"],["class","form-row",4,"ngIf"],["type","checkbox","name","active",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],["type","number","name","defaultReminderDays","min","1","max","365",3,"ngModelChange","ngModel"],["type","number","name","sortOrder","min","0",3,"ngModelChange","ngModel"],["type","text","name","catCode","required","","placeholder","e.g., ID_WORK",3,"ngModelChange","ngModel"],["type","text","name","catName","required","","placeholder","e.g., ID & Work Authorization",3,"ngModelChange","ngModel"],["name","catDescription","placeholder","Enter description",3,"ngModelChange","ngModel"],["type","number","name","catSortOrder","min","0",3,"ngModelChange","ngModel"],["type","checkbox","name","catActive",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Document Types"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Document Management"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Document Types"),a()()(),o(20,"div",4)(21,"button",5),_("click",function(){return i.initDefaultCategories()}),v(22,"i",6),l(23," Init Categories "),a(),o(24,"button",5),_("click",function(){return i.openCategoryModal()}),v(25,"i",7),l(26," Add Category "),a(),o(27,"button",8),_("click",function(){return i.openModal()}),v(28,"i",9),l(29," Add Document Type "),a()()(),o(30,"div",10)(31,"h3"),l(32,"Document Categories"),a(),o(33,"div",11),M(34,PL,12,5,"div",12)(35,EL,3,0,"div",13),a()(),o(36,"div",14)(37,"div",15)(38,"div",16)(39,"label"),l(40,"Filter by Category"),a(),o(41,"select",17),x("ngModelChange",function(s){return b(i.selectedCategoryId,s)||(i.selectedCategoryId=s),s}),_("change",function(){return i.onCategoryChange()}),o(42,"option",18),l(43,"All Categories"),a(),M(44,wL,2,2,"option",19),a()(),o(45,"div",16)(46,"label"),l(47,"Search"),a(),o(48,"input",20),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),_("input",function(){return i.onSearchChange()}),a()()(),o(49,"div",21)(50,"table",22)(51,"thead")(52,"tr")(53,"th"),l(54,"Code"),a(),o(55,"th"),l(56,"Name"),a(),o(57,"th"),l(58,"Category"),a(),o(59,"th"),l(60,"Mandatory"),a(),o(61,"th"),l(62,"Has Expiry"),a(),o(63,"th"),l(64,"Reminder Days"),a(),o(65,"th"),l(66,"Status"),a(),o(67,"th"),l(68,"Actions"),a()()(),o(69,"tbody"),M(70,OL,3,0,"tr",23)(71,IL,24,19,"tr",24),a()()()()(),M(72,kL,48,12,"div",25)(73,RL,36,7,"div",25)),e&2&&(c(34),u("ngForOf",i.categories),c(),u("ngIf",i.categories.length===0),c(6),C("ngModel",i.selectedCategoryId),c(),u("ngValue",null),c(2),u("ngForOf",i.categories),c(4),C("ngModel",i.searchTerm),c(22),u("ngIf",i.filteredTypes.length===0),c(),u("ngForOf",i.filteredTypes),c(),u("ngIf",i.showModal),c(),u("ngIf",i.showCategoryModal))},dependencies:[A,N,ot,z,G,B,pe,fe,H,V,rt,ve,Se,rn,F,tt,Z],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px;margin-bottom:20px}.categories-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#333}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:15px}.category-card[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;display:flex;justify-content:space-between;align-items:flex-start}.category-card.inactive[_ngcontent-%COMP%]{opacity:.6}.category-card.empty[_ngcontent-%COMP%]{grid-column:1/-1;justify-content:center;text-align:center;color:#666}.category-card[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-code[_ngcontent-%COMP%]{font-size:12px;color:teal;font-weight:600}.category-card[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#333}.category-card[_ngcontent-%COMP%]   .category-info[_ngcontent-%COMP%]   .category-desc[_ngcontent-%COMP%]{font-size:13px;color:#666;margin-top:5px}.category-card[_ngcontent-%COMP%]   .category-actions[_ngcontent-%COMP%]{display:flex;gap:5px}.filters[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px;flex-wrap:wrap}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;min-width:200px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#666}.filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.badge.badge-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.badge.badge-info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}']})};function AL(n,t){if(n&1&&(o(0,"tr")(1,"td",29),l(2),a()()),n&2){let e=d(2);c(2),E("No documents expiring within ",e.expiryDays," days.")}}function NL(n,t){if(n&1){let e=O();o(0,"button",38),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.resetReminder(r))}),v(1,"i",39),a()}}function FL(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"a",30),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewEmployee(r))}),l(3),a(),o(4,"div",31),l(5),a()(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td")(13,"span",32),l(14),a()(),o(15,"td")(16,"span",33),l(17),a()(),o(18,"td")(19,"div",34)(20,"button",35),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewEmployee(r))}),v(21,"i",36),a(),M(22,NL,2,0,"button",37),a()()()}if(n&2){let e=t.$implicit,i=d(2);bt(i.getExpiryClass(e.expiryDate)),c(3),ne(" ",e.employee==null?null:e.employee.firstName," ",e.employee==null?null:e.employee.lastName," "),c(2),f(e.employee==null?null:e.employee.employeeCode),c(2),f(e.documentType==null?null:e.documentType.name),c(2),f(e.documentNumber||"-"),c(2),f(i.formatDate(e.expiryDate)),c(2),bt(i.getExpiryClass(e.expiryDate)),c(),E(" ",i.getDaysUntilExpiry(e.expiryDate)," days "),c(2),L("badge-success",e.verificationStatus==="VERIFIED")("badge-warning",e.verificationStatus==="PENDING")("badge-danger",e.verificationStatus==="REJECTED"),c(),E(" ",e.verificationStatus," "),c(5),u("ngIf",e.reminderSent)}}function VL(n,t){if(n&1){let e=O();o(0,"div",21)(1,"div",22)(2,"label"),l(3,"Show documents expiring within:"),a(),o(4,"select",23),x("ngModelChange",function(r){m(e);let s=d();return b(s.expiryDays,r)||(s.expiryDays=r),g(r)}),_("change",function(){m(e);let r=d();return g(r.onExpiryDaysChange())}),o(5,"option",24),l(6,"7 days"),a(),o(7,"option",24),l(8,"14 days"),a(),o(9,"option",24),l(10,"30 days"),a(),o(11,"option",24),l(12,"60 days"),a(),o(13,"option",24),l(14,"90 days"),a()()(),o(15,"div",25)(16,"table",26)(17,"thead")(18,"tr")(19,"th"),l(20,"Employee"),a(),o(21,"th"),l(22,"Document Type"),a(),o(23,"th"),l(24,"Document Number"),a(),o(25,"th"),l(26,"Expiry Date"),a(),o(27,"th"),l(28,"Days Left"),a(),o(29,"th"),l(30,"Status"),a(),o(31,"th"),l(32,"Actions"),a()()(),o(33,"tbody"),M(34,AL,3,1,"tr",27)(35,FL,23,19,"tr",28),a()()()()}if(n&2){let e=d();c(4),C("ngModel",e.expiryDays),c(),u("value",7),c(2),u("value",14),c(2),u("value",30),c(2),u("value",60),c(2),u("value",90),c(21),u("ngIf",e.expiringDocuments.length===0),c(),u("ngForOf",e.expiringDocuments)}}function LL(n,t){n&1&&(o(0,"tr")(1,"td",41),l(2,"No expired documents."),a()())}function UL(n,t){if(n&1){let e=O();o(0,"button",38),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.resetReminder(r))}),v(1,"i",39),a()}}function BL(n,t){if(n&1){let e=O();o(0,"tr",42)(1,"td")(2,"a",30),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewEmployee(r))}),l(3),a(),o(4,"div",31),l(5),a()(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td")(13,"span",43),l(14),a()(),o(15,"td")(16,"div",34)(17,"button",35),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewEmployee(r))}),v(18,"i",36),a(),M(19,UL,2,0,"button",37),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),ne(" ",e.employee==null?null:e.employee.firstName," ",e.employee==null?null:e.employee.lastName," "),c(2),f(e.employee==null?null:e.employee.employeeCode),c(2),f(e.documentType==null?null:e.documentType.name),c(2),f(e.documentNumber||"-"),c(2),f(i.formatDate(e.expiryDate)),c(3),E(" ",-i.getDaysUntilExpiry(e.expiryDate)," days overdue "),c(5),u("ngIf",e.reminderSent)}}function WL(n,t){if(n&1&&(o(0,"div",21)(1,"div",25)(2,"table",26)(3,"thead")(4,"tr")(5,"th"),l(6,"Employee"),a(),o(7,"th"),l(8,"Document Type"),a(),o(9,"th"),l(10,"Document Number"),a(),o(11,"th"),l(12,"Expired On"),a(),o(13,"th"),l(14,"Days Overdue"),a(),o(15,"th"),l(16,"Actions"),a()()(),o(17,"tbody"),M(18,LL,3,0,"tr",27)(19,BL,20,8,"tr",40),a()()()()),n&2){let e=d();c(18),u("ngIf",e.expiredDocuments.length===0),c(),u("ngForOf",e.expiredDocuments)}}function jL(n,t){n&1&&(o(0,"tr")(1,"td",41),l(2,"No documents pending verification."),a()())}function qL(n,t){if(n&1){let e=O();o(0,"tr")(1,"td")(2,"a",30),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewEmployee(r))}),l(3),a(),o(4,"div",31),l(5),a()(),o(6,"td"),l(7),a(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td")(15,"div",34)(16,"button",45),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.verifyDocument(r,"VERIFIED"))}),v(17,"i",46),a(),o(18,"button",47),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.verifyDocument(r,"REJECTED"))}),v(19,"i",48),a(),o(20,"button",35),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewEmployee(r))}),v(21,"i",36),a()()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),ne(" ",e.employee==null?null:e.employee.firstName," ",e.employee==null?null:e.employee.lastName," "),c(2),f(e.employee==null?null:e.employee.employeeCode),c(2),f(e.documentType==null?null:e.documentType.name),c(2),f(e.documentNumber||"-"),c(2),f(i.formatDate(e.uploadedAt)),c(2),f(e.uploadedBy||"-")}}function HL(n,t){if(n&1&&(o(0,"div",21)(1,"div",25)(2,"table",26)(3,"thead")(4,"tr")(5,"th"),l(6,"Employee"),a(),o(7,"th"),l(8,"Document Type"),a(),o(9,"th"),l(10,"Document Number"),a(),o(11,"th"),l(12,"Uploaded"),a(),o(13,"th"),l(14,"Uploaded By"),a(),o(15,"th"),l(16,"Actions"),a()()(),o(17,"tbody"),M(18,jL,3,0,"tr",27)(19,qL,22,7,"tr",44),a()()()()),n&2){let e=d();c(18),u("ngIf",e.pendingVerification.length===0),c(),u("ngForOf",e.pendingVerification)}}var pm=class n{constructor(t,e){this.documentService=t;this.router=e}expiringDocuments=[];expiredDocuments=[];pendingVerification=[];activeTab="expiring";expiryDays=30;loading=!1;ngOnInit(){this.loadData()}loadData(){this.loading=!0,this.documentService.getExpiringDocuments(this.expiryDays).subscribe({next:t=>this.expiringDocuments=t,error:t=>console.error("Error loading expiring documents:",t)}),this.documentService.getExpiredDocuments().subscribe({next:t=>this.expiredDocuments=t,error:t=>console.error("Error loading expired documents:",t)}),this.documentService.getPendingVerification().subscribe({next:t=>{this.pendingVerification=t,this.loading=!1},error:t=>{console.error("Error loading pending verification:",t),this.loading=!1}})}onExpiryDaysChange(){this.documentService.getExpiringDocuments(this.expiryDays).subscribe({next:t=>this.expiringDocuments=t,error:t=>console.error("Error loading expiring documents:",t)})}setActiveTab(t){this.activeTab=t}getDaysUntilExpiry(t){if(!t)return 0;let e=new Date(t),i=new Date,r=e.getTime()-i.getTime();return Math.ceil(r/(1e3*60*60*24))}getExpiryClass(t){let e=this.getDaysUntilExpiry(t);return e<=0?"expired":e<=7?"critical":e<=30?"warning":"normal"}verifyDocument(t,e){if(!t.id)return;let i=e==="REJECTED"?prompt("Enter rejection reason:"):"";this.documentService.verifyDocument(t.id,e,i||void 0).subscribe({next:()=>{alert(`Document ${e.toLowerCase()} successfully!`),this.loadData()},error:r=>console.error("Error verifying document:",r)})}resetReminder(t){t.id&&this.documentService.resetReminder(t.id).subscribe({next:()=>{alert("Reminder reset successfully. Notification will be sent again when expiry approaches."),this.loadData()},error:e=>console.error("Error resetting reminder:",e)})}runExpiryCheck(){this.documentService.checkExpiry().subscribe({next:t=>{alert(`Expiry check completed. Processed: ${t.processed}, Notifications: ${t.notifications}`),this.loadData()},error:t=>console.error("Error running expiry check:",t)})}viewEmployee(t){t.employee?.id&&this.router.navigate(["/app/hr/employees",t.employee.id])}formatDate(t){return t?new Date(t).toLocaleDateString():"-"}static \u0275fac=function(e){return new(e||n)(w(vr),w(ue))};static \u0275cmp=k({type:n,selectors:[["app-document-expiry"]],standalone:!1,decls:62,vars:15,consts:[[1,"settings-page"],[1,"page-header"],[1,"breadcrumb"],["routerLink","/app"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-sync"],[1,"stats-cards"],[1,"stat-card","warning",3,"click"],[1,"stat-icon"],[1,"fas","fa-clock"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","danger",3,"click"],[1,"fas","fa-exclamation-triangle"],[1,"stat-card","info",3,"click"],[1,"fas","fa-hourglass-half"],[1,"card"],[1,"tabs"],[1,"tab",3,"click"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[1,"filter-bar"],[3,"ngModelChange","change","ngModel"],[3,"value"],[1,"table-container"],[1,"table"],[4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],["colspan","7",1,"text-center"],[1,"employee-link",3,"click"],[1,"employee-code"],[1,"days-badge"],[1,"badge"],[1,"action-buttons"],["title","View Employee",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"fas","fa-eye"],["class","btn btn-sm btn-info","title","Reset Reminder",3,"click",4,"ngIf"],["title","Reset Reminder",1,"btn","btn-sm","btn-info",3,"click"],[1,"fas","fa-bell-slash"],["class","expired",4,"ngFor","ngForOf"],["colspan","6",1,"text-center"],[1,"expired"],[1,"days-badge","expired"],[4,"ngFor","ngForOf"],["title","Verify",1,"btn","btn-sm","btn-success",3,"click"],[1,"fas","fa-check"],["title","Reject",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),l(4,"Document Expiry Dashboard"),a(),o(5,"div",2)(6,"a",3),l(7,"Home"),a(),o(8,"span"),l(9,"/"),a(),o(10,"span"),l(11,"HR Management"),a(),o(12,"span"),l(13,"/"),a(),o(14,"span"),l(15,"Document Management"),a(),o(16,"span"),l(17,"/"),a(),o(18,"span"),l(19,"Expiry Reminders"),a()()(),o(20,"button",4),_("click",function(){return i.runExpiryCheck()}),v(21,"i",5),l(22," Run Expiry Check "),a()(),o(23,"div",6)(24,"div",7),_("click",function(){return i.setActiveTab("expiring")}),o(25,"div",8),v(26,"i",9),a(),o(27,"div",10)(28,"div",11),l(29),a(),o(30,"div",12),l(31,"Expiring Soon"),a()()(),o(32,"div",13),_("click",function(){return i.setActiveTab("expired")}),o(33,"div",8),v(34,"i",14),a(),o(35,"div",10)(36,"div",11),l(37),a(),o(38,"div",12),l(39,"Expired"),a()()(),o(40,"div",15),_("click",function(){return i.setActiveTab("pending")}),o(41,"div",8),v(42,"i",16),a(),o(43,"div",10)(44,"div",11),l(45),a(),o(46,"div",12),l(47,"Pending Verification"),a()()()(),o(48,"div",17)(49,"div",18)(50,"button",19),_("click",function(){return i.setActiveTab("expiring")}),v(51,"i",9),l(52),a(),o(53,"button",19),_("click",function(){return i.setActiveTab("expired")}),v(54,"i",14),l(55),a(),o(56,"button",19),_("click",function(){return i.setActiveTab("pending")}),v(57,"i",16),l(58),a()(),M(59,VL,36,8,"div",20)(60,WL,20,2,"div",20)(61,HL,20,2,"div",20),a()()),e&2&&(c(29),f(i.expiringDocuments.length),c(8),f(i.expiredDocuments.length),c(8),f(i.pendingVerification.length),c(5),L("active",i.activeTab==="expiring"),c(2),E(" Expiring Soon (",i.expiringDocuments.length,") "),c(),L("active",i.activeTab==="expired"),c(2),E(" Expired (",i.expiredDocuments.length,") "),c(),L("active",i.activeTab==="pending"),c(2),E(" Pending Verification (",i.pendingVerification.length,") "),c(),u("ngIf",i.activeTab==="expiring"),c(),u("ngIf",i.activeTab==="expired"),c(),u("ngIf",i.activeTab==="pending"))},dependencies:[A,N,z,G,H,V,F,Z],styles:['@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #00796b;--primary-dark: #004d40;--primary-light: #26a69a;--secondary-color: #ffffff;--bg-color: #f5f7fa;--sidebar-bg: #ffffff;--card-bg: #ffffff;--text-primary: #2c3e50;--text-secondary: #6c757d;--border-color: #e0e0e0;--success-color: #28a745;--warning-color: #ffc107;--danger-color: #dc3545;--info-color: #17a2b8}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-primary);min-height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.btn-danger[_ngcontent-%COMP%]{background:var(--danger-color);color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:.875rem}.card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;box-shadow:0 2px 10px #00000014;padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--danger-color);margin-left:2px}.form-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-secondary);margin-top:4px}.form-hint.warning[_ngcontent-%COMP%]{color:var(--warning-color)}.form-hint.error[_ngcontent-%COMP%]{color:var(--danger-color)}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid var(--border-color);border-radius:8px;font-size:14px;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #00796b1a}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:var(--danger-color)}.form-control.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #dc35451a}.form-control[readonly][_ngcontent-%COMP%]{background-color:var(--bg-color);cursor:not-allowed}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:16px;font-size:.875rem}.alert-danger[_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--danger-color);border:1px solid rgba(220,53,69,.2)}.alert-success[_ngcontent-%COMP%]{background-color:#28a7451a;color:var(--success-color);border:1px solid rgba(40,167,69,.2)}@media(max-width:768px){.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-large[_ngcontent-%COMP%]{max-width:700px!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid var(--border-color)}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--bg-color);font-weight:600;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#00796b08}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:.75rem;font-weight:500}.badge-success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.badge-warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.badge-danger[_ngcontent-%COMP%]{background:#dc35451a;color:var(--danger-color)}.badge-info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-primary)}.breadcrumb[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:.875rem;color:var(--text-secondary)}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #00000014}.stat-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stat-card[_ngcontent-%COMP%]   .icon.primary[_ngcontent-%COMP%]{background:#00796b1a;color:var(--primary-color)}.stat-card[_ngcontent-%COMP%]   .icon.success[_ngcontent-%COMP%]{background:#28a7451a;color:var(--success-color)}.stat-card[_ngcontent-%COMP%]   .icon.warning[_ngcontent-%COMP%]{background:#ffc1071a;color:#d39e00}.stat-card[_ngcontent-%COMP%]   .icon.info[_ngcontent-%COMP%]{background:#17a2b81a;color:var(--info-color)}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003}.modal-lg[_ngcontent-%COMP%], .modal-content.modal-lg[_ngcontent-%COMP%]{max-width:900px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-secondary)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px}.grid-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.grid-3[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.grid-4[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}@media(max-width:992px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-4[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:0 12px;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px 0;outline:none;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--text-secondary)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;border-bottom:2px solid var(--border-color);margin-bottom:24px}.tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-weight:500;color:var(--text-secondary);border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s ease}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);border-bottom-color:var(--primary-color)}.tab[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.settings-page[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.breadcrumb[_ngcontent-%COMP%]{font-size:14px;color:#666}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:teal;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.stats-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:20px;display:flex;align-items:center;gap:15px;cursor:pointer;transition:transform .2s,box-shadow .2s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.stat-card.warning[_ngcontent-%COMP%]{border-left:4px solid #ffc107}.stat-card.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#ffc107}.stat-card.danger[_ngcontent-%COMP%]{border-left:4px solid #dc3545}.stat-card.danger[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#dc3545}.stat-card.info[_ngcontent-%COMP%]{border-left:4px solid #17a2b8}.stat-card.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#17a2b8}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:32px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#666}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:0;overflow:hidden}.tabs[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #eee;background:#f8f9fa}.tab[_ngcontent-%COMP%]{padding:15px 25px;border:none;background:none;cursor:pointer;font-size:14px;color:#666;display:flex;align-items:center;gap:8px;transition:all .2s}.tab[_ngcontent-%COMP%]:hover{color:teal;background:#f0f0f0}.tab.active[_ngcontent-%COMP%]{color:teal;background:#fff;border-bottom:2px solid #008080;margin-bottom:-1px}.tab-content[_ngcontent-%COMP%]{padding:20px}.filter-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:15px}.filter-bar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#666}.filter-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.filter-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px}.table[_ngcontent-%COMP%]   tr.expired[_ngcontent-%COMP%]{background-color:#fff5f5}.table[_ngcontent-%COMP%]   tr.critical[_ngcontent-%COMP%]{background-color:#fff0f0}.table[_ngcontent-%COMP%]   tr.warning[_ngcontent-%COMP%]{background-color:#fffbeb}.employee-link[_ngcontent-%COMP%]{color:teal;cursor:pointer;text-decoration:none;font-weight:500}.employee-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.employee-code[_ngcontent-%COMP%]{font-size:12px;color:#666}.days-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:20px;font-size:12px;font-weight:500}.days-badge.normal[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.days-badge.warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.days-badge.critical[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.days-badge.expired[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500}.badge.badge-success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.badge.badge-warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.badge.badge-danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.badge.badge-secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn.btn-success[_ngcontent-%COMP%]:hover{background:#218838}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-info[_ngcontent-%COMP%]{background:#17a2b8;color:#fff}.btn.btn-info[_ngcontent-%COMP%]:hover{background:#138496}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}']})};var Wn=class n{constructor(t){this.http=t}baseUrl="/api/mis-dashboard";getHRStats(){return this.http.get(`${this.baseUrl}/hr`)}getPayrollStats(){return this.http.get(`${this.baseUrl}/payroll`)}getAttendanceStats(){return this.http.get(`${this.baseUrl}/attendance`)}getPerformanceStats(){return this.http.get(`${this.baseUrl}/performance`)}getReportFields(){return this.http.get(`${this.baseUrl}/report-fields`)}getReportTemplates(){return this.http.get(`${this.baseUrl}/report-templates`)}saveReportTemplate(t){return t.id?this.http.put(`${this.baseUrl}/report-templates/${t.id}`,t):this.http.post(`${this.baseUrl}/report-templates`,t)}deleteReportTemplate(t){return this.http.delete(`${this.baseUrl}/report-templates/${t}`)}generateReport(t,e){return this.http.get(`${this.baseUrl}/generate-report/${t}`,{params:{format:e},responseType:"blob"})}exportDashboard(t,e){return this.http.get(`${this.baseUrl}/export/${t}`,{params:{format:e},responseType:"blob"})}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function zL(n,t){n&1&&(o(0,"div",15),v(1,"i",16),o(2,"span"),l(3,"Loading dashboard..."),a()())}function GL(n,t){if(n&1&&(o(0,"div",77)(1,"div",78),v(2,"div",79)(3,"div",80),a(),o(4,"span",81),l(5),a()()),n&2){let e=t.$implicit;c(2),de("height",e.hires/15*100,"%"),c(),de("height",e.exits/15*100,"%"),c(2),f(e.month)}}function $L(n,t){if(n&1&&(o(0,"div",82)(1,"span",83),l(2),a(),o(3,"div",84),v(4,"div",85),a(),o(5,"span",86),l(6),a()()),n&2){let e=t.$implicit,i=d(2);c(2),f(e.department),c(2),de("width",e.count/i.getMaxDepartmentCount()*100,"%"),c(2),f(e.count)}}function QL(n,t){if(n&1&&(o(0,"div",87),v(1,"div",88),o(2,"span",89),l(3),a(),o(4,"span",90),l(5),a()()),n&2){let e=t.$implicit;c(),de("height",e.count/70*100,"%"),c(2),f(e.count),c(2),f(e.range)}}function JL(n,t){if(n&1&&(o(0,"div",91)(1,"div",92)(2,"span",93),l(3),a(),o(4,"span",94),l(5),a()(),o(6,"div",95),v(7,"div",96),a()()),n&2){let e=t.$implicit,i=d(2);c(3),f(e.type),c(2),f(e.count),c(2),de("width",e.count/i.stats.totalHeadcount*100,"%")}}function KL(n,t){if(n&1&&(o(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),v(4,"i",3),a(),o(5,"div",21)(6,"span",22),l(7),a(),o(8,"span",23),l(9,"Total Headcount"),a()()(),o(10,"div",24)(11,"div",20),v(12,"i",25),a(),o(13,"div",21)(14,"span",22),l(15),a(),o(16,"span",23),l(17,"Active Employees"),a()()(),o(18,"div",26)(19,"div",20),v(20,"i",27),a(),o(21,"div",21)(22,"span",22),l(23),a(),o(24,"span",23),l(25,"New Hires (Month)"),a()()(),o(26,"div",28)(27,"div",20),v(28,"i",29),a(),o(29,"div",21)(30,"span",22),l(31),a(),o(32,"span",23),l(33,"Exits (Month)"),a()()(),o(34,"div",30)(35,"div",20),v(36,"i",31),a(),o(37,"div",21)(38,"span",22),l(39),a(),o(40,"span",23),l(41,"Attrition Rate"),a()()()(),o(42,"div",32)(43,"div",33)(44,"div",34)(45,"h3"),v(46,"i",35),l(47," Hiring vs Exits Trend"),a()(),o(48,"div",36)(49,"div",37)(50,"div",38)(51,"span",39),v(52,"span",40),l(53," Hires"),a(),o(54,"span",39),v(55,"span",41),l(56," Exits"),a()(),o(57,"div",42),M(58,GL,6,5,"div",43),a()()()(),o(59,"div",33)(60,"div",34)(61,"h3"),v(62,"i",44),l(63," Gender Diversity"),a()(),o(64,"div",36)(65,"div",45)(66,"div",46),Mc(),o(67,"svg",47),v(68,"circle",48)(69,"circle",49)(70,"circle",50),a(),Sc(),o(71,"div",51)(72,"span",52),l(73),a(),o(74,"span",53),l(75,"Total"),a()()(),o(76,"div",54)(77,"div",39),v(78,"span",55),o(79,"span",53),l(80,"Male"),a(),o(81,"span",56),l(82),a()(),o(83,"div",39),v(84,"span",57),o(85,"span",53),l(86,"Female"),a(),o(87,"span",56),l(88),a()(),o(89,"div",39),v(90,"span",58),o(91,"span",53),l(92,"Other"),a(),o(93,"span",56),l(94),a()()()()()()(),o(95,"div",32)(96,"div",33)(97,"div",34)(98,"h3"),v(99,"i",59),l(100," Department Distribution"),a()(),o(101,"div",36)(102,"div",60),M(103,$L,7,4,"div",61),a()()(),o(104,"div",33)(105,"div",34)(106,"h3"),v(107,"i",62),l(108," Age Distribution"),a()(),o(109,"div",36)(110,"div",63),M(111,QL,6,4,"div",64),a()()(),o(112,"div",65)(113,"div",34)(114,"h3"),v(115,"i",66),l(116," Employment Types"),a()(),o(117,"div",36)(118,"div",67),M(119,JL,8,4,"div",68),a()()()(),o(120,"div",69)(121,"div",70),v(122,"i",71),o(123,"div",72)(124,"span",73),l(125),a(),o(126,"span",74),l(127,"Average Tenure"),a()()(),o(128,"div",70),v(129,"i",75),o(130,"div",72)(131,"span",73),l(132),a(),o(133,"span",74),l(134,"On Leave Today"),a()()(),o(135,"div",70),v(136,"i",76),o(137,"div",72)(138,"span",73),l(139),a(),o(140,"span",74),l(141,"Departments"),a()()()()()),n&2){let e=d();c(7),f(e.stats.totalHeadcount),c(8),f(e.stats.activeEmployees),c(8),f(e.stats.newHiresThisMonth),c(8),f(e.stats.exitsThisMonth),c(8),E("",e.stats.attritionRate,"%"),c(19),u("ngForOf",e.stats.monthlyHiringTrend),c(10),de("stroke-dasharray",e.getGenderPercentage("male")*2.51+" 251"),c(),de("stroke-dasharray",e.getGenderPercentage("female")*2.51+" 251")("stroke-dashoffset","-"+e.getGenderPercentage("male")*2.51),c(),de("stroke-dasharray",e.getGenderPercentage("other")*2.51+" 251")("stroke-dashoffset","-"+(e.getGenderPercentage("male")+e.getGenderPercentage("female"))*2.51),c(3),f(e.stats.totalHeadcount),c(9),ne("",e.stats.genderDiversity.male," (",e.getGenderPercentage("male"),"%)"),c(6),ne("",e.stats.genderDiversity.female," (",e.getGenderPercentage("female"),"%)"),c(6),ne("",e.stats.genderDiversity.other," (",e.getGenderPercentage("other"),"%)"),c(9),u("ngForOf",e.stats.departmentDistribution),c(8),u("ngForOf",e.stats.ageDistribution),c(8),u("ngForOf",e.stats.employmentTypeDistribution),c(6),E("",e.stats.avgTenure," yrs"),c(7),f(e.stats.onLeave),c(7),f(e.stats.departmentDistribution.length)}}var um=class n{constructor(t){this.dashboardService=t}stats=null;loading=!0;error="";selectedPeriod="month";ngOnInit(){this.loadStats()}loadStats(){this.loading=!0,this.dashboardService.getHRStats().subscribe({next:t=>{this.stats=t,this.loading=!1},error:t=>{console.error("Error loading HR dashboard",t),this.stats=this.getMockStats(),this.loading=!1}})}getMockStats(){return{totalHeadcount:156,activeEmployees:148,onLeave:8,newHiresThisMonth:12,exitsThisMonth:3,attritionRate:4.2,avgTenure:3.5,genderDiversity:{male:92,female:58,other:6},departmentDistribution:[{department:"Engineering",count:45},{department:"Sales",count:32},{department:"Marketing",count:18},{department:"HR",count:12},{department:"Finance",count:24},{department:"Operations",count:25}],monthlyHiringTrend:[{month:"Jul",hires:8,exits:2},{month:"Aug",hires:10,exits:4},{month:"Sep",hires:6,exits:1},{month:"Oct",hires:14,exits:3},{month:"Nov",hires:9,exits:2},{month:"Dec",hires:12,exits:3}],ageDistribution:[{range:"18-25",count:28},{range:"26-35",count:62},{range:"36-45",count:38},{range:"46-55",count:20},{range:"55+",count:8}],employmentTypeDistribution:[{type:"Full-Time",count:120},{type:"Part-Time",count:15},{type:"Contract",count:12},{type:"Intern",count:9}]}}getGenderPercentage(t){if(!this.stats)return 0;let e=this.stats.genderDiversity.male+this.stats.genderDiversity.female+this.stats.genderDiversity.other,i=t==="male"?this.stats.genderDiversity.male:t==="female"?this.stats.genderDiversity.female:this.stats.genderDiversity.other;return Math.round(i/e*100)}getMaxDepartmentCount(){return this.stats?Math.max(...this.stats.departmentDistribution.map(t=>t.count)):0}exportDashboard(t){this.dashboardService.exportDashboard("hr",t).subscribe({next:e=>{let i=window.URL.createObjectURL(e),r=document.createElement("a");r.href=i,r.download=`hr-dashboard.${t}`,r.click(),window.URL.revokeObjectURL(i)},error:e=>console.error("Export failed",e)})}static \u0275fac=function(e){return new(e||n)(w(Wn))};static \u0275cmp=k({type:n,selectors:[["app-hr-dashboard"]],standalone:!1,decls:22,vars:3,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-left"],[1,"fas","fa-users"],[1,"subtitle"],[1,"header-actions"],[1,"period-select",3,"ngModelChange","ngModel"],["value","week"],["value","month"],["value","quarter"],["value","year"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],["class","loading-state",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"dashboard-content"],[1,"stats-row"],[1,"stat-card","primary"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","success"],[1,"fas","fa-user-check"],[1,"stat-card","warning"],[1,"fas","fa-user-plus"],[1,"stat-card","danger"],[1,"fas","fa-user-minus"],[1,"stat-card","info"],[1,"fas","fa-percentage"],[1,"charts-row"],[1,"chart-card"],[1,"card-header"],[1,"fas","fa-chart-line"],[1,"card-body"],[1,"bar-chart"],[1,"chart-legend"],[1,"legend-item"],[1,"dot","success"],[1,"dot","danger"],[1,"chart-bars"],["class","bar-group",4,"ngFor","ngForOf"],[1,"fas","fa-venus-mars"],[1,"donut-chart-container"],[1,"donut-chart"],["viewBox","0 0 100 100"],["cx","50","cy","50","r","40","stroke-dashoffset","0",1,"donut-segment","male"],["cx","50","cy","50","r","40",1,"donut-segment","female"],["cx","50","cy","50","r","40",1,"donut-segment","other"],[1,"donut-center"],[1,"total"],[1,"label"],[1,"donut-legend"],[1,"dot","male"],[1,"value"],[1,"dot","female"],[1,"dot","other"],[1,"fas","fa-building"],[1,"horizontal-bars"],["class","h-bar-item",4,"ngFor","ngForOf"],[1,"fas","fa-birthday-cake"],[1,"age-chart"],["class","age-bar",4,"ngFor","ngForOf"],[1,"chart-card","small"],[1,"fas","fa-briefcase"],[1,"type-list"],["class","type-item",4,"ngFor","ngForOf"],[1,"metrics-row"],[1,"metric-card"],[1,"fas","fa-clock"],[1,"metric-content"],[1,"metric-value"],[1,"metric-label"],[1,"fas","fa-bed"],[1,"fas","fa-chart-pie"],[1,"bar-group"],[1,"bars"],[1,"bar","hire"],[1,"bar","exit"],[1,"bar-label"],[1,"h-bar-item"],[1,"h-bar-label"],[1,"h-bar-track"],[1,"h-bar-fill"],[1,"h-bar-value"],[1,"age-bar"],[1,"age-bar-fill"],[1,"age-count"],[1,"age-label"],[1,"type-item"],[1,"type-info"],[1,"type-name"],[1,"type-count"],[1,"type-bar-track"],[1,"type-bar-fill"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"i",3),l(5," HR Dashboard"),a(),o(6,"p",4),l(7,"Workforce analytics and insights"),a()(),o(8,"div",5)(9,"select",6),x("ngModelChange",function(s){return b(i.selectedPeriod,s)||(i.selectedPeriod=s),s}),o(10,"option",7),l(11,"This Week"),a(),o(12,"option",8),l(13,"This Month"),a(),o(14,"option",9),l(15,"This Quarter"),a(),o(16,"option",10),l(17,"This Year"),a()(),o(18,"button",11),_("click",function(){return i.loadStats()}),v(19,"i",12),a()()(),M(20,zL,4,0,"div",13)(21,KL,142,29,"div",14),a()),e&2&&(c(9),C("ngModel",i.selectedPeriod),c(11),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.stats))},dependencies:[A,N,z,G,H,V,F],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:24px;background:#f5f7fa;min-height:calc(100vh - 60px)}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0;display:flex;align-items:center;gap:12px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0;font-size:14px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-select[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;border-radius:6px;background:#fff;font-size:14px;cursor:pointer}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]{padding:8px 12px;background:#fff;border:1px solid #ddd;border-radius:6px;cursor:pointer;color:#666}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]:hover{background:#f5f5f5}.loading-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:60px;color:#666;font-size:16px}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:teal}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin-bottom:24px}@media(max-width:1200px){.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media(max-width:768px){.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 8px #0000000f}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#666}.stat-card.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#0080801a;color:teal}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#28a7451a;color:#28a745}.stat-card.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#ffc1071a;color:#ffc107}.stat-card.danger[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545}.stat-card.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#17a2b81a;color:#17a2b8}.charts-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}@media(max-width:992px){.charts-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.charts-row[_ngcontent-%COMP%]:last-of-type{grid-template-columns:repeat(3,1fr)}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f;overflow:hidden}.chart-card.small[_ngcontent-%COMP%]{grid-column:span 1}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #eee}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;color:#333;display:flex;align-items:center;gap:8px}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.chart-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}.bar-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:16px}.bar-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:#666}.bar-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.bar-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.success[_ngcontent-%COMP%]{background:#28a745}.bar-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.danger[_ngcontent-%COMP%]{background:#dc3545}.bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;height:160px;padding-top:20px}.bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1}.bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-group[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:flex-end;height:140px}.bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-group[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:16px;border-radius:4px 4px 0 0;transition:height .3s}.bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-group[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .bar.hire[_ngcontent-%COMP%]{background:#28a745}.bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-group[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .bar.exit[_ngcontent-%COMP%]{background:#dc3545}.bar-chart[_ngcontent-%COMP%]   .chart-bars[_ngcontent-%COMP%]   .bar-group[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#666}.donut-chart-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:32px}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]{position:relative;width:160px;height:160px}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg);width:100%;height:100%}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-segment[_ngcontent-%COMP%]{fill:none;stroke-width:12}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-segment.male[_ngcontent-%COMP%]{stroke:#4a90d9}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-segment.female[_ngcontent-%COMP%]{stroke:#e85d75}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-segment.other[_ngcontent-%COMP%]{stroke:#50c878}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-center[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{display:block;font-size:28px;font-weight:600;color:#333}.donut-chart-container[_ngcontent-%COMP%]   .donut-chart[_ngcontent-%COMP%]   .donut-center[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666}.donut-chart-container[_ngcontent-%COMP%]   .donut-legend[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.donut-chart-container[_ngcontent-%COMP%]   .donut-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.donut-chart-container[_ngcontent-%COMP%]   .donut-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%}.donut-chart-container[_ngcontent-%COMP%]   .donut-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.male[_ngcontent-%COMP%]{background:#4a90d9}.donut-chart-container[_ngcontent-%COMP%]   .donut-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.female[_ngcontent-%COMP%]{background:#e85d75}.donut-chart-container[_ngcontent-%COMP%]   .donut-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.other[_ngcontent-%COMP%]{background:#50c878}.donut-chart-container[_ngcontent-%COMP%]   .donut-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:#333;min-width:60px}.donut-chart-container[_ngcontent-%COMP%]   .donut-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#666}.horizontal-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.horizontal-bars[_ngcontent-%COMP%]   .h-bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.horizontal-bars[_ngcontent-%COMP%]   .h-bar-item[_ngcontent-%COMP%]   .h-bar-label[_ngcontent-%COMP%]{width:100px;font-size:13px;color:#333;text-align:right}.horizontal-bars[_ngcontent-%COMP%]   .h-bar-item[_ngcontent-%COMP%]   .h-bar-track[_ngcontent-%COMP%]{flex:1;height:20px;background:#f0f0f0;border-radius:10px;overflow:hidden}.horizontal-bars[_ngcontent-%COMP%]   .h-bar-item[_ngcontent-%COMP%]   .h-bar-track[_ngcontent-%COMP%]   .h-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,teal,#00a0a0);border-radius:10px;transition:width .5s}.horizontal-bars[_ngcontent-%COMP%]   .h-bar-item[_ngcontent-%COMP%]   .h-bar-value[_ngcontent-%COMP%]{width:40px;font-size:14px;font-weight:600;color:#333}.age-chart[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:180px}.age-chart[_ngcontent-%COMP%]   .age-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1}.age-chart[_ngcontent-%COMP%]   .age-bar[_ngcontent-%COMP%]   .age-bar-fill[_ngcontent-%COMP%]{width:40px;background:linear-gradient(180deg,teal,#00b3b3);border-radius:6px 6px 0 0;min-height:10px;transition:height .5s}.age-chart[_ngcontent-%COMP%]   .age-bar[_ngcontent-%COMP%]   .age-count[_ngcontent-%COMP%]{margin-top:8px;font-size:14px;font-weight:600;color:#333}.age-chart[_ngcontent-%COMP%]   .age-bar[_ngcontent-%COMP%]   .age-label[_ngcontent-%COMP%]{margin-top:4px;font-size:12px;color:#666}.type-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.type-list[_ngcontent-%COMP%]   .type-item[_ngcontent-%COMP%]   .type-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:6px}.type-list[_ngcontent-%COMP%]   .type-item[_ngcontent-%COMP%]   .type-info[_ngcontent-%COMP%]   .type-name[_ngcontent-%COMP%]{font-size:13px;color:#333}.type-list[_ngcontent-%COMP%]   .type-item[_ngcontent-%COMP%]   .type-info[_ngcontent-%COMP%]   .type-count[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:teal}.type-list[_ngcontent-%COMP%]   .type-item[_ngcontent-%COMP%]   .type-bar-track[_ngcontent-%COMP%]{height:8px;background:#f0f0f0;border-radius:4px;overflow:hidden}.type-list[_ngcontent-%COMP%]   .type-item[_ngcontent-%COMP%]   .type-bar-track[_ngcontent-%COMP%]   .type-bar-fill[_ngcontent-%COMP%]{height:100%;background:teal;border-radius:4px;transition:width .5s}.metrics-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}@media(max-width:768px){.metrics-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 8px #0000000f}.metric-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;color:teal;width:50px;height:50px;background:#0080801a;border-radius:12px;display:flex;align-items:center;justify-content:center}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#333}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:13px;color:#666}"]})};var fM=()=>["#008080","#00a0a0","#00c0c0","#4a90d9","#6bb3f0","#8dcfff"];function YL(n,t){n&1&&(o(0,"div",14),v(1,"i",15),o(2,"span"),l(3,"Loading dashboard..."),a()())}function ZL(n,t){if(n&1&&(o(0,"div",56)(1,"div",57),v(2,"div",58),a(),o(3,"div",59)(4,"span",60),l(5),a(),o(6,"span",61),l(7),a()()()),n&2){let e=t.$implicit,i=d(2);c(2),de("height",e.cost/i.getMaxPayrollCost()*100,"%"),c(3),f(i.formatCurrency(e.cost)),c(2),f(e.month)}}function XL(n,t){if(n&1&&(o(0,"div",62)(1,"div",63),v(2,"span",64),o(3,"span",65),l(4),a()(),o(5,"div",66),v(6,"div",67),a(),o(7,"span",68),l(8),a()()),n&2){let e=t.$implicit,i=t.index,r=d(2);c(2),de("background",Kr(8,fM)[i]),c(2),f(e.category),c(2),de("width",e.amount/r.getMaxDeduction()*100,"%")("background",Kr(9,fM)[i]),c(2),f(r.formatCurrency(e.amount))}}function eU(n,t){if(n&1&&(o(0,"div",69)(1,"div",70)(2,"span",71),l(3),a(),o(4,"span",72),l(5),a()(),o(6,"div",73),v(7,"div",74),a(),o(8,"span",75),l(9),a()()),n&2){let e=t.$implicit,i=d(2);c(3),E("",e.hours,"h"),c(2),f(i.formatCurrency(e.cost)),c(2),de("height",e.hours/600*100,"%"),c(2),f(e.month)}}function tU(n,t){if(n&1&&(o(0,"div",76)(1,"span",77),l(2),a(),o(3,"div",78),v(4,"div",79),a(),o(5,"span",80),l(6),a()()),n&2){let e=t.$implicit,i=d(2);c(2),f(e.department),c(2),de("width",e.cost/i.getMaxDeptPayroll()*100,"%"),c(2),f(i.formatCurrency(e.cost))}}function nU(n,t){if(n&1&&(o(0,"div",81),v(1,"div",58),o(2,"span",82),l(3),a(),o(4,"span",83),l(5),a()()),n&2){let e=t.$implicit;c(),de("height",e.count/50*100,"%"),c(2),f(e.count),c(2),f(e.range)}}function iU(n,t){if(n&1&&(o(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),v(4,"i",20),a(),o(5,"div",21)(6,"span",22),l(7),a(),o(8,"span",23),l(9,"Total Payroll Cost"),a()()(),o(10,"div",24)(11,"div",19),v(12,"i",25),a(),o(13,"div",21)(14,"span",22),l(15),a(),o(16,"span",23),l(17,"Average Salary"),a()()(),o(18,"div",26)(19,"div",19),v(20,"i",27),a(),o(21,"div",21)(22,"span",22),l(23),a(),o(24,"span",23),l(25,"Total Deductions"),a()()(),o(26,"div",28)(27,"div",19),v(28,"i",29),a(),o(29,"div",21)(30,"span",22),l(31),a(),o(32,"span",23),l(33,"Overtime Pay"),a()()()(),o(34,"div",30)(35,"div",31)(36,"div",32)(37,"h3"),v(38,"i",33),l(39," Payroll Cost Trend"),a()(),o(40,"div",34)(41,"div",35)(42,"div",36),M(43,ZL,8,4,"div",37),a()()()()(),o(44,"div",38)(45,"div",39)(46,"div",32)(47,"h3"),v(48,"i",40),l(49," Deductions Breakdown"),a()(),o(50,"div",34)(51,"div",41),M(52,XL,9,10,"div",42),a()()(),o(53,"div",39)(54,"div",32)(55,"h3"),v(56,"i",29),l(57," Overtime Trend"),a()(),o(58,"div",34)(59,"div",43)(60,"div",44)(61,"span",45),v(62,"span",46),l(63," Hours"),a(),o(64,"span",45),v(65,"span",47),l(66," Cost"),a()(),o(67,"div",48),M(68,eU,10,5,"div",49),a()()()()(),o(69,"div",38)(70,"div",39)(71,"div",32)(72,"h3"),v(73,"i",50),l(74," Department Payroll"),a()(),o(75,"div",34)(76,"div",51),M(77,tU,7,4,"div",52),a()()(),o(78,"div",39)(79,"div",32)(80,"h3"),v(81,"i",53),l(82," Salary Distribution"),a()(),o(83,"div",34)(84,"div",54),M(85,nU,6,4,"div",55),a()()()()()),n&2){let e=d();c(7),f(e.formatCurrency(e.stats.totalPayrollCost)),c(8),f(e.formatCurrency(e.stats.avgSalary)),c(8),f(e.formatCurrency(e.stats.totalDeductions)),c(8),f(e.formatCurrency(e.stats.totalOvertimePay)),c(12),u("ngForOf",e.stats.payrollTrend),c(9),u("ngForOf",e.stats.deductionsBreakdown),c(16),u("ngForOf",e.stats.overtimeTrend),c(9),u("ngForOf",e.stats.departmentPayroll),c(8),u("ngForOf",e.stats.salaryDistribution)}}var mm=class n{constructor(t){this.dashboardService=t}stats=null;loading=!0;selectedPeriod="month";ngOnInit(){this.loadStats()}loadStats(){this.loading=!0,this.dashboardService.getPayrollStats().subscribe({next:t=>{this.stats=t,this.loading=!1},error:t=>{console.error("Error loading payroll dashboard",t),this.stats=this.getMockStats(),this.loading=!1}})}getMockStats(){return{totalPayrollCost:125e4,avgSalary:75e3,totalDeductions:187500,totalOvertimePay:45e3,payrollTrend:[{month:"Jul",cost:118e4},{month:"Aug",cost:1195e3},{month:"Sep",cost:121e4},{month:"Oct",cost:123e4},{month:"Nov",cost:1245e3},{month:"Dec",cost:125e4}],deductionsBreakdown:[{category:"Federal Tax",amount:75e3},{category:"State Tax",amount:37500},{category:"Social Security",amount:35e3},{category:"Medicare",amount:18e3},{category:"Health Insurance",amount:15e3},{category:"401(k)",amount:7e3}],overtimeTrend:[{month:"Jul",hours:420,cost:38e3},{month:"Aug",hours:380,cost:35e3},{month:"Sep",hours:450,cost:42e3},{month:"Oct",hours:520,cost:48e3},{month:"Nov",hours:480,cost:44e3},{month:"Dec",hours:490,cost:45e3}],departmentPayroll:[{department:"Engineering",cost:45e4},{department:"Sales",cost:28e4},{department:"Marketing",cost:15e4},{department:"HR",cost:12e4},{department:"Finance",cost:18e4},{department:"Operations",cost:7e4}],salaryDistribution:[{range:"$30-50K",count:25},{range:"$50-75K",count:48},{range:"$75-100K",count:42},{range:"$100-150K",count:28},{range:"$150K+",count:13}]}}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(t)}getMaxPayrollCost(){return this.stats?Math.max(...this.stats.payrollTrend.map(t=>t.cost)):0}getMaxDeduction(){return this.stats?Math.max(...this.stats.deductionsBreakdown.map(t=>t.amount)):0}getMaxDeptPayroll(){return this.stats?Math.max(...this.stats.departmentPayroll.map(t=>t.cost)):0}static \u0275fac=function(e){return new(e||n)(w(Wn))};static \u0275cmp=k({type:n,selectors:[["app-payroll-dashboard"]],standalone:!1,decls:20,vars:3,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-left"],[1,"fas","fa-money-bill-wave"],[1,"subtitle"],[1,"header-actions"],[1,"period-select",3,"ngModelChange","ngModel"],["value","month"],["value","quarter"],["value","year"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],["class","loading-state",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"dashboard-content"],[1,"stats-row"],[1,"stat-card","primary"],[1,"stat-icon"],[1,"fas","fa-dollar-sign"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","success"],[1,"fas","fa-user-tie"],[1,"stat-card","warning"],[1,"fas","fa-minus-circle"],[1,"stat-card","info"],[1,"fas","fa-clock"],[1,"charts-row"],[1,"chart-card","wide"],[1,"card-header"],[1,"fas","fa-chart-area"],[1,"card-body"],[1,"payroll-trend-chart"],[1,"trend-bars"],["class","trend-bar",4,"ngFor","ngForOf"],[1,"charts-row","two-col"],[1,"chart-card"],[1,"fas","fa-chart-pie"],[1,"deductions-list"],["class","deduction-item",4,"ngFor","ngForOf"],[1,"ot-chart"],[1,"chart-legend"],[1,"legend-item"],[1,"dot","hours"],[1,"dot","cost"],[1,"ot-bars"],["class","ot-bar-group",4,"ngFor","ngForOf"],[1,"fas","fa-building"],[1,"dept-payroll"],["class","dept-item",4,"ngFor","ngForOf"],[1,"fas","fa-chart-bar"],[1,"salary-dist"],["class","salary-bar",4,"ngFor","ngForOf"],[1,"trend-bar"],[1,"bar-container"],[1,"bar-fill"],[1,"bar-info"],[1,"cost"],[1,"month"],[1,"deduction-item"],[1,"deduction-info"],[1,"deduction-color"],[1,"deduction-name"],[1,"deduction-bar-container"],[1,"deduction-bar"],[1,"deduction-value"],[1,"ot-bar-group"],[1,"ot-values"],[1,"hours-value"],[1,"cost-value"],[1,"ot-bar-stack"],[1,"ot-bar","hours"],[1,"ot-label"],[1,"dept-item"],[1,"dept-name"],[1,"dept-bar-track"],[1,"dept-bar-fill"],[1,"dept-value"],[1,"salary-bar"],[1,"count"],[1,"range"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"i",3),l(5," Payroll Dashboard"),a(),o(6,"p",4),l(7,"Payroll costs and trends analysis"),a()(),o(8,"div",5)(9,"select",6),x("ngModelChange",function(s){return b(i.selectedPeriod,s)||(i.selectedPeriod=s),s}),o(10,"option",7),l(11,"This Month"),a(),o(12,"option",8),l(13,"This Quarter"),a(),o(14,"option",9),l(15,"This Year"),a()(),o(16,"button",10),_("click",function(){return i.loadStats()}),v(17,"i",11),a()()(),M(18,YL,4,0,"div",12)(19,iU,86,9,"div",13),a()),e&2&&(c(9),C("ngModel",i.selectedPeriod),c(9),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.stats))},dependencies:[A,N,z,G,H,V,F],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:24px;background:#f5f7fa;min-height:calc(100vh - 60px)}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0;display:flex;align-items:center;gap:12px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0;font-size:14px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-select[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;border-radius:6px;background:#fff;font-size:14px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]{padding:8px 12px;background:#fff;border:1px solid #ddd;border-radius:6px;cursor:pointer;color:#666}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]:hover{background:#f5f5f5}.loading-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:60px;color:#666}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:teal}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}@media(max-width:992px){.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 8px #0000000f}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:#333}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#666}.stat-card.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#0080801a;color:teal}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#28a7451a;color:#28a745}.stat-card.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#ffc1071a;color:#ffc107}.stat-card.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#17a2b81a;color:#17a2b8}.charts-row[_ngcontent-%COMP%]{display:grid;gap:20px;margin-bottom:24px}.charts-row.two-col[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}@media(max-width:992px){.charts-row.two-col[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f}.chart-card.wide[_ngcontent-%COMP%]{grid-column:1/-1}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #eee}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;color:#333;display:flex;align-items:center;gap:8px}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.chart-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}.payroll-trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:220px}.payroll-trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1}.payroll-trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{width:50px;height:160px;background:#f0f0f0;border-radius:8px;display:flex;flex-direction:column;justify-content:flex-end;overflow:hidden}.payroll-trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{width:100%;background:linear-gradient(180deg,teal,#00b3b3);border-radius:8px 8px 0 0;transition:height .5s}.payroll-trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-info[_ngcontent-%COMP%]{margin-top:12px;text-align:center}.payroll-trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-info[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:600;color:teal}.payroll-trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-info[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:12px;color:#666}.deductions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.deductions-list[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.deductions-list[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:140px}.deductions-list[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .deduction-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:3px}.deductions-list[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .deduction-name[_ngcontent-%COMP%]{font-size:13px;color:#333}.deductions-list[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-bar-container[_ngcontent-%COMP%]{flex:1;height:16px;background:#f0f0f0;border-radius:8px;overflow:hidden}.deductions-list[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-bar-container[_ngcontent-%COMP%]   .deduction-bar[_ngcontent-%COMP%]{height:100%;border-radius:8px;transition:width .5s}.deductions-list[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-value[_ngcontent-%COMP%]{min-width:80px;text-align:right;font-size:13px;font-weight:600;color:#333}.ot-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:16px}.ot-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:#666}.ot-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.ot-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.hours[_ngcontent-%COMP%]{background:teal}.ot-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.cost[_ngcontent-%COMP%]{background:#00c0c0}.ot-chart[_ngcontent-%COMP%]   .ot-bars[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:180px}.ot-chart[_ngcontent-%COMP%]   .ot-bars[_ngcontent-%COMP%]   .ot-bar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.ot-chart[_ngcontent-%COMP%]   .ot-bars[_ngcontent-%COMP%]   .ot-bar-group[_ngcontent-%COMP%]   .ot-values[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:6px}.ot-chart[_ngcontent-%COMP%]   .ot-bars[_ngcontent-%COMP%]   .ot-bar-group[_ngcontent-%COMP%]   .ot-values[_ngcontent-%COMP%]   .hours-value[_ngcontent-%COMP%]{font-size:11px;color:teal;font-weight:600}.ot-chart[_ngcontent-%COMP%]   .ot-bars[_ngcontent-%COMP%]   .ot-bar-group[_ngcontent-%COMP%]   .ot-values[_ngcontent-%COMP%]   .cost-value[_ngcontent-%COMP%]{font-size:10px;color:#666}.ot-chart[_ngcontent-%COMP%]   .ot-bars[_ngcontent-%COMP%]   .ot-bar-group[_ngcontent-%COMP%]   .ot-bar-stack[_ngcontent-%COMP%]{width:28px;height:120px;display:flex;flex-direction:column;justify-content:flex-end}.ot-chart[_ngcontent-%COMP%]   .ot-bars[_ngcontent-%COMP%]   .ot-bar-group[_ngcontent-%COMP%]   .ot-bar-stack[_ngcontent-%COMP%]   .ot-bar[_ngcontent-%COMP%]{width:100%;background:linear-gradient(180deg,teal,#00a0a0);border-radius:4px 4px 0 0;transition:height .5s}.ot-chart[_ngcontent-%COMP%]   .ot-bars[_ngcontent-%COMP%]   .ot-bar-group[_ngcontent-%COMP%]   .ot-label[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#666}.dept-payroll[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.dept-payroll[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.dept-payroll[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .dept-name[_ngcontent-%COMP%]{min-width:100px;font-size:13px;color:#333;text-align:right}.dept-payroll[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .dept-bar-track[_ngcontent-%COMP%]{flex:1;height:18px;background:#f0f0f0;border-radius:9px;overflow:hidden}.dept-payroll[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .dept-bar-track[_ngcontent-%COMP%]   .dept-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,teal,#00b3b3);border-radius:9px;transition:width .5s}.dept-payroll[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .dept-value[_ngcontent-%COMP%]{min-width:90px;font-size:13px;font-weight:600;color:#333}.salary-dist[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:200px;padding-top:30px}.salary-dist[_ngcontent-%COMP%]   .salary-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1}.salary-dist[_ngcontent-%COMP%]   .salary-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{width:40px;background:linear-gradient(180deg,teal,#00b3b3);border-radius:6px 6px 0 0;min-height:10px;transition:height .5s}.salary-dist[_ngcontent-%COMP%]   .salary-bar[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:8px;font-size:14px;font-weight:600;color:#333}.salary-dist[_ngcontent-%COMP%]   .salary-bar[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{margin-top:4px;font-size:11px;color:#666;text-align:center}"]})};var hM=()=>["#ffc107","#dc3545","#17a2b8","#6f42c1","#6c757d"];function rU(n,t){n&1&&(o(0,"div",14),v(1,"i",15),o(2,"span"),l(3,"Loading dashboard..."),a()())}function oU(n,t){if(n&1&&(o(0,"div",64)(1,"div",65),v(2,"div",66)(3,"div",67)(4,"div",68),a(),o(5,"span",69),l(6),a()()),n&2){let e=t.$implicit;c(2),de("height",e.absent/160*100,"%"),c(),de("height",e.leave/160*100,"%"),c(),de("height",e.present/160*100,"%"),c(2),f(e.date)}}function aU(n,t){if(n&1&&(o(0,"div",70)(1,"div",71)(2,"span",72),v(3,"i",73),a(),o(4,"span",74),l(5),a()(),o(6,"div",75),v(7,"div",76),a(),o(8,"span",77),l(9),a()()),n&2){let e=t.$implicit,i=t.index,r=d(2);c(2),de("background",Kr(18,hM)[i]),c(),L("fa-sun",i===0)("fa-thermometer-half",i===1)("fa-user",i===2)("fa-baby",i===3)("fa-ban",i===4),c(2),f(e.type),c(2),de("width",e.count/r.getMaxLeaveCount()*100,"%")("background",Kr(19,hM)[i]),c(2),f(e.count)}}function sU(n,t){if(n&1&&(o(0,"div",78)(1,"span",79),l(2),a(),o(3,"div",80)(4,"div",81),v(5,"div",82),a(),o(6,"span",83),l(7),a()()()),n&2){let e=t.$implicit;c(2),f(e.department),c(3),de("width",e.rate,"%"),L("excellent",e.rate>=95)("good",e.rate>=90&&e.rate<95)("fair",e.rate<90),c(2),E("",e.rate,"%")}}function lU(n,t){if(n&1&&(o(0,"div",84)(1,"span",85),l(2),a(),o(3,"div",86),v(4,"div",87),a(),o(5,"span",88),l(6),a()()),n&2){let e=t.$implicit,i=d(2);c(2),f(e.department),c(2),de("width",e.hours/i.getMaxOTHours()*100,"%"),c(2),E("",e.hours,"h")}}function cU(n,t){if(n&1&&(o(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),v(4,"i",20),a(),o(5,"div",21)(6,"span",22),l(7),a(),o(8,"span",23),l(9,"Present Today"),a()(),o(10,"div",24),l(11),a()(),o(12,"div",25)(13,"div",19),v(14,"i",26),a(),o(15,"div",21)(16,"span",22),l(17),a(),o(18,"span",23),l(19,"Absent Today"),a()()(),o(20,"div",27)(21,"div",19),v(22,"i",28),a(),o(23,"div",21)(24,"span",22),l(25),a(),o(26,"span",23),l(27,"On Leave"),a()()(),o(28,"div",29)(29,"div",19),v(30,"i",30),a(),o(31,"div",21)(32,"span",22),l(33),a(),o(34,"span",23),l(35,"Late Arrivals"),a()()(),o(36,"div",31)(37,"div",19),v(38,"i",32),a(),o(39,"div",21)(40,"span",22),l(41),a(),o(42,"span",23),l(43,"Avg Attendance Rate"),a()()()(),o(44,"div",33)(45,"div",34)(46,"div",35)(47,"span",36),l(48,"Present"),a()(),o(49,"div",37)(50,"span",36),l(51,"Leave"),a()(),o(52,"div",38)(53,"span",36),l(54,"Absent"),a()()()(),o(55,"div",39)(56,"div",40)(57,"div",41)(58,"h3"),v(59,"i",42),l(60," Weekly Attendance Trend"),a()(),o(61,"div",43)(62,"div",44)(63,"div",45)(64,"span",46),v(65,"span",47),l(66," Present"),a(),o(67,"span",46),v(68,"span",48),l(69," Leave"),a(),o(70,"span",46),v(71,"span",49),l(72," Absent"),a()(),o(73,"div",50),M(74,oU,7,7,"div",51),a()()()(),o(75,"div",40)(76,"div",41)(77,"h3"),v(78,"i",52),l(79," Leave Type Distribution"),a()(),o(80,"div",43)(81,"div",53),M(82,aU,10,20,"div",54),a()()()(),o(83,"div",39)(84,"div",40)(85,"div",41)(86,"h3"),v(87,"i",55),l(88," Department Attendance Rate"),a()(),o(89,"div",43)(90,"div",56),M(91,sU,8,10,"div",57),a()()(),o(92,"div",40)(93,"div",41)(94,"h3"),v(95,"i",30),l(96," Overtime Summary by Department"),a()(),o(97,"div",43)(98,"div",58)(99,"div",59)(100,"span",60),l(101),a(),o(102,"span",61),l(103,"Total OT Hours"),a()(),o(104,"div",62),M(105,lU,7,4,"div",63),a()()()()()()),n&2){let e=d();c(7),f(e.stats.presentToday),c(4),E("",(e.stats.presentToday/e.getTotalEmployees()*100).toFixed(1),"%"),c(6),f(e.stats.absentToday),c(8),f(e.stats.onLeaveToday),c(8),f(e.stats.lateArrivals),c(8),E("",e.stats.avgAttendanceRate,"%"),c(5),de("width",e.stats.presentToday/e.getTotalEmployees()*100,"%"),c(3),de("width",e.stats.onLeaveToday/e.getTotalEmployees()*100,"%"),c(3),de("width",e.stats.absentToday/e.getTotalEmployees()*100,"%"),c(22),u("ngForOf",e.stats.attendanceTrend),c(8),u("ngForOf",e.stats.leaveTypeDistribution),c(9),u("ngForOf",e.stats.departmentAttendance),c(10),f(e.stats.totalOvertimeHours),c(4),u("ngForOf",e.stats.overtimeSummary)}}var gm=class n{constructor(t){this.dashboardService=t}stats=null;loading=!0;selectedPeriod="week";ngOnInit(){this.loadStats()}loadStats(){this.loading=!0,this.dashboardService.getAttendanceStats().subscribe({next:t=>{this.stats=t,this.loading=!1},error:t=>{console.error("Error loading attendance dashboard",t),this.stats=this.getMockStats(),this.loading=!1}})}getMockStats(){return{presentToday:138,absentToday:6,onLeaveToday:12,lateArrivals:8,avgAttendanceRate:94.2,totalOvertimeHours:485,attendanceTrend:[{date:"Mon",present:142,absent:4,leave:10},{date:"Tue",present:140,absent:6,leave:10},{date:"Wed",present:145,absent:3,leave:8},{date:"Thu",present:138,absent:6,leave:12},{date:"Fri",present:135,absent:8,leave:13}],leaveTypeDistribution:[{type:"Annual Leave",count:45},{type:"Sick Leave",count:28},{type:"Personal",count:15},{type:"Maternity/Paternity",count:5},{type:"Unpaid Leave",count:3}],departmentAttendance:[{department:"Engineering",rate:96.5},{department:"Sales",rate:92.3},{department:"Marketing",rate:94.8},{department:"HR",rate:98.2},{department:"Finance",rate:95.4},{department:"Operations",rate:91.7}],overtimeSummary:[{department:"Engineering",hours:180},{department:"Operations",hours:120},{department:"Sales",hours:85},{department:"Finance",hours:55},{department:"Marketing",hours:30},{department:"HR",hours:15}]}}getMaxLeaveCount(){return this.stats?Math.max(...this.stats.leaveTypeDistribution.map(t=>t.count)):0}getMaxOTHours(){return this.stats?Math.max(...this.stats.overtimeSummary.map(t=>t.hours)):0}getTotalEmployees(){return this.stats?this.stats.presentToday+this.stats.absentToday+this.stats.onLeaveToday:0}static \u0275fac=function(e){return new(e||n)(w(Wn))};static \u0275cmp=k({type:n,selectors:[["app-attendance-dashboard"]],standalone:!1,decls:20,vars:3,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-left"],[1,"fas","fa-calendar-check"],[1,"subtitle"],[1,"header-actions"],[1,"period-select",3,"ngModelChange","ngModel"],["value","today"],["value","week"],["value","month"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],["class","loading-state",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"dashboard-content"],[1,"stats-row"],[1,"stat-card","success"],[1,"stat-icon"],[1,"fas","fa-user-check"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-badge","success"],[1,"stat-card","danger"],[1,"fas","fa-user-times"],[1,"stat-card","warning"],[1,"fas","fa-bed"],[1,"stat-card","info"],[1,"fas","fa-clock"],[1,"stat-card","primary"],[1,"fas","fa-percentage"],[1,"status-summary"],[1,"summary-bar"],[1,"bar-segment","present"],[1,"segment-label"],[1,"bar-segment","leave"],[1,"bar-segment","absent"],[1,"charts-row","two-col"],[1,"chart-card"],[1,"card-header"],[1,"fas","fa-chart-bar"],[1,"card-body"],[1,"stacked-chart"],[1,"chart-legend"],[1,"legend-item"],[1,"dot","present"],[1,"dot","leave"],[1,"dot","absent"],[1,"stacked-bars"],["class","stacked-group",4,"ngFor","ngForOf"],[1,"fas","fa-calendar-minus"],[1,"leave-list"],["class","leave-item",4,"ngFor","ngForOf"],[1,"fas","fa-building"],[1,"dept-attendance"],["class","dept-item",4,"ngFor","ngForOf"],[1,"ot-summary"],[1,"ot-total"],[1,"ot-total-value"],[1,"ot-total-label"],[1,"ot-breakdown"],["class","ot-item",4,"ngFor","ngForOf"],[1,"stacked-group"],[1,"stacked-bar"],[1,"segment","absent"],[1,"segment","leave"],[1,"segment","present"],[1,"day-label"],[1,"leave-item"],[1,"leave-info"],[1,"leave-icon"],[1,"fas"],[1,"leave-name"],[1,"leave-bar-track"],[1,"leave-bar-fill"],[1,"leave-count"],[1,"dept-item"],[1,"dept-name"],[1,"gauge-container"],[1,"gauge-track"],[1,"gauge-fill"],[1,"gauge-value"],[1,"ot-item"],[1,"ot-dept"],[1,"ot-bar-track"],[1,"ot-bar-fill"],[1,"ot-hours"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"i",3),l(5," Attendance Dashboard"),a(),o(6,"p",4),l(7,"Real-time attendance tracking and analysis"),a()(),o(8,"div",5)(9,"select",6),x("ngModelChange",function(s){return b(i.selectedPeriod,s)||(i.selectedPeriod=s),s}),o(10,"option",7),l(11,"Today"),a(),o(12,"option",8),l(13,"This Week"),a(),o(14,"option",9),l(15,"This Month"),a()(),o(16,"button",10),_("click",function(){return i.loadStats()}),v(17,"i",11),a()()(),M(18,rU,4,0,"div",12)(19,cU,106,17,"div",13),a()),e&2&&(c(9),C("ngModel",i.selectedPeriod),c(9),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.stats))},dependencies:[A,N,z,G,H,V,F],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:24px;background:#f5f7fa;min-height:calc(100vh - 60px)}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0;display:flex;align-items:center;gap:12px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0;font-size:14px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-select[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;border-radius:6px;background:#fff;font-size:14px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]{padding:8px 12px;background:#fff;border:1px solid #ddd;border-radius:6px;cursor:pointer;color:#666}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]:hover{background:#f5f5f5}.loading-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:60px;color:#666}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:teal}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin-bottom:24px}@media(max-width:1200px){.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media(max-width:768px){.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 8px #0000000f;position:relative}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#666}.stat-card[_ngcontent-%COMP%]   .stat-badge[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;padding:4px 8px;border-radius:12px;font-size:11px;font-weight:600}.stat-card[_ngcontent-%COMP%]   .stat-badge.success[_ngcontent-%COMP%]{background:#28a7451a;color:#28a745}.stat-card.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#0080801a;color:teal}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#28a7451a;color:#28a745}.stat-card.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#ffc1071a;color:#ffc107}.stat-card.danger[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#dc35451a;color:#dc3545}.stat-card.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#17a2b81a;color:#17a2b8}.status-summary[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;margin-bottom:24px;box-shadow:0 2px 8px #0000000f}.status-summary[_ngcontent-%COMP%]   .summary-bar[_ngcontent-%COMP%]{display:flex;height:32px;border-radius:16px;overflow:hidden}.status-summary[_ngcontent-%COMP%]   .summary-bar[_ngcontent-%COMP%]   .bar-segment[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;transition:width .5s}.status-summary[_ngcontent-%COMP%]   .summary-bar[_ngcontent-%COMP%]   .bar-segment[_ngcontent-%COMP%]   .segment-label[_ngcontent-%COMP%]{color:#fff;font-size:12px;font-weight:500}.status-summary[_ngcontent-%COMP%]   .summary-bar[_ngcontent-%COMP%]   .bar-segment.present[_ngcontent-%COMP%]{background:#28a745}.status-summary[_ngcontent-%COMP%]   .summary-bar[_ngcontent-%COMP%]   .bar-segment.leave[_ngcontent-%COMP%]{background:#ffc107}.status-summary[_ngcontent-%COMP%]   .summary-bar[_ngcontent-%COMP%]   .bar-segment.absent[_ngcontent-%COMP%]{background:#dc3545}.charts-row[_ngcontent-%COMP%]{display:grid;gap:20px;margin-bottom:24px}.charts-row.two-col[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}@media(max-width:992px){.charts-row.two-col[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #eee}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;color:#333;display:flex;align-items:center;gap:8px}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.chart-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}.stacked-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:16px}.stacked-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px;color:#666}.stacked-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.stacked-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.present[_ngcontent-%COMP%]{background:#28a745}.stacked-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.leave[_ngcontent-%COMP%]{background:#ffc107}.stacked-chart[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.absent[_ngcontent-%COMP%]{background:#dc3545}.stacked-chart[_ngcontent-%COMP%]   .stacked-bars[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:180px}.stacked-chart[_ngcontent-%COMP%]   .stacked-bars[_ngcontent-%COMP%]   .stacked-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.stacked-chart[_ngcontent-%COMP%]   .stacked-bars[_ngcontent-%COMP%]   .stacked-group[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]{width:40px;height:150px;display:flex;flex-direction:column-reverse;border-radius:6px 6px 0 0;overflow:hidden}.stacked-chart[_ngcontent-%COMP%]   .stacked-bars[_ngcontent-%COMP%]   .stacked-group[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{transition:height .5s}.stacked-chart[_ngcontent-%COMP%]   .stacked-bars[_ngcontent-%COMP%]   .stacked-group[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]   .segment.present[_ngcontent-%COMP%]{background:#28a745}.stacked-chart[_ngcontent-%COMP%]   .stacked-bars[_ngcontent-%COMP%]   .stacked-group[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]   .segment.leave[_ngcontent-%COMP%]{background:#ffc107}.stacked-chart[_ngcontent-%COMP%]   .stacked-bars[_ngcontent-%COMP%]   .stacked-group[_ngcontent-%COMP%]   .stacked-bar[_ngcontent-%COMP%]   .segment.absent[_ngcontent-%COMP%]{background:#dc3545}.stacked-chart[_ngcontent-%COMP%]   .stacked-bars[_ngcontent-%COMP%]   .stacked-group[_ngcontent-%COMP%]   .day-label[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#666}.leave-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.leave-list[_ngcontent-%COMP%]   .leave-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.leave-list[_ngcontent-%COMP%]   .leave-item[_ngcontent-%COMP%]   .leave-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;min-width:150px}.leave-list[_ngcontent-%COMP%]   .leave-item[_ngcontent-%COMP%]   .leave-info[_ngcontent-%COMP%]   .leave-icon[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:12px}.leave-list[_ngcontent-%COMP%]   .leave-item[_ngcontent-%COMP%]   .leave-info[_ngcontent-%COMP%]   .leave-name[_ngcontent-%COMP%]{font-size:13px;color:#333}.leave-list[_ngcontent-%COMP%]   .leave-item[_ngcontent-%COMP%]   .leave-bar-track[_ngcontent-%COMP%]{flex:1;height:12px;background:#f0f0f0;border-radius:6px;overflow:hidden}.leave-list[_ngcontent-%COMP%]   .leave-item[_ngcontent-%COMP%]   .leave-bar-track[_ngcontent-%COMP%]   .leave-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .5s}.leave-list[_ngcontent-%COMP%]   .leave-item[_ngcontent-%COMP%]   .leave-count[_ngcontent-%COMP%]{min-width:40px;text-align:right;font-size:14px;font-weight:600;color:#333}.dept-attendance[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .dept-name[_ngcontent-%COMP%]{min-width:100px;font-size:13px;color:#333}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:12px}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .gauge-track[_ngcontent-%COMP%]{flex:1;height:14px;background:#f0f0f0;border-radius:7px;overflow:hidden}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .gauge-track[_ngcontent-%COMP%]   .gauge-fill[_ngcontent-%COMP%]{height:100%;border-radius:7px;transition:width .5s}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .gauge-track[_ngcontent-%COMP%]   .gauge-fill.excellent[_ngcontent-%COMP%]{background:#28a745}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .gauge-track[_ngcontent-%COMP%]   .gauge-fill.good[_ngcontent-%COMP%]{background:#ffc107}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .gauge-track[_ngcontent-%COMP%]   .gauge-fill.fair[_ngcontent-%COMP%]{background:#dc3545}.dept-attendance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .gauge-value[_ngcontent-%COMP%]{min-width:50px;font-size:13px;font-weight:600;color:#333}.ot-summary[_ngcontent-%COMP%]{display:flex;gap:24px}.ot-summary[_ngcontent-%COMP%]   .ot-total[_ngcontent-%COMP%]{background:#0080801a;border-radius:12px;padding:20px;text-align:center;min-width:120px}.ot-summary[_ngcontent-%COMP%]   .ot-total[_ngcontent-%COMP%]   .ot-total-value[_ngcontent-%COMP%]{display:block;font-size:32px;font-weight:600;color:teal}.ot-summary[_ngcontent-%COMP%]   .ot-total[_ngcontent-%COMP%]   .ot-total-label[_ngcontent-%COMP%]{font-size:12px;color:#666}.ot-summary[_ngcontent-%COMP%]   .ot-breakdown[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:10px}.ot-summary[_ngcontent-%COMP%]   .ot-breakdown[_ngcontent-%COMP%]   .ot-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.ot-summary[_ngcontent-%COMP%]   .ot-breakdown[_ngcontent-%COMP%]   .ot-item[_ngcontent-%COMP%]   .ot-dept[_ngcontent-%COMP%]{min-width:90px;font-size:12px;color:#333}.ot-summary[_ngcontent-%COMP%]   .ot-breakdown[_ngcontent-%COMP%]   .ot-item[_ngcontent-%COMP%]   .ot-bar-track[_ngcontent-%COMP%]{flex:1;height:12px;background:#f0f0f0;border-radius:6px;overflow:hidden}.ot-summary[_ngcontent-%COMP%]   .ot-breakdown[_ngcontent-%COMP%]   .ot-item[_ngcontent-%COMP%]   .ot-bar-track[_ngcontent-%COMP%]   .ot-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,teal,#00b3b3);border-radius:6px;transition:width .5s}.ot-summary[_ngcontent-%COMP%]   .ot-breakdown[_ngcontent-%COMP%]   .ot-item[_ngcontent-%COMP%]   .ot-hours[_ngcontent-%COMP%]{min-width:40px;text-align:right;font-size:12px;font-weight:600;color:teal}"]})};function dU(n,t){n&1&&(o(0,"div",13),v(1,"i",14),o(2,"span"),l(3,"Loading dashboard..."),a()())}function pU(n,t){if(n&1&&(o(0,"div",50)(1,"div",51),l(2),a(),o(3,"div",52)(4,"div",53),l(5),a(),o(6,"div",54)(7,"span",55),l(8),a(),o(9,"span",56),l(10),a()()(),o(11,"div",57),l(12),a()()),n&2){let e=t.$implicit,i=t.index,r=d(2);c(2),f(i+1),c(3),E(" ",e.name.charAt(0)," "),c(3),f(e.name),c(2),ne("",e.designation," - ",e.department),c(),de("background",r.getScoreColor(e.score)),c(),E(" ",e.score," ")}}function uU(n,t){if(n&1&&(o(0,"div",58)(1,"div",59),v(2,"span",60),o(3,"span",61),l(4),a()(),o(5,"div",62),v(6,"div",63),a(),o(7,"span",64),l(8),a()()),n&2){let e=t.$implicit,i=d(2);c(2),de("background",i.getRatingColor(e.rating)),c(2),f(e.rating),c(2),de("width",e.count/i.getMaxRatingCount()*100,"%")("background",i.getRatingColor(e.rating)),c(2),f(e.count)}}function mU(n,t){if(n&1&&(o(0,"div",65)(1,"div",66),v(2,"div",67),a(),o(3,"div",68)(4,"span",69),l(5),a(),o(6,"span",70),l(7),a()()()),n&2){let e=t.$implicit;c(2),de("height",e.avgScore/5*100,"%"),c(3),f(e.avgScore),c(2),f(e.quarter)}}function gU(n,t){if(n&1&&(o(0,"div",71)(1,"span",72),l(2),a(),o(3,"div",73)(4,"div",74),v(5,"div",75),a(),o(6,"span",76),l(7),a()()()),n&2){let e=t.$implicit,i=d(2);c(2),f(e.department),c(3),de("width",e.avgScore/5*100,"%")("background",i.getScoreColor(e.avgScore)),c(),de("color",i.getScoreColor(e.avgScore)),c(),E(" ",e.avgScore," ")}}function fU(n,t){if(n&1&&(o(0,"div",77)(1,"div",78)(2,"div",79)(3,"span",80),l(4),a()()(),o(5,"span",81),l(6),a()()),n&2){let e=t.$implicit,i=d(2);c(2),de("height",e.avgScore/5*100,"%")("background",i.getScoreColor(e.avgScore)),c(2),f(e.avgScore),c(2),f(e.grade)}}function hU(n,t){if(n&1&&(o(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),v(4,"i",19),a(),o(5,"div",20)(6,"span",21),l(7),a(),o(8,"span",22),l(9,"High Performers"),a()()(),o(10,"div",23)(11,"div",18),v(12,"i",24),a(),o(13,"div",20)(14,"span",21),l(15),a(),o(16,"span",22),l(17,"Avg Performance Score"),a()()(),o(18,"div",25)(19,"div",18),v(20,"i",26),a(),o(21,"div",20)(22,"span",21),l(23),a(),o(24,"span",22),l(25,"Pending Appraisals"),a()()(),o(26,"div",27)(27,"div",18),v(28,"i",28),a(),o(29,"div",20)(30,"span",21),l(31),a(),o(32,"span",22),l(33,"Completed Appraisals"),a()()()(),o(34,"div",29)(35,"div",30)(36,"div",31)(37,"h3"),v(38,"i",32),l(39," Top Performers"),a()(),o(40,"div",33)(41,"div",34),M(42,pU,13,8,"div",35),a()()(),o(43,"div",30)(44,"div",31)(45,"h3"),v(46,"i",36),l(47," Performance Distribution"),a()(),o(48,"div",33)(49,"div",37),M(50,uU,9,8,"div",38),a()()()(),o(51,"div",29)(52,"div",30)(53,"div",31)(54,"h3"),v(55,"i",39),l(56," Appraisal Score Trend"),a()(),o(57,"div",33)(58,"div",40)(59,"div",41),M(60,mU,8,4,"div",42),a()()()(),o(61,"div",30)(62,"div",31)(63,"h3"),v(64,"i",43),l(65," Department Performance"),a()(),o(66,"div",33)(67,"div",44),M(68,gU,8,8,"div",45),a()()()(),o(69,"div",46)(70,"div",31)(71,"h3"),v(72,"i",47),l(73," Performance by Grade Level"),a()(),o(74,"div",33)(75,"div",48),M(76,fU,7,6,"div",49),a()()()()),n&2){let e=d();c(7),f(e.stats.highPerformers),c(8),E("",e.stats.avgPerformanceScore,"/5"),c(8),f(e.stats.pendingAppraisals),c(8),f(e.stats.completedAppraisals),c(11),u("ngForOf",e.stats.topPerformers),c(8),u("ngForOf",e.stats.performanceDistribution),c(10),u("ngForOf",e.stats.appraisalTrend),c(8),u("ngForOf",e.stats.departmentPerformance),c(8),u("ngForOf",e.stats.performanceByGrade)}}var fm=class n{constructor(t){this.dashboardService=t}stats=null;loading=!0;selectedPeriod="year";ngOnInit(){this.loadStats()}loadStats(){this.loading=!0,this.dashboardService.getPerformanceStats().subscribe({next:t=>{this.stats=t,this.loading=!1},error:t=>{console.error("Error loading performance dashboard",t),this.stats=this.getMockStats(),this.loading=!1}})}getMockStats(){return{highPerformers:28,avgPerformanceScore:3.8,pendingAppraisals:15,completedAppraisals:141,topPerformers:[{name:"Sarah Johnson",department:"Engineering",score:4.9,designation:"Senior Developer"},{name:"Michael Chen",department:"Sales",score:4.8,designation:"Sales Manager"},{name:"Emily Davis",department:"Marketing",score:4.7,designation:"Marketing Lead"},{name:"James Wilson",department:"Engineering",score:4.6,designation:"Tech Lead"},{name:"Lisa Anderson",department:"Finance",score:4.5,designation:"Finance Manager"}],performanceDistribution:[{rating:"Exceptional",count:28},{rating:"Exceeds",count:45},{rating:"Meets",count:62},{rating:"Needs Improvement",count:18},{rating:"Unsatisfactory",count:3}],appraisalTrend:[{quarter:"Q1 2024",avgScore:3.6},{quarter:"Q2 2024",avgScore:3.7},{quarter:"Q3 2024",avgScore:3.7},{quarter:"Q4 2024",avgScore:3.8}],departmentPerformance:[{department:"Engineering",avgScore:4.1},{department:"Finance",avgScore:3.9},{department:"HR",avgScore:3.8},{department:"Marketing",avgScore:3.7},{department:"Sales",avgScore:3.6},{department:"Operations",avgScore:3.4}],performanceByGrade:[{grade:"E1",avgScore:3.4},{grade:"E2",avgScore:3.6},{grade:"E3",avgScore:3.8},{grade:"M1",avgScore:4},{grade:"M2",avgScore:4.2},{grade:"S1",avgScore:4.3}]}}getScoreColor(t){return t>=4.5?"#28a745":t>=4?"#5cb85c":t>=3.5?"#ffc107":t>=3?"#f0ad4e":"#dc3545"}getRatingColor(t){switch(t){case"Exceptional":return"#28a745";case"Exceeds":return"#5cb85c";case"Meets":return"#17a2b8";case"Needs Improvement":return"#ffc107";case"Unsatisfactory":return"#dc3545";default:return"#6c757d"}}getMaxRatingCount(){return this.stats?Math.max(...this.stats.performanceDistribution.map(t=>t.count)):0}static \u0275fac=function(e){return new(e||n)(w(Wn))};static \u0275cmp=k({type:n,selectors:[["app-performance-dashboard"]],standalone:!1,decls:18,vars:3,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-left"],[1,"fas","fa-chart-line"],[1,"subtitle"],[1,"header-actions"],[1,"period-select",3,"ngModelChange","ngModel"],["value","quarter"],["value","year"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],["class","loading-state",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin"],[1,"dashboard-content"],[1,"stats-row"],[1,"stat-card","success"],[1,"stat-icon"],[1,"fas","fa-star"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","primary"],[1,"fas","fa-trophy"],[1,"stat-card","warning"],[1,"fas","fa-clock"],[1,"stat-card","info"],[1,"fas","fa-check-circle"],[1,"charts-row","two-col"],[1,"chart-card"],[1,"card-header"],[1,"fas","fa-medal"],[1,"card-body"],[1,"top-performers-list"],["class","performer-item",4,"ngFor","ngForOf"],[1,"fas","fa-chart-pie"],[1,"distribution-chart"],["class","distribution-item",4,"ngFor","ngForOf"],[1,"fas","fa-chart-area"],[1,"trend-chart"],[1,"trend-bars"],["class","trend-bar",4,"ngFor","ngForOf"],[1,"fas","fa-building"],[1,"dept-performance"],["class","dept-item",4,"ngFor","ngForOf"],[1,"chart-card","wide"],[1,"fas","fa-layer-group"],[1,"grade-performance"],["class","grade-item",4,"ngFor","ngForOf"],[1,"performer-item"],[1,"rank"],[1,"performer-info"],[1,"performer-avatar"],[1,"performer-details"],[1,"performer-name"],[1,"performer-role"],[1,"performer-score"],[1,"distribution-item"],[1,"dist-info"],[1,"dist-dot"],[1,"dist-label"],[1,"dist-bar-track"],[1,"dist-bar-fill"],[1,"dist-count"],[1,"trend-bar"],[1,"bar-container"],[1,"bar-fill"],[1,"bar-info"],[1,"score"],[1,"quarter"],[1,"dept-item"],[1,"dept-name"],[1,"score-bar-container"],[1,"score-bar-track"],[1,"score-bar-fill"],[1,"dept-score"],[1,"grade-item"],[1,"grade-bar"],[1,"grade-fill"],[1,"grade-score"],[1,"grade-label"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"i",3),l(5," Performance Dashboard"),a(),o(6,"p",4),l(7,"Employee performance analytics and appraisal tracking"),a()(),o(8,"div",5)(9,"select",6),x("ngModelChange",function(s){return b(i.selectedPeriod,s)||(i.selectedPeriod=s),s}),o(10,"option",7),l(11,"This Quarter"),a(),o(12,"option",8),l(13,"This Year"),a()(),o(14,"button",9),_("click",function(){return i.loadStats()}),v(15,"i",10),a()()(),M(16,dU,4,0,"div",11)(17,hU,77,9,"div",12),a()),e&2&&(c(9),C("ngModel",i.selectedPeriod),c(7),u("ngIf",i.loading),c(),u("ngIf",!i.loading&&i.stats))},dependencies:[A,N,z,G,H,V,F],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:24px;background:#f5f7fa;min-height:calc(100vh - 60px)}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0;display:flex;align-items:center;gap:12px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0;font-size:14px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-select[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;border-radius:6px;background:#fff;font-size:14px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]{padding:8px 12px;background:#fff;border:1px solid #ddd;border-radius:6px;cursor:pointer;color:#666}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-refresh[_ngcontent-%COMP%]:hover{background:#f5f5f5}.loading-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:60px;color:#666}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:teal}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}@media(max-width:992px){.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 8px #0000000f}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#666}.stat-card.primary[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#0080801a;color:teal}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#28a7451a;color:#28a745}.stat-card.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#ffc1071a;color:#ffc107}.stat-card.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#17a2b81a;color:#17a2b8}.charts-row[_ngcontent-%COMP%]{display:grid;gap:20px;margin-bottom:24px}.charts-row.two-col[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}@media(max-width:992px){.charts-row.two-col[_ngcontent-%COMP%]{grid-template-columns:1fr}}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f}.chart-card.wide[_ngcontent-%COMP%]{margin-bottom:24px}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #eee}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;color:#333;display:flex;align-items:center;gap:8px}.chart-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.chart-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}.top-performers-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.top-performers-list[_ngcontent-%COMP%]   .performer-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px;background:#f8f9fa;border-radius:10px}.top-performers-list[_ngcontent-%COMP%]   .performer-item[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{width:28px;height:28px;background:teal;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px}.top-performers-list[_ngcontent-%COMP%]   .performer-item[_ngcontent-%COMP%]   .performer-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:12px}.top-performers-list[_ngcontent-%COMP%]   .performer-item[_ngcontent-%COMP%]   .performer-info[_ngcontent-%COMP%]   .performer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,teal,#00a0a0);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:600}.top-performers-list[_ngcontent-%COMP%]   .performer-item[_ngcontent-%COMP%]   .performer-info[_ngcontent-%COMP%]   .performer-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.top-performers-list[_ngcontent-%COMP%]   .performer-item[_ngcontent-%COMP%]   .performer-info[_ngcontent-%COMP%]   .performer-details[_ngcontent-%COMP%]   .performer-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333}.top-performers-list[_ngcontent-%COMP%]   .performer-item[_ngcontent-%COMP%]   .performer-info[_ngcontent-%COMP%]   .performer-details[_ngcontent-%COMP%]   .performer-role[_ngcontent-%COMP%]{font-size:12px;color:#666}.top-performers-list[_ngcontent-%COMP%]   .performer-item[_ngcontent-%COMP%]   .performer-score[_ngcontent-%COMP%]{padding:6px 12px;border-radius:20px;color:#fff;font-weight:600;font-size:14px}.distribution-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.distribution-chart[_ngcontent-%COMP%]   .distribution-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.distribution-chart[_ngcontent-%COMP%]   .distribution-item[_ngcontent-%COMP%]   .dist-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:150px}.distribution-chart[_ngcontent-%COMP%]   .distribution-item[_ngcontent-%COMP%]   .dist-info[_ngcontent-%COMP%]   .dist-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.distribution-chart[_ngcontent-%COMP%]   .distribution-item[_ngcontent-%COMP%]   .dist-info[_ngcontent-%COMP%]   .dist-label[_ngcontent-%COMP%]{font-size:13px;color:#333}.distribution-chart[_ngcontent-%COMP%]   .distribution-item[_ngcontent-%COMP%]   .dist-bar-track[_ngcontent-%COMP%]{flex:1;height:16px;background:#f0f0f0;border-radius:8px;overflow:hidden}.distribution-chart[_ngcontent-%COMP%]   .distribution-item[_ngcontent-%COMP%]   .dist-bar-track[_ngcontent-%COMP%]   .dist-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:8px;transition:width .5s}.distribution-chart[_ngcontent-%COMP%]   .distribution-item[_ngcontent-%COMP%]   .dist-count[_ngcontent-%COMP%]{min-width:40px;text-align:right;font-size:14px;font-weight:600;color:#333}.trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:220px}.trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1}.trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]{width:50px;height:160px;background:#f0f0f0;border-radius:8px;display:flex;flex-direction:column;justify-content:flex-end;overflow:hidden}.trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-container[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{width:100%;background:linear-gradient(180deg,teal,#00b3b3);border-radius:8px 8px 0 0;transition:height .5s}.trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-info[_ngcontent-%COMP%]{margin-top:12px;text-align:center}.trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-info[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:600;color:teal}.trend-chart[_ngcontent-%COMP%]   .trend-bars[_ngcontent-%COMP%]   .trend-bar[_ngcontent-%COMP%]   .bar-info[_ngcontent-%COMP%]   .quarter[_ngcontent-%COMP%]{font-size:12px;color:#666}.dept-performance[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.dept-performance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.dept-performance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .dept-name[_ngcontent-%COMP%]{min-width:100px;font-size:13px;color:#333}.dept-performance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .score-bar-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:12px}.dept-performance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .score-bar-container[_ngcontent-%COMP%]   .score-bar-track[_ngcontent-%COMP%]{flex:1;height:14px;background:#f0f0f0;border-radius:7px;overflow:hidden}.dept-performance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .score-bar-container[_ngcontent-%COMP%]   .score-bar-track[_ngcontent-%COMP%]   .score-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:7px;transition:width .5s}.dept-performance[_ngcontent-%COMP%]   .dept-item[_ngcontent-%COMP%]   .score-bar-container[_ngcontent-%COMP%]   .dept-score[_ngcontent-%COMP%]{min-width:40px;font-size:14px;font-weight:600}.grade-performance[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:180px}.grade-performance[_ngcontent-%COMP%]   .grade-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex:1}.grade-performance[_ngcontent-%COMP%]   .grade-item[_ngcontent-%COMP%]   .grade-bar[_ngcontent-%COMP%]{width:50px;height:140px;background:#f0f0f0;border-radius:8px;display:flex;flex-direction:column;justify-content:flex-end;overflow:hidden}.grade-performance[_ngcontent-%COMP%]   .grade-item[_ngcontent-%COMP%]   .grade-bar[_ngcontent-%COMP%]   .grade-fill[_ngcontent-%COMP%]{width:100%;border-radius:8px 8px 0 0;display:flex;align-items:flex-start;justify-content:center;padding-top:8px;min-height:30px;transition:height .5s}.grade-performance[_ngcontent-%COMP%]   .grade-item[_ngcontent-%COMP%]   .grade-bar[_ngcontent-%COMP%]   .grade-fill[_ngcontent-%COMP%]   .grade-score[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:600}.grade-performance[_ngcontent-%COMP%]   .grade-item[_ngcontent-%COMP%]   .grade-label[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;color:#333;font-weight:500}"]})};function _U(n,t){if(n&1){let e=O();o(0,"div",36),_("dragstart",function(r){let s=m(e).$implicit,p=d(2);return g(p.onDragStart(r,s))})("click",function(){let r=m(e).$implicit,s=d(2);return g(s.addField(r))}),o(1,"span",37),l(2),a(),o(3,"span",38),l(4),a()()}if(n&2){let e=t.$implicit;c(2),f(e.name),c(2),f(e.dataType)}}function vU(n,t){if(n&1&&(o(0,"div",30)(1,"div",31),v(2,"i",32),o(3,"span"),l(4),a(),o(5,"span",33),l(6),a()(),o(7,"div",34),M(8,_U,5,2,"div",35),a()()),n&2){let e=t.$implicit,i=d();c(2),u("ngClass",i.getFieldIcon(e)),c(2),f(e),c(2),f(i.getFieldsByCategory(e).length),c(2),u("ngForOf",i.getFieldsByCategory(e))}}function yU(n,t){n&1&&(o(0,"div",39),v(1,"i",40),o(2,"p"),l(3,"Drag fields here or click to add"),a()())}function CU(n,t){if(n&1){let e=O();o(0,"div",43)(1,"div",44),v(2,"i",45),a(),o(3,"div",46)(4,"span",37),l(5),a(),o(6,"span",47),l(7),a()(),o(8,"div",48)(9,"button",49),_("click",function(){let r=m(e).index,s=d(2);return g(s.moveFieldUp(r))}),v(10,"i",50),a(),o(11,"button",49),_("click",function(){let r=m(e).index,s=d(2);return g(s.moveFieldDown(r))}),v(12,"i",51),a(),o(13,"button",52),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.removeField(r))}),v(14,"i",53),a()()()}if(n&2){let e=t.$implicit,i=t.index,r=d(2);c(5),f(e.name),c(2),f(e.category),c(2),u("disabled",i===0),c(2),u("disabled",i===r.selectedFields.length-1)}}function xU(n,t){if(n&1&&(o(0,"div",41),M(1,CU,15,4,"div",42),a()),n&2){let e=d();c(),u("ngForOf",e.selectedFields)}}function bU(n,t){if(n&1){let e=O();o(0,"div",54)(1,"h4"),l(2,"Export Options"),a(),o(3,"div",55)(4,"button",56),_("click",function(){m(e);let r=d();return g(r.exportReport("csv"))}),v(5,"i",57),l(6," CSV "),a(),o(7,"button",58),_("click",function(){m(e);let r=d();return g(r.exportReport("excel"))}),v(8,"i",59),l(9," Excel "),a(),o(10,"button",60),_("click",function(){m(e);let r=d();return g(r.exportReport("pdf"))}),v(11,"i",61),l(12," PDF "),a()()()}}function MU(n,t){if(n&1){let e=O();o(0,"div",62)(1,"div",63),_("click",function(){let r=m(e).$implicit,s=d();return g(s.loadTemplate(r))}),o(2,"span",64),l(3),a(),o(4,"span",65),l(5),a(),o(6,"span",66),l(7),a()(),o(8,"button",52),_("click",function(r){let s=m(e).$implicit;return d().deleteTemplate(s),g(r.stopPropagation())}),v(9,"i",67),a()()}if(n&2){let e=t.$implicit;c(3),f(e.name),c(2),f(e.description),c(2),E("",e.selectedFields.length," fields")}}function SU(n,t){n&1&&(o(0,"div",68),v(1,"i",69),o(2,"p"),l(3,"No saved templates"),a()())}function PU(n,t){if(n&1&&(o(0,"span",82),l(1),a()),n&2){let e=t.$implicit;c(),f(e.name)}}function EU(n,t){n&1&&v(0,"i",83)}function wU(n,t){if(n&1){let e=O();o(0,"div",70),_("click",function(){m(e);let r=d();return g(r.closeTemplateModal())}),o(1,"div",71),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",72)(3,"h2"),l(4),a(),o(5,"button",73),_("click",function(){m(e);let r=d();return g(r.closeTemplateModal())}),v(6,"i",53),a()(),o(7,"div",74)(8,"div",75)(9,"label"),l(10,"Template Name *"),a(),o(11,"input",76),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentTemplate.name,r)||(s.currentTemplate.name=r),g(r)}),a()(),o(12,"div",75)(13,"label"),l(14,"Description"),a(),o(15,"textarea",77),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentTemplate.description,r)||(s.currentTemplate.description=r),g(r)}),a()(),o(16,"div",75)(17,"label"),l(18,"Selected Fields"),a(),o(19,"div",78),M(20,PU,2,1,"span",79),a()()(),o(21,"div",80)(22,"button",6),_("click",function(){m(e);let r=d();return g(r.closeTemplateModal())}),l(23,"Cancel"),a(),o(24,"button",10),_("click",function(){m(e);let r=d();return g(r.saveTemplate())}),M(25,EU,1,0,"i",81),l(26),a()()()()}if(n&2){let e=d();c(4),E("",e.currentTemplate.id?"Update":"Save"," Template"),c(7),C("ngModel",e.currentTemplate.name),c(4),C("ngModel",e.currentTemplate.description),c(5),u("ngForOf",e.selectedFields),c(4),u("disabled",!e.currentTemplate.name||e.saving),c(),u("ngIf",e.saving),c(),E(" ",e.saving?"Saving...":"Save Template"," ")}}function OU(n,t){n&1&&(o(0,"div",87),v(1,"i",83),o(2,"span"),l(3,"Loading preview..."),a()())}function IU(n,t){if(n&1&&(o(0,"th"),l(1),a()),n&2){let e=t.$implicit;c(),f(e.name)}}function DU(n,t){if(n&1&&(o(0,"td"),l(1),a()),n&2){let e=t.$implicit,i=d().$implicit;c(),f(i[e.id])}}function TU(n,t){if(n&1&&(o(0,"tr"),M(1,DU,2,1,"td",90),a()),n&2){let e=d(3);c(),u("ngForOf",e.selectedFields)}}function kU(n,t){if(n&1&&(o(0,"div",88)(1,"table",89)(2,"thead")(3,"tr"),M(4,IU,2,1,"th",90),a()(),o(5,"tbody"),M(6,TU,2,1,"tr",90),a()()()),n&2){let e=d(2);c(4),u("ngForOf",e.selectedFields),c(2),u("ngForOf",e.previewData)}}function RU(n,t){if(n&1){let e=O();o(0,"div",70),_("click",function(){m(e);let r=d();return g(r.closePreview())}),o(1,"div",84),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",72)(3,"h2"),l(4,"Report Preview"),a(),o(5,"button",73),_("click",function(){m(e);let r=d();return g(r.closePreview())}),v(6,"i",53),a()(),o(7,"div",74),M(8,OU,4,0,"div",85)(9,kU,7,2,"div",86),a(),o(10,"div",80)(11,"button",6),_("click",function(){m(e);let r=d();return g(r.closePreview())}),l(12,"Close"),a(),o(13,"div",55)(14,"button",56),_("click",function(){m(e);let r=d();return g(r.exportReport("csv"))}),v(15,"i",57),l(16," Export CSV "),a(),o(17,"button",58),_("click",function(){m(e);let r=d();return g(r.exportReport("excel"))}),v(18,"i",59),l(19," Export Excel "),a()()()()()}if(n&2){let e=d();c(8),u("ngIf",e.loading),c(),u("ngIf",!e.loading&&e.previewData.length>0)}}var hm=class n{constructor(t){this.dashboardService=t}availableFields=[];selectedFields=[];savedTemplates=[];currentTemplate={name:"",description:"",selectedFields:[],filters:{},sortBy:"",sortOrder:"asc"};loading=!1;saving=!1;showTemplateModal=!1;showPreview=!1;previewData=[];draggedField=null;categories=[];ngOnInit(){this.loadFields(),this.loadTemplates()}loadFields(){this.dashboardService.getReportFields().subscribe({next:t=>{this.availableFields=t,this.categories=[...new Set(t.map(e=>e.category))]},error:()=>{this.availableFields=this.getMockFields(),this.categories=[...new Set(this.availableFields.map(t=>t.category))]}})}loadTemplates(){this.dashboardService.getReportTemplates().subscribe({next:t=>this.savedTemplates=t,error:()=>this.savedTemplates=this.getMockTemplates()})}getMockFields(){return[{id:"emp_code",name:"Employee Code",category:"Employee",dataType:"string"},{id:"emp_name",name:"Employee Name",category:"Employee",dataType:"string"},{id:"email",name:"Email",category:"Employee",dataType:"string"},{id:"phone",name:"Phone",category:"Employee",dataType:"string"},{id:"dob",name:"Date of Birth",category:"Employee",dataType:"date"},{id:"gender",name:"Gender",category:"Employee",dataType:"string"},{id:"department",name:"Department",category:"Employment",dataType:"string"},{id:"designation",name:"Designation",category:"Employment",dataType:"string"},{id:"grade",name:"Grade",category:"Employment",dataType:"string"},{id:"location",name:"Location",category:"Employment",dataType:"string"},{id:"doj",name:"Date of Joining",category:"Employment",dataType:"date"},{id:"emp_type",name:"Employment Type",category:"Employment",dataType:"string"},{id:"status",name:"Status",category:"Employment",dataType:"string"},{id:"manager",name:"Reporting Manager",category:"Employment",dataType:"string"},{id:"basic_salary",name:"Basic Salary",category:"Salary",dataType:"number"},{id:"gross_salary",name:"Gross Salary",category:"Salary",dataType:"number"},{id:"net_salary",name:"Net Salary",category:"Salary",dataType:"number"},{id:"ctc",name:"CTC",category:"Salary",dataType:"number"},{id:"hourly_rate",name:"Hourly Rate",category:"Salary",dataType:"number"},{id:"bank_name",name:"Bank Name",category:"Bank",dataType:"string"},{id:"account_no",name:"Account Number",category:"Bank",dataType:"string"},{id:"routing_no",name:"Routing Number",category:"Bank",dataType:"string"},{id:"present_days",name:"Present Days",category:"Attendance",dataType:"number"},{id:"absent_days",name:"Absent Days",category:"Attendance",dataType:"number"},{id:"leave_days",name:"Leave Days",category:"Attendance",dataType:"number"},{id:"overtime_hours",name:"Overtime Hours",category:"Attendance",dataType:"number"},{id:"perf_score",name:"Performance Score",category:"Performance",dataType:"number"},{id:"perf_rating",name:"Performance Rating",category:"Performance",dataType:"string"},{id:"last_appraisal",name:"Last Appraisal Date",category:"Performance",dataType:"date"}]}getMockTemplates(){return[{id:1,name:"Employee Directory",description:"Basic employee contact info",selectedFields:["emp_code","emp_name","email","phone","department"],filters:{},sortBy:"emp_name",sortOrder:"asc",createdAt:"2024-12-01",createdBy:"Admin"},{id:2,name:"Salary Report",description:"Employee salary breakdown",selectedFields:["emp_code","emp_name","department","basic_salary","gross_salary","ctc"],filters:{},sortBy:"ctc",sortOrder:"desc",createdAt:"2024-12-05",createdBy:"Admin"},{id:3,name:"Attendance Summary",description:"Monthly attendance overview",selectedFields:["emp_code","emp_name","present_days","absent_days","leave_days","overtime_hours"],filters:{},sortBy:"emp_name",sortOrder:"asc",createdAt:"2024-12-10",createdBy:"Admin"}]}getFieldsByCategory(t){return this.availableFields.filter(e=>e.category===t&&!this.isFieldSelected(e))}isFieldSelected(t){return this.selectedFields.some(e=>e.id===t.id)}onDragStart(t,e){this.draggedField=e,t.dataTransfer&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",e.id))}onDragOver(t){t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move")}onDrop(t){t.preventDefault(),this.draggedField&&!this.isFieldSelected(this.draggedField)&&this.selectedFields.push(this.draggedField),this.draggedField=null}addField(t){this.isFieldSelected(t)||this.selectedFields.push(t)}removeField(t){this.selectedFields=this.selectedFields.filter(e=>e.id!==t.id)}moveFieldUp(t){t>0&&([this.selectedFields[t],this.selectedFields[t-1]]=[this.selectedFields[t-1],this.selectedFields[t]])}moveFieldDown(t){t<this.selectedFields.length-1&&([this.selectedFields[t],this.selectedFields[t+1]]=[this.selectedFields[t+1],this.selectedFields[t]])}clearSelection(){this.selectedFields=[],this.currentTemplate={name:"",description:"",selectedFields:[],filters:{},sortBy:"",sortOrder:"asc"}}loadTemplate(t){this.currentTemplate=T({},t),this.selectedFields=this.availableFields.filter(e=>t.selectedFields.includes(e.id))}openSaveModal(){this.currentTemplate.selectedFields=this.selectedFields.map(t=>t.id),this.showTemplateModal=!0}closeTemplateModal(){this.showTemplateModal=!1}saveTemplate(){!this.currentTemplate.name||this.selectedFields.length===0||(this.saving=!0,this.currentTemplate.selectedFields=this.selectedFields.map(t=>t.id),this.dashboardService.saveReportTemplate(this.currentTemplate).subscribe({next:t=>{if(!this.currentTemplate.id)this.savedTemplates.push(t);else{let e=this.savedTemplates.findIndex(i=>i.id===t.id);e>=0&&(this.savedTemplates[e]=t)}this.saving=!1,this.showTemplateModal=!1},error:()=>{let t=me(T({},this.currentTemplate),{id:Date.now(),createdAt:new Date().toISOString().split("T")[0],createdBy:"Current User"});this.savedTemplates.push(t),this.saving=!1,this.showTemplateModal=!1}}))}deleteTemplate(t){confirm(`Delete template "${t.name}"?`)&&t.id&&this.dashboardService.deleteReportTemplate(t.id).subscribe({next:()=>this.savedTemplates=this.savedTemplates.filter(e=>e.id!==t.id),error:()=>this.savedTemplates=this.savedTemplates.filter(e=>e.id!==t.id)})}generatePreview(){this.selectedFields.length!==0&&(this.loading=!0,this.showPreview=!0,setTimeout(()=>{this.previewData=this.generateMockPreviewData(),this.loading=!1},500))}generateMockPreviewData(){let t=[],e=["John Smith","Sarah Johnson","Mike Chen","Emily Davis","James Wilson"],i=["Engineering","Sales","Marketing","HR","Finance"];for(let r=0;r<10;r++){let s={};this.selectedFields.forEach(p=>{switch(p.dataType){case"string":p.id.includes("name")?s[p.id]=e[r%5]:p.id.includes("department")?s[p.id]=i[r%5]:p.id.includes("email")?s[p.id]=`employee${r+1}@company.com`:s[p.id]=`Value ${r+1}`;break;case"number":p.id.includes("salary")||p.id.includes("ctc")?s[p.id]=5e4+r*5e3:p.id.includes("days")?s[p.id]=20+r%5:s[p.id]=Math.floor(Math.random()*100);break;case"date":s[p.id]=new Date(2024,r%12,r%28+1).toLocaleDateString();break;default:s[p.id]=`Data ${r+1}`}}),t.push(s)}return t}closePreview(){this.showPreview=!1,this.previewData=[]}exportReport(t){if(this.selectedFields.length===0){alert("Please select at least one field");return}t==="csv"?this.exportToCSV():t==="excel"?this.exportToExcel():t==="pdf"&&this.exportToPDF()}exportToCSV(){let t=this.previewData.length>0?this.previewData:this.generateMockPreviewData(),e=this.selectedFields.map(s=>s.name).join(","),i=t.map(s=>this.selectedFields.map(p=>`"${s[p.id]||""}"`).join(",")),r=[e,...i].join(`
`);this.downloadFile(r,"report.csv","text/csv")}exportToExcel(){let t=this.previewData.length>0?this.previewData:this.generateMockPreviewData(),e='<table border="1"><tr>';this.selectedFields.forEach(p=>e+=`<th>${p.name}</th>`),e+="</tr>",t.forEach(p=>{e+="<tr>",this.selectedFields.forEach(h=>e+=`<td>${p[h.id]||""}</td>`),e+="</tr>"}),e+="</table>";let i=new Blob([e],{type:"application/vnd.ms-excel"}),r=URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download="report.xls",s.click(),URL.revokeObjectURL(r)}exportToPDF(){alert("PDF export would be handled by a PDF library like jsPDF. For now, please use CSV or Excel export.")}downloadFile(t,e,i){let r=new Blob([t],{type:i}),s=URL.createObjectURL(r),p=document.createElement("a");p.href=s,p.download=e,p.click(),URL.revokeObjectURL(s)}getFieldIcon(t){switch(t){case"Employee":return"fa-user";case"Employment":return"fa-briefcase";case"Salary":return"fa-dollar-sign";case"Bank":return"fa-university";case"Attendance":return"fa-calendar-check";case"Performance":return"fa-chart-line";default:return"fa-database"}}static \u0275fac=function(e){return new(e||n)(w(Wn))};static \u0275cmp=k({type:n,selectors:[["app-custom-report-builder"]],standalone:!1,decls:52,vars:13,consts:[[1,"report-builder-container"],[1,"builder-header"],[1,"header-left"],[1,"fas","fa-file-alt"],[1,"subtitle"],[1,"header-actions"],[1,"btn-secondary",3,"click"],[1,"fas","fa-eraser"],[1,"btn-secondary",3,"click","disabled"],[1,"fas","fa-eye"],[1,"btn-primary",3,"click","disabled"],[1,"fas","fa-save"],[1,"builder-content"],[1,"fields-panel"],[1,"panel-header"],[1,"fas","fa-database"],[1,"field-count"],[1,"panel-body"],["class","category-section",4,"ngFor","ngForOf"],[1,"builder-panel",3,"dragover","drop"],[1,"fas","fa-columns"],["class","drop-zone",4,"ngIf"],["class","selected-fields",4,"ngIf"],["class","export-section",4,"ngIf"],[1,"templates-panel"],[1,"fas","fa-folder"],[1,"template-list"],["class","template-item",4,"ngFor","ngForOf"],["class","no-templates",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"category-section"],[1,"category-header"],[1,"fas",3,"ngClass"],[1,"category-count"],[1,"field-list"],["class","field-item","draggable","true",3,"dragstart","click",4,"ngFor","ngForOf"],["draggable","true",1,"field-item",3,"dragstart","click"],[1,"field-name"],[1,"field-type"],[1,"drop-zone"],[1,"fas","fa-hand-pointer"],[1,"selected-fields"],["class","selected-field",4,"ngFor","ngForOf"],[1,"selected-field"],[1,"field-handle"],[1,"fas","fa-grip-vertical"],[1,"field-info"],[1,"field-category"],[1,"field-actions"],[1,"btn-icon",3,"click","disabled"],[1,"fas","fa-arrow-up"],[1,"fas","fa-arrow-down"],[1,"btn-icon","remove",3,"click"],[1,"fas","fa-times"],[1,"export-section"],[1,"export-buttons"],[1,"export-btn","csv",3,"click"],[1,"fas","fa-file-csv"],[1,"export-btn","excel",3,"click"],[1,"fas","fa-file-excel"],[1,"export-btn","pdf",3,"click"],[1,"fas","fa-file-pdf"],[1,"template-item"],[1,"template-info",3,"click"],[1,"template-name"],[1,"template-desc"],[1,"template-meta"],[1,"fas","fa-trash"],[1,"no-templates"],[1,"fas","fa-folder-open"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","Enter template name",3,"ngModelChange","ngModel"],["placeholder","Enter description",3,"ngModelChange","ngModel"],[1,"fields-preview"],["class","field-chip",4,"ngFor","ngForOf"],[1,"modal-footer"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"field-chip"],[1,"fas","fa-spinner","fa-spin"],[1,"modal-content","preview-modal",3,"click"],["class","loading-state",4,"ngIf"],["class","preview-table-container",4,"ngIf"],[1,"loading-state"],[1,"preview-table-container"],[1,"preview-table"],[4,"ngFor","ngForOf"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"i",3),l(5," Custom Report Builder"),a(),o(6,"p",4),l(7,"Build custom reports with drag and drop"),a()(),o(8,"div",5)(9,"button",6),_("click",function(){return i.clearSelection()}),v(10,"i",7),l(11," Clear "),a(),o(12,"button",8),_("click",function(){return i.generatePreview()}),v(13,"i",9),l(14," Preview "),a(),o(15,"button",10),_("click",function(){return i.openSaveModal()}),v(16,"i",11),l(17," Save Template "),a()()(),o(18,"div",12)(19,"div",13)(20,"div",14)(21,"h3"),v(22,"i",15),l(23," Available Fields"),a(),o(24,"span",16),l(25),a()(),o(26,"div",17),M(27,vU,9,4,"div",18),a()(),o(28,"div",19),_("dragover",function(s){return i.onDragOver(s)})("drop",function(s){return i.onDrop(s)}),o(29,"div",14)(30,"h3"),v(31,"i",20),l(32," Selected Columns"),a(),o(33,"span",16),l(34),a()(),o(35,"div",17),M(36,yU,4,0,"div",21)(37,xU,2,1,"div",22),a(),M(38,bU,13,0,"div",23),a(),o(39,"div",24)(40,"div",14)(41,"h3"),v(42,"i",25),l(43," Saved Templates"),a(),o(44,"span",16),l(45),a()(),o(46,"div",17)(47,"div",26),M(48,MU,10,3,"div",27),a(),M(49,SU,4,0,"div",28),a()()()(),M(50,wU,27,7,"div",29)(51,RU,20,2,"div",29)),e&2&&(c(12),u("disabled",i.selectedFields.length===0),c(3),u("disabled",i.selectedFields.length===0),c(10),E("",i.availableFields.length," fields"),c(2),u("ngForOf",i.categories),c(7),E("",i.selectedFields.length," selected"),c(2),u("ngIf",i.selectedFields.length===0),c(),u("ngIf",i.selectedFields.length>0),c(),u("ngIf",i.selectedFields.length>0),c(7),E("",i.savedTemplates.length," templates"),c(3),u("ngForOf",i.savedTemplates),c(),u("ngIf",i.savedTemplates.length===0),c(),u("ngIf",i.showTemplateModal),c(),u("ngIf",i.showPreview))},dependencies:[ae,A,N,B,V,F],styles:[".report-builder-container[_ngcontent-%COMP%]{padding:24px;background:#f5f7fa;min-height:calc(100vh - 60px)}.builder-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.builder-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#333;margin:0;display:flex;align-items:center;gap:12px}.builder-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.builder-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0;font-size:14px}.builder-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.builder-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s}.builder-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.builder-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;color:#333}.builder-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#f5f5f5}.builder-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:teal;border:none;color:#fff}.builder-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#066}.builder-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr 280px;gap:20px}@media(max-width:1200px){.builder-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.builder-content[_ngcontent-%COMP%]   .templates-panel[_ngcontent-%COMP%]{order:-1}}.fields-panel[_ngcontent-%COMP%], .builder-panel[_ngcontent-%COMP%], .templates-panel[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000f;overflow:hidden}.fields-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%], .builder-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%], .templates-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.fields-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .builder-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .templates-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;color:#333;display:flex;align-items:center;gap:8px}.fields-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .builder-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .templates-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal}.fields-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .field-count[_ngcontent-%COMP%], .builder-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .field-count[_ngcontent-%COMP%], .templates-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .field-count[_ngcontent-%COMP%]{font-size:12px;color:#888;background:#f0f0f0;padding:4px 8px;border-radius:12px}.fields-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%], .builder-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%], .templates-panel[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]{padding:16px;max-height:calc(100vh - 250px);overflow-y:auto}.category-section[_ngcontent-%COMP%]{margin-bottom:16px}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#f8f9fa;border-radius:6px;margin-bottom:8px;font-size:13px;font-weight:600;color:#333}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:teal;font-size:12px}.category-section[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .category-count[_ngcontent-%COMP%]{margin-left:auto;font-size:11px;color:#888;background:#fff;padding:2px 6px;border-radius:10px}.category-section[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.category-section[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]   .field-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-radius:6px;cursor:grab;transition:all .2s;border:1px solid transparent}.category-section[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]   .field-item[_ngcontent-%COMP%]:hover{background:#0080800d;border-color:#00808033}.category-section[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]   .field-item[_ngcontent-%COMP%]:active{cursor:grabbing}.category-section[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]   .field-item[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{font-size:13px;color:#333}.category-section[_ngcontent-%COMP%]   .field-list[_ngcontent-%COMP%]   .field-item[_ngcontent-%COMP%]   .field-type[_ngcontent-%COMP%]{font-size:11px;color:#888;text-transform:uppercase}.drop-zone[_ngcontent-%COMP%]{border:2px dashed #ddd;border-radius:12px;padding:60px 20px;text-align:center;color:#888}.drop-zone[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;color:#ccc}.drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.selected-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#f8f9fa;border-radius:8px;border:1px solid #eee}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-handle[_ngcontent-%COMP%]{color:#ccc;cursor:grab}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-handle[_ngcontent-%COMP%]:active{cursor:grabbing}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-info[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-info[_ngcontent-%COMP%]   .field-category[_ngcontent-%COMP%]{font-size:12px;color:#888}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:28px;height:28px;border:none;background:#fff;border-radius:4px;cursor:pointer;color:#666;display:flex;align-items:center;justify-content:center;transition:all .2s}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover:not(:disabled){background:#e0e0e0}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed}.selected-fields[_ngcontent-%COMP%]   .selected-field[_ngcontent-%COMP%]   .field-actions[_ngcontent-%COMP%]   .btn-icon.remove[_ngcontent-%COMP%]:hover{background:#fee;color:#dc3545}.export-section[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #eee;margin-top:16px}.export-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;color:#333}.export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]{flex:1;padding:10px;border:none;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px;font-size:13px;transition:all .2s}.export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn.csv[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn.csv[_ngcontent-%COMP%]:hover{background:#c8e6c9}.export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn.excel[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn.excel[_ngcontent-%COMP%]:hover{background:#bbdefb}.export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn.pdf[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.export-section[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn.pdf[_ngcontent-%COMP%]:hover{background:#ffcdd2}.template-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.template-list[_ngcontent-%COMP%]   .template-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background:#f8f9fa;border-radius:8px;cursor:pointer;transition:all .2s}.template-list[_ngcontent-%COMP%]   .template-item[_ngcontent-%COMP%]:hover{background:#0080800d}.template-list[_ngcontent-%COMP%]   .template-item[_ngcontent-%COMP%]   .template-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.template-list[_ngcontent-%COMP%]   .template-item[_ngcontent-%COMP%]   .template-info[_ngcontent-%COMP%]   .template-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.template-list[_ngcontent-%COMP%]   .template-item[_ngcontent-%COMP%]   .template-info[_ngcontent-%COMP%]   .template-desc[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:2px}.template-list[_ngcontent-%COMP%]   .template-item[_ngcontent-%COMP%]   .template-info[_ngcontent-%COMP%]   .template-meta[_ngcontent-%COMP%]{font-size:11px;color:#888;margin-top:4px}.template-list[_ngcontent-%COMP%]   .template-item[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:28px;height:28px;border:none;background:transparent;border-radius:4px;cursor:pointer;color:#888;display:flex;align-items:center;justify-content:center}.template-list[_ngcontent-%COMP%]   .template-item[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#fee;color:#dc3545}.no-templates[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#888}.no-templates[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:36px;margin-bottom:12px;color:#ccc}.no-templates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:500px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-content.preview-modal[_ngcontent-%COMP%]{max-width:900px}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f0f0f0;border-radius:50%;cursor:pointer;color:#666;display:flex;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;flex:1}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;color:#555;margin-bottom:6px;font-weight:500}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .fields-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .fields-preview[_ngcontent-%COMP%]   .field-chip[_ngcontent-%COMP%]{background:#0080801a;color:teal;padding:4px 10px;border-radius:12px;font-size:12px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:60px;color:#666}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:teal}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-table-container[_ngcontent-%COMP%]{overflow-x:auto}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-table-container[_ngcontent-%COMP%]   .preview-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:13px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-table-container[_ngcontent-%COMP%]   .preview-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-table-container[_ngcontent-%COMP%]   .preview-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;text-align:left;border-bottom:1px solid #eee;white-space:nowrap}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-table-container[_ngcontent-%COMP%]   .preview-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333;position:sticky;top:0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .preview-table-container[_ngcontent-%COMP%]   .preview-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f8f9fa}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:16px 20px;border-top:1px solid #eee;display:flex;justify-content:flex-end;gap:12px}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:8px}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;color:#333}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#f5f5f5}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:teal;border:none;color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#066}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]{padding:10px 16px;border:none;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:6px;font-size:13px}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn.csv[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .export-buttons[_ngcontent-%COMP%]   .export-btn.excel[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}"]})};var _m=class n{constructor(t){this.http=t}baseUrl="/api/attendance";getAllRecords(){return this.http.get(this.baseUrl)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}getByEmployee(t){return this.http.get(`${this.baseUrl}/employee/${t}`)}getByDate(t){return this.http.get(`${this.baseUrl}/date/${t}`)}getByEmployeeAndDateRange(t,e,i){return this.http.get(`${this.baseUrl}/employee/${t}/range`,{params:{startDate:e,endDate:i}})}clockIn(t,e="WEB"){return this.http.post(`${this.baseUrl}/clock-in`,{employeeId:t,captureMethod:e})}clockOut(t){return this.http.post(`${this.baseUrl}/clock-out`,{employeeId:t})}manualEntry(t){return this.http.post(`${this.baseUrl}/manual-entry`,t)}bulkUpload(t){return this.http.post(`${this.baseUrl}/bulk-upload`,t)}directEntry(t,e,i){return this.http.post(`${this.baseUrl}/direct-entry`,{employeeId:t,status:e,date:i})}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}approve(t,e){return this.http.put(`${this.baseUrl}/${t}/approve`,{approverId:e})}reject(t,e){return this.http.put(`${this.baseUrl}/${t}/reject`,{remarks:e})}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}getTodaySummary(){return this.http.get(`${this.baseUrl}/summary/today`)}getAllRules(){return this.http.get(`${this.baseUrl}/rules`)}getRuleById(t){return this.http.get(`${this.baseUrl}/rules/${t}`)}createRule(t){return this.http.post(`${this.baseUrl}/rules`,t)}updateRule(t,e){return this.http.put(`${this.baseUrl}/rules/${t}`,e)}deleteRule(t){return this.http.delete(`${this.baseUrl}/rules/${t}`)}getAllProjectTimeEntries(){return this.http.get(`${this.baseUrl}/project-time`)}getProjectTimeByEmployee(t){return this.http.get(`${this.baseUrl}/project-time/employee/${t}`)}getProjectTimeByProject(t){return this.http.get(`${this.baseUrl}/project-time/project/${t}`)}createProjectTimeEntry(t){return this.http.post(`${this.baseUrl}/project-time`,t)}updateProjectTimeEntry(t,e){return this.http.put(`${this.baseUrl}/project-time/${t}`,e)}approveProjectTime(t,e){return this.http.put(`${this.baseUrl}/project-time/${t}/approve`,{approverId:e})}deleteProjectTimeEntry(t){return this.http.delete(`${this.baseUrl}/project-time/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function NU(n,t){if(n&1&&(o(0,"div",16),l(1),a()),n&2){let e=d();L("success",e.messageType==="success")("error",e.messageType==="error"),c(),E(" ",e.message," ")}}function FU(n,t){if(n&1&&(o(0,"option",19),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne("",e.firstName," ",e.lastName)}}function VU(n,t){if(n&1){let e=O();o(0,"div",17)(1,"label"),l(2,"Select Employee"),a(),o(3,"select",18),x("ngModelChange",function(r){m(e);let s=d();return b(s.selectedEmployeeId,r)||(s.selectedEmployeeId=r),g(r)}),o(4,"option",19),l(5,"-- Select Employee --"),a(),M(6,FU,2,3,"option",20),a()()}if(n&2){let e=d();c(3),C("ngModel",e.selectedEmployeeId),c(),u("value",null),c(2),u("ngForOf",e.employees)}}function LU(n,t){if(n&1&&(o(0,"div",23)(1,"span",24),l(2,"Overtime"),a(),o(3,"span",25),l(4),a()()),n&2){let e=d(2);c(4),E("",e.todayRecord.overtimeHours," hrs")}}function UU(n,t){if(n&1&&(o(0,"div",23)(1,"span",24),l(2,"Late By"),a(),o(3,"span",28),l(4),a()()),n&2){let e=d(2);c(4),E("",e.todayRecord.lateMinutes," mins")}}function BU(n,t){if(n&1&&(o(0,"div",21)(1,"h3"),l(2,"Today's Record"),a(),o(3,"div",22)(4,"div",23)(5,"span",24),l(6,"Clock In"),a(),o(7,"span",25),l(8),a()(),o(9,"div",23)(10,"span",24),l(11,"Clock Out"),a(),o(12,"span",25),l(13),a()(),o(14,"div",23)(15,"span",24),l(16,"Status"),a(),o(17,"span",26),l(18),a()(),o(19,"div",23)(20,"span",24),l(21,"Regular Hours"),a(),o(22,"span",25),l(23),a()(),M(24,LU,5,1,"div",27)(25,UU,5,1,"div",27),a()()),n&2){let e=d();c(8),f(e.todayRecord.clockIn||"-"),c(5),f(e.todayRecord.clockOut||"-"),c(4),bt(e.todayRecord.status==null?null:e.todayRecord.status.toLowerCase()),c(),f(e.todayRecord.status),c(5),E("",e.todayRecord.regularHours||0," hrs"),c(),u("ngIf",e.todayRecord.overtimeHours),c(),u("ngIf",e.todayRecord.lateArrival)}}var ya=class n{constructor(t){this.attendanceService=t}currentTime=new Date;todayRecord=null;employees=[];selectedEmployeeId=null;loading=!1;message="";messageType="";ngOnInit(){setInterval(()=>{this.currentTime=new Date},1e3)}clockIn(){if(!this.selectedEmployeeId){this.showMessage("Please select an employee","error");return}this.loading=!0,this.attendanceService.clockIn(this.selectedEmployeeId,"WEB").subscribe({next:t=>{this.todayRecord=t,this.showMessage("Clocked in successfully!","success"),this.loading=!1},error:t=>{this.showMessage(t.error?.error||"Failed to clock in","error"),this.loading=!1}})}clockOut(){if(!this.selectedEmployeeId){this.showMessage("Please select an employee","error");return}this.loading=!0,this.attendanceService.clockOut(this.selectedEmployeeId).subscribe({next:t=>{this.todayRecord=t,this.showMessage("Clocked out successfully!","success"),this.loading=!1},error:t=>{this.showMessage(t.error?.error||"Failed to clock out","error"),this.loading=!1}})}showMessage(t,e){this.message=t,this.messageType=e,setTimeout(()=>{this.message=""},3e3)}formatTime(t){return t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}formatDate(t){return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}static \u0275fac=function(e){return new(e||n)(w(_m))};static \u0275cmp=k({type:n,selectors:[["app-clock-in-out"]],decls:23,vars:7,consts:[[1,"clock-in-out-container"],[1,"page-header"],[1,"fas","fa-clock"],[1,"subtitle"],["class","alert",3,"success","error",4,"ngIf"],[1,"clock-widget"],[1,"current-time"],[1,"time"],[1,"date"],["class","employee-select",4,"ngIf"],[1,"clock-actions"],[1,"btn-clock-in",3,"click","disabled"],[1,"fas","fa-sign-in-alt"],[1,"btn-clock-out",3,"click","disabled"],[1,"fas","fa-sign-out-alt"],["class","today-status",4,"ngIf"],[1,"alert"],[1,"employee-select"],[3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"today-status"],[1,"status-grid"],[1,"status-item"],[1,"label"],[1,"value"],[1,"value","status-badge"],["class","status-item",4,"ngIf"],[1,"value","late"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),v(3,"i",2),l(4," Clock In / Out"),a(),o(5,"p",3),l(6,"Record your daily attendance"),a()(),M(7,NU,2,5,"div",4),o(8,"div",5)(9,"div",6)(10,"div",7),l(11),a(),o(12,"div",8),l(13),a()(),M(14,VU,7,3,"div",9),o(15,"div",10)(16,"button",11),_("click",function(){return i.clockIn()}),v(17,"i",12),l(18," Clock In "),a(),o(19,"button",13),_("click",function(){return i.clockOut()}),v(20,"i",14),l(21," Clock Out "),a()(),M(22,BU,26,8,"div",15),a()()),e&2&&(c(7),u("ngIf",i.message),c(4),f(i.formatTime(i.currentTime)),c(2),f(i.formatDate(i.currentTime)),c(),u("ngIf",!i.todayRecord),c(2),u("disabled",i.loading||i.todayRecord&&i.todayRecord.clockIn),c(3),u("disabled",i.loading||!i.todayRecord||i.todayRecord&&i.todayRecord.clockOut),c(3),u("ngIf",i.todayRecord))},dependencies:[Ae,A,N,Fe,z,G,H,V,F],styles:[".clock-in-out-container[_ngcontent-%COMP%]{padding:24px}.clock-in-out-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:24px}.clock-in-out-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:teal;margin:0}.clock-in-out-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.clock-in-out-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0}.clock-in-out-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:20px}.clock-in-out-container[_ngcontent-%COMP%]   .alert.success[_ngcontent-%COMP%]{background:#d4edda;color:#155724;border:1px solid #c3e6cb}.clock-in-out-container[_ngcontent-%COMP%]   .alert.error[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:40px;box-shadow:0 2px 8px #0000001a;max-width:600px;margin:0 auto;text-align:center}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .current-time[_ngcontent-%COMP%]{margin-bottom:30px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .current-time[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:64px;font-weight:600;color:teal;font-family:Courier New,monospace}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .current-time[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:18px;color:#666;margin-top:8px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .employee-select[_ngcontent-%COMP%]{margin-bottom:30px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .employee-select[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#333;font-weight:500}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .employee-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:300px;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:16px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .employee-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:teal;outline:none}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .clock-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;margin-bottom:30px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .clock-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:16px 40px;font-size:18px;border:none;border-radius:12px;cursor:pointer;display:flex;align-items:center;gap:10px;transition:all .3s}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .clock-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .clock-actions[_ngcontent-%COMP%]   .btn-clock-in[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .clock-actions[_ngcontent-%COMP%]   .btn-clock-in[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #28a74566}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .clock-actions[_ngcontent-%COMP%]   .btn-clock-out[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#fd7e14);color:#fff}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .clock-actions[_ngcontent-%COMP%]   .btn-clock-out[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #dc354566}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:24px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#333}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:16px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{text-align:center}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:4px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .value.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:20px;font-size:12px}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .value.status-badge.present[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .value.status-badge.absent[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .value.status-badge.on_leave[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.clock-in-out-container[_ngcontent-%COMP%]   .clock-widget[_ngcontent-%COMP%]   .today-status[_ngcontent-%COMP%]   .status-grid[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .value.late[_ngcontent-%COMP%]{color:#dc3545}"]})};var Si=class n{constructor(t){this.http=t}baseUrl="/api/leave";getAllLeaveTypes(){return this.http.get(`${this.baseUrl}/types`)}getActiveLeaveTypes(){return this.http.get(`${this.baseUrl}/types/active`)}getLeaveTypeById(t){return this.http.get(`${this.baseUrl}/types/${t}`)}createLeaveType(t){return this.http.post(`${this.baseUrl}/types`,t)}updateLeaveType(t,e){return this.http.put(`${this.baseUrl}/types/${t}`,e)}deleteLeaveType(t){return this.http.delete(`${this.baseUrl}/types/${t}`)}getAllRequests(){return this.http.get(`${this.baseUrl}/requests`)}getPendingRequests(){return this.http.get(`${this.baseUrl}/requests/pending`)}getRequestById(t){return this.http.get(`${this.baseUrl}/requests/${t}`)}getRequestsByEmployee(t){return this.http.get(`${this.baseUrl}/requests/employee/${t}`)}createRequest(t){return this.http.post(`${this.baseUrl}/requests`,t)}approveRequest(t,e,i){return this.http.put(`${this.baseUrl}/requests/${t}/approve`,{approverId:e,approverRemarks:i})}rejectRequest(t,e,i){return this.http.put(`${this.baseUrl}/requests/${t}/reject`,{approverId:e,approverRemarks:i})}cancelRequest(t){return this.http.put(`${this.baseUrl}/requests/${t}/cancel`,{})}deleteRequest(t){return this.http.delete(`${this.baseUrl}/requests/${t}`)}getEmployeeBalances(t){return this.http.get(`${this.baseUrl}/balances/employee/${t}`)}getEmployeeBalancesByYear(t,e){return this.http.get(`${this.baseUrl}/balances/employee/${t}/year/${e}`)}initializeBalances(t){return this.http.post(`${this.baseUrl}/balances/initialize/${t}`,{})}updateBalance(t,e){return this.http.put(`${this.baseUrl}/balances/${t}`,e)}getAllHolidays(){return this.http.get(`${this.baseUrl}/holidays`)}getHolidaysByYear(t){return this.http.get(`${this.baseUrl}/holidays/year/${t}`)}getHolidayById(t){return this.http.get(`${this.baseUrl}/holidays/${t}`)}createHoliday(t){return this.http.post(`${this.baseUrl}/holidays`,t)}updateHoliday(t,e){return this.http.put(`${this.baseUrl}/holidays/${t}`,e)}deleteHoliday(t){return this.http.delete(`${this.baseUrl}/holidays/${t}`)}getMonthlyCalendar(t,e){return this.http.get(`${this.baseUrl}/holidays/calendar/${t}/${e}`)}getEmployeeLeaveSummary(t){return this.http.get(`${this.baseUrl}/summary/employee/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function WU(n,t){n&1&&(o(0,"span",35),l(1,"Requires Approval"),a())}function jU(n,t){n&1&&(o(0,"span",36),l(1,"Document Required"),a())}function qU(n,t){if(n&1){let e=O();o(0,"div",16)(1,"div",17)(2,"div",18)(3,"span",19),l(4),a(),o(5,"h3"),l(6),a()(),o(7,"div",20)(8,"button",21),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.openEditModal(r))}),v(9,"i",22),a(),o(10,"button",23),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.deleteLeaveType(r.id))}),v(11,"i",24),a()()(),o(12,"div",25)(13,"p",26),l(14),a(),o(15,"div",27)(16,"div",28)(17,"span",29),l(18,"Annual Entitlement"),a(),o(19,"span",30),l(20),a()(),o(21,"div",28)(22,"span",29),l(23,"Accrual"),a(),o(24,"span",30),l(25),a()(),o(26,"div",28)(27,"span",29),l(28,"Carry Forward"),a(),o(29,"span",30),l(30),a()(),o(31,"div",28)(32,"span",29),l(33,"Paid Leave"),a(),o(34,"span",30),l(35),a()()(),o(36,"div",31)(37,"span",32),l(38),a(),M(39,WU,2,0,"span",33)(40,jU,2,0,"span",34),a()()()}if(n&2){let e=t.$implicit;de("border-left-color",e.colorCode),c(4),f(e.code),c(2),f(e.name),c(8),f(e.description||"No description"),c(6),E("",e.annualEntitlement||0," days"),c(5),f(e.accrualType),c(5),f(e.carryForwardAllowed?"Yes (Max: "+e.maxCarryForward+")":"No"),c(5),f(e.isPaid?"Yes":"No"),c(2),L("active",e.isActive)("inactive",!e.isActive),c(),E(" ",e.isActive?"Active":"Inactive"," "),c(),u("ngIf",e.requiresApproval),c(),u("ngIf",e.documentRequired)}}function HU(n,t){if(n&1&&(o(0,"div",14),M(1,qU,41,16,"div",15),a()),n&2){let e=d();c(),u("ngForOf",e.filteredLeaveTypes)}}function zU(n,t){n&1&&(o(0,"div",37),v(1,"i",38),o(2,"p"),l(3,"No leave types found"),a()())}function GU(n,t){if(n&1){let e=O();o(0,"div",45)(1,"div",46)(2,"label"),l(3,"Max Carry Forward (days)"),a(),o(4,"input",50),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.maxCarryForward,r)||(s.formData.maxCarryForward=r),g(r)}),a()()()}if(n&2){let e=d(2);c(4),C("ngModel",e.formData.maxCarryForward)}}function $U(n,t){if(n&1){let e=O();o(0,"div",39),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",40),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",41)(3,"h2"),l(4),a(),o(5,"button",42),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",43),a()(),o(7,"div",44)(8,"div",45)(9,"div",46)(10,"label"),l(11,"Code *"),a(),o(12,"input",47),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.code,r)||(s.formData.code=r),g(r)}),a()(),o(13,"div",46)(14,"label"),l(15,"Name *"),a(),o(16,"input",48),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.name,r)||(s.formData.name=r),g(r)}),a()()(),o(17,"div",46)(18,"label"),l(19,"Description"),a(),o(20,"textarea",49),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.description,r)||(s.formData.description=r),g(r)}),a()(),o(21,"div",45)(22,"div",46)(23,"label"),l(24,"Annual Entitlement (days)"),a(),o(25,"input",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.annualEntitlement,r)||(s.formData.annualEntitlement=r),g(r)}),a()(),o(26,"div",46)(27,"label"),l(28,"Accrual Type"),a(),o(29,"select",51),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.accrualType,r)||(s.formData.accrualType=r),g(r)}),o(30,"option",52),l(31,"Annually"),a(),o(32,"option",53),l(33,"Monthly"),a(),o(34,"option",54),l(35,"None"),a()()()(),o(36,"div",45)(37,"div",46)(38,"label"),l(39,"Min Notice Days"),a(),o(40,"input",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.minNoticeDays,r)||(s.formData.minNoticeDays=r),g(r)}),a()(),o(41,"div",46)(42,"label"),l(43,"Max Consecutive Days"),a(),o(44,"input",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.maxConsecutiveDays,r)||(s.formData.maxConsecutiveDays=r),g(r)}),a()()(),o(45,"div",45)(46,"div",46)(47,"label"),l(48,"Applicable Gender"),a(),o(49,"select",51),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.applicableGender,r)||(s.formData.applicableGender=r),g(r)}),o(50,"option",55),l(51,"All"),a(),o(52,"option",56),l(53,"Male"),a(),o(54,"option",57),l(55,"Female"),a()()(),o(56,"div",46)(57,"label"),l(58,"Color Code"),a(),o(59,"input",58),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.colorCode,r)||(s.formData.colorCode=r),g(r)}),a()()(),o(60,"div",59)(61,"label",60)(62,"input",61),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.isPaid,r)||(s.formData.isPaid=r),g(r)}),a(),l(63," Paid Leave "),a(),o(64,"label",60)(65,"input",61),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.requiresApproval,r)||(s.formData.requiresApproval=r),g(r)}),a(),l(66," Requires Approval "),a(),o(67,"label",60)(68,"input",61),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.carryForwardAllowed,r)||(s.formData.carryForwardAllowed=r),g(r)}),a(),l(69," Allow Carry Forward "),a(),o(70,"label",60)(71,"input",61),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.documentRequired,r)||(s.formData.documentRequired=r),g(r)}),a(),l(72," Document Required "),a(),o(73,"label",60)(74,"input",61),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.isActive,r)||(s.formData.isActive=r),g(r)}),a(),l(75," Active "),a()(),M(76,GU,5,1,"div",62),a(),o(77,"div",63)(78,"button",64),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(79,"Cancel"),a(),o(80,"button",5),_("click",function(){m(e);let r=d();return g(r.saveLeaveType())}),l(81),a()()()()}if(n&2){let e=d();c(4),E("",e.editMode?"Edit":"Add"," Leave Type"),c(8),C("ngModel",e.formData.code),c(4),C("ngModel",e.formData.name),c(4),C("ngModel",e.formData.description),c(5),C("ngModel",e.formData.annualEntitlement),c(4),C("ngModel",e.formData.accrualType),c(11),C("ngModel",e.formData.minNoticeDays),c(4),C("ngModel",e.formData.maxConsecutiveDays),c(5),C("ngModel",e.formData.applicableGender),c(10),C("ngModel",e.formData.colorCode),c(3),C("ngModel",e.formData.isPaid),c(3),C("ngModel",e.formData.requiresApproval),c(3),C("ngModel",e.formData.carryForwardAllowed),c(3),C("ngModel",e.formData.documentRequired),c(3),C("ngModel",e.formData.isActive),c(2),u("ngIf",e.formData.carryForwardAllowed),c(5),f(e.editMode?"Update":"Create")}}var Ca=class n{constructor(t){this.leaveService=t}leaveTypes=[];filteredLeaveTypes=[];searchTerm="";loading=!1;showModal=!1;editMode=!1;selectedLeaveType=null;formData=this.getEmptyFormData();ngOnInit(){this.loadLeaveTypes()}getEmptyFormData(){return{code:"",name:"",description:"",annualEntitlement:0,accrualType:"ANNUALLY",accrualRate:0,carryForwardAllowed:!1,maxCarryForward:0,encashmentAllowed:!1,encashmentRate:0,requiresApproval:!0,minNoticeDays:0,maxConsecutiveDays:0,isPaid:!0,isActive:!0,documentRequired:!1,applicableGender:"ALL",colorCode:"#008080"}}loadLeaveTypes(){this.loading=!0,this.leaveService.getAllLeaveTypes().subscribe({next:t=>{this.leaveTypes=t,this.filterLeaveTypes(),this.loading=!1},error:()=>{this.loading=!1}})}filterLeaveTypes(){this.filteredLeaveTypes=this.leaveTypes.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||t.code.toLowerCase().includes(this.searchTerm.toLowerCase()))}openCreateModal(){this.editMode=!1,this.formData=this.getEmptyFormData(),this.showModal=!0}openEditModal(t){this.editMode=!0,this.selectedLeaveType=t,this.formData=T({},t),this.showModal=!0}closeModal(){this.showModal=!1,this.selectedLeaveType=null}saveLeaveType(){this.editMode&&this.selectedLeaveType?.id?this.leaveService.updateLeaveType(this.selectedLeaveType.id,this.formData).subscribe({next:()=>{this.loadLeaveTypes(),this.closeModal()}}):this.leaveService.createLeaveType(this.formData).subscribe({next:()=>{this.loadLeaveTypes(),this.closeModal()}})}deleteLeaveType(t){confirm("Are you sure you want to delete this leave type?")&&this.leaveService.deleteLeaveType(t).subscribe({next:()=>this.loadLeaveTypes()})}static \u0275fac=function(e){return new(e||n)(w(Si))};static \u0275cmp=k({type:n,selectors:[["app-leave-types"]],decls:18,vars:4,consts:[[1,"leave-types-container"],[1,"page-header"],[1,"header-left"],[1,"fas","fa-list-alt"],[1,"subtitle"],[1,"btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"filters-bar"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search leave types...",3,"ngModelChange","ngModel"],["class","leave-types-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"leave-types-grid"],["class","leave-type-card",3,"border-left-color",4,"ngFor","ngForOf"],[1,"leave-type-card"],[1,"card-header"],[1,"type-info"],[1,"type-code"],[1,"card-actions"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],[1,"card-body"],[1,"description"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"badges"],[1,"badge"],["class","badge approval",4,"ngIf"],["class","badge document",4,"ngIf"],[1,"badge","approval"],[1,"badge","document"],[1,"empty-state"],[1,"fas","fa-folder-open"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["type","text","placeholder","e.g., PTO",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Paid Time Off",3,"ngModelChange","ngModel"],["rows","2","placeholder","Leave type description...",3,"ngModelChange","ngModel"],["type","number","min","0",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","ANNUALLY"],["value","MONTHLY"],["value","NONE"],["value","ALL"],["value","MALE"],["value","FEMALE"],["type","color",3,"ngModelChange","ngModel"],[1,"form-row","checkboxes"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"],["class","form-row",4,"ngIf"],[1,"modal-footer"],[1,"btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"i",3),l(5," Leave Types"),a(),o(6,"p",4),l(7,"Configure leave types and policies"),a()(),o(8,"button",5),_("click",function(){return i.openCreateModal()}),v(9,"i",6),l(10," Add Leave Type "),a()(),o(11,"div",7)(12,"div",8),v(13,"i",9),o(14,"input",10),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),_("ngModelChange",function(){return i.filterLeaveTypes()}),a()()(),M(15,HU,2,1,"div",11)(16,zU,4,0,"div",12)(17,$U,82,17,"div",13),a()),e&2&&(c(14),C("ngModel",i.searchTerm),c(),u("ngIf",!i.loading),c(),u("ngIf",!i.loading&&i.filteredLeaveTypes.length===0),c(),u("ngIf",i.showModal))},dependencies:[Ae,A,N,Fe,z,G,B,pe,fe,H,V,Se,F],styles:[".leave-types-container[_ngcontent-%COMP%]{padding:24px}.leave-types-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px}.leave-types-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:teal;margin:0}.leave-types-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.leave-types-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0}.leave-types-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px}.leave-types-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#066}.leave-types-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]{margin-bottom:24px}.leave-types-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;max-width:300px}.leave-types-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#999}.leave-types-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 10px 10px 36px;border:1px solid #ddd;border-radius:8px}.leave-types-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:teal;outline:none}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border-left:4px solid #008080;overflow:hidden}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:16px;border-bottom:1px solid #f0f0f0}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .type-info[_ngcontent-%COMP%]   .type-code[_ngcontent-%COMP%]{font-size:12px;color:teal;font-weight:600}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .type-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:4px 0 0;font-size:16px;color:#333}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:8px;border-radius:4px;color:#666}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{color:#dc3545;background:#fdecea}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:16px}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0 0 16px}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:16px}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:11px;color:#999;text-transform:uppercase}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#333;font-weight:500}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:11px;font-weight:500}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge.approval[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.leave-types-container[_ngcontent-%COMP%]   .leave-types-grid[_ngcontent-%COMP%]   .leave-type-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge.document[_ngcontent-%COMP%]{background:#cce5ff;color:#004085}.leave-types-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px;color:#999}.leave-types-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:90vh;overflow:auto}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:18px;color:#666}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row.checkboxes[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:14px;color:#333;font-weight:500}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:6px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:teal;outline:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;cursor:pointer}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px;border-top:1px solid #eee}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border-radius:8px;cursor:pointer}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#f0f0f0;border:none;color:#333}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:teal;border:none;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#066}"]})};function QU(n,t){if(n&1){let e=O();o(0,"button",26),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.openApprovalModal(r))}),v(1,"i",27),a()}}function JU(n,t){if(n&1){let e=O();o(0,"button",28),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.cancelRequest(r.id))}),v(1,"i",29),a()}}function KU(n,t){if(n&1&&(o(0,"tr")(1,"td")(2,"div",18)(3,"div",19),l(4),a(),o(5,"span"),l(6),a()()(),o(7,"td")(8,"span",20),l(9),a()(),o(10,"td"),l(11),a(),o(12,"td"),l(13),a(),o(14,"td"),l(15),a(),o(16,"td",21),l(17),a(),o(18,"td")(19,"span",22),l(20),a()(),o(21,"td")(22,"div",23),M(23,QU,2,0,"button",24)(24,JU,2,0,"button",25),a()()()),n&2){let e=t.$implicit,i=d(2);c(4),f((e.employee==null||e.employee.firstName==null?null:e.employee.firstName.charAt(0))||"?"),c(2),ne("",e.employee==null?null:e.employee.firstName," ",e.employee==null?null:e.employee.lastName),c(2),de("border-left-color",(e.leaveType==null?null:e.leaveType.colorCode)||"#008080"),c(),E(" ",(e.leaveType==null?null:e.leaveType.name)||"N/A"," "),c(2),f(i.formatDate(e.startDate)),c(2),f(i.formatDate(e.endDate)),c(2),f(e.totalDays),c(2),f(e.reason||"-"),c(2),bt(i.getStatusClass(e.status||"")),c(),f(e.status),c(3),u("ngIf",e.status==="PENDING"),c(),u("ngIf",e.status==="PENDING")}}function YU(n,t){if(n&1&&(o(0,"div",16)(1,"table")(2,"thead")(3,"tr")(4,"th"),l(5,"Employee"),a(),o(6,"th"),l(7,"Leave Type"),a(),o(8,"th"),l(9,"From"),a(),o(10,"th"),l(11,"To"),a(),o(12,"th"),l(13,"Days"),a(),o(14,"th"),l(15,"Reason"),a(),o(16,"th"),l(17,"Status"),a(),o(18,"th"),l(19,"Actions"),a()()(),o(20,"tbody"),M(21,KU,25,15,"tr",17),a()()()),n&2){let e=d();c(21),u("ngForOf",e.filteredRequests)}}function ZU(n,t){n&1&&(o(0,"div",30),v(1,"i",31),o(2,"p"),l(3,"No leave requests found"),a()())}function XU(n,t){if(n&1&&(o(0,"option",40),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne("",e.name," (",e.annualEntitlement," days)")}}function e9(n,t){if(n&1){let e=O();o(0,"div",32),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",33),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",34)(3,"h2"),l(4,"New Leave Request"),a(),o(5,"button",35),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",36),a()(),o(7,"div",37)(8,"div",38)(9,"label"),l(10,"Leave Type *"),a(),o(11,"select",39),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.leaveTypeId,r)||(s.formData.leaveTypeId=r),g(r)}),o(12,"option",40),l(13,"-- Select Leave Type --"),a(),M(14,XU,2,3,"option",41),a()(),o(15,"div",42)(16,"div",38)(17,"label"),l(18,"Start Date *"),a(),o(19,"input",43),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.startDate,r)||(s.formData.startDate=r),g(r)}),a()(),o(20,"div",38)(21,"label"),l(22,"End Date *"),a(),o(23,"input",43),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.endDate,r)||(s.formData.endDate=r),g(r)}),a()()(),o(24,"div",38)(25,"label"),l(26,"Day Type"),a(),o(27,"select",39),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.dayType,r)||(s.formData.dayType=r),g(r)}),o(28,"option",44),l(29,"Full Day"),a(),o(30,"option",45),l(31,"Half Day (Morning)"),a(),o(32,"option",46),l(33,"Half Day (Afternoon)"),a()()(),o(34,"div",38)(35,"label"),l(36,"Reason *"),a(),o(37,"textarea",47),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.reason,r)||(s.formData.reason=r),g(r)}),a()(),o(38,"div",38)(39,"label"),l(40,"Emergency Contact"),a(),o(41,"input",48),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.emergencyContact,r)||(s.formData.emergencyContact=r),g(r)}),a()()(),o(42,"div",49)(43,"button",50),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(44,"Cancel"),a(),o(45,"button",5),_("click",function(){m(e);let r=d();return g(r.submitRequest())}),l(46,"Submit Request"),a()()()()}if(n&2){let e=d();c(11),C("ngModel",e.formData.leaveTypeId),c(),u("value",null),c(2),u("ngForOf",e.leaveTypes),c(5),C("ngModel",e.formData.startDate),c(4),C("ngModel",e.formData.endDate),c(4),C("ngModel",e.formData.dayType),c(10),C("ngModel",e.formData.reason),c(4),C("ngModel",e.formData.emergencyContact)}}function t9(n,t){if(n&1){let e=O();o(0,"div",37)(1,"div",56)(2,"div",57)(3,"span",58),l(4,"Employee"),a(),o(5,"span",59),l(6),a()(),o(7,"div",57)(8,"span",58),l(9,"Leave Type"),a(),o(10,"span",59),l(11),a()(),o(12,"div",57)(13,"span",58),l(14,"Duration"),a(),o(15,"span",59),l(16),a()(),o(17,"div",57)(18,"span",58),l(19,"Reason"),a(),o(20,"span",59),l(21),a()()(),o(22,"div",38)(23,"label"),l(24,"Remarks"),a(),o(25,"textarea",60),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.approverRemarks,r)||(s.approverRemarks=r),g(r)}),a()()()}if(n&2){let e=d(2);c(6),ne("",e.selectedRequest.employee==null?null:e.selectedRequest.employee.firstName," ",e.selectedRequest.employee==null?null:e.selectedRequest.employee.lastName),c(5),f(e.selectedRequest.leaveType==null?null:e.selectedRequest.leaveType.name),c(5),tr("",e.formatDate(e.selectedRequest.startDate)," - ",e.formatDate(e.selectedRequest.endDate)," (",e.selectedRequest.totalDays," days)"),c(5),f(e.selectedRequest.reason),c(4),C("ngModel",e.approverRemarks)}}function n9(n,t){if(n&1){let e=O();o(0,"div",32),_("click",function(){m(e);let r=d();return g(r.closeApprovalModal())}),o(1,"div",51),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",34)(3,"h2"),l(4,"Review Leave Request"),a(),o(5,"button",35),_("click",function(){m(e);let r=d();return g(r.closeApprovalModal())}),v(6,"i",36),a()(),M(7,t9,26,8,"div",52),o(8,"div",49)(9,"button",53),_("click",function(){m(e);let r=d();return g(r.rejectRequest())}),v(10,"i",36),l(11," Reject "),a(),o(12,"button",54),_("click",function(){m(e);let r=d();return g(r.approveRequest())}),v(13,"i",55),l(14," Approve "),a()()()()}if(n&2){let e=d();c(7),u("ngIf",e.selectedRequest)}}var xa=class n{constructor(t){this.leaveService=t}requests=[];filteredRequests=[];leaveTypes=[];loading=!1;showModal=!1;statusFilter="ALL";searchTerm="";formData={employeeId:null,leaveTypeId:null,startDate:"",endDate:"",dayType:"FULL_DAY",reason:"",emergencyContact:""};showApprovalModal=!1;selectedRequest=null;approverRemarks="";ngOnInit(){this.loadRequests(),this.loadLeaveTypes()}loadRequests(){this.loading=!0,this.leaveService.getAllRequests().subscribe({next:t=>{this.requests=t,this.filterRequests(),this.loading=!1},error:()=>{this.loading=!1}})}loadLeaveTypes(){this.leaveService.getActiveLeaveTypes().subscribe({next:t=>{this.leaveTypes=t}})}filterRequests(){this.filteredRequests=this.requests.filter(t=>{let e=this.statusFilter==="ALL"||t.status===this.statusFilter,i=!this.searchTerm||t.employee?.firstName?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.employee?.lastName?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.leaveType?.name?.toLowerCase().includes(this.searchTerm.toLowerCase());return e&&i})}openCreateModal(){this.formData={employeeId:null,leaveTypeId:null,startDate:"",endDate:"",dayType:"FULL_DAY",reason:"",emergencyContact:""},this.showModal=!0}closeModal(){this.showModal=!1}submitRequest(){this.leaveService.createRequest(this.formData).subscribe({next:()=>{this.loadRequests(),this.closeModal()}})}openApprovalModal(t){this.selectedRequest=t,this.approverRemarks="",this.showApprovalModal=!0}closeApprovalModal(){this.showApprovalModal=!1,this.selectedRequest=null}approveRequest(){this.selectedRequest?.id&&this.leaveService.approveRequest(this.selectedRequest.id,void 0,this.approverRemarks).subscribe({next:()=>{this.loadRequests(),this.closeApprovalModal()}})}rejectRequest(){this.selectedRequest?.id&&this.leaveService.rejectRequest(this.selectedRequest.id,void 0,this.approverRemarks).subscribe({next:()=>{this.loadRequests(),this.closeApprovalModal()}})}cancelRequest(t){confirm("Are you sure you want to cancel this leave request?")&&this.leaveService.cancelRequest(t).subscribe({next:()=>this.loadRequests()})}getStatusClass(t){switch(t){case"PENDING":return"pending";case"APPROVED":return"approved";case"REJECTED":return"rejected";case"CANCELLED":return"cancelled";default:return""}}formatDate(t){return new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}static \u0275fac=function(e){return new(e||n)(w(Si))};static \u0275cmp=k({type:n,selectors:[["app-leave-requests"]],decls:28,vars:13,consts:[[1,"leave-requests-container"],[1,"page-header"],[1,"header-left"],[1,"fas","fa-calendar-check"],[1,"subtitle"],[1,"btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"filters-bar"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search by employee or leave type...",3,"ngModelChange","ngModel"],[1,"status-tabs"],[3,"click"],["class","requests-table",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"requests-table"],[4,"ngFor","ngForOf"],[1,"employee-info"],[1,"avatar"],[1,"leave-type"],[1,"reason-cell"],[1,"status-badge"],[1,"action-buttons"],["class","btn-icon approve","title","Review",3,"click",4,"ngIf"],["class","btn-icon cancel","title","Cancel",3,"click",4,"ngIf"],["title","Review",1,"btn-icon","approve",3,"click"],[1,"fas","fa-check-circle"],["title","Cancel",1,"btn-icon","cancel",3,"click"],[1,"fas","fa-times-circle"],[1,"empty-state"],[1,"fas","fa-calendar-times"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"form-row"],["type","date",3,"ngModelChange","ngModel"],["value","FULL_DAY"],["value","HALF_DAY_AM"],["value","HALF_DAY_PM"],["rows","3","placeholder","Please provide reason for leave...",3,"ngModelChange","ngModel"],["type","text","placeholder","Phone number",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"modal","approval-modal",3,"click"],["class","modal-body",4,"ngIf"],[1,"btn-reject",3,"click"],[1,"btn-approve",3,"click"],[1,"fas","fa-check"],[1,"request-summary"],[1,"summary-item"],[1,"label"],[1,"value"],["rows","3","placeholder","Add any comments...",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"i",3),l(5," Leave Requests"),a(),o(6,"p",4),l(7,"Manage leave applications and approvals"),a()(),o(8,"button",5),_("click",function(){return i.openCreateModal()}),v(9,"i",6),l(10," New Request "),a()(),o(11,"div",7)(12,"div",8),v(13,"i",9),o(14,"input",10),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),_("ngModelChange",function(){return i.filterRequests()}),a()(),o(15,"div",11)(16,"button",12),_("click",function(){return i.statusFilter="ALL",i.filterRequests()}),l(17,"All"),a(),o(18,"button",12),_("click",function(){return i.statusFilter="PENDING",i.filterRequests()}),l(19,"Pending"),a(),o(20,"button",12),_("click",function(){return i.statusFilter="APPROVED",i.filterRequests()}),l(21,"Approved"),a(),o(22,"button",12),_("click",function(){return i.statusFilter="REJECTED",i.filterRequests()}),l(23,"Rejected"),a()()(),M(24,YU,22,1,"div",13)(25,ZU,4,0,"div",14)(26,e9,47,8,"div",15)(27,n9,15,1,"div",15),a()),e&2&&(c(14),C("ngModel",i.searchTerm),c(2),L("active",i.statusFilter==="ALL"),c(2),L("active",i.statusFilter==="PENDING"),c(2),L("active",i.statusFilter==="APPROVED"),c(2),L("active",i.statusFilter==="REJECTED"),c(2),u("ngIf",!i.loading&&i.filteredRequests.length>0),c(),u("ngIf",!i.loading&&i.filteredRequests.length===0),c(),u("ngIf",i.showModal),c(),u("ngIf",i.showApprovalModal))},dependencies:[Ae,A,N,Fe,z,G,B,H,V,F],styles:[".leave-requests-container[_ngcontent-%COMP%]{padding:24px}.leave-requests-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px}.leave-requests-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:teal;margin:0}.leave-requests-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.leave-requests-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0}.leave-requests-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px}.leave-requests-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#066}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#999}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 10px 10px 36px;border:1px solid #ddd;border-radius:8px;width:300px}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:teal;outline:none}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .status-tabs[_ngcontent-%COMP%]{display:flex;gap:4px;background:#f0f0f0;padding:4px;border-radius:8px}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .status-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;background:transparent;border-radius:6px;cursor:pointer;font-size:14px}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .status-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:teal;font-weight:500}.leave-requests-container[_ngcontent-%COMP%]   .filters-bar[_ngcontent-%COMP%]   .status-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background:#e0e0e0}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;border-bottom:1px solid #f0f0f0}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;font-size:13px;color:#666;text-transform:uppercase}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:teal;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .leave-type[_ngcontent-%COMP%]{padding-left:10px;border-left:3px solid}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .reason-cell[_ngcontent-%COMP%]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .status-badge.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .status-badge.approved[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .status-badge.rejected[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .status-badge.cancelled[_ngcontent-%COMP%]{background:#e2e3e5;color:#383d41}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:6px;border-radius:4px;font-size:16px}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-icon.approve[_ngcontent-%COMP%]{color:#28a745}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-icon.cancel[_ngcontent-%COMP%]{color:#dc3545}.leave-requests-container[_ngcontent-%COMP%]   .requests-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0}.leave-requests-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px;color:#999;background:#fff;border-radius:12px}.leave-requests-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:500px;max-height:90vh;overflow:auto}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:18px;color:#666}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:14px;color:#333;font-weight:500}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:6px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:teal;outline:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .request-summary[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:16px;margin-bottom:20px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .request-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{margin-bottom:12px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .request-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .request-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:4px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .request-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:14px;color:#333}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px;border-top:1px solid #eee}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px;border:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#f0f0f0;color:#333}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#066}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-approve[_ngcontent-%COMP%]{background:#28a745;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-approve[_ngcontent-%COMP%]:hover{background:#218838}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-reject[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-reject[_ngcontent-%COMP%]:hover{background:#c82333}"]})};function i9(n,t){if(n&1&&(o(0,"option",18),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function r9(n,t){if(n&1&&(o(0,"p"),l(1),a()),n&2){let e=d().$implicit;c(),f(e.description)}}function o9(n,t){n&1&&(o(0,"span",37),l(1,"Paid"),a())}function a9(n,t){n&1&&(o(0,"span",38),l(1,"Optional"),a())}function s9(n,t){if(n&1){let e=O();o(0,"div",21)(1,"div",22)(2,"span",23),l(3),U(4,"date"),a(),o(5,"span",24),l(6),U(7,"date"),a(),o(8,"span",25),l(9),a()(),o(10,"div",26)(11,"h3"),l(12),a(),M(13,r9,2,1,"p",27),o(14,"div",28)(15,"span",29),l(16),a(),M(17,o9,2,0,"span",30)(18,a9,2,0,"span",31),a()(),o(19,"div",32)(20,"button",33),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.openEditModal(r))}),v(21,"i",34),a(),o(22,"button",35),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.deleteHoliday(r.id))}),v(23,"i",36),a()()()}if(n&2){let e=t.$implicit,i=d(2);de("border-left-color",i.getTypeColor(e.holidayType||"")),c(3),f($(4,12,e.holidayDate,"d")),c(3),f($(7,15,e.holidayDate,"MMM")),c(3),f(e.dayOfWeek),c(3),f(e.name),c(),u("ngIf",e.description),c(2),de("background",i.getTypeColor(e.holidayType||"")),c(),f(e.holidayType),c(),u("ngIf",e.isPaid),c(),u("ngIf",e.isOptional)}}function l9(n,t){if(n&1&&(o(0,"div",19),M(1,s9,24,18,"div",20),a()),n&2){let e=d();c(),u("ngForOf",e.filteredHolidays)}}function c9(n,t){if(n&1&&(o(0,"div",39),v(1,"i",40),o(2,"p"),l(3),a()()),n&2){let e=d();c(3),E("No holidays found for ",e.selectedYear)}}function d9(n,t){if(n&1&&(o(0,"option",18),l(1),a()),n&2){let e=t.$implicit;u("value",e.value),c(),f(e.label)}}function p9(n,t){if(n&1){let e=O();o(0,"div",41),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",42),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",43)(3,"h2"),l(4),a(),o(5,"button",44),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",45),a()(),o(7,"div",46)(8,"div",47)(9,"label"),l(10,"Holiday Name *"),a(),o(11,"input",48),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.name,r)||(s.formData.name=r),g(r)}),a()(),o(12,"div",49)(13,"div",47)(14,"label"),l(15,"Date *"),a(),o(16,"input",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.holidayDate,r)||(s.formData.holidayDate=r),g(r)}),a()(),o(17,"div",47)(18,"label"),l(19,"Type *"),a(),o(20,"select",6),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.holidayType,r)||(s.formData.holidayType=r),g(r)}),M(21,d9,2,2,"option",7),a()()(),o(22,"div",47)(23,"label"),l(24,"Description"),a(),o(25,"textarea",51),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.description,r)||(s.formData.description=r),g(r)}),a()(),o(26,"div",52)(27,"label",53)(28,"input",54),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.isPaid,r)||(s.formData.isPaid=r),g(r)}),a(),l(29," Paid Holiday "),a(),o(30,"label",53)(31,"input",54),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.isOptional,r)||(s.formData.isOptional=r),g(r)}),a(),l(32," Optional "),a(),o(33,"label",53)(34,"input",54),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.isActive,r)||(s.formData.isActive=r),g(r)}),a(),l(35," Active "),a()()(),o(36,"div",55)(37,"button",56),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(38,"Cancel"),a(),o(39,"button",8),_("click",function(){m(e);let r=d();return g(r.saveHoliday())}),l(40),a()()()()}if(n&2){let e=d();c(4),E("",e.editMode?"Edit":"Add"," Holiday"),c(7),C("ngModel",e.formData.name),c(5),C("ngModel",e.formData.holidayDate),c(4),C("ngModel",e.formData.holidayType),c(),u("ngForOf",e.holidayTypes),c(4),C("ngModel",e.formData.description),c(3),C("ngModel",e.formData.isPaid),c(3),C("ngModel",e.formData.isOptional),c(3),C("ngModel",e.formData.isActive),c(6),f(e.editMode?"Update":"Create")}}var ba=class n{constructor(t){this.leaveService=t}holidays=[];filteredHolidays=[];loading=!1;showModal=!1;editMode=!1;selectedHoliday=null;selectedYear=new Date().getFullYear();years=[2024,2025,2026];formData=this.getEmptyFormData();holidayTypes=[{value:"FEDERAL",label:"Federal Holiday"},{value:"COMPANY",label:"Company Holiday"},{value:"OPTIONAL",label:"Optional Holiday"},{value:"RESTRICTED",label:"Restricted Holiday"}];ngOnInit(){this.loadHolidays()}getEmptyFormData(){return{name:"",holidayDate:"",description:"",holidayType:"COMPANY",isPaid:!0,isOptional:!1,isActive:!0,applicableLocations:"",applicableDepartments:""}}loadHolidays(){this.loading=!0,this.leaveService.getHolidaysByYear(this.selectedYear).subscribe({next:t=>{this.holidays=t,this.filteredHolidays=t,this.loading=!1},error:()=>{this.loading=!1}})}filterByType(t){t==="ALL"?this.filteredHolidays=this.holidays:this.filteredHolidays=this.holidays.filter(e=>e.holidayType===t)}openCreateModal(){this.editMode=!1,this.formData=this.getEmptyFormData(),this.showModal=!0}openEditModal(t){this.editMode=!0,this.selectedHoliday=t,this.formData=T({},t),this.showModal=!0}closeModal(){this.showModal=!1,this.selectedHoliday=null}saveHoliday(){this.editMode&&this.selectedHoliday?.id?this.leaveService.updateHoliday(this.selectedHoliday.id,this.formData).subscribe({next:()=>{this.loadHolidays(),this.closeModal()}}):this.leaveService.createHoliday(this.formData).subscribe({next:()=>{this.loadHolidays(),this.closeModal()}})}deleteHoliday(t){confirm("Are you sure you want to delete this holiday?")&&this.leaveService.deleteHoliday(t).subscribe({next:()=>this.loadHolidays()})}formatDate(t){return new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}getTypeColor(t){switch(t){case"FEDERAL":return"#dc3545";case"COMPANY":return"#008080";case"OPTIONAL":return"#ffc107";case"RESTRICTED":return"#6c757d";default:return"#008080"}}static \u0275fac=function(e){return new(e||n)(w(Si))};static \u0275cmp=k({type:n,selectors:[["app-holiday-calendar"]],decls:26,vars:5,consts:[[1,"holiday-calendar-container"],[1,"page-header"],[1,"header-left"],[1,"fas","fa-calendar-alt"],[1,"subtitle"],[1,"header-actions"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"filter-tabs"],[1,"tab",3,"click"],[1,"tab","federal",3,"click"],[1,"tab","company",3,"click"],[1,"tab","optional",3,"click"],["class","holidays-list",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"holidays-list"],["class","holiday-card",3,"border-left-color",4,"ngFor","ngForOf"],[1,"holiday-card"],[1,"holiday-date"],[1,"day"],[1,"month"],[1,"weekday"],[1,"holiday-info"],[4,"ngIf"],[1,"badges"],[1,"type-badge"],["class","badge paid",4,"ngIf"],["class","badge optional",4,"ngIf"],[1,"holiday-actions"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],[1,"badge","paid"],[1,"badge","optional"],[1,"empty-state"],[1,"fas","fa-calendar-times"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","e.g., Independence Day",3,"ngModelChange","ngModel"],[1,"form-row"],["type","date",3,"ngModelChange","ngModel"],["rows","2","placeholder","Optional description...",3,"ngModelChange","ngModel"],[1,"form-row","checkboxes"],[1,"checkbox-label"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"i",3),l(5," Holiday Calendar"),a(),o(6,"p",4),l(7,"Federal and company holidays"),a()(),o(8,"div",5)(9,"select",6),x("ngModelChange",function(s){return b(i.selectedYear,s)||(i.selectedYear=s),s}),_("ngModelChange",function(){return i.loadHolidays()}),M(10,i9,2,2,"option",7),a(),o(11,"button",8),_("click",function(){return i.openCreateModal()}),v(12,"i",9),l(13," Add Holiday "),a()()(),o(14,"div",10)(15,"button",11),_("click",function(){return i.filterByType("ALL")}),l(16,"All"),a(),o(17,"button",12),_("click",function(){return i.filterByType("FEDERAL")}),l(18,"Federal"),a(),o(19,"button",13),_("click",function(){return i.filterByType("COMPANY")}),l(20,"Company"),a(),o(21,"button",14),_("click",function(){return i.filterByType("OPTIONAL")}),l(22,"Optional"),a()(),M(23,l9,2,1,"div",15)(24,c9,4,1,"div",16)(25,p9,41,10,"div",17),a()),e&2&&(c(9),C("ngModel",i.selectedYear),c(),u("ngForOf",i.years),c(13),u("ngIf",!i.loading),c(),u("ngIf",!i.loading&&i.filteredHolidays.length===0),c(),u("ngIf",i.showModal))},dependencies:[Ae,A,N,Fe,z,G,B,fe,H,V,F,Vt],styles:[".holiday-calendar-container[_ngcontent-%COMP%]{padding:24px}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:teal;margin:0}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:4px 0 0}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px 16px;border:1px solid #ddd;border-radius:8px;font-size:14px}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:teal;outline:none}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:8px}.holiday-calendar-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#066}.holiday-calendar-container[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px}.holiday-calendar-container[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #ddd;background:#fff;border-radius:20px;cursor:pointer;font-size:14px}.holiday-calendar-container[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:#f0f0f0}.holiday-calendar-container[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .tab.federal[_ngcontent-%COMP%]{border-color:#dc3545;color:#dc3545}.holiday-calendar-container[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .tab.company[_ngcontent-%COMP%]{border-color:teal;color:teal}.holiday-calendar-container[_ngcontent-%COMP%]   .filter-tabs[_ngcontent-%COMP%]   .tab.optional[_ngcontent-%COMP%]{border-color:#ffc107;color:#856404}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;border-left:4px solid #008080;display:flex;align-items:center;padding:16px;gap:20px}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-date[_ngcontent-%COMP%]{min-width:70px;text-align:center;padding:10px;background:#f8f9fa;border-radius:8px}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{display:block;font-size:28px;font-weight:700;color:teal;line-height:1}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-date[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{display:block;font-size:14px;color:#666;text-transform:uppercase;margin-top:4px}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-date[_ngcontent-%COMP%]   .weekday[_ngcontent-%COMP%]{display:block;font-size:12px;color:#999;margin-top:2px}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-info[_ngcontent-%COMP%]{flex:1}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;color:#333}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#666}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-info[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]{display:flex;gap:8px}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-info[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .type-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:11px;font-weight:500;color:#fff}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-info[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:11px;font-weight:500}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-info[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge.paid[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-info[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%]   .badge.optional[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:8px;border-radius:4px;color:#666}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0}.holiday-calendar-container[_ngcontent-%COMP%]   .holidays-list[_ngcontent-%COMP%]   .holiday-card[_ngcontent-%COMP%]   .holiday-actions[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{color:#dc3545;background:#fdecea}.holiday-calendar-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px;color:#999;background:#fff;border-radius:12px}.holiday-calendar-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:500px;max-height:90vh;overflow:auto}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #eee}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:18px;color:#666}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:20px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-row.checkboxes[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:14px;color:#333;font-weight:500}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:6px}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:teal;outline:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;cursor:pointer}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px;border-top:1px solid #eee}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 24px;border-radius:8px;cursor:pointer;border:none}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#f0f0f0;color:#333}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#e0e0e0}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#066}"]})};var vt=class n{constructor(t){this.http=t}rulesUrl="/api/payroll/rules";payrollUrl="/api/payroll";getSalaryHeads(){return this.http.get(`${this.rulesUrl}/salary-heads`)}getAllSalaryHeads(){return this.http.get(`${this.rulesUrl}/salary-heads/all`)}getSalaryHead(t){return this.http.get(`${this.rulesUrl}/salary-heads/${t}`)}getSalaryHeadsByType(t){return this.http.get(`${this.rulesUrl}/salary-heads/type/${t}`)}createSalaryHead(t){return this.http.post(`${this.rulesUrl}/salary-heads`,t)}updateSalaryHead(t,e){return this.http.put(`${this.rulesUrl}/salary-heads/${t}`,e)}deleteSalaryHead(t){return this.http.delete(`${this.rulesUrl}/salary-heads/${t}`)}getPayFrequencies(){return this.http.get(`${this.rulesUrl}/pay-frequencies`)}getAllPayFrequencies(){return this.http.get(`${this.rulesUrl}/pay-frequencies/all`)}getPayFrequency(t){return this.http.get(`${this.rulesUrl}/pay-frequencies/${t}`)}createPayFrequency(t){return this.http.post(`${this.rulesUrl}/pay-frequencies`,t)}updatePayFrequency(t,e){return this.http.put(`${this.rulesUrl}/pay-frequencies/${t}`,e)}deletePayFrequency(t){return this.http.delete(`${this.rulesUrl}/pay-frequencies/${t}`)}getOvertimeRules(){return this.http.get(`${this.rulesUrl}/overtime-rules`)}getAllOvertimeRules(){return this.http.get(`${this.rulesUrl}/overtime-rules/all`)}getOvertimeRule(t){return this.http.get(`${this.rulesUrl}/overtime-rules/${t}`)}createOvertimeRule(t){return this.http.post(`${this.rulesUrl}/overtime-rules`,t)}updateOvertimeRule(t,e){return this.http.put(`${this.rulesUrl}/overtime-rules/${t}`,e)}deleteOvertimeRule(t){return this.http.delete(`${this.rulesUrl}/overtime-rules/${t}`)}getTaxRules(){return this.http.get(`${this.rulesUrl}/tax-rules`)}getAllTaxRules(){return this.http.get(`${this.rulesUrl}/tax-rules/all`)}getTaxRule(t){return this.http.get(`${this.rulesUrl}/tax-rules/${t}`)}getTaxRulesByType(t){return this.http.get(`${this.rulesUrl}/tax-rules/type/${t}`)}createTaxRule(t){return this.http.post(`${this.rulesUrl}/tax-rules`,t)}updateTaxRule(t,e){return this.http.put(`${this.rulesUrl}/tax-rules/${t}`,e)}deleteTaxRule(t){return this.http.delete(`${this.rulesUrl}/tax-rules/${t}`)}getStatutoryRules(){return this.http.get(`${this.rulesUrl}/statutory-rules`)}getAllStatutoryRules(){return this.http.get(`${this.rulesUrl}/statutory-rules/all`)}getStatutoryRule(t){return this.http.get(`${this.rulesUrl}/statutory-rules/${t}`)}createStatutoryRule(t){return this.http.post(`${this.rulesUrl}/statutory-rules`,t)}updateStatutoryRule(t,e){return this.http.put(`${this.rulesUrl}/statutory-rules/${t}`,e)}deleteStatutoryRule(t){return this.http.delete(`${this.rulesUrl}/statutory-rules/${t}`)}getTimesheets(){return this.http.get(`${this.payrollUrl}/timesheets`)}getTimesheet(t){return this.http.get(`${this.payrollUrl}/timesheets/${t}`)}getTimesheetsByEmployee(t){return this.http.get(`${this.payrollUrl}/timesheets/employee/${t}`)}getTimesheetsByStatus(t){return this.http.get(`${this.payrollUrl}/timesheets/status/${t}`)}createTimesheet(t){return this.http.post(`${this.payrollUrl}/timesheets`,t)}generateTimesheets(t,e){return this.http.post(`${this.payrollUrl}/timesheets/generate`,{startDate:t,endDate:e})}approveTimesheet(t,e){return this.http.put(`${this.payrollUrl}/timesheets/${t}/approve`,e)}rejectTimesheet(t,e){return this.http.put(`${this.payrollUrl}/timesheets/${t}/reject`,e)}getPayrollRuns(){return this.http.get(`${this.payrollUrl}/runs`)}getPayrollRun(t){return this.http.get(`${this.payrollUrl}/runs/${t}`)}getPayrollRecordsByRun(t){return this.http.get(`${this.payrollUrl}/runs/${t}/records`)}createPayrollRun(t){return this.http.post(`${this.payrollUrl}/runs`,t)}calculatePayroll(t){return this.http.post(`${this.payrollUrl}/runs/${t}/calculate`,{})}processPayroll(t,e){return this.http.post(`${this.payrollUrl}/runs/${t}/process`,e)}approvePayrollRun(t,e){return this.http.put(`${this.payrollUrl}/runs/${t}/approve`,e)}getPayrollRecordsByEmployee(t){return this.http.get(`${this.payrollUrl}/records/employee/${t}`)}getPaystubs(t){return this.http.get(`${this.payrollUrl}/records/employee/${t}/paystubs`)}getEmployeeBenefits(t){return this.http.get(`${this.payrollUrl}/benefits/employee/${t}`)}createEmployeeBenefit(t){return this.http.post(`${this.payrollUrl}/benefits`,t)}updateEmployeeBenefit(t,e){return this.http.put(`${this.payrollUrl}/benefits/${t}`,e)}deleteEmployeeBenefit(t){return this.http.delete(`${this.payrollUrl}/benefits/${t}`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function u9(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td")(6,"span",13),l(7),a()(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td"),l(13),U(14,"number"),a(),o(15,"td")(16,"span",13),l(17),a()(),o(18,"td")(19,"span",14),l(20),a()(),o(21,"td",15)(22,"button",16),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(23,"i",17),a(),o(24,"button",18),_("click",function(){let r=m(e).$implicit,s=d();return g(s.toggleActive(r))}),v(25,"i",19),a(),o(26,"button",20),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteHead(r.id))}),v(27,"i",21),a()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(2),L("earning",e.headType==="EARNING")("deduction",e.headType==="DEDUCTION"),c(),E(" ",e.headType," "),c(2),f(e.category),c(2),f(e.calculationType),c(2),f($(14,25,e.defaultValue,"1.2-2")),c(3),L("yes",e.isTaxable)("no",!e.isTaxable),c(),E(" ",e.isTaxable?"Yes":"No"," "),c(2),L("active",e.isActive)("inactive",!e.isActive),c(),E(" ",e.isActive?"Active":"Inactive"," "),c(4),u("title",e.isActive?"Deactivate":"Activate"),c(),L("fa-toggle-on",e.isActive)("fa-toggle-off",!e.isActive)}}function m9(n,t){n&1&&(o(0,"tr")(1,"td",22),l(2,"No salary heads found"),a()())}function g9(n,t){if(n&1&&(o(0,"option",41),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function f9(n,t){if(n&1&&(o(0,"option",41),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function h9(n,t){if(n&1&&(o(0,"option",41),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function _9(n,t){if(n&1&&(o(0,"option",41),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function v9(n,t){if(n&1){let e=O();o(0,"div",23),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",24),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",25)(3,"h3"),l(4),a(),o(5,"button",26),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",27)(8,"div",28)(9,"div",29)(10,"label"),l(11,"Code *"),a(),o(12,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.code,r)||(s.currentHead.code=r),g(r)}),a()(),o(13,"div",29)(14,"label"),l(15,"Name *"),a(),o(16,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.name,r)||(s.currentHead.name=r),g(r)}),a()()(),o(17,"div",29)(18,"label"),l(19,"Description"),a(),o(20,"textarea",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.description,r)||(s.currentHead.description=r),g(r)}),a()(),o(21,"div",28)(22,"div",29)(23,"label"),l(24,"Head Type *"),a(),o(25,"select",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.headType,r)||(s.currentHead.headType=r),g(r)}),M(26,g9,2,2,"option",33),a()(),o(27,"div",29)(28,"label"),l(29,"Category *"),a(),o(30,"select",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.category,r)||(s.currentHead.category=r),g(r)}),M(31,f9,2,2,"option",33),a()()(),o(32,"div",28)(33,"div",29)(34,"label"),l(35,"Calculation Type"),a(),o(36,"select",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.calculationType,r)||(s.currentHead.calculationType=r),g(r)}),M(37,h9,2,2,"option",33),a()(),o(38,"div",29)(39,"label"),l(40,"Default Value"),a(),o(41,"input",34),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.defaultValue,r)||(s.currentHead.defaultValue=r),g(r)}),a()()(),o(42,"div",28)(43,"div",29)(44,"label"),l(45,"Applicable To"),a(),o(46,"select",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.applicableTo,r)||(s.currentHead.applicableTo=r),g(r)}),M(47,_9,2,2,"option",33),a()(),o(48,"div",29)(49,"label"),l(50,"Display Order"),a(),o(51,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.displayOrder,r)||(s.currentHead.displayOrder=r),g(r)}),a()()(),o(52,"div",36)(53,"div",37)(54,"label")(55,"input",38),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.isTaxable,r)||(s.currentHead.isTaxable=r),g(r)}),a(),l(56," Taxable "),a()(),o(57,"div",37)(58,"label")(59,"input",38),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.isStatutory,r)||(s.currentHead.isStatutory=r),g(r)}),a(),l(60," Statutory "),a()(),o(61,"div",37)(62,"label")(63,"input",38),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.affectsGrossPay,r)||(s.currentHead.affectsGrossPay=r),g(r)}),a(),l(64," Affects Gross Pay "),a()(),o(65,"div",37)(66,"label")(67,"input",38),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentHead.isActive,r)||(s.currentHead.isActive=r),g(r)}),a(),l(68," Active "),a()()()(),o(69,"div",39)(70,"button",40),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(71,"Cancel"),a(),o(72,"button",2),_("click",function(){m(e);let r=d();return g(r.saveHead())}),l(73),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditing?"Edit":"Add"," Salary Head"),c(8),C("ngModel",e.currentHead.code),c(4),C("ngModel",e.currentHead.name),c(4),C("ngModel",e.currentHead.description),c(5),C("ngModel",e.currentHead.headType),c(),u("ngForOf",e.headTypes),c(4),C("ngModel",e.currentHead.category),c(),u("ngForOf",e.categories),c(5),C("ngModel",e.currentHead.calculationType),c(),u("ngForOf",e.calculationTypes),c(4),C("ngModel",e.currentHead.defaultValue),c(5),C("ngModel",e.currentHead.applicableTo),c(),u("ngForOf",e.applicableOptions),c(4),C("ngModel",e.currentHead.displayOrder),c(4),C("ngModel",e.currentHead.isTaxable),c(4),C("ngModel",e.currentHead.isStatutory),c(4),C("ngModel",e.currentHead.affectsGrossPay),c(4),C("ngModel",e.currentHead.isActive),c(6),f(e.isEditing?"Update":"Create")}}var ym=class n{constructor(t){this.payrollService=t}salaryHeads=[];filteredHeads=[];searchTerm="";showModal=!1;isEditing=!1;currentHead=this.getEmptyHead();headTypes=["EARNING","DEDUCTION"];categories=["BASIC","ALLOWANCE","BONUS","REIMBURSEMENT","PRE_TAX_DEDUCTION","POST_TAX_DEDUCTION","TAX","STATUTORY"];calculationTypes=["FIXED","PERCENTAGE","FORMULA"];applicableOptions=["ALL","SALARIED","HOURLY"];ngOnInit(){this.loadSalaryHeads()}loadSalaryHeads(){this.payrollService.getAllSalaryHeads().subscribe({next:t=>{this.salaryHeads=t,this.filterHeads()},error:t=>console.error("Error loading salary heads:",t)})}filterHeads(){let t=this.searchTerm.toLowerCase();this.filteredHeads=this.salaryHeads.filter(e=>e.name.toLowerCase().includes(t)||e.code.toLowerCase().includes(t)||e.headType.toLowerCase().includes(t)||e.category.toLowerCase().includes(t))}getEmptyHead(){return{code:"",name:"",description:"",headType:"EARNING",category:"BASIC",calculationType:"FIXED",defaultValue:0,isTaxable:!0,isStatutory:!1,affectsGrossPay:!0,isActive:!0,displayOrder:0,applicableTo:"ALL"}}openCreateModal(){this.isEditing=!1,this.currentHead=this.getEmptyHead(),this.showModal=!0}openEditModal(t){this.isEditing=!0,this.currentHead=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}saveHead(){this.isEditing&&this.currentHead.id?this.payrollService.updateSalaryHead(this.currentHead.id,this.currentHead).subscribe({next:()=>{this.loadSalaryHeads(),this.closeModal()},error:t=>console.error("Error updating salary head:",t)}):this.payrollService.createSalaryHead(this.currentHead).subscribe({next:()=>{this.loadSalaryHeads(),this.closeModal()},error:t=>console.error("Error creating salary head:",t)})}deleteHead(t){confirm("Are you sure you want to delete this salary head?")&&this.payrollService.deleteSalaryHead(t).subscribe({next:()=>this.loadSalaryHeads(),error:e=>console.error("Error deleting salary head:",e)})}toggleActive(t){let e=me(T({},t),{isActive:!t.isActive});t.id&&this.payrollService.updateSalaryHead(t.id,e).subscribe({next:()=>this.loadSalaryHeads(),error:i=>console.error("Error toggling status:",i)})}static \u0275fac=function(e){return new(e||n)(w(vt))};static \u0275cmp=k({type:n,selectors:[["app-salary-heads"]],decls:37,vars:4,consts:[[1,"salary-heads-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"filters-section"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search salary heads...",3,"ngModelChange","ngModel"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"badge"],[1,"status-badge"],[1,"actions"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],[1,"btn-icon",3,"click","title"],[1,"fas"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],["colspan","9",1,"no-data"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["type","text","required","",3,"ngModelChange","ngModel"],["rows","2",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","step","0.01",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"form-row","checkboxes"],[1,"form-group","checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Salary Head Definition"),a(),o(4,"button",2),_("click",function(){return i.openCreateModal()}),v(5,"i",3),l(6," Add Salary Head "),a()(),o(7,"div",4)(8,"div",5),v(9,"i",6),o(10,"input",7),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),_("ngModelChange",function(){return i.filterHeads()}),a()()(),o(11,"div",8)(12,"table",9)(13,"thead")(14,"tr")(15,"th"),l(16,"Code"),a(),o(17,"th"),l(18,"Name"),a(),o(19,"th"),l(20,"Type"),a(),o(21,"th"),l(22,"Category"),a(),o(23,"th"),l(24,"Calculation"),a(),o(25,"th"),l(26,"Default Value"),a(),o(27,"th"),l(28,"Taxable"),a(),o(29,"th"),l(30,"Status"),a(),o(31,"th"),l(32,"Actions"),a()()(),o(33,"tbody"),M(34,u9,28,28,"tr",10)(35,m9,3,0,"tr",11),a()()()(),M(36,v9,74,19,"div",12)),e&2&&(c(10),C("ngModel",i.searchTerm),c(24),u("ngForOf",i.filteredHeads),c(),u("ngIf",i.filteredHeads.length===0),c(),u("ngIf",i.showModal))},dependencies:[Ae,A,N,Fe,z,G,B,pe,fe,H,V,ve,F,he],styles:[".salary-heads-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.filters-section[_ngcontent-%COMP%]{margin-bottom:20px}.filters-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;max-width:400px}.filters-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#999}.filters-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 10px 10px 40px;border:1px solid #ddd;border-radius:6px;font-size:14px}.filters-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500}.data-table[_ngcontent-%COMP%]   .badge.earning[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .badge.deduction[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.data-table[_ngcontent-%COMP%]   .badge.yes[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .badge.no[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.data-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px}.data-table[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:6px;cursor:pointer;color:#666;transition:color .3s}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:teal}.data-table[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{color:#dc3545}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:600px;max-width:90%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:teal}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#999}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-row.checkboxes[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}"]})};function y9(n,t){if(n&1&&(o(0,"div",12)(1,"span",13),l(2,"Pay Day (Monthly):"),a(),o(3,"span",14),l(4),a()()),n&2){let e=d().$implicit;c(4),f(e.payDayOfMonth)}}function C9(n,t){if(n&1&&(o(0,"div",12)(1,"span",13),l(2,"Pay Day (Weekly):"),a(),o(3,"span",14),l(4),a()()),n&2){let e=d().$implicit;c(4),f(e.payDayOfWeek)}}function x9(n,t){if(n&1){let e=O();o(0,"div",8)(1,"div",9)(2,"h3"),l(3),a(),o(4,"span",10),l(5),a()(),o(6,"div",11)(7,"div",12)(8,"span",13),l(9,"Periods Per Year:"),a(),o(10,"span",14),l(11),a()(),M(12,y9,5,1,"div",15)(13,C9,5,1,"div",15),o(14,"div",16)(15,"span",17),l(16),a(),o(17,"span",17),l(18),a()()(),o(19,"div",18)(20,"button",19),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(21,"i",20),a(),o(22,"button",21),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteFrequency(r.id))}),v(23,"i",22),a()()()}if(n&2){let e=t.$implicit;L("inactive",!e.isActive),c(3),f(e.name),c(2),f(e.code),c(6),f(e.periodsPerYear),c(),u("ngIf",e.payDayOfMonth),c(),u("ngIf",e.payDayOfWeek),c(2),L("default",e.isDefault),c(),f(e.isDefault?"Default":""),c(),L("active",e.isActive)("inactive",!e.isActive),c(),E(" ",e.isActive?"Active":"Inactive"," ")}}function b9(n,t){n&1&&(o(0,"div",23),l(1," No pay frequencies configured "),a())}function M9(n,t){if(n&1){let e=O();o(0,"div",24),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",25),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",26)(3,"h3"),l(4),a(),o(5,"button",27),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",28)(8,"div",29)(9,"div",30)(10,"label"),l(11,"Code *"),a(),o(12,"input",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.code,r)||(s.currentFrequency.code=r),g(r)}),a()(),o(13,"div",30)(14,"label"),l(15,"Name *"),a(),o(16,"input",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.name,r)||(s.currentFrequency.name=r),g(r)}),a()()(),o(17,"div",30)(18,"label"),l(19,"Description"),a(),o(20,"textarea",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.description,r)||(s.currentFrequency.description=r),g(r)}),a()(),o(21,"div",29)(22,"div",30)(23,"label"),l(24,"Periods Per Year *"),a(),o(25,"select",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.periodsPerYear,r)||(s.currentFrequency.periodsPerYear=r),g(r)}),o(26,"option",34),l(27,"52 (Weekly)"),a(),o(28,"option",34),l(29,"26 (Bi-Weekly)"),a(),o(30,"option",34),l(31,"24 (Semi-Monthly)"),a(),o(32,"option",34),l(33,"12 (Monthly)"),a()()(),o(34,"div",30)(35,"label"),l(36,"Pay Day of Month"),a(),o(37,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.payDayOfMonth,r)||(s.currentFrequency.payDayOfMonth=r),g(r)}),a()()(),o(38,"div",29)(39,"div",30)(40,"label"),l(41,"Pay Day of Week (1-7)"),a(),o(42,"input",36),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.payDayOfWeek,r)||(s.currentFrequency.payDayOfWeek=r),g(r)}),a()(),o(43,"div",30)(44,"label"),l(45,"Second Pay Day (Semi-Monthly)"),a(),o(46,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.secondPayDayOfMonth,r)||(s.currentFrequency.secondPayDayOfMonth=r),g(r)}),a()()(),o(47,"div",37)(48,"div",38)(49,"label")(50,"input",39),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.isDefault,r)||(s.currentFrequency.isDefault=r),g(r)}),a(),l(51," Default"),a()(),o(52,"div",38)(53,"label")(54,"input",39),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentFrequency.isActive,r)||(s.currentFrequency.isActive=r),g(r)}),a(),l(55," Active"),a()()()(),o(56,"div",40)(57,"button",41),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(58,"Cancel"),a(),o(59,"button",2),_("click",function(){m(e);let r=d();return g(r.saveFrequency())}),l(60),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditing?"Edit":"Add"," Pay Frequency"),c(8),C("ngModel",e.currentFrequency.code),c(4),C("ngModel",e.currentFrequency.name),c(4),C("ngModel",e.currentFrequency.description),c(5),C("ngModel",e.currentFrequency.periodsPerYear),c(),u("value",52),c(2),u("value",26),c(2),u("value",24),c(2),u("value",12),c(5),C("ngModel",e.currentFrequency.payDayOfMonth),c(5),C("ngModel",e.currentFrequency.payDayOfWeek),c(4),C("ngModel",e.currentFrequency.secondPayDayOfMonth),c(4),C("ngModel",e.currentFrequency.isDefault),c(4),C("ngModel",e.currentFrequency.isActive),c(6),f(e.isEditing?"Update":"Create")}}var Cm=class n{constructor(t){this.payrollService=t}frequencies=[];showModal=!1;isEditing=!1;currentFrequency=this.getEmptyFrequency();ngOnInit(){this.loadFrequencies()}loadFrequencies(){this.payrollService.getAllPayFrequencies().subscribe({next:t=>this.frequencies=t,error:t=>console.error("Error loading pay frequencies:",t)})}getEmptyFrequency(){return{code:"",name:"",description:"",periodsPerYear:12,payDayOfMonth:1,isDefault:!1,isActive:!0}}openCreateModal(){this.isEditing=!1,this.currentFrequency=this.getEmptyFrequency(),this.showModal=!0}openEditModal(t){this.isEditing=!0,this.currentFrequency=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}saveFrequency(){this.isEditing&&this.currentFrequency.id?this.payrollService.updatePayFrequency(this.currentFrequency.id,this.currentFrequency).subscribe({next:()=>{this.loadFrequencies(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.payrollService.createPayFrequency(this.currentFrequency).subscribe({next:()=>{this.loadFrequencies(),this.closeModal()},error:t=>console.error("Error creating:",t)})}deleteFrequency(t){confirm("Delete this pay frequency?")&&this.payrollService.deletePayFrequency(t).subscribe({next:()=>this.loadFrequencies(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(vt))};static \u0275cmp=k({type:n,selectors:[["app-pay-frequencies"]],decls:11,vars:3,consts:[[1,"pay-frequencies-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"cards-grid"],["class","frequency-card",3,"inactive",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"frequency-card"],[1,"card-header"],[1,"code"],[1,"card-body"],[1,"info-row"],[1,"label"],[1,"value"],["class","info-row",4,"ngIf"],[1,"status-row"],[1,"badge"],[1,"card-actions"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],[1,"no-data"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["type","text","required","",3,"ngModelChange","ngModel"],["rows","2",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value"],["type","number","min","1","max","31",3,"ngModelChange","ngModel"],["type","number","min","1","max","7",3,"ngModelChange","ngModel"],[1,"form-row","checkboxes"],[1,"form-group","checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Pay Frequencies"),a(),o(4,"button",2),_("click",function(){return i.openCreateModal()}),v(5,"i",3),l(6," Add Pay Frequency "),a()(),o(7,"div",4),M(8,x9,24,15,"div",5)(9,b9,2,0,"div",6),a()(),M(10,M9,61,15,"div",7)),e&2&&(c(8),u("ngForOf",i.frequencies),c(),u("ngIf",i.frequencies.length===0),c(),u("ngIf",i.showModal))},dependencies:[Ae,A,N,Fe,z,G,B,pe,fe,H,V,ve,Se,rn,F],styles:[".pay-frequencies-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.frequency-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden;transition:transform .3s ease}.frequency-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.frequency-card.inactive[_ngcontent-%COMP%]{opacity:.7}.frequency-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:teal;color:#fff;padding:16px;display:flex;justify-content:space-between;align-items:center}.frequency-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px}.frequency-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .code[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:16px}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#666;font-size:13px}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#333}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .status-row[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:12px}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .status-row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:11px}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .status-row[_ngcontent-%COMP%]   .badge.default[_ngcontent-%COMP%]{background:#ffc107;color:#000}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .status-row[_ngcontent-%COMP%]   .badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.frequency-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .status-row[_ngcontent-%COMP%]   .badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.frequency-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;padding:12px 16px;border-top:1px solid #eee}.frequency-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:6px;cursor:pointer;color:#666}.frequency-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:teal}.frequency-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{color:#dc3545}.no-data[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;padding:40px;color:#999}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:500px;max-width:90%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:teal}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#999}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-row.checkboxes[_ngcontent-%COMP%]{display:flex;gap:24px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}"]})};function S9(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td")(6,"span",9),l(7),a()(),o(8,"td",10),l(9),a(),o(10,"td"),l(11),a(),o(12,"td")(13,"span",11),l(14),a()(),o(15,"td"),l(16),a(),o(17,"td")(18,"span",12),l(19),a()(),o(20,"td",13)(21,"button",14),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(22,"i",15),a(),o(23,"button",16),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteRule(r.id))}),v(24,"i",17),a()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(3),f(e.ruleType),c(2),E("",e.multiplier,"x"),c(2),ne("",e.minHoursThreshold," hrs (",e.thresholdType,")"),c(2),L("yes",e.requiresApproval)("no",!e.requiresApproval),c(),E(" ",e.requiresApproval?"Yes":"No"," "),c(2),f(e.priority),c(2),L("active",e.isActive)("inactive",!e.isActive),c(),E(" ",e.isActive?"Active":"Inactive"," ")}}function P9(n,t){n&1&&(o(0,"tr")(1,"td",18),l(2,"No overtime rules found"),a()())}function E9(n,t){if(n&1&&(o(0,"option",38),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function w9(n,t){if(n&1&&(o(0,"option",38),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function O9(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"div",24)(9,"div",25)(10,"label"),l(11,"Code *"),a(),o(12,"input",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.code,r)||(s.currentRule.code=r),g(r)}),a()(),o(13,"div",25)(14,"label"),l(15,"Name *"),a(),o(16,"input",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.name,r)||(s.currentRule.name=r),g(r)}),a()()(),o(17,"div",25)(18,"label"),l(19,"Description"),a(),o(20,"textarea",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.description,r)||(s.currentRule.description=r),g(r)}),a()(),o(21,"div",24)(22,"div",25)(23,"label"),l(24,"Rule Type *"),a(),o(25,"select",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.ruleType,r)||(s.currentRule.ruleType=r),g(r)}),M(26,E9,2,2,"option",29),a()(),o(27,"div",25)(28,"label"),l(29,"Multiplier *"),a(),o(30,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.multiplier,r)||(s.currentRule.multiplier=r),g(r)}),a()()(),o(31,"div",24)(32,"div",25)(33,"label"),l(34,"Min Hours Threshold"),a(),o(35,"input",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.minHoursThreshold,r)||(s.currentRule.minHoursThreshold=r),g(r)}),a()(),o(36,"div",25)(37,"label"),l(38,"Threshold Type"),a(),o(39,"select",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.thresholdType,r)||(s.currentRule.thresholdType=r),g(r)}),M(40,w9,2,2,"option",29),a()()(),o(41,"div",24)(42,"div",25)(43,"label"),l(44,"Max OT Hours"),a(),o(45,"input",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.maxOvertimeHours,r)||(s.currentRule.maxOvertimeHours=r),g(r)}),a()(),o(46,"div",25)(47,"label"),l(48,"Priority"),a(),o(49,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.priority,r)||(s.currentRule.priority=r),g(r)}),a()()(),o(50,"div",33)(51,"div",34)(52,"label")(53,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.requiresApproval,r)||(s.currentRule.requiresApproval=r),g(r)}),a(),l(54," Requires Approval"),a()(),o(55,"div",34)(56,"label")(57,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.isActive,r)||(s.currentRule.isActive=r),g(r)}),a(),l(58," Active"),a()()()(),o(59,"div",36)(60,"button",37),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(61,"Cancel"),a(),o(62,"button",2),_("click",function(){m(e);let r=d();return g(r.saveRule())}),l(63),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditing?"Edit":"Add"," Overtime Rule"),c(8),C("ngModel",e.currentRule.code),c(4),C("ngModel",e.currentRule.name),c(4),C("ngModel",e.currentRule.description),c(5),C("ngModel",e.currentRule.ruleType),c(),u("ngForOf",e.ruleTypes),c(4),C("ngModel",e.currentRule.multiplier),c(5),C("ngModel",e.currentRule.minHoursThreshold),c(4),C("ngModel",e.currentRule.thresholdType),c(),u("ngForOf",e.thresholdTypes),c(5),C("ngModel",e.currentRule.maxOvertimeHours),c(4),C("ngModel",e.currentRule.priority),c(4),C("ngModel",e.currentRule.requiresApproval),c(4),C("ngModel",e.currentRule.isActive),c(6),f(e.isEditing?"Update":"Create")}}var xm=class n{constructor(t){this.payrollService=t}rules=[];showModal=!1;isEditing=!1;currentRule=this.getEmptyRule();ruleTypes=["WEEKDAY_OT","WEEKEND_OT","HOLIDAY_OT","NIGHT_SHIFT"];thresholdTypes=["DAILY","WEEKLY"];ngOnInit(){this.loadRules()}loadRules(){this.payrollService.getAllOvertimeRules().subscribe({next:t=>this.rules=t,error:t=>console.error("Error loading overtime rules:",t)})}getEmptyRule(){return{code:"",name:"",description:"",ruleType:"WEEKDAY_OT",multiplier:1.5,minHoursThreshold:8,thresholdType:"DAILY",requiresApproval:!0,isActive:!0,priority:1}}openCreateModal(){this.isEditing=!1,this.currentRule=this.getEmptyRule(),this.showModal=!0}openEditModal(t){this.isEditing=!0,this.currentRule=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}saveRule(){this.isEditing&&this.currentRule.id?this.payrollService.updateOvertimeRule(this.currentRule.id,this.currentRule).subscribe({next:()=>{this.loadRules(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.payrollService.createOvertimeRule(this.currentRule).subscribe({next:()=>{this.loadRules(),this.closeModal()},error:t=>console.error("Error creating:",t)})}deleteRule(t){confirm("Delete this overtime rule?")&&this.payrollService.deleteOvertimeRule(t).subscribe({next:()=>this.loadRules(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(vt))};static \u0275cmp=k({type:n,selectors:[["app-overtime-rules"]],decls:33,vars:3,consts:[[1,"overtime-rules-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"badge","type"],[1,"multiplier"],[1,"badge"],[1,"status-badge"],[1,"actions"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],["colspan","9",1,"no-data"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["type","text","required","",3,"ngModelChange","ngModel"],["rows","2",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","step","0.5","min","1",3,"ngModelChange","ngModel"],["type","number","step","0.5",3,"ngModelChange","ngModel"],["type","number","min","1",3,"ngModelChange","ngModel"],[1,"form-row","checkboxes"],[1,"form-group","checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Overtime Rules"),a(),o(4,"button",2),_("click",function(){return i.openCreateModal()}),v(5,"i",3),l(6," Add Overtime Rule "),a()(),o(7,"div",4)(8,"table",5)(9,"thead")(10,"tr")(11,"th"),l(12,"Code"),a(),o(13,"th"),l(14,"Name"),a(),o(15,"th"),l(16,"Type"),a(),o(17,"th"),l(18,"Multiplier"),a(),o(19,"th"),l(20,"Threshold"),a(),o(21,"th"),l(22,"Approval Required"),a(),o(23,"th"),l(24,"Priority"),a(),o(25,"th"),l(26,"Status"),a(),o(27,"th"),l(28,"Actions"),a()()(),o(29,"tbody"),M(30,S9,25,17,"tr",6)(31,P9,3,0,"tr",7),a()()()(),M(32,O9,64,15,"div",8)),e&2&&(c(30),u("ngForOf",i.rules),c(),u("ngIf",i.rules.length===0),c(),u("ngIf",i.showModal))},dependencies:[Ae,A,N,Fe,z,G,B,pe,fe,H,V,ve,Se,F],styles:[".overtime-rules-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-weight:600;color:teal}.data-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px}.data-table[_ngcontent-%COMP%]   .badge.type[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.data-table[_ngcontent-%COMP%]   .badge.yes[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .badge.no[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.data-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px}.data-table[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:6px;cursor:pointer;color:#666}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:teal}.data-table[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{color:#dc3545}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:500px;max-width:90%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:teal}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#999}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-row.checkboxes[_ngcontent-%COMP%]{display:flex;gap:24px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}"]})};function I9(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td")(6,"span",9),l(7),a()(),o(8,"td",10),l(9),a(),o(10,"td"),l(11),U(12,"number"),a(),o(13,"td"),v(14,"i",11),a(),o(15,"td"),v(16,"i",11),a(),o(17,"td"),l(18),a(),o(19,"td")(20,"span",12),l(21),a()(),o(22,"td",13)(23,"button",14),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(24,"i",15),a(),o(25,"button",16),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteRule(r.id))}),v(26,"i",17),a()()()}if(n&2){let e=t.$implicit,i=d();c(2),f(e.code),c(2),f(e.name),c(2),u("ngClass",i.getTypeBadgeClass(e.taxType)),c(),f(e.taxType),c(2),E("",e.rate,"%"),c(2),f(e.maxIncome?$(12,28,e.maxIncome,"1.0-0"):"-"),c(3),L("fa-check",e.employeeContribution)("fa-times",!e.employeeContribution)("check",e.employeeContribution)("cross",!e.employeeContribution),c(2),L("fa-check",e.employerContribution)("fa-times",!e.employerContribution)("check",e.employerContribution)("cross",!e.employerContribution),c(2),f(e.taxYear),c(2),L("active",e.isActive)("inactive",!e.isActive),c(),E(" ",e.isActive?"Active":"Inactive"," ")}}function D9(n,t){n&1&&(o(0,"tr")(1,"td",18),l(2,"No tax rules found"),a()())}function T9(n,t){if(n&1&&(o(0,"option",38),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function k9(n,t){if(n&1&&(o(0,"option",38),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function R9(n,t){if(n&1){let e=O();o(0,"div",19),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",20),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",21)(3,"h3"),l(4),a(),o(5,"button",22),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",23)(8,"div",24)(9,"div",25)(10,"label"),l(11,"Code *"),a(),o(12,"input",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.code,r)||(s.currentRule.code=r),g(r)}),a()(),o(13,"div",25)(14,"label"),l(15,"Name *"),a(),o(16,"input",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.name,r)||(s.currentRule.name=r),g(r)}),a()()(),o(17,"div",25)(18,"label"),l(19,"Description"),a(),o(20,"textarea",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.description,r)||(s.currentRule.description=r),g(r)}),a()(),o(21,"div",24)(22,"div",25)(23,"label"),l(24,"Tax Type *"),a(),o(25,"select",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.taxType,r)||(s.currentRule.taxType=r),g(r)}),M(26,T9,2,2,"option",29),a()(),o(27,"div",25)(28,"label"),l(29,"Rate (%) *"),a(),o(30,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.rate,r)||(s.currentRule.rate=r),g(r)}),a()()(),o(31,"div",24)(32,"div",25)(33,"label"),l(34,"State Code"),a(),o(35,"input",31),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.stateCode,r)||(s.currentRule.stateCode=r),g(r)}),a()(),o(36,"div",25)(37,"label"),l(38,"Max Income"),a(),o(39,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.maxIncome,r)||(s.currentRule.maxIncome=r),g(r)}),a()()(),o(40,"div",24)(41,"div",25)(42,"label"),l(43,"Calculation Basis"),a(),o(44,"select",28),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.calculationBasis,r)||(s.currentRule.calculationBasis=r),g(r)}),M(45,k9,2,2,"option",29),a()(),o(46,"div",25)(47,"label"),l(48,"Tax Year"),a(),o(49,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.taxYear,r)||(s.currentRule.taxYear=r),g(r)}),a()()(),o(50,"div",33)(51,"div",34)(52,"label")(53,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.employeeContribution,r)||(s.currentRule.employeeContribution=r),g(r)}),a(),l(54," Employee Contribution"),a()(),o(55,"div",34)(56,"label")(57,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.employerContribution,r)||(s.currentRule.employerContribution=r),g(r)}),a(),l(58," Employer Contribution"),a()(),o(59,"div",34)(60,"label")(61,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.isActive,r)||(s.currentRule.isActive=r),g(r)}),a(),l(62," Active"),a()()()(),o(63,"div",36)(64,"button",37),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(65,"Cancel"),a(),o(66,"button",2),_("click",function(){m(e);let r=d();return g(r.saveRule())}),l(67),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditing?"Edit":"Add"," Tax Rule"),c(8),C("ngModel",e.currentRule.code),c(4),C("ngModel",e.currentRule.name),c(4),C("ngModel",e.currentRule.description),c(5),C("ngModel",e.currentRule.taxType),c(),u("ngForOf",e.taxTypes),c(4),C("ngModel",e.currentRule.rate),c(5),C("ngModel",e.currentRule.stateCode),c(4),C("ngModel",e.currentRule.maxIncome),c(5),C("ngModel",e.currentRule.calculationBasis),c(),u("ngForOf",e.calculationBasis),c(4),C("ngModel",e.currentRule.taxYear),c(4),C("ngModel",e.currentRule.employeeContribution),c(4),C("ngModel",e.currentRule.employerContribution),c(4),C("ngModel",e.currentRule.isActive),c(6),f(e.isEditing?"Update":"Create")}}var bm=class n{constructor(t){this.payrollService=t}rules=[];showModal=!1;isEditing=!1;currentRule=this.getEmptyRule();taxTypes=["FEDERAL","STATE","LOCAL","SOCIAL_SECURITY","MEDICARE","DISABILITY"];calculationBasis=["GROSS","TAXABLE_INCOME","FIXED"];ngOnInit(){this.loadRules()}loadRules(){this.payrollService.getAllTaxRules().subscribe({next:t=>this.rules=t,error:t=>console.error("Error loading tax rules:",t)})}getEmptyRule(){return{code:"",name:"",description:"",taxType:"FEDERAL",rate:0,calculationBasis:"TAXABLE_INCOME",employeeContribution:!0,employerContribution:!1,taxYear:new Date().getFullYear(),isActive:!0}}openCreateModal(){this.isEditing=!1,this.currentRule=this.getEmptyRule(),this.showModal=!0}openEditModal(t){this.isEditing=!0,this.currentRule=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}saveRule(){this.isEditing&&this.currentRule.id?this.payrollService.updateTaxRule(this.currentRule.id,this.currentRule).subscribe({next:()=>{this.loadRules(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.payrollService.createTaxRule(this.currentRule).subscribe({next:()=>{this.loadRules(),this.closeModal()},error:t=>console.error("Error creating:",t)})}deleteRule(t){confirm("Delete this tax rule?")&&this.payrollService.deleteTaxRule(t).subscribe({next:()=>this.loadRules(),error:e=>console.error("Error deleting:",e)})}getTypeBadgeClass(t){switch(t){case"FEDERAL":return"federal";case"STATE":return"state";case"LOCAL":return"local";case"SOCIAL_SECURITY":return"ss";case"MEDICARE":return"medicare";default:return"other"}}static \u0275fac=function(e){return new(e||n)(w(vt))};static \u0275cmp=k({type:n,selectors:[["app-tax-rules"]],decls:35,vars:3,consts:[[1,"tax-rules-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"badge",3,"ngClass"],[1,"rate"],[1,"fas"],[1,"status-badge"],[1,"actions"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],["colspan","10",1,"no-data"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["type","text","required","",3,"ngModelChange","ngModel"],["rows","2",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","step","0.01",3,"ngModelChange","ngModel"],["type","text",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"form-row","checkboxes"],[1,"form-group","checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Taxation Rules"),a(),o(4,"button",2),_("click",function(){return i.openCreateModal()}),v(5,"i",3),l(6," Add Tax Rule "),a()(),o(7,"div",4)(8,"table",5)(9,"thead")(10,"tr")(11,"th"),l(12,"Code"),a(),o(13,"th"),l(14,"Name"),a(),o(15,"th"),l(16,"Type"),a(),o(17,"th"),l(18,"Rate (%)"),a(),o(19,"th"),l(20,"Max Income"),a(),o(21,"th"),l(22,"Employee"),a(),o(23,"th"),l(24,"Employer"),a(),o(25,"th"),l(26,"Tax Year"),a(),o(27,"th"),l(28,"Status"),a(),o(29,"th"),l(30,"Actions"),a()()(),o(31,"tbody"),M(32,I9,27,31,"tr",6)(33,D9,3,0,"tr",7),a()()()(),M(34,R9,68,16,"div",8)),e&2&&(c(32),u("ngForOf",i.rules),c(),u("ngIf",i.rules.length===0),c(),u("ngIf",i.showModal))},dependencies:[Ae,ae,A,N,Fe,z,G,B,pe,fe,H,V,ve,F,he],styles:[".tax-rules-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{font-weight:600;color:teal}.data-table[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{color:#28a745}.data-table[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{color:#dc3545}.data-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:11px}.data-table[_ngcontent-%COMP%]   .badge.federal[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.data-table[_ngcontent-%COMP%]   .badge.state[_ngcontent-%COMP%]{background:#f3e5f5;color:#7b1fa2}.data-table[_ngcontent-%COMP%]   .badge.local[_ngcontent-%COMP%]{background:#fff3e0;color:#e65100}.data-table[_ngcontent-%COMP%]   .badge.ss[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.data-table[_ngcontent-%COMP%]   .badge.medicare[_ngcontent-%COMP%]{background:#fce4ec;color:#c2185b}.data-table[_ngcontent-%COMP%]   .badge.other[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.data-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px}.data-table[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:6px;cursor:pointer;color:#666}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:teal}.data-table[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{color:#dc3545}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:550px;max-width:90%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:teal}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#999}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-row.checkboxes[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}"]})};function A9(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td")(6,"span",9),l(7),a()(),o(8,"td"),l(9),a(),o(10,"td"),l(11),a(),o(12,"td"),l(13),U(14,"number"),a(),o(15,"td"),l(16),a(),o(17,"td")(18,"span",10),l(19),a()(),o(20,"td")(21,"span",11),l(22),a()(),o(23,"td",12)(24,"button",13),_("click",function(){let r=m(e).$implicit,s=d();return g(s.openEditModal(r))}),v(25,"i",14),a(),o(26,"button",15),_("click",function(){let r=m(e).$implicit,s=d();return g(s.deleteRule(r.id))}),v(27,"i",16),a()()()}if(n&2){let e=t.$implicit;c(2),f(e.code),c(2),f(e.name),c(3),f(e.ruleType),c(2),E("",e.employeeRate,"%"),c(2),E("",e.employerRate,"%"),c(2),f(e.wageBase?$(14,17,e.wageBase,"1.0-0"):"-"),c(3),f(e.applicableYear),c(2),L("yes",e.isMandatory)("no",!e.isMandatory),c(),E(" ",e.isMandatory?"Yes":"No"," "),c(2),L("active",e.isActive)("inactive",!e.isActive),c(),E(" ",e.isActive?"Active":"Inactive"," ")}}function N9(n,t){n&1&&(o(0,"tr")(1,"td",17),l(2,"No statutory rules found"),a()())}function F9(n,t){if(n&1&&(o(0,"option",36),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function V9(n,t){if(n&1&&(o(0,"option",36),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function L9(n,t){if(n&1){let e=O();o(0,"div",18),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",19),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",20)(3,"h3"),l(4),a(),o(5,"button",21),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(6,"\xD7"),a()(),o(7,"div",22)(8,"div",23)(9,"div",24)(10,"label"),l(11,"Code *"),a(),o(12,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.code,r)||(s.currentRule.code=r),g(r)}),a()(),o(13,"div",24)(14,"label"),l(15,"Name *"),a(),o(16,"input",25),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.name,r)||(s.currentRule.name=r),g(r)}),a()()(),o(17,"div",24)(18,"label"),l(19,"Description"),a(),o(20,"textarea",26),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.description,r)||(s.currentRule.description=r),g(r)}),a()(),o(21,"div",23)(22,"div",24)(23,"label"),l(24,"Rule Type *"),a(),o(25,"select",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.ruleType,r)||(s.currentRule.ruleType=r),g(r)}),M(26,F9,2,2,"option",28),a()(),o(27,"div",24)(28,"label"),l(29,"Frequency"),a(),o(30,"select",27),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.frequency,r)||(s.currentRule.frequency=r),g(r)}),M(31,V9,2,2,"option",28),a()()(),o(32,"div",23)(33,"div",24)(34,"label"),l(35,"Employee Rate (%)"),a(),o(36,"input",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.employeeRate,r)||(s.currentRule.employeeRate=r),g(r)}),a()(),o(37,"div",24)(38,"label"),l(39,"Employer Rate (%)"),a(),o(40,"input",29),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.employerRate,r)||(s.currentRule.employerRate=r),g(r)}),a()()(),o(41,"div",23)(42,"div",24)(43,"label"),l(44,"Wage Base"),a(),o(45,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.wageBase,r)||(s.currentRule.wageBase=r),g(r)}),a()(),o(46,"div",24)(47,"label"),l(48,"Applicable Year"),a(),o(49,"input",30),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.applicableYear,r)||(s.currentRule.applicableYear=r),g(r)}),a()()(),o(50,"div",31)(51,"div",32)(52,"label")(53,"input",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.isMandatory,r)||(s.currentRule.isMandatory=r),g(r)}),a(),l(54," Mandatory"),a()(),o(55,"div",32)(56,"label")(57,"input",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.currentRule.isActive,r)||(s.currentRule.isActive=r),g(r)}),a(),l(58," Active"),a()()()(),o(59,"div",34)(60,"button",35),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(61,"Cancel"),a(),o(62,"button",2),_("click",function(){m(e);let r=d();return g(r.saveRule())}),l(63),a()()()()}if(n&2){let e=d();c(4),E("",e.isEditing?"Edit":"Add"," Statutory Rule"),c(8),C("ngModel",e.currentRule.code),c(4),C("ngModel",e.currentRule.name),c(4),C("ngModel",e.currentRule.description),c(5),C("ngModel",e.currentRule.ruleType),c(),u("ngForOf",e.ruleTypes),c(4),C("ngModel",e.currentRule.frequency),c(),u("ngForOf",e.frequencies),c(5),C("ngModel",e.currentRule.employeeRate),c(4),C("ngModel",e.currentRule.employerRate),c(5),C("ngModel",e.currentRule.wageBase),c(4),C("ngModel",e.currentRule.applicableYear),c(4),C("ngModel",e.currentRule.isMandatory),c(4),C("ngModel",e.currentRule.isActive),c(6),f(e.isEditing?"Update":"Create")}}var Mm=class n{constructor(t){this.payrollService=t}rules=[];showModal=!1;isEditing=!1;currentRule=this.getEmptyRule();ruleTypes=["SOCIAL_SECURITY","MEDICARE","FUTA","SUTA","WORKERS_COMP","DISABILITY"];frequencies=["PER_PAYCHECK","ANNUAL"];ngOnInit(){this.loadRules()}loadRules(){this.payrollService.getAllStatutoryRules().subscribe({next:t=>this.rules=t,error:t=>console.error("Error loading statutory rules:",t)})}getEmptyRule(){return{code:"",name:"",description:"",ruleType:"SOCIAL_SECURITY",employeeRate:6.2,employerRate:6.2,frequency:"PER_PAYCHECK",applicableYear:new Date().getFullYear(),isMandatory:!0,isActive:!0}}openCreateModal(){this.isEditing=!1,this.currentRule=this.getEmptyRule(),this.showModal=!0}openEditModal(t){this.isEditing=!0,this.currentRule=T({},t),this.showModal=!0}closeModal(){this.showModal=!1}saveRule(){this.isEditing&&this.currentRule.id?this.payrollService.updateStatutoryRule(this.currentRule.id,this.currentRule).subscribe({next:()=>{this.loadRules(),this.closeModal()},error:t=>console.error("Error updating:",t)}):this.payrollService.createStatutoryRule(this.currentRule).subscribe({next:()=>{this.loadRules(),this.closeModal()},error:t=>console.error("Error creating:",t)})}deleteRule(t){confirm("Delete this statutory rule?")&&this.payrollService.deleteStatutoryRule(t).subscribe({next:()=>this.loadRules(),error:e=>console.error("Error deleting:",e)})}static \u0275fac=function(e){return new(e||n)(w(vt))};static \u0275cmp=k({type:n,selectors:[["app-statutory-rules"]],decls:35,vars:3,consts:[[1,"statutory-rules-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"badge","type"],[1,"badge"],[1,"status-badge"],[1,"actions"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Delete",1,"btn-icon","delete",3,"click"],[1,"fas","fa-trash"],["colspan","10",1,"no-data"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["type","text","required","",3,"ngModelChange","ngModel"],["rows","2",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","step","0.01",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"form-row","checkboxes"],[1,"form-group","checkbox"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[3,"value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Statutory Rules"),a(),o(4,"button",2),_("click",function(){return i.openCreateModal()}),v(5,"i",3),l(6," Add Statutory Rule "),a()(),o(7,"div",4)(8,"table",5)(9,"thead")(10,"tr")(11,"th"),l(12,"Code"),a(),o(13,"th"),l(14,"Name"),a(),o(15,"th"),l(16,"Type"),a(),o(17,"th"),l(18,"Employee Rate"),a(),o(19,"th"),l(20,"Employer Rate"),a(),o(21,"th"),l(22,"Wage Base"),a(),o(23,"th"),l(24,"Year"),a(),o(25,"th"),l(26,"Mandatory"),a(),o(27,"th"),l(28,"Status"),a(),o(29,"th"),l(30,"Actions"),a()()(),o(31,"tbody"),M(32,A9,28,20,"tr",6)(33,N9,3,0,"tr",7),a()()()(),M(34,L9,64,15,"div",8)),e&2&&(c(32),u("ngForOf",i.rules),c(),u("ngIf",i.rules.length===0),c(),u("ngIf",i.showModal))},dependencies:[Ae,A,N,Fe,z,G,B,pe,fe,H,V,ve,F,he],styles:[".statutory-rules-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:11px}.data-table[_ngcontent-%COMP%]   .badge.type[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.data-table[_ngcontent-%COMP%]   .badge.yes[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .badge.no[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.data-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:12px}.data-table[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:6px;cursor:pointer;color:#666}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:teal}.data-table[_ngcontent-%COMP%]   .btn-icon.delete[_ngcontent-%COMP%]:hover{color:#dc3545}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:550px;max-width:90%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:teal}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#999}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-row.checkboxes[_ngcontent-%COMP%]{display:flex;gap:24px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.modal-body[_ngcontent-%COMP%]   .form-group.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}"]})};function U9(n,t){if(n&1&&(o(0,"option",21),l(1),a()),n&2){let e=t.$implicit;u("value",e),c(),f(e)}}function B9(n,t){if(n&1){let e=O();Qr(0),o(1,"button",26),_("click",function(){m(e);let r=d().$implicit,s=d();return g(s.approveTimesheet(r.id))}),v(2,"i",27),a(),o(3,"button",28),_("click",function(){m(e);let r=d().$implicit,s=d();return g(s.rejectTimesheet(r.id))}),v(4,"i",29),a(),Jr()}}function W9(n,t){n&1&&(o(0,"span",30),l(1,"-"),a())}function j9(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),U(7,"date"),U(8,"date"),a(),o(9,"td"),l(10),U(11,"number"),a(),o(12,"td"),l(13),U(14,"number"),a(),o(15,"td",22),l(16),U(17,"number"),a(),o(18,"td"),l(19),a(),o(20,"td")(21,"span",23),l(22),a()(),o(23,"td",24),M(24,B9,5,0,"ng-container",19)(25,W9,2,0,"span",25),a()()),n&2){let e=t.$implicit,i=d();c(2),f(e.timesheetNumber),c(2),f(i.getEmployeeName(e)),c(2),ne("",$(7,12,e.periodStartDate,"MMM d")," - ",$(8,15,e.periodEndDate,"MMM d, yyyy")),c(4),f($(11,18,e.totalRegularHours,"1.1-1")),c(3),f($(14,21,e.totalOvertimeHours,"1.1-1")),c(3),f($(17,24,e.totalHours,"1.1-1")),c(3),f(e.presentDays),c(2),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status),c(2),u("ngIf",e.status==="PENDING_APPROVAL"),c(),u("ngIf",e.status!=="PENDING_APPROVAL")}}function q9(n,t){n&1&&(o(0,"tr")(1,"td",31),l(2,"No timesheets found"),a()())}function H9(n,t){n&1&&v(0,"i",45)}function z9(n,t){if(n&1){let e=O();o(0,"div",32),_("click",function(){m(e);let r=d();return g(r.closeGenerateModal())}),o(1,"div",33),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",34)(3,"h3"),l(4,"Generate Timesheets from Attendance"),a(),o(5,"button",35),_("click",function(){m(e);let r=d();return g(r.closeGenerateModal())}),l(6,"\xD7"),a()(),o(7,"div",36)(8,"p",37),l(9," This will generate timesheets for all active employees based on their approved attendance records for the selected period. "),a(),o(10,"div",38)(11,"div",39)(12,"label"),l(13,"Period Start Date *"),a(),o(14,"input",40),x("ngModelChange",function(r){m(e);let s=d();return b(s.generateStartDate,r)||(s.generateStartDate=r),g(r)}),a()(),o(15,"div",39)(16,"label"),l(17,"Period End Date *"),a(),o(18,"input",40),x("ngModelChange",function(r){m(e);let s=d();return b(s.generateEndDate,r)||(s.generateEndDate=r),g(r)}),a()()()(),o(19,"div",41)(20,"button",42),_("click",function(){m(e);let r=d();return g(r.closeGenerateModal())}),l(21,"Cancel"),a(),o(22,"button",43),_("click",function(){m(e);let r=d();return g(r.generateTimesheets())}),M(23,H9,1,0,"i",44),l(24),a()()()()}if(n&2){let e=d();c(14),C("ngModel",e.generateStartDate),c(4),C("ngModel",e.generateEndDate),c(2),u("disabled",e.generating),c(2),u("disabled",e.generating),c(),u("ngIf",e.generating),c(),E(" ",e.generating?"Generating...":"Generate Timesheets"," ")}}var Sm=class n{constructor(t){this.payrollService=t}timesheets=[];filteredTimesheets=[];payFrequencies=[];filterStatus="ALL";startDate="";endDate="";showGenerateModal=!1;generateStartDate="";generateEndDate="";generating=!1;statusOptions=["ALL","DRAFT","PENDING_APPROVAL","APPROVED","REJECTED"];ngOnInit(){this.setDefaultDates(),this.loadTimesheets(),this.loadPayFrequencies()}setDefaultDates(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0);this.startDate=e.toISOString().split("T")[0],this.endDate=i.toISOString().split("T")[0],this.generateStartDate=this.startDate,this.generateEndDate=this.endDate}loadTimesheets(){this.payrollService.getTimesheets().subscribe({next:t=>{this.timesheets=t,this.filterTimesheets()},error:t=>console.error("Error loading timesheets:",t)})}loadPayFrequencies(){this.payrollService.getPayFrequencies().subscribe({next:t=>this.payFrequencies=t,error:t=>console.error("Error loading pay frequencies:",t)})}filterTimesheets(){this.filteredTimesheets=this.timesheets.filter(t=>this.filterStatus==="ALL"||t.status===this.filterStatus)}openGenerateModal(){this.showGenerateModal=!0}closeGenerateModal(){this.showGenerateModal=!1}generateTimesheets(){!this.generateStartDate||!this.generateEndDate||(this.generating=!0,this.payrollService.generateTimesheets(this.generateStartDate,this.generateEndDate).subscribe({next:t=>{this.generating=!1,this.closeGenerateModal(),this.loadTimesheets(),alert(`Generated ${t.generated} timesheets`)},error:t=>{this.generating=!1,console.error("Error generating timesheets:",t),alert("Error generating timesheets")}}))}approveTimesheet(t){this.payrollService.approveTimesheet(t,{}).subscribe({next:()=>this.loadTimesheets(),error:e=>console.error("Error approving timesheet:",e)})}rejectTimesheet(t){let e=prompt("Enter rejection reason:");e!==null&&this.payrollService.rejectTimesheet(t,{approverRemarks:e}).subscribe({next:()=>this.loadTimesheets(),error:i=>console.error("Error rejecting timesheet:",i)})}getStatusClass(t){switch(t){case"APPROVED":return"approved";case"REJECTED":return"rejected";case"PENDING_APPROVAL":return"pending";default:return"draft"}}getEmployeeName(t){return t.employee&&`${t.employee.firstName||""} ${t.employee.lastName||""}`.trim()||"Unknown"}getCountByStatus(t){return this.timesheets.filter(e=>e.status===t).length}static \u0275fac=function(e){return new(e||n)(w(vt))};static \u0275cmp=k({type:n,selectors:[["app-timesheet-approval"]],decls:68,vars:11,consts:[[1,"timesheet-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-sync"],[1,"filters-section"],[1,"filter-group"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","date",3,"ngModelChange","ngModel"],[1,"summary-cards"],[1,"summary-card"],[1,"count"],[1,"label"],[1,"summary-card","pending"],[1,"summary-card","approved"],[1,"summary-card","rejected"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"total"],[1,"status-badge",3,"ngClass"],[1,"actions"],["class","no-action",4,"ngIf"],["title","Approve",1,"btn","btn-sm","btn-success",3,"click"],[1,"fas","fa-check"],["title","Reject",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times"],[1,"no-action"],["colspan","9",1,"no-data"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"info-text"],[1,"form-row"],[1,"form-group"],["type","date","required","",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Attendance Approval & Timesheets"),a(),o(4,"button",2),_("click",function(){return i.openGenerateModal()}),v(5,"i",3),l(6," Generate Timesheets "),a()(),o(7,"div",4)(8,"div",5)(9,"label"),l(10,"Status"),a(),o(11,"select",6),x("ngModelChange",function(s){return b(i.filterStatus,s)||(i.filterStatus=s),s}),_("change",function(){return i.filterTimesheets()}),M(12,U9,2,2,"option",7),a()(),o(13,"div",5)(14,"label"),l(15,"Period Start"),a(),o(16,"input",8),x("ngModelChange",function(s){return b(i.startDate,s)||(i.startDate=s),s}),a()(),o(17,"div",5)(18,"label"),l(19,"Period End"),a(),o(20,"input",8),x("ngModelChange",function(s){return b(i.endDate,s)||(i.endDate=s),s}),a()()(),o(21,"div",9)(22,"div",10)(23,"span",11),l(24),a(),o(25,"span",12),l(26,"Draft"),a()(),o(27,"div",13)(28,"span",11),l(29),a(),o(30,"span",12),l(31,"Pending Approval"),a()(),o(32,"div",14)(33,"span",11),l(34),a(),o(35,"span",12),l(36,"Approved"),a()(),o(37,"div",15)(38,"span",11),l(39),a(),o(40,"span",12),l(41,"Rejected"),a()()(),o(42,"div",16)(43,"table",17)(44,"thead")(45,"tr")(46,"th"),l(47,"Timesheet #"),a(),o(48,"th"),l(49,"Employee"),a(),o(50,"th"),l(51,"Period"),a(),o(52,"th"),l(53,"Regular Hours"),a(),o(54,"th"),l(55,"OT Hours"),a(),o(56,"th"),l(57,"Total Hours"),a(),o(58,"th"),l(59,"Present Days"),a(),o(60,"th"),l(61,"Status"),a(),o(62,"th"),l(63,"Actions"),a()()(),o(64,"tbody"),M(65,j9,26,27,"tr",18)(66,q9,3,0,"tr",19),a()()()(),M(67,z9,25,6,"div",20)),e&2&&(c(11),C("ngModel",i.filterStatus),c(),u("ngForOf",i.statusOptions),c(4),C("ngModel",i.startDate),c(4),C("ngModel",i.endDate),c(4),f(i.getCountByStatus("DRAFT")),c(5),f(i.getCountByStatus("PENDING_APPROVAL")),c(5),f(i.getCountByStatus("APPROVED")),c(5),f(i.getCountByStatus("REJECTED")),c(26),u("ngForOf",i.filteredTimesheets),c(),u("ngIf",i.filteredTimesheets.length===0),c(),u("ngIf",i.showGenerateModal))},dependencies:[Ae,ae,A,N,Fe,z,G,B,H,V,ve,F,he,Vt],styles:[".timesheet-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.btn.btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn.btn-success[_ngcontent-%COMP%]:hover{background:#218838}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 10px;font-size:12px}.filters-section[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:20px;flex-wrap:wrap}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:4px}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:150px}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px;margin-bottom:20px}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a;text-align:center;border-left:4px solid #6c757d}.summary-cards[_ngcontent-%COMP%]   .summary-card.pending[_ngcontent-%COMP%]{border-left-color:#ffc107}.summary-cards[_ngcontent-%COMP%]   .summary-card.approved[_ngcontent-%COMP%]{border-left-color:#28a745}.summary-cards[_ngcontent-%COMP%]   .summary-card.rejected[_ngcontent-%COMP%]{border-left-color:#dc3545}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;font-size:28px;font-weight:700;color:#333}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#666}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-weight:600;color:teal}.data-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:4px;font-size:11px;font-weight:500}.data-table[_ngcontent-%COMP%]   .status-badge.approved[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .status-badge.rejected[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.data-table[_ngcontent-%COMP%]   .status-badge.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.data-table[_ngcontent-%COMP%]   .status-badge.draft[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .no-action[_ngcontent-%COMP%]{color:#999}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:500px;max-width:90%}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:teal}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#999}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{margin-bottom:20px;color:#666;line-height:1.5}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}"]})};var G9=n=>["/app/payroll/process",n];function $9(n,t){if(n&1){let e=O();o(0,"button",19),_("click",function(){m(e);let r=d().$implicit,s=d();return g(s.calculatePayroll(r))}),v(1,"i",20),l(2," Calculate "),a()}if(n&2){let e=d(2);u("disabled",e.calculating)}}function Q9(n,t){if(n&1&&(o(0,"a",21),v(1,"i",22),l(2," Review "),a()),n&2){let e=d().$implicit;u("routerLink",Sf(1,G9,e.id))}}function J9(n,t){n&1&&(o(0,"span",23),v(1,"i",24),l(2," Completed "),a())}function K9(n,t){if(n&1&&(o(0,"tr")(1,"td",11),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),U(7,"date"),U(8,"date"),a(),o(9,"td"),l(10),U(11,"date"),a(),o(12,"td"),l(13),a(),o(14,"td",12),l(15),U(16,"number"),a(),o(17,"td",13),l(18),U(19,"number"),a(),o(20,"td")(21,"span",14),l(22),a()(),o(23,"td",15),M(24,$9,3,1,"button",16)(25,Q9,3,3,"a",17)(26,J9,3,0,"span",18),a()()),n&2){let e=t.$implicit,i=d();c(2),f(e.payrollRunNumber),c(2),f(e.description),c(2),ne("",$(7,13,e.periodStartDate,"MMM d")," - ",$(8,16,e.periodEndDate,"MMM d, yyyy")),c(4),f($(11,19,e.payDate,"MMM d, yyyy")),c(3),f(e.totalEmployees||0),c(2),E("$",$(16,22,e.totalGrossPay,"1.2-2")),c(3),E("$",$(19,25,e.totalNetPay,"1.2-2")),c(3),u("ngClass",i.getStatusClass(e.status)),c(),f(e.status),c(2),u("ngIf",i.canCalculate(e)),c(),u("ngIf",e.status==="CALCULATED"),c(),u("ngIf",e.status==="PROCESSED")}}function Y9(n,t){n&1&&(o(0,"tr")(1,"td",25),l(2,"No payroll runs found. Create one to get started."),a()())}function Z9(n,t){if(n&1){let e=O();o(0,"div",26),_("click",function(){m(e);let r=d();return g(r.closeCreateModal())}),o(1,"div",27),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",28)(3,"h3"),l(4,"Create Payroll Run"),a(),o(5,"button",29),_("click",function(){m(e);let r=d();return g(r.closeCreateModal())}),l(6,"\xD7"),a()(),o(7,"div",30)(8,"div",31)(9,"label"),l(10,"Payroll Run Number *"),a(),o(11,"input",32),x("ngModelChange",function(r){m(e);let s=d();return b(s.newRun.payrollRunNumber,r)||(s.newRun.payrollRunNumber=r),g(r)}),a()(),o(12,"div",31)(13,"label"),l(14,"Description"),a(),o(15,"input",33),x("ngModelChange",function(r){m(e);let s=d();return b(s.newRun.description,r)||(s.newRun.description=r),g(r)}),a()(),o(16,"div",34)(17,"div",31)(18,"label"),l(19,"Period Start Date *"),a(),o(20,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.newRun.periodStartDate,r)||(s.newRun.periodStartDate=r),g(r)}),a()(),o(21,"div",31)(22,"label"),l(23,"Period End Date *"),a(),o(24,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.newRun.periodEndDate,r)||(s.newRun.periodEndDate=r),g(r)}),a()()(),o(25,"div",31)(26,"label"),l(27,"Pay Date *"),a(),o(28,"input",35),x("ngModelChange",function(r){m(e);let s=d();return b(s.newRun.payDate,r)||(s.newRun.payDate=r),g(r)}),a()()(),o(29,"div",36)(30,"button",37),_("click",function(){m(e);let r=d();return g(r.closeCreateModal())}),l(31,"Cancel"),a(),o(32,"button",38),_("click",function(){m(e);let r=d();return g(r.createPayrollRun())}),l(33),a()()()()}if(n&2){let e=d();c(11),C("ngModel",e.newRun.payrollRunNumber),c(4),C("ngModel",e.newRun.description),c(5),C("ngModel",e.newRun.periodStartDate),c(4),C("ngModel",e.newRun.periodEndDate),c(4),C("ngModel",e.newRun.payDate),c(2),u("disabled",e.creating),c(2),u("disabled",e.creating),c(),E(" ",e.creating?"Creating...":"Create Payroll Run"," ")}}var Pm=class n{constructor(t){this.payrollService=t}payrollRuns=[];payFrequencies=[];showCreateModal=!1;newRun={};creating=!1;calculating=!1;ngOnInit(){this.loadPayrollRuns(),this.loadPayFrequencies(),this.resetNewRun()}resetNewRun(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0);this.newRun={payrollRunNumber:`PR-${Date.now()}`,description:`Payroll for ${t.toLocaleString("default",{month:"long"})} ${t.getFullYear()}`,periodStartDate:e.toISOString().split("T")[0],periodEndDate:i.toISOString().split("T")[0],payDate:i.toISOString().split("T")[0]}}loadPayrollRuns(){this.payrollService.getPayrollRuns().subscribe({next:t=>this.payrollRuns=t,error:t=>console.error("Error loading payroll runs:",t)})}loadPayFrequencies(){this.payrollService.getPayFrequencies().subscribe({next:t=>this.payFrequencies=t,error:t=>console.error("Error loading frequencies:",t)})}openCreateModal(){this.resetNewRun(),this.showCreateModal=!0}closeCreateModal(){this.showCreateModal=!1}createPayrollRun(){this.creating=!0,this.payrollService.createPayrollRun(this.newRun).subscribe({next:()=>{this.creating=!1,this.closeCreateModal(),this.loadPayrollRuns()},error:t=>{this.creating=!1,console.error("Error creating payroll run:",t)}})}calculatePayroll(t){t.id&&(this.calculating=!0,this.payrollService.calculatePayroll(t.id).subscribe({next:()=>{this.calculating=!1,this.loadPayrollRuns(),alert("Payroll calculated successfully!")},error:e=>{this.calculating=!1,console.error("Error calculating payroll:",e),alert("Error calculating payroll")}}))}getStatusClass(t){switch(t){case"CALCULATED":return"calculated";case"APPROVED":return"approved";case"PROCESSED":return"processed";case"CALCULATING":return"calculating";default:return"draft"}}canCalculate(t){return t.status==="DRAFT"}static \u0275fac=function(e){return new(e||n)(w(vt))};static \u0275cmp=k({type:n,selectors:[["app-payroll-calculation"]],decls:45,vars:3,consts:[[1,"payroll-calc-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"info-card"],[1,"fas","fa-info-circle"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"run-number"],[1,"amount"],[1,"amount","net"],[1,"status-badge",3,"ngClass"],[1,"actions"],["class","btn btn-sm btn-primary","title","Calculate Payroll",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-secondary","title","Review & Process",3,"routerLink",4,"ngIf"],["class","processed-label",4,"ngIf"],["title","Calculate Payroll",1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"fas","fa-calculator"],["title","Review & Process",1,"btn","btn-sm","btn-secondary",3,"routerLink"],[1,"fas","fa-arrow-right"],[1,"processed-label"],[1,"fas","fa-check-circle"],["colspan","9",1,"no-data"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],["type","text","required","",3,"ngModelChange","ngModel"],["type","text",3,"ngModelChange","ngModel"],[1,"form-row"],["type","date","required","",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Payroll Calculation"),a(),o(4,"button",2),_("click",function(){return i.openCreateModal()}),v(5,"i",3),l(6," Create Payroll Run "),a()(),o(7,"div",4),v(8,"i",5),o(9,"div")(10,"strong"),l(11,"Payroll Calculation Process:"),a(),o(12,"ol")(13,"li"),l(14,"Create a new payroll run with the pay period dates"),a(),o(15,"li"),l(16,'Click "Calculate" to auto-compute payroll from approved timesheets'),a(),o(17,"li"),l(18,"Review the calculated amounts before processing"),a()()()(),o(19,"div",6)(20,"table",7)(21,"thead")(22,"tr")(23,"th"),l(24,"Payroll Run #"),a(),o(25,"th"),l(26,"Description"),a(),o(27,"th"),l(28,"Period"),a(),o(29,"th"),l(30,"Pay Date"),a(),o(31,"th"),l(32,"Employees"),a(),o(33,"th"),l(34,"Gross Pay"),a(),o(35,"th"),l(36,"Net Pay"),a(),o(37,"th"),l(38,"Status"),a(),o(39,"th"),l(40,"Actions"),a()()(),o(41,"tbody"),M(42,K9,27,28,"tr",8)(43,Y9,3,0,"tr",9),a()()()(),M(44,Z9,34,8,"div",10)),e&2&&(c(42),u("ngForOf",i.payrollRuns),c(),u("ngIf",i.payrollRuns.length===0),c(),u("ngIf",i.showCreateModal))},dependencies:[Ae,ae,A,N,Fe,B,V,ve,F,mr,Z,he,Vt],styles:[".payroll-calc-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease;text-decoration:none}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.info-card[_ngcontent-%COMP%]{display:flex;gap:16px;background:#e3f2fd;padding:16px 20px;border-radius:8px;margin-bottom:20px;align-items:flex-start}.info-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#1565c0}.info-card[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:8px 0 0;padding-left:20px;color:#333}.info-card[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   .run-number[_ngcontent-%COMP%]{font-weight:600;color:teal}.data-table[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-family:monospace}.data-table[_ngcontent-%COMP%]   .amount.net[_ngcontent-%COMP%]{font-weight:700;color:#28a745}.data-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:4px;font-size:11px;font-weight:500}.data-table[_ngcontent-%COMP%]   .status-badge.draft[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.data-table[_ngcontent-%COMP%]   .status-badge.calculating[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.data-table[_ngcontent-%COMP%]   .status-badge.calculated[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .status-badge.approved[_ngcontent-%COMP%]{background:#cce5ff;color:#004085}.data-table[_ngcontent-%COMP%]   .status-badge.processed[_ngcontent-%COMP%]{background:#28a745;color:#fff}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .processed-label[_ngcontent-%COMP%]{color:#28a745;font-size:12px;display:flex;align-items:center;gap:4px}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:500px;max-width:90%}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:teal}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#999}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}"]})};function X9(n,t){if(n&1&&(o(0,"span",16),l(1),a()),n&2){let e=d(2);c(),f(e.payrollRun.payrollRunNumber)}}function eB(n,t){if(n&1){let e=O();o(0,"button",17),_("click",function(){m(e);let r=d(2);return g(r.processPayroll())}),v(1,"i",18),l(2),a()}if(n&2){let e=d(2);u("disabled",e.processing||(e.payrollRun==null?null:e.payrollRun.status)==="PROCESSED"),c(2),E(" ",e.processing?"Processing...":"Process Payroll"," ")}}function tB(n,t){n&1&&(o(0,"span",19),v(1,"i",18),l(2," Already Processed "),a())}function nB(n,t){if(n&1&&(o(0,"div",20)(1,"div",21)(2,"span",22),l(3,"Pay Period"),a(),o(4,"span",23),l(5),U(6,"date"),U(7,"date"),a()(),o(8,"div",21)(9,"span",22),l(10,"Pay Date"),a(),o(11,"span",23),l(12),U(13,"date"),a()(),o(14,"div",21)(15,"span",22),l(16,"Employees"),a(),o(17,"span",23),l(18),a()(),o(19,"div",21)(20,"span",22),l(21,"Gross Pay"),a(),o(22,"span",24),l(23),U(24,"number"),a()(),o(25,"div",21)(26,"span",22),l(27,"Deductions"),a(),o(28,"span",25),l(29),U(30,"number"),a()(),o(31,"div",26)(32,"span",22),l(33,"Net Pay"),a(),o(34,"span",27),l(35),U(36,"number"),a()()()),n&2){let e=d(2);c(5),ne("",$(6,7,e.payrollRun.periodStartDate,"MMM d")," - ",$(7,10,e.payrollRun.periodEndDate,"MMM d, yyyy")),c(7),f($(13,13,e.payrollRun.payDate,"MMM d, yyyy")),c(6),f(e.payrollRun.totalEmployees),c(5),E("$",$(24,16,e.payrollRun.totalGrossPay,"1.2-2")),c(6),E("$",$(30,19,e.payrollRun.totalDeductions,"1.2-2")),c(6),E("$",$(36,22,e.payrollRun.totalNetPay,"1.2-2"))}}function iB(n,t){if(n&1){let e=O();o(0,"tr")(1,"td",28),l(2),a(),o(3,"td")(4,"span",29),l(5),a()(),o(6,"td"),l(7),U(8,"number"),a(),o(9,"td"),l(10),U(11,"number"),a(),o(12,"td",30),l(13),U(14,"number"),a(),o(15,"td",31),l(16),U(17,"number"),a(),o(18,"td",30),l(19),U(20,"number"),a(),o(21,"td",32),l(22),U(23,"number"),a(),o(24,"td")(25,"button",33),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewRecordDetails(r))}),v(26,"i",34),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(2),f(i.getEmployeeName(e)),c(3),f(e.employeeType),c(2),f($(8,8,e.regularHours,"1.1-1")),c(3),f($(11,11,e.overtimeHours,"1.1-1")),c(3),E("$",$(14,14,e.grossPay,"1.2-2")),c(3),E("$",$(17,17,e.totalDeductions,"1.2-2")),c(3),E("$",$(20,20,e.totalTaxes,"1.2-2")),c(3),E("$",$(23,23,e.netPay,"1.2-2"))}}function rB(n,t){n&1&&(o(0,"tr")(1,"td",35),l(2,"No payroll records found"),a()())}function oB(n,t){if(n&1){let e=O();o(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),_("click",function(){m(e);let r=d();return g(r.goBack())}),v(4,"i",7),a(),o(5,"div")(6,"h2"),l(7,"Process Payroll"),a(),M(8,X9,2,1,"span",8),a()(),M(9,eB,3,2,"button",9)(10,tB,3,0,"span",10),a(),M(11,nB,37,25,"div",11),o(12,"div",12)(13,"h3"),l(14,"Employee Payroll Details"),a(),o(15,"table",13)(16,"thead")(17,"tr")(18,"th"),l(19,"Employee"),a(),o(20,"th"),l(21,"Type"),a(),o(22,"th"),l(23,"Regular Hrs"),a(),o(24,"th"),l(25,"OT Hrs"),a(),o(26,"th"),l(27,"Gross Pay"),a(),o(28,"th"),l(29,"Deductions"),a(),o(30,"th"),l(31,"Taxes"),a(),o(32,"th"),l(33,"Net Pay"),a(),o(34,"th"),l(35,"Actions"),a()()(),o(36,"tbody"),M(37,iB,27,26,"tr",14)(38,rB,3,0,"tr",15),a()()()()}if(n&2){let e=d();c(8),u("ngIf",e.payrollRun),c(),u("ngIf",(e.payrollRun==null?null:e.payrollRun.status)!=="PROCESSED"),c(),u("ngIf",(e.payrollRun==null?null:e.payrollRun.status)==="PROCESSED"),c(),u("ngIf",e.payrollRun),c(26),u("ngForOf",e.payrollRecords),c(),u("ngIf",e.payrollRecords.length===0)}}function aB(n,t){n&1&&(o(0,"div",36),v(1,"i",37),l(2,` Loading payroll data...
`),a())}function sB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"Overtime Pay"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.overtimePay,"1.2-2"))}}function lB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"Bonuses"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.bonuses,"1.2-2"))}}function cB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"Health Insurance"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.healthInsurance,"1.2-2"))}}function dB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"Dental Insurance"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.dentalInsurance,"1.2-2"))}}function pB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"Vision Insurance"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.visionInsurance,"1.2-2"))}}function uB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"401(k)"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.retirement401k,"1.2-2"))}}function mB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"HSA"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.hsaContribution,"1.2-2"))}}function gB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"Federal Tax"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.federalTax,"1.2-2"))}}function fB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"State Tax"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.stateTax,"1.2-2"))}}function hB(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"Social Security"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.socialSecurityTax,"1.2-2"))}}function _B(n,t){if(n&1&&(o(0,"div",45)(1,"span"),l(2,"Medicare"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedRecord.medicareTax,"1.2-2"))}}function vB(n,t){if(n&1&&(o(0,"div",43)(1,"div",44)(2,"h4"),l(3,"Earnings"),a(),o(4,"div",45)(5,"span"),l(6,"Base Pay"),a(),o(7,"span"),l(8),U(9,"number"),a()(),M(10,sB,6,4,"div",46)(11,lB,6,4,"div",46),o(12,"div",47)(13,"span"),l(14,"Gross Pay"),a(),o(15,"span"),l(16),U(17,"number"),a()()(),o(18,"div",44)(19,"h4"),l(20,"Pre-Tax Deductions"),a(),M(21,cB,6,4,"div",46)(22,dB,6,4,"div",46)(23,pB,6,4,"div",46)(24,uB,6,4,"div",46)(25,mB,6,4,"div",46),a(),o(26,"div",44)(27,"h4"),l(28,"Taxes"),a(),M(29,gB,6,4,"div",46)(30,fB,6,4,"div",46)(31,hB,6,4,"div",46)(32,_B,6,4,"div",46),o(33,"div",47)(34,"span"),l(35,"Total Taxes"),a(),o(36,"span"),l(37),U(38,"number"),a()()(),o(39,"div",48)(40,"div",49)(41,"span"),l(42,"Net Pay"),a(),o(43,"span"),l(44),U(45,"number"),a()()()()),n&2){let e=d(2);c(8),E("$",$(9,15,e.selectedRecord.basePay,"1.2-2")),c(2),u("ngIf",e.selectedRecord.overtimePay),c(),u("ngIf",e.selectedRecord.bonuses),c(5),E("$",$(17,18,e.selectedRecord.grossPay,"1.2-2")),c(5),u("ngIf",e.selectedRecord.healthInsurance),c(),u("ngIf",e.selectedRecord.dentalInsurance),c(),u("ngIf",e.selectedRecord.visionInsurance),c(),u("ngIf",e.selectedRecord.retirement401k),c(),u("ngIf",e.selectedRecord.hsaContribution),c(4),u("ngIf",e.selectedRecord.federalTax),c(),u("ngIf",e.selectedRecord.stateTax),c(),u("ngIf",e.selectedRecord.socialSecurityTax),c(),u("ngIf",e.selectedRecord.medicareTax),c(5),E("$",$(38,21,e.selectedRecord.totalTaxes,"1.2-2")),c(7),E("$",$(45,24,e.selectedRecord.netPay,"1.2-2"))}}function yB(n,t){if(n&1){let e=O();o(0,"div",38),_("click",function(){m(e);let r=d();return g(r.closeDetailModal())}),o(1,"div",39),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",40)(3,"h3"),l(4),a(),o(5,"button",41),_("click",function(){m(e);let r=d();return g(r.closeDetailModal())}),l(6,"\xD7"),a()(),M(7,vB,46,27,"div",42),a()()}if(n&2){let e=d();c(4),E("Pay Stub - ",e.getEmployeeName(e.selectedRecord)),c(3),u("ngIf",e.selectedRecord)}}var Em=class n{constructor(t,e,i){this.route=t;this.router=e;this.payrollService=i}payrollRun=null;payrollRecords=[];loading=!0;processing=!1;selectedRecord=null;showDetailModal=!1;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadPayrollRun(parseInt(t))}loadPayrollRun(t){this.loading=!0,this.payrollService.getPayrollRun(t).subscribe({next:e=>{this.payrollRun=e,this.loadPayrollRecords(t)},error:e=>{console.error("Error loading payroll run:",e),this.loading=!1}})}loadPayrollRecords(t){this.payrollService.getPayrollRecordsByRun(t).subscribe({next:e=>{this.payrollRecords=e,this.loading=!1},error:e=>{console.error("Error loading records:",e),this.loading=!1}})}processPayroll(){this.payrollRun?.id&&confirm("Are you sure you want to process this payroll? This action cannot be undone.")&&(this.processing=!0,this.payrollService.processPayroll(this.payrollRun.id,{}).subscribe({next:()=>{this.processing=!1,alert("Payroll processed successfully!"),this.router.navigate(["/app/payroll/calculation"])},error:t=>{this.processing=!1,console.error("Error processing payroll:",t),alert("Error processing payroll")}}))}viewRecordDetails(t){this.selectedRecord=t,this.showDetailModal=!0}closeDetailModal(){this.showDetailModal=!1,this.selectedRecord=null}getEmployeeName(t){return t.employee&&`${t.employee.firstName||""} ${t.employee.lastName||""}`.trim()||"Unknown"}goBack(){this.router.navigate(["/app/payroll/calculation"])}static \u0275fac=function(e){return new(e||n)(w(Ge),w(ue),w(vt))};static \u0275cmp=k({type:n,selectors:[["app-process-payroll"]],decls:3,vars:3,consts:[["class","process-payroll-container",4,"ngIf"],["class","loading",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"process-payroll-container"],[1,"page-header"],[1,"header-left"],[1,"btn","btn-back",3,"click"],[1,"fas","fa-arrow-left"],["class","run-info",4,"ngIf"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],["class","processed-badge",4,"ngIf"],["class","summary-section",4,"ngIf"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"run-info"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-check-circle"],[1,"processed-badge"],[1,"summary-section"],[1,"summary-card"],[1,"label"],[1,"value"],[1,"value","amount"],[1,"value","amount","deduction"],[1,"summary-card","highlight"],[1,"value","amount","net"],[1,"employee-name"],[1,"badge","type"],[1,"amount"],[1,"amount","deduction"],[1,"amount","net"],["title","View Details",1,"btn-icon",3,"click"],[1,"fas","fa-eye"],["colspan","9",1,"no-data"],[1,"loading"],[1,"fas","fa-spinner","fa-spin"],[1,"modal-overlay",3,"click"],[1,"modal","detail-modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"paystub-section"],[1,"detail-row"],["class","detail-row",4,"ngIf"],[1,"detail-row","total"],[1,"paystub-section","net-section"],[1,"detail-row","net-pay"]],template:function(e,i){e&1&&M(0,oB,39,6,"div",0)(1,aB,3,0,"div",1)(2,yB,8,2,"div",2),e&2&&(u("ngIf",!i.loading),c(),u("ngIf",i.loading),c(),u("ngIf",i.showDetailModal))},dependencies:[Ae,A,N,Fe,mr,he,Vt],styles:[".process-payroll-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.page-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .run-info[_ngcontent-%COMP%]{font-size:14px;color:#666}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.btn.btn-back[_ngcontent-%COMP%]{background:#e9ecef;color:#333;padding:8px 12px}.btn.btn-back[_ngcontent-%COMP%]:hover{background:#dee2e6}.btn.btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn.btn-success[_ngcontent-%COMP%]:hover{background:#218838}.processed-badge[_ngcontent-%COMP%]{background:#28a745;color:#fff;padding:10px 20px;border-radius:6px;display:flex;align-items:center;gap:8px}.summary-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px;margin-bottom:24px}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:4px}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;font-size:18px;font-weight:600;color:#333}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .value.amount[_ngcontent-%COMP%]{font-family:monospace}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .value.deduction[_ngcontent-%COMP%]{color:#dc3545}.summary-section[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .value.net[_ngcontent-%COMP%]{color:#28a745}.summary-section[_ngcontent-%COMP%]   .summary-card.highlight[_ngcontent-%COMP%]{background:teal}.summary-section[_ngcontent-%COMP%]   .summary-card.highlight[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#fffc}.summary-section[_ngcontent-%COMP%]   .summary-card.highlight[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#fff}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;padding:20px}.table-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;color:#333}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   .employee-name[_ngcontent-%COMP%]{font-weight:500}.data-table[_ngcontent-%COMP%]   .badge.type[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:11px;background:#e3f2fd;color:#1565c0}.data-table[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-family:monospace}.data-table[_ngcontent-%COMP%]   .amount.deduction[_ngcontent-%COMP%]{color:#dc3545}.data-table[_ngcontent-%COMP%]   .amount.net[_ngcontent-%COMP%]{font-weight:700;color:#28a745}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:6px;cursor:pointer;color:#666}.data-table[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:teal}.data-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px;color:#666;font-size:16px}.loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal.detail-modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:500px;max-width:90%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee;background:teal;color:#fff;border-radius:8px 8px 0 0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#fff}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:.8}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #eee}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:teal;font-size:14px;text-transform:uppercase}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:6px 0;font-size:14px}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]   .detail-row.total[_ngcontent-%COMP%]{font-weight:600;border-top:1px solid #eee;margin-top:8px;padding-top:12px}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]   .detail-row.net-pay[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#28a745}.modal-body[_ngcontent-%COMP%]   .paystub-section.net-section[_ngcontent-%COMP%]{background:#f8f9fa;margin:0 -20px -20px;padding:20px;border-radius:0 0 8px 8px}"]})};function CB(n,t){if(n&1){let e=O();o(0,"div",14),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewPaystub(r))}),o(1,"div",15)(2,"span",16),l(3),a(),o(4,"span",17),l(5),a()(),o(6,"div",18)(7,"div",19)(8,"span",20),l(9,"Gross Pay"),a(),o(10,"span",21),l(11),U(12,"number"),a()(),o(13,"div",19)(14,"span",20),l(15,"Deductions"),a(),o(16,"span",22),l(17),U(18,"number"),a()(),o(19,"div",23)(20,"span",20),l(21,"Net Pay"),a(),o(22,"span",21),l(23),U(24,"number"),a()()(),o(25,"div",24)(26,"button",25),_("click",function(r){let s=m(e).$implicit;return d(2).downloadPaystub(s),g(r.stopPropagation())}),v(27,"i",26),l(28," Download "),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),f(i.getPayPeriod(e)),c(2),E("Paid: ",i.getPayDate(e)),c(6),E("$",$(12,5,e.grossPay,"1.2-2")),c(6),E("-$",$(18,8,e.totalDeductions,"1.2-2")),c(6),E("$",$(24,11,e.netPay,"1.2-2"))}}function xB(n,t){n&1&&(o(0,"div",27),v(1,"i",28),o(2,"p"),l(3,"No pay stubs available"),a()())}function bB(n,t){if(n&1&&(o(0,"div",9)(1,"div",10)(2,"h3"),l(3,"My Pay Stubs"),a()(),o(4,"div",11),M(5,CB,29,14,"div",12)(6,xB,4,0,"div",13),a()()),n&2){let e=d();c(5),u("ngForOf",e.paystubs),c(),u("ngIf",e.paystubs.length===0)}}function MB(n,t){if(n&1&&(o(0,"div",38)(1,"div",39),l(2),a(),o(3,"div",40)(4,"span",41),l(5),a(),o(6,"span",42),l(7),a()(),o(8,"div",43),v(9,"div",44),a()()),n&2){let e=t.$implicit,i=d(2);c(2),f((e.leaveType==null?null:e.leaveType.name)||"Leave"),c(3),f(e.availableBalance||0),c(2),E("/ ",i.getTotalEntitlement(e)," days"),c(2),de("width",i.getBalancePercentage(e),"%")}}function SB(n,t){n&1&&(o(0,"div",45)(1,"p"),l(2,"No leave balances available"),a()())}function PB(n,t){if(n&1&&(o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),U(5,"date"),a(),o(6,"td"),l(7),U(8,"date"),a(),o(9,"td"),l(10),a(),o(11,"td")(12,"span",46),l(13),a()(),o(14,"td"),l(15),a()()),n&2){let e=t.$implicit,i=d(2);c(2),f((e.leaveType==null?null:e.leaveType.name)||"N/A"),c(2),f($(5,7,e.startDate,"MMM d, yyyy")),c(3),f($(8,10,e.endDate,"MMM d, yyyy")),c(3),f(i.getLeaveDays(e)),c(2),u("ngClass",i.getStatusClass(e.status||"PENDING")),c(),f(e.status),c(2),f(e.reason)}}function EB(n,t){n&1&&(o(0,"tr")(1,"td",47),l(2,"No leave requests found"),a()())}function wB(n,t){if(n&1){let e=O();o(0,"div",9)(1,"div",10)(2,"h3"),l(3,"Leave Balance"),a()(),o(4,"div",29),M(5,MB,10,5,"div",30)(6,SB,3,0,"div",31),a(),o(7,"div",10)(8,"h3"),l(9,"Leave Requests"),a(),o(10,"button",32),_("click",function(){m(e);let r=d();return g(r.openLeaveRequestModal())}),v(11,"i",33),l(12," Request Leave "),a()(),o(13,"div",34)(14,"table",35)(15,"thead")(16,"tr")(17,"th"),l(18,"Leave Type"),a(),o(19,"th"),l(20,"Start Date"),a(),o(21,"th"),l(22,"End Date"),a(),o(23,"th"),l(24,"Days"),a(),o(25,"th"),l(26,"Status"),a(),o(27,"th"),l(28,"Reason"),a()()(),o(29,"tbody"),M(30,PB,16,13,"tr",36)(31,EB,3,0,"tr",37),a()()()()}if(n&2){let e=d();c(5),u("ngForOf",e.leaveBalances),c(),u("ngIf",e.leaveBalances.length===0),c(24),u("ngForOf",e.leaveRequests),c(),u("ngIf",e.leaveRequests.length===0)}}function OB(n,t){n&1&&(o(0,"div",9)(1,"div",10)(2,"h3"),l(3,"Attendance Summary"),a()(),o(4,"div",48),v(5,"i",49),o(6,"p"),l(7,"View your attendance records in the Time & Attendance module."),a()()())}function IB(n,t){if(n&1&&(o(0,"div",59)(1,"span"),l(2,"Overtime Pay"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedPaystub.overtimePay,"1.2-2"))}}function DB(n,t){if(n&1&&(o(0,"div",59)(1,"span"),l(2,"Health Insurance"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedPaystub.healthInsurance,"1.2-2"))}}function TB(n,t){if(n&1&&(o(0,"div",59)(1,"span"),l(2,"401(k)"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedPaystub.retirement401k,"1.2-2"))}}function kB(n,t){if(n&1&&(o(0,"div",59)(1,"span"),l(2,"Federal Tax"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedPaystub.federalTax,"1.2-2"))}}function RB(n,t){if(n&1&&(o(0,"div",59)(1,"span"),l(2,"State Tax"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedPaystub.stateTax,"1.2-2"))}}function AB(n,t){if(n&1&&(o(0,"div",59)(1,"span"),l(2,"Social Security"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedPaystub.socialSecurityTax,"1.2-2"))}}function NB(n,t){if(n&1&&(o(0,"div",59)(1,"span"),l(2,"Medicare"),a(),o(3,"span"),l(4),U(5,"number"),a()()),n&2){let e=d(3);c(4),E("$",$(5,1,e.selectedPaystub.medicareTax,"1.2-2"))}}function FB(n,t){if(n&1&&(o(0,"div",57)(1,"div",58)(2,"h4"),l(3,"Pay Period"),a(),o(4,"p"),l(5),a()(),o(6,"div",58)(7,"h4"),l(8,"Earnings"),a(),o(9,"div",59)(10,"span"),l(11,"Base Pay"),a(),o(12,"span"),l(13),U(14,"number"),a()(),M(15,IB,6,4,"div",60),o(16,"div",61)(17,"span"),l(18,"Gross Pay"),a(),o(19,"span"),l(20),U(21,"number"),a()()(),o(22,"div",58)(23,"h4"),l(24,"Deductions"),a(),M(25,DB,6,4,"div",60)(26,TB,6,4,"div",60)(27,kB,6,4,"div",60)(28,RB,6,4,"div",60)(29,AB,6,4,"div",60)(30,NB,6,4,"div",60),o(31,"div",61)(32,"span"),l(33,"Total Deductions"),a(),o(34,"span"),l(35),U(36,"number"),a()()(),o(37,"div",62)(38,"div",63)(39,"span"),l(40,"Net Pay"),a(),o(41,"span"),l(42),U(43,"number"),a()()()()),n&2){let e=d(2);c(5),ne("",e.getPayPeriod(e.selectedPaystub)," | Paid: ",e.getPayDate(e.selectedPaystub)),c(8),E("$",$(14,13,e.selectedPaystub.basePay,"1.2-2")),c(2),u("ngIf",e.selectedPaystub.overtimePay),c(5),E("$",$(21,16,e.selectedPaystub.grossPay,"1.2-2")),c(5),u("ngIf",e.selectedPaystub.healthInsurance),c(),u("ngIf",e.selectedPaystub.retirement401k),c(),u("ngIf",e.selectedPaystub.federalTax),c(),u("ngIf",e.selectedPaystub.stateTax),c(),u("ngIf",e.selectedPaystub.socialSecurityTax),c(),u("ngIf",e.selectedPaystub.medicareTax),c(5),E("$",$(36,19,e.selectedPaystub.totalDeductions,"1.2-2")),c(7),E("$",$(43,22,e.selectedPaystub.netPay,"1.2-2"))}}function VB(n,t){if(n&1){let e=O();o(0,"div",50),_("click",function(){m(e);let r=d();return g(r.closePaystubModal())}),o(1,"div",51),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",52)(3,"h3"),l(4,"Pay Stub Details"),a(),o(5,"button",53),_("click",function(){m(e);let r=d();return g(r.closePaystubModal())}),l(6,"\xD7"),a()(),M(7,FB,44,25,"div",54),o(8,"div",55)(9,"button",56),_("click",function(){m(e);let r=d();return g(r.closePaystubModal())}),l(10,"Close"),a(),o(11,"button",32),_("click",function(){m(e);let r=d();return g(r.downloadPaystub(r.selectedPaystub))}),v(12,"i",26),l(13," Download PDF "),a()()()()}if(n&2){let e=d();c(7),u("ngIf",e.selectedPaystub)}}function LB(n,t){if(n&1&&(o(0,"option",71),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),f(e.name)}}function UB(n,t){if(n&1){let e=O();o(0,"div",50),_("click",function(){m(e);let r=d();return g(r.closeLeaveRequestModal())}),o(1,"div",64),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",52)(3,"h3"),l(4,"Submit Leave Request"),a(),o(5,"button",53),_("click",function(){m(e);let r=d();return g(r.closeLeaveRequestModal())}),l(6,"\xD7"),a()(),o(7,"div",57)(8,"div",65)(9,"label"),l(10,"Leave Type *"),a(),o(11,"select",66),x("ngModelChange",function(r){m(e);let s=d();return b(s.newLeaveRequest.leaveTypeId,r)||(s.newLeaveRequest.leaveTypeId=r),g(r)}),M(12,LB,2,2,"option",67),a()(),o(13,"div",68)(14,"div",65)(15,"label"),l(16,"Start Date *"),a(),o(17,"input",69),x("ngModelChange",function(r){m(e);let s=d();return b(s.newLeaveRequest.startDate,r)||(s.newLeaveRequest.startDate=r),g(r)}),a()(),o(18,"div",65)(19,"label"),l(20,"End Date *"),a(),o(21,"input",69),x("ngModelChange",function(r){m(e);let s=d();return b(s.newLeaveRequest.endDate,r)||(s.newLeaveRequest.endDate=r),g(r)}),a()()(),o(22,"div",65)(23,"label"),l(24,"Reason"),a(),o(25,"textarea",70),x("ngModelChange",function(r){m(e);let s=d();return b(s.newLeaveRequest.reason,r)||(s.newLeaveRequest.reason=r),g(r)}),a()()(),o(26,"div",55)(27,"button",56),_("click",function(){m(e);let r=d();return g(r.closeLeaveRequestModal())}),l(28,"Cancel"),a(),o(29,"button",32),_("click",function(){m(e);let r=d();return g(r.submitLeaveRequest())}),l(30,"Submit Request"),a()()()()}if(n&2){let e=d();c(11),C("ngModel",e.newLeaveRequest.leaveTypeId),c(),u("ngForOf",e.leaveTypes),c(5),C("ngModel",e.newLeaveRequest.startDate),c(4),C("ngModel",e.newLeaveRequest.endDate),c(4),C("ngModel",e.newLeaveRequest.reason)}}var wm=class n{constructor(t,e){this.payrollService=t;this.leaveService=e}activeTab="paystubs";paystubs=[];leaveBalances=[];leaveRequests=[];currentEmployeeId=1;selectedPaystub=null;showPaystubModal=!1;showLeaveRequestModal=!1;newLeaveRequest={leaveTypeId:0,startDate:"",endDate:"",reason:""};leaveTypes=[];ngOnInit(){this.loadPaystubs(),this.loadLeaveBalances(),this.loadLeaveRequests(),this.loadLeaveTypes()}loadPaystubs(){this.payrollService.getPaystubs(this.currentEmployeeId).subscribe({next:t=>this.paystubs=t,error:t=>console.error("Error loading paystubs:",t)})}loadLeaveBalances(){this.leaveService.getEmployeeBalances(this.currentEmployeeId).subscribe({next:t=>this.leaveBalances=t,error:t=>console.error("Error loading leave balances:",t)})}loadLeaveRequests(){this.leaveService.getRequestsByEmployee(this.currentEmployeeId).subscribe({next:t=>this.leaveRequests=t,error:t=>console.error("Error loading leave requests:",t)})}loadLeaveTypes(){this.leaveService.getAllLeaveTypes().subscribe({next:t=>this.leaveTypes=t,error:t=>console.error("Error loading leave types:",t)})}viewPaystub(t){this.selectedPaystub=t,this.showPaystubModal=!0}closePaystubModal(){this.showPaystubModal=!1,this.selectedPaystub=null}openLeaveRequestModal(){this.newLeaveRequest={leaveTypeId:this.leaveTypes.length>0?this.leaveTypes[0].id:0,startDate:"",endDate:"",reason:""},this.showLeaveRequestModal=!0}closeLeaveRequestModal(){this.showLeaveRequestModal=!1}submitLeaveRequest(){let t={employeeId:this.currentEmployeeId,leaveTypeId:this.newLeaveRequest.leaveTypeId,startDate:this.newLeaveRequest.startDate,endDate:this.newLeaveRequest.endDate,reason:this.newLeaveRequest.reason};this.leaveService.createRequest(t).subscribe({next:()=>{this.closeLeaveRequestModal(),this.loadLeaveRequests(),this.loadLeaveBalances(),alert("Leave request submitted successfully!")},error:e=>{console.error("Error submitting leave request:",e),alert("Error submitting leave request")}})}getPayPeriod(t){if(t.payrollRun){let e=new Date(t.payrollRun.periodStartDate),i=new Date(t.payrollRun.periodEndDate);return`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${i.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}return"N/A"}getPayDate(t){return t.payrollRun?.payDate?new Date(t.payrollRun.payDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}getLeaveTypeName(t){let e=this.leaveTypes.find(i=>i.id===t);return e?e.name:"Unknown"}getStatusClass(t){switch(t){case"APPROVED":return"approved";case"REJECTED":return"rejected";case"CANCELLED":return"cancelled";default:return"pending"}}downloadPaystub(t){alert("Pay stub download functionality will be implemented")}getTotalEntitlement(t){return(t.openingBalance||0)+(t.credited||0)+(t.carryForward||0)}getBalancePercentage(t){let e=this.getTotalEntitlement(t);return e===0?0:(t.availableBalance||0)/e*100}getLeaveDays(t){if(t.totalDays!==void 0&&t.totalDays!==null)return t.totalDays;if(t.startDate&&t.endDate){let e=new Date(t.startDate),i=new Date(t.endDate),r=Math.abs(i.getTime()-e.getTime());return Math.ceil(r/(1e3*60*60*24))+1}return 0}static \u0275fac=function(e){return new(e||n)(w(vt),w(Si))};static \u0275cmp=k({type:n,selectors:[["app-employee-self-service"]],decls:19,vars:11,consts:[[1,"ess-container"],[1,"page-header"],[1,"tabs"],[1,"tab",3,"click"],[1,"fas","fa-file-invoice-dollar"],[1,"fas","fa-clock"],[1,"fas","fa-calendar-alt"],["class","tab-content",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"tab-content"],[1,"section-header"],[1,"paystubs-grid"],["class","paystub-card",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"paystub-card",3,"click"],[1,"card-header"],[1,"period"],[1,"pay-date"],[1,"card-body"],[1,"amount-row"],[1,"label"],[1,"amount"],[1,"amount","deduction"],[1,"amount-row","net"],[1,"card-footer"],[1,"btn-link",3,"click"],[1,"fas","fa-download"],[1,"no-data"],[1,"fas","fa-file-invoice"],[1,"balance-cards"],["class","balance-card",4,"ngFor","ngForOf"],["class","no-data small",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"balance-card"],[1,"balance-type"],[1,"balance-value"],[1,"available"],[1,"total"],[1,"balance-bar"],[1,"bar-fill"],[1,"no-data","small"],[1,"status-badge",3,"ngClass"],["colspan","6",1,"no-data-row"],[1,"info-card"],[1,"fas","fa-info-circle"],[1,"modal-overlay",3,"click"],[1,"modal","paystub-modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"modal-body"],[1,"paystub-section"],[1,"detail-row"],["class","detail-row",4,"ngIf"],[1,"detail-row","total"],[1,"paystub-section","net-section"],[1,"detail-row","net-pay"],[1,"modal",3,"click"],[1,"form-group"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"form-row"],["type","date","required","",3,"ngModelChange","ngModel"],["rows","3",3,"ngModelChange","ngModel"],[3,"value"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Employee Self-Service Portal"),a()(),o(4,"div",2)(5,"button",3),_("click",function(){return i.activeTab="paystubs"}),v(6,"i",4),l(7," Pay Stubs "),a(),o(8,"button",3),_("click",function(){return i.activeTab="attendance"}),v(9,"i",5),l(10," Attendance "),a(),o(11,"button",3),_("click",function(){return i.activeTab="leave"}),v(12,"i",6),l(13," Leave "),a()(),M(14,bB,7,2,"div",7)(15,wB,32,4,"div",7)(16,OB,8,0,"div",7),a(),M(17,VB,14,1,"div",8)(18,UB,31,5,"div",8)),e&2&&(c(5),L("active",i.activeTab==="paystubs"),c(3),L("active",i.activeTab==="attendance"),c(3),L("active",i.activeTab==="leave"),c(3),u("ngIf",i.activeTab==="paystubs"),c(),u("ngIf",i.activeTab==="leave"),c(),u("ngIf",i.activeTab==="attendance"),c(),u("ngIf",i.showPaystubModal),c(),u("ngIf",i.showLeaveRequestModal))},dependencies:[Ae,ae,A,N,Fe,z,G,B,H,V,ve,F,he,Vt],styles:[".ess-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{margin-bottom:20px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:teal;margin:0}.tabs[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:24px;border-bottom:2px solid #eee}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:12px 24px;background:none;border:none;cursor:pointer;font-size:14px;color:#666;display:flex;align-items:center;gap:8px;border-bottom:2px solid transparent;margin-bottom:-2px;transition:all .3s}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:teal}.tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:teal;border-bottom-color:teal;font-weight:600}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:8px;transition:all .3s ease}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.paystubs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;margin-bottom:32px}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;cursor:pointer;transition:all .3s}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:teal;color:#fff;padding:16px;border-radius:8px 8px 0 0}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .period[_ngcontent-%COMP%]{display:block;font-weight:600}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .pay-date[_ngcontent-%COMP%]{font-size:12px;opacity:.8}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:16px}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .amount-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f0f0f0}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .amount-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#666}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .amount-row[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-family:monospace;font-weight:500}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .amount-row[_ngcontent-%COMP%]   .amount.deduction[_ngcontent-%COMP%]{color:#dc3545}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .amount-row.net[_ngcontent-%COMP%]{border-bottom:none;padding-top:12px}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .amount-row.net[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#333}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .amount-row.net[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#28a745}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:12px 16px;border-top:1px solid #eee}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background:none;border:none;color:teal;cursor:pointer;font-size:13px}.paystubs-grid[_ngcontent-%COMP%]   .paystub-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.balance-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;margin-bottom:32px}.balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-type[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:8px}.balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-value[_ngcontent-%COMP%]{margin-bottom:12px}.balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-value[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:teal}.balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-value[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:14px;color:#999}.balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-bar[_ngcontent-%COMP%]{height:6px;background:#e9ecef;border-radius:3px;overflow:hidden}.balance-cards[_ngcontent-%COMP%]   .balance-card[_ngcontent-%COMP%]   .balance-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;background:teal;border-radius:3px}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#333}.data-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:4px;font-size:11px}.data-table[_ngcontent-%COMP%]   .status-badge.approved[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.data-table[_ngcontent-%COMP%]   .status-badge.rejected[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.data-table[_ngcontent-%COMP%]   .status-badge.cancelled[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d}.data-table[_ngcontent-%COMP%]   .status-badge.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.data-table[_ngcontent-%COMP%]   .no-data-row[_ngcontent-%COMP%]{text-align:center;color:#999;padding:40px}.no-data[_ngcontent-%COMP%]{text-align:center;padding:60px;color:#999}.no-data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px}.no-data.small[_ngcontent-%COMP%]{padding:20px}.info-card[_ngcontent-%COMP%]{display:flex;gap:16px;background:#e3f2fd;padding:16px 20px;border-radius:8px;align-items:center}.info-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#1565c0}.info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:500px;max-width:90%;max-height:90vh;overflow-y:auto}.modal.paystub-modal[_ngcontent-%COMP%]{width:550px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee;background:teal;color:#fff;border-radius:8px 8px 0 0}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#fff}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:.8}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #eee}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:teal;font-size:14px}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:6px 0}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]   .detail-row.total[_ngcontent-%COMP%]{font-weight:600;border-top:1px solid #eee;margin-top:8px;padding-top:12px}.modal-body[_ngcontent-%COMP%]   .paystub-section[_ngcontent-%COMP%]   .detail-row.net-pay[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#28a745}.modal-body[_ngcontent-%COMP%]   .paystub-section.net-section[_ngcontent-%COMP%]{background:#f8f9fa;margin:0 -20px;padding:20px;border-bottom:none}.modal-body[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}"]})};var _M=[{code:"QUICKBOOKS",name:"QuickBooks",description:"Accounting system integration",category:"Accounting"},{code:"SAP",name:"SAP",description:"Enterprise resource planning integration",category:"Accounting"},{code:"ADP",name:"ADP",description:"Payroll provider integration",category:"Payroll"},{code:"JIRA",name:"Jira",description:"Project management tool integration",category:"Project"},{code:"SMTP",name:"SMTP",description:"Email notification gateway",category:"Notification"},{code:"SMS",name:"SMS",description:"SMS notification gateway",category:"Notification"}],vM=[{value:"HOURLY",label:"Every Hour"},{value:"DAILY",label:"Daily"},{value:"WEEKLY",label:"Weekly"},{value:"MONTHLY",label:"Monthly"},{value:"MANUAL",label:"Manual Only"}],yM=[{value:"SANDBOX",label:"Sandbox"},{value:"PRODUCTION",label:"Production"}];var Om=class n{constructor(t){this.http=t}apiUrl="/api/integrations";getAll(){return this.http.get(this.apiUrl)}getById(t){return this.http.get(`${this.apiUrl}/${t}`)}getByType(t){return this.http.get(`${this.apiUrl}/type/${t}`)}getActive(){return this.http.get(`${this.apiUrl}/active`)}getTypes(){return this.http.get(`${this.apiUrl}/types`)}getStatus(){return this.http.get(`${this.apiUrl}/status`)}create(t){return this.http.post(this.apiUrl,t)}update(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.apiUrl}/${t}`)}toggleActive(t){return this.http.post(`${this.apiUrl}/${t}/toggle-active`,{})}testConnection(t){return this.http.post(`${this.apiUrl}/${t}/test`,{})}triggerSync(t,e="FULL",i){let r=`${this.apiUrl}/${t}/sync?syncType=${e}`;return i&&(r+=`&triggeredBy=${i}`),this.http.post(r,{})}getSyncLogs(t){return this.http.get(`${this.apiUrl}/${t}/sync-logs`)}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function WB(n,t){if(n&1&&(o(0,"div",34)(1,"span",31),l(2,"Last Sync:"),a(),o(3,"span",32),l(4),a()()),n&2){let e=d(2).$implicit;c(3),L("success",e.lastSyncStatus==="SUCCESS")("failed",e.lastSyncStatus==="FAILED"),c(),E(" ",e.lastSyncStatus," ")}}function jB(n,t){if(n&1&&(o(0,"div",29)(1,"div",30)(2,"span",31),l(3,"Sync:"),a(),o(4,"span",32),l(5),a()(),M(6,WB,5,5,"div",33),a()),n&2){let e=d().$implicit;c(5),f(e.syncFrequency),c(),u("ngIf",e.lastSyncAt)}}function qB(n,t){if(n&1&&(o(0,"div",35),l(1),a()),n&2){let e=d().$implicit;c(),E(" ",e.environment," ")}}function HB(n,t){if(n&1){let e=O();o(0,"button",24),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.triggerSync(r.id))}),v(1,"i",36),l(2," Sync "),a()}if(n&2){let e=d(3);u("disabled",e.syncingData)}}function zB(n,t){if(n&1){let e=O();o(0,"div",10)(1,"div",11)(2,"div",12),v(3,"i",13),a(),o(4,"div",14)(5,"h3"),l(6),a(),o(7,"span",15),l(8),a()(),o(9,"div",16),l(10),a()(),o(11,"div",17)(12,"p",18),l(13),a(),M(14,jB,7,2,"div",19)(15,qB,2,1,"div",20),a(),o(16,"div",21)(17,"button",22),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.openEditModal(r))}),v(18,"i",23),l(19," Edit "),a(),o(20,"button",24),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.testConnection(r.id))}),v(21,"i",25),l(22," Test "),a(),M(23,HB,3,1,"button",26),o(24,"button",22),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.toggleActive(r.id))}),v(25,"i",13),a(),o(26,"button",27),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.deleteIntegration(r.id))}),v(27,"i",28),a()()()}if(n&2){let e=t.$implicit,i=d(2);c(3),u("ngClass",i.getTypeIcon(e.integrationType)),c(3),f(e.name),c(2),f(i.getIntegrationTypeName(e.integrationType)),c(),L("active",e.active)("inactive",!e.active),c(),E(" ",e.active?"Active":"Inactive"," "),c(3),f(e.description||"No description provided"),c(),u("ngIf",e.syncEnabled),c(),u("ngIf",e.environment),c(5),u("disabled",i.testingConnection),c(3),u("ngIf",e.syncEnabled),c(2),u("ngClass",e.active?"fa-toggle-on":"fa-toggle-off")}}function GB(n,t){if(n&1&&(o(0,"div",8),M(1,zB,28,14,"div",9),a()),n&2){let e=d();c(),u("ngForOf",e.integrations)}}function $B(n,t){if(n&1){let e=O();o(0,"div",37),v(1,"i",38),o(2,"h3"),l(3,"No Integrations Configured"),a(),o(4,"p"),l(5,"Connect your ERP to external systems like QuickBooks, SAP, ADP, and more."),a(),o(6,"button",2),_("click",function(){m(e);let r=d();return g(r.openCreateModal())}),l(7,"Add Your First Integration"),a()()}}function QB(n,t){n&1&&(o(0,"div",39),v(1,"i",40),o(2,"p"),l(3,"Loading integrations..."),a()())}function JB(n,t){if(n&1&&(o(0,"option",60),l(1),a()),n&2){let e=t.$implicit;u("value",e.code),c(),ne(" ",e.name," - ",e.description," ")}}function KB(n,t){if(n&1&&(o(0,"option",60),l(1),a()),n&2){let e=t.$implicit;u("value",e.value),c(),f(e.label)}}function YB(n,t){if(n&1){let e=O();o(0,"div",47)(1,"label"),l(2,"Environment"),a(),o(3,"select",61),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.environment,r)||(s.formData.environment=r),g(r)}),o(4,"option",49),l(5,"Select Environment"),a(),M(6,KB,2,2,"option",50),a()()}if(n&2){let e=d(2);c(3),C("ngModel",e.formData.environment),c(3),u("ngForOf",e.environments)}}function ZB(n,t){if(n&1){let e=O();o(0,"div",47)(1,"label"),l(2,"Company ID"),a(),o(3,"input",64),x("ngModelChange",function(r){m(e);let s=d(3);return b(s.formData.companyId,r)||(s.formData.companyId=r),g(r)}),a()()}if(n&2){let e=d(3);c(3),C("ngModel",e.formData.companyId)}}function XB(n,t){if(n&1){let e=O();o(0,"div",55)(1,"h4"),l(2,"API Configuration"),a(),o(3,"div",47)(4,"label"),l(5,"API URL"),a(),o(6,"input",62),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.apiUrl,r)||(s.formData.apiUrl=r),g(r)}),a()(),o(7,"div",63)(8,"div",47)(9,"label"),l(10,"Client ID"),a(),o(11,"input",64),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.clientId,r)||(s.formData.clientId=r),g(r)}),a()(),o(12,"div",47)(13,"label"),l(14,"Client Secret"),a(),o(15,"input",65),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.clientSecret,r)||(s.formData.clientSecret=r),g(r)}),a()()(),M(16,ZB,4,1,"div",53),a()}if(n&2){let e=d(2);c(6),C("ngModel",e.formData.apiUrl),c(5),C("ngModel",e.formData.clientId),c(4),C("ngModel",e.formData.clientSecret),c(),u("ngIf",e.isAccountingType())}}function eW(n,t){if(n&1){let e=O();o(0,"div",55)(1,"h4"),l(2,"SMTP Configuration"),a(),o(3,"div",63)(4,"div",47)(5,"label"),l(6,"SMTP Host"),a(),o(7,"input",66),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.smtpHost,r)||(s.formData.smtpHost=r),g(r)}),a()(),o(8,"div",47)(9,"label"),l(10,"SMTP Port"),a(),o(11,"input",67),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.smtpPort,r)||(s.formData.smtpPort=r),g(r)}),a()()(),o(12,"div",47)(13,"label"),l(14,"Security"),a(),o(15,"select",61),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.smtpSecurity,r)||(s.formData.smtpSecurity=r),g(r)}),o(16,"option",68),l(17,"TLS"),a(),o(18,"option",69),l(19,"SSL"),a(),o(20,"option",70),l(21,"None"),a()()(),o(22,"div",63)(23,"div",47)(24,"label"),l(25,"Username"),a(),o(26,"input",64),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.username,r)||(s.formData.username=r),g(r)}),a()(),o(27,"div",47)(28,"label"),l(29,"Password"),a(),o(30,"input",65),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.password,r)||(s.formData.password=r),g(r)}),a()()()()}if(n&2){let e=d(2);c(7),C("ngModel",e.formData.smtpHost),c(4),C("ngModel",e.formData.smtpPort),c(4),C("ngModel",e.formData.smtpSecurity),c(11),C("ngModel",e.formData.username),c(4),C("ngModel",e.formData.password)}}function tW(n,t){if(n&1){let e=O();o(0,"div",55)(1,"h4"),l(2,"SMS Configuration"),a(),o(3,"div",47)(4,"label"),l(5,"SMS Provider"),a(),o(6,"select",61),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.smsProvider,r)||(s.formData.smsProvider=r),g(r)}),o(7,"option",71),l(8,"Twilio"),a(),o(9,"option",72),l(10,"Vonage/Nexmo"),a(),o(11,"option",73),l(12,"AWS SNS"),a()()(),o(13,"div",63)(14,"div",47)(15,"label"),l(16,"Account SID"),a(),o(17,"input",64),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.smsAccountSid,r)||(s.formData.smsAccountSid=r),g(r)}),a()(),o(18,"div",47)(19,"label"),l(20,"Auth Token"),a(),o(21,"input",65),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.smsAuthToken,r)||(s.formData.smsAuthToken=r),g(r)}),a()()(),o(22,"div",47)(23,"label"),l(24,"From Number"),a(),o(25,"input",74),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.smsFromNumber,r)||(s.formData.smsFromNumber=r),g(r)}),a()()()}if(n&2){let e=d(2);c(6),C("ngModel",e.formData.smsProvider),c(11),C("ngModel",e.formData.smsAccountSid),c(4),C("ngModel",e.formData.smsAuthToken),c(4),C("ngModel",e.formData.smsFromNumber)}}function nW(n,t){if(n&1&&(o(0,"option",60),l(1),a()),n&2){let e=t.$implicit;u("value",e.value),c(),f(e.label)}}function iW(n,t){if(n&1){let e=O();o(0,"div",47)(1,"label"),l(2,"Sync Frequency"),a(),o(3,"select",61),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.formData.syncFrequency,r)||(s.formData.syncFrequency=r),g(r)}),M(4,nW,2,2,"option",50),a()()}if(n&2){let e=d(2);c(3),C("ngModel",e.formData.syncFrequency),c(),u("ngForOf",e.syncFrequencies)}}function rW(n,t){if(n&1){let e=O();o(0,"div",41),_("click",function(){m(e);let r=d();return g(r.closeModal())}),o(1,"div",42),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",43)(3,"h3"),l(4),a(),o(5,"button",44),_("click",function(){m(e);let r=d();return g(r.closeModal())}),v(6,"i",45),a()(),o(7,"div",46)(8,"div",47)(9,"label"),l(10,"Integration Type *"),a(),o(11,"select",48),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.integrationType,r)||(s.formData.integrationType=r),g(r)}),o(12,"option",49),l(13,"Select Type"),a(),M(14,JB,2,3,"option",50),a()(),o(15,"div",47)(16,"label"),l(17,"Name *"),a(),o(18,"input",51),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.name,r)||(s.formData.name=r),g(r)}),a()(),o(19,"div",47)(20,"label"),l(21,"Description"),a(),o(22,"textarea",52),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.description,r)||(s.formData.description=r),g(r)}),a()(),M(23,YB,7,2,"div",53)(24,XB,17,4,"div",54)(25,eW,31,5,"div",54)(26,tW,26,4,"div",54),o(27,"div",55)(28,"h4"),l(29,"Sync Settings"),a(),o(30,"div",56)(31,"label")(32,"input",57),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.syncEnabled,r)||(s.formData.syncEnabled=r),g(r)}),a(),l(33," Enable Automatic Sync "),a()(),M(34,iW,5,2,"div",53),a(),o(35,"div",56)(36,"label")(37,"input",57),x("ngModelChange",function(r){m(e);let s=d();return b(s.formData.active,r)||(s.formData.active=r),g(r)}),a(),l(38," Active "),a()()(),o(39,"div",58)(40,"button",59),_("click",function(){m(e);let r=d();return g(r.closeModal())}),l(41,"Cancel"),a(),o(42,"button",2),_("click",function(){m(e);let r=d();return g(r.saveIntegration())}),l(43),a()()()()}if(n&2){let e=d();c(4),f(e.isEditing?"Edit Integration":"Add New Integration"),c(7),C("ngModel",e.formData.integrationType),u("disabled",e.isEditing),c(3),u("ngForOf",e.integrationTypes),c(4),C("ngModel",e.formData.name),c(4),C("ngModel",e.formData.description),c(),u("ngIf",e.showTypeSpecificFields(e.formData.integrationType||"")),c(),u("ngIf",e.isAccountingType()||e.isPayrollType()||e.isProjectType()),c(),u("ngIf",e.isSmtpType()),c(),u("ngIf",e.isSmsType()),c(6),C("ngModel",e.formData.syncEnabled),c(2),u("ngIf",e.formData.syncEnabled),c(3),C("ngModel",e.formData.active),c(6),E(" ",e.isEditing?"Update":"Create"," Integration ")}}var Im=class n{constructor(t){this.integrationService=t}integrations=[];integrationTypes=_M;syncFrequencies=vM;environments=yM;showModal=!1;isEditing=!1;selectedIntegration=null;formData={};loading=!1;testingConnection=!1;syncingData=!1;testResult=null;ngOnInit(){this.loadIntegrations()}loadIntegrations(){this.loading=!0,this.integrationService.getAll().subscribe({next:t=>{this.integrations=t,this.loading=!1},error:t=>{console.error("Error loading integrations:",t),this.loading=!1}})}openCreateModal(){this.isEditing=!1,this.formData={integrationType:"",name:"",active:!0,syncEnabled:!1},this.testResult=null,this.showModal=!0}openEditModal(t){this.isEditing=!0,this.selectedIntegration=t,this.formData=T({},t),this.testResult=null,this.showModal=!0}closeModal(){this.showModal=!1,this.selectedIntegration=null,this.formData={}}saveIntegration(){this.isEditing&&this.selectedIntegration?.id?this.integrationService.update(this.selectedIntegration.id,this.formData).subscribe({next:()=>{this.loadIntegrations(),this.closeModal()},error:t=>console.error("Error updating integration:",t)}):this.integrationService.create(this.formData).subscribe({next:()=>{this.loadIntegrations(),this.closeModal()},error:t=>console.error("Error creating integration:",t)})}deleteIntegration(t){confirm("Are you sure you want to delete this integration?")&&this.integrationService.delete(t).subscribe({next:()=>this.loadIntegrations(),error:e=>console.error("Error deleting integration:",e)})}toggleActive(t){this.integrationService.toggleActive(t).subscribe({next:()=>this.loadIntegrations(),error:e=>console.error("Error toggling integration:",e)})}testConnection(t){this.testingConnection=!0,this.integrationService.testConnection(t).subscribe({next:e=>{this.testResult=e,this.testingConnection=!1,alert(e.success?"Connection successful!":"Connection failed: "+e.message)},error:e=>{console.error("Error testing connection:",e),this.testingConnection=!1,alert("Connection test failed")}})}triggerSync(t){this.syncingData=!0,this.integrationService.triggerSync(t,"FULL").subscribe({next:e=>{this.syncingData=!1,alert(`Sync ${e.status==="SUCCESS"?"completed successfully":"failed"}`),this.loadIntegrations()},error:e=>{console.error("Error triggering sync:",e),this.syncingData=!1,alert("Sync failed")}})}getIntegrationTypeName(t){let e=this.integrationTypes.find(i=>i.code===t);return e?e.name:t}getTypeIcon(t){switch(t){case"QUICKBOOKS":return"fa-calculator";case"SAP":return"fa-cubes";case"ADP":return"fa-users";case"JIRA":return"fa-tasks";case"SMTP":return"fa-envelope";case"SMS":return"fa-comment-sms";default:return"fa-plug"}}showTypeSpecificFields(t){return!!t}isAccountingType(){return["QUICKBOOKS","SAP"].includes(this.formData.integrationType||"")}isPayrollType(){return this.formData.integrationType==="ADP"}isProjectType(){return this.formData.integrationType==="JIRA"}isSmtpType(){return this.formData.integrationType==="SMTP"}isSmsType(){return this.formData.integrationType==="SMS"}static \u0275fac=function(e){return new(e||n)(w(Om))};static \u0275cmp=k({type:n,selectors:[["app-integrations"]],decls:11,vars:4,consts:[[1,"integrations-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],["class","integration-cards",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"integration-cards"],["class","integration-card",4,"ngFor","ngForOf"],[1,"integration-card"],[1,"card-header"],[1,"integration-icon"],[1,"fas",3,"ngClass"],[1,"integration-info"],[1,"integration-type"],[1,"status-badge"],[1,"card-body"],[1,"description"],["class","sync-info",4,"ngIf"],["class","environment-badge",4,"ngIf"],[1,"card-actions"],[1,"btn","btn-sm","btn-outline",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline",3,"click","disabled"],[1,"fas","fa-plug"],["class","btn btn-sm btn-outline",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"sync-info"],[1,"sync-status"],[1,"label"],[1,"value"],["class","last-sync",4,"ngIf"],[1,"last-sync"],[1,"environment-badge"],[1,"fas","fa-sync"],[1,"empty-state"],[1,"fas","fa-plug","fa-3x"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin","fa-2x"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Integration name",3,"ngModelChange","ngModel"],["rows","2","placeholder","Description",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],["class","form-section",4,"ngIf"],[1,"form-section"],[1,"form-group","checkbox-group"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[3,"value"],[3,"ngModelChange","ngModel"],["type","text","placeholder","https://api.example.com",3,"ngModelChange","ngModel"],[1,"form-row"],["type","text",3,"ngModelChange","ngModel"],["type","password",3,"ngModelChange","ngModel"],["type","text","placeholder","smtp.example.com",3,"ngModelChange","ngModel"],["type","number","placeholder","587",3,"ngModelChange","ngModel"],["value","TLS"],["value","SSL"],["value","NONE"],["value","TWILIO"],["value","NEXMO"],["value","AWS_SNS"],["type","text","placeholder","+1234567890",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Integration Settings"),a(),o(4,"button",2),_("click",function(){return i.openCreateModal()}),v(5,"i",3),l(6," Add Integration "),a()(),M(7,GB,2,1,"div",4)(8,$B,8,0,"div",5)(9,QB,4,0,"div",6),a(),M(10,rW,44,14,"div",7)),e&2&&(c(7),u("ngIf",!i.loading),c(),u("ngIf",!i.loading&&i.integrations.length===0),c(),u("ngIf",i.loading),c(),u("ngIf",i.showModal))},dependencies:[Ae,ae,A,N,Fe,z,G,B,pe,fe,H,V,F],styles:[".integrations-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.integration-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.integration-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden;transition:box-shadow .2s}.integration-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:#f8f9fa;border-bottom:1px solid #eee}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .integration-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:8px;background:teal;display:flex;align-items:center;justify-content:center;margin-right:12px}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .integration-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .integration-info[_ngcontent-%COMP%]{flex:1}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .integration-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;color:#333}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .integration-info[_ngcontent-%COMP%]   .integration-type[_ngcontent-%COMP%]{font-size:12px;color:#666}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.integration-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.integration-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:16px}.integration-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0 0 12px}.integration-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .sync-info[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:13px;margin-bottom:8px}.integration-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .sync-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#999}.integration-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .sync-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333;font-weight:500}.integration-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .sync-info[_ngcontent-%COMP%]   .value.success[_ngcontent-%COMP%]{color:#28a745}.integration-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .sync-info[_ngcontent-%COMP%]   .value.failed[_ngcontent-%COMP%]{color:#dc3545}.integration-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .environment-badge[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;background:#e9ecef;border-radius:4px;font-size:11px;text-transform:uppercase;color:#495057}.integration-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px 16px;background:#f8f9fa;border-top:1px solid #eee}.integration-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.empty-state[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ccc;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-outline[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;color:#333}.btn.btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:600px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#999;cursor:pointer}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;flex:1}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}.form-section[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background:#f8f9fa;border-radius:8px}.form-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:14px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:14px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background:#f8f9fa}.form-group.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.form-group.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}"]})};var CM=[{value:"TRAVEL",label:"Travel"},{value:"MEALS",label:"Meals"},{value:"PURCHASES",label:"Purchases"},{value:"OTHER",label:"Other"}],xM=[{value:"DRAFT",label:"Draft",color:"secondary"},{value:"PENDING_APPROVAL",label:"Pending Approval",color:"warning"},{value:"APPROVED",label:"Approved",color:"success"},{value:"REJECTED",label:"Rejected",color:"danger"},{value:"RETURNED",label:"Returned",color:"info"}],bM=[{value:"PENDING",label:"Pending",color:"warning"},{value:"IN_PROGRESS",label:"In Progress",color:"info"},{value:"COMPLETED",label:"Completed",color:"success"},{value:"CANCELLED",label:"Cancelled",color:"danger"}],MM=[{value:"CASH",label:"Cash"},{value:"CREDIT_CARD",label:"Credit Card"},{value:"DEBIT_CARD",label:"Debit Card"},{value:"CORPORATE_CARD",label:"Corporate Card"},{value:"BANK_TRANSFER",label:"Bank Transfer"},{value:"OTHER",label:"Other"}];var Ma=class n{constructor(t){this.http=t}apiUrl="/api/expenses";getAllCategories(){return this.http.get(`${this.apiUrl}/categories`)}getActiveCategories(){return this.http.get(`${this.apiUrl}/categories/active`)}getCategoryById(t){return this.http.get(`${this.apiUrl}/categories/${t}`)}createCategory(t){return this.http.post(`${this.apiUrl}/categories`,t)}updateCategory(t,e){return this.http.put(`${this.apiUrl}/categories/${t}`,e)}deleteCategory(t){return this.http.delete(`${this.apiUrl}/categories/${t}`)}initializeDefaultCategories(){return this.http.post(`${this.apiUrl}/categories/init`,{})}getAllRequests(){return this.http.get(this.apiUrl)}getRequestById(t){return this.http.get(`${this.apiUrl}/${t}`)}getRequestsByEmployee(t){return this.http.get(`${this.apiUrl}/employee/${t}`)}getRequestsByStatus(t){return this.http.get(`${this.apiUrl}/status/${t}`)}getPendingApprovals(t){return this.http.get(`${this.apiUrl}/pending-approvals/${t}`)}getPendingReimbursements(){return this.http.get(`${this.apiUrl}/pending-reimbursements`)}getApprovedNotPosted(){return this.http.get(`${this.apiUrl}/approved-not-posted`)}getStatistics(){return this.http.get(`${this.apiUrl}/statistics`)}getExpensesByCategory(t,e){let i=`${this.apiUrl}/by-category`,r=[];return t&&r.push(`startDate=${t}`),e&&r.push(`endDate=${e}`),r.length>0&&(i+="?"+r.join("&")),this.http.get(i)}createRequest(t){return this.http.post(this.apiUrl,t)}updateRequest(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteRequest(t){return this.http.delete(`${this.apiUrl}/${t}`)}addItem(t,e){return this.http.post(`${this.apiUrl}/${t}/items`,e)}removeItem(t,e){return this.http.delete(`${this.apiUrl}/${t}/items/${e}`)}submitRequest(t,e){let i=`${this.apiUrl}/${t}/submit`;return e&&(i+=`?submittedBy=${e}`),this.http.post(i,{})}approveRequest(t,e){return this.http.post(`${this.apiUrl}/${t}/approve`,e)}rejectRequest(t,e){return this.http.post(`${this.apiUrl}/${t}/reject`,{reason:e})}returnRequest(t,e){return this.http.post(`${this.apiUrl}/${t}/return`,{reason:e})}markReimbursed(t,e){return this.http.post(`${this.apiUrl}/${t}/reimburse`,{payrollRecordId:e})}postToAccounts(t,e){return this.http.post(`${this.apiUrl}/${t}/post-to-accounts`,{accountingReference:e})}static \u0275fac=function(e){return new(e||n)(Q(le))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function oW(n,t){if(n&1&&(o(0,"option",28),l(1),a()),n&2){let e=t.$implicit;u("value",e.value),c(),f(e.label)}}function aW(n,t){if(n&1&&(o(0,"span",46),l(1),a()),n&2){let e=d().$implicit,i=d(2);u("ngClass",e.reimbursementStatus==null?null:e.reimbursementStatus.toLowerCase()),c(),E(" ",i.getReimbursementLabel(e.reimbursementStatus)," ")}}function sW(n,t){n&1&&(o(0,"span"),l(1,"N/A"),a())}function lW(n,t){if(n&1){let e=O();o(0,"button",47),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.editExpense(r.id))}),v(1,"i",48),a()}}function cW(n,t){if(n&1){let e=O();o(0,"button",49),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.submitExpense(r))}),v(1,"i",50),a()}}function dW(n,t){if(n&1){let e=O();o(0,"button",51),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.approveExpense(r))}),v(1,"i",52),a()}}function pW(n,t){if(n&1){let e=O();o(0,"button",53),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.rejectExpense(r))}),v(1,"i",54),a()}}function uW(n,t){if(n&1){let e=O();o(0,"button",55),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.markReimbursed(r))}),v(1,"i",56),a()}}function mW(n,t){if(n&1){let e=O();o(0,"button",57),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.postToAccounts(r))}),v(1,"i",58),a()}}function gW(n,t){if(n&1){let e=O();o(0,"button",59),_("click",function(){m(e);let r=d().$implicit,s=d(2);return g(s.deleteExpense(r.id))}),v(1,"i",60),a()}}function fW(n,t){if(n&1){let e=O();o(0,"tr")(1,"td",31),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td",32),l(10),a(),o(11,"td")(12,"span",33),l(13),a()(),o(14,"td"),M(15,aW,2,2,"span",34)(16,sW,2,0,"span",35),a(),o(17,"td",36)(18,"button",37),_("click",function(){let r=m(e).$implicit,s=d(2);return g(s.viewExpense(r.id))}),v(19,"i",38),a(),M(20,lW,2,0,"button",39)(21,cW,2,0,"button",40)(22,dW,2,0,"button",41)(23,pW,2,0,"button",42)(24,uW,2,0,"button",43)(25,mW,2,0,"button",44)(26,gW,2,0,"button",45),a()()}if(n&2){let e=t.$implicit,i=d(2);c(2),f(e.requestNumber),c(2),f(e.title),c(2),ne("",e.employee==null?null:e.employee.firstName," ",e.employee==null?null:e.employee.lastName),c(2),f(i.formatDate(e.expenseDate)),c(2),f(i.formatCurrency(e.totalAmount)),c(2),u("ngClass",i.getStatusColor(e.status)),c(),E(" ",i.getStatusLabel(e.status)," "),c(2),u("ngIf",e.reimbursementRequired&&e.reimbursementStatus),c(),u("ngIf",!e.reimbursementRequired),c(4),u("ngIf",e.status==="DRAFT"),c(),u("ngIf",e.status==="DRAFT"),c(),u("ngIf",e.status==="PENDING_APPROVAL"),c(),u("ngIf",e.status==="PENDING_APPROVAL"),c(),u("ngIf",e.status==="APPROVED"&&e.reimbursementStatus==="PENDING"),c(),u("ngIf",e.status==="APPROVED"&&!e.postedToAccounts),c(),u("ngIf",e.status==="DRAFT")}}function hW(n,t){if(n&1&&(o(0,"div",29)(1,"table")(2,"thead")(3,"tr")(4,"th"),l(5,"Request #"),a(),o(6,"th"),l(7,"Title"),a(),o(8,"th"),l(9,"Employee"),a(),o(10,"th"),l(11,"Date"),a(),o(12,"th"),l(13,"Amount"),a(),o(14,"th"),l(15,"Status"),a(),o(16,"th"),l(17,"Reimbursement"),a(),o(18,"th"),l(19,"Actions"),a()()(),o(20,"tbody"),M(21,fW,27,17,"tr",30),a()()()),n&2){let e=d();c(21),u("ngForOf",e.filteredExpenses)}}function _W(n,t){if(n&1){let e=O();o(0,"button",2),_("click",function(){m(e);let r=d(2);return g(r.createExpense())}),l(1," Create Expense "),a()}}function vW(n,t){if(n&1&&(o(0,"div",61),v(1,"i",62),o(2,"h3"),l(3,"No Expenses Found"),a(),o(4,"p"),l(5),a(),M(6,_W,2,0,"button",63),a()),n&2){let e=d();c(5),f(e.expenses.length===0?"Create your first expense report.":"No expenses match your filters."),c(),u("ngIf",e.expenses.length===0)}}function yW(n,t){n&1&&(o(0,"div",64),v(1,"i",65),o(2,"p"),l(3,"Loading expenses..."),a()())}var Dm=class n{constructor(t,e){this.expenseService=t;this.router=e}expenses=[];filteredExpenses=[];expenseStatuses=xM;reimbursementStatuses=bM;loading=!1;filterStatus="";searchTerm="";viewMode="all";statistics={};ngOnInit(){this.loadExpenses(),this.loadStatistics()}loadExpenses(){this.loading=!0,this.expenseService.getAllRequests().subscribe({next:t=>{this.expenses=t,this.applyFilters(),this.loading=!1},error:t=>{console.error("Error loading expenses:",t),this.loading=!1}})}loadStatistics(){this.expenseService.getStatistics().subscribe({next:t=>this.statistics=t,error:t=>console.error("Error loading statistics:",t)})}applyFilters(){this.filteredExpenses=this.expenses.filter(t=>{let e=!this.filterStatus||t.status===this.filterStatus,i=!this.searchTerm||t.requestNumber?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.title?.toLowerCase().includes(this.searchTerm.toLowerCase())||t.employee?.firstName?.toLowerCase().includes(this.searchTerm.toLowerCase()),r=!0;switch(this.viewMode){case"pending":r=t.status==="PENDING_APPROVAL";break;case"approved":r=t.status==="APPROVED";break;case"reimbursement":r=t.status==="APPROVED"&&t.reimbursementStatus==="PENDING";break}return e&&i&&r})}setViewMode(t){this.viewMode=t,this.applyFilters()}createExpense(){this.router.navigate(["/app/expenses/new"])}viewExpense(t){this.router.navigate(["/app/expenses",t])}editExpense(t){this.router.navigate(["/app/expenses",t,"edit"])}submitExpense(t){confirm("Submit this expense for approval?")&&this.expenseService.submitRequest(t.id).subscribe({next:()=>{this.loadExpenses(),this.loadStatistics()},error:e=>{console.error("Error submitting expense:",e),alert("Failed to submit expense")}})}approveExpense(t){confirm("Approve this expense?")&&this.expenseService.approveRequest(t.id,{approvedAmount:t.totalAmount}).subscribe({next:()=>{this.loadExpenses(),this.loadStatistics()},error:e=>{console.error("Error approving expense:",e),alert("Failed to approve expense")}})}rejectExpense(t){let e=prompt("Enter rejection reason:");e&&this.expenseService.rejectRequest(t.id,e).subscribe({next:()=>{this.loadExpenses(),this.loadStatistics()},error:i=>{console.error("Error rejecting expense:",i),alert("Failed to reject expense")}})}markReimbursed(t){confirm("Mark this expense as reimbursed?")&&this.expenseService.markReimbursed(t.id).subscribe({next:()=>{this.loadExpenses(),alert("Expense marked as reimbursed")},error:e=>{console.error("Error marking reimbursed:",e),alert("Failed to mark as reimbursed")}})}postToAccounts(t){let e=prompt("Enter accounting reference:");e&&this.expenseService.postToAccounts(t.id,e).subscribe({next:()=>{this.loadExpenses(),alert("Expense posted to accounts")},error:i=>{console.error("Error posting to accounts:",i),alert("Failed to post to accounts")}})}deleteExpense(t){confirm("Are you sure you want to delete this expense?")&&this.expenseService.deleteRequest(t).subscribe({next:()=>{this.loadExpenses(),this.loadStatistics()},error:e=>{console.error("Error deleting expense:",e),alert("Failed to delete expense")}})}getStatusLabel(t){let e=this.expenseStatuses.find(i=>i.value===t);return e?e.label:t}getStatusColor(t){let e=this.expenseStatuses.find(i=>i.value===t);return e?e.color:"secondary"}getReimbursementLabel(t){let e=this.reimbursementStatuses.find(i=>i.value===t);return e?e.label:t}formatDate(t){return t?new Date(t).toLocaleDateString():""}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0)}static \u0275fac=function(e){return new(e||n)(w(Ma),w(ue))};static \u0275cmp=k({type:n,selectors:[["app-expense-list"]],decls:52,vars:18,consts:[[1,"expense-list-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"stats-cards"],[1,"stat-card",3,"click"],[1,"stat-icon"],[1,"fas","fa-file-invoice-dollar"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","warning",3,"click"],[1,"fas","fa-clock"],[1,"stat-card","success",3,"click"],[1,"fas","fa-check-circle"],[1,"stat-card","info",3,"click"],[1,"fas","fa-money-bill-wave"],[1,"filters-section"],[1,"search-box"],[1,"fas","fa-search"],["type","text","placeholder","Search by request number, title, or employee...",3,"ngModelChange","ngModel"],[1,"filter-group"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","expense-table",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","loading-state",4,"ngIf"],[3,"value"],[1,"expense-table"],[4,"ngFor","ngForOf"],[1,"request-number"],[1,"amount"],[1,"status-badge",3,"ngClass"],["class","reimbursement-badge",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"actions"],["title","View",1,"btn-icon",3,"click"],[1,"fas","fa-eye"],["class","btn-icon","title","Edit",3,"click",4,"ngIf"],["class","btn-icon","title","Submit",3,"click",4,"ngIf"],["class","btn-icon success","title","Approve",3,"click",4,"ngIf"],["class","btn-icon danger","title","Reject",3,"click",4,"ngIf"],["class","btn-icon info","title","Mark Reimbursed",3,"click",4,"ngIf"],["class","btn-icon","title","Post to Accounts",3,"click",4,"ngIf"],["class","btn-icon danger","title","Delete",3,"click",4,"ngIf"],[1,"reimbursement-badge",3,"ngClass"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Submit",1,"btn-icon",3,"click"],[1,"fas","fa-paper-plane"],["title","Approve",1,"btn-icon","success",3,"click"],[1,"fas","fa-check"],["title","Reject",1,"btn-icon","danger",3,"click"],[1,"fas","fa-times"],["title","Mark Reimbursed",1,"btn-icon","info",3,"click"],[1,"fas","fa-money-check"],["title","Post to Accounts",1,"btn-icon",3,"click"],[1,"fas","fa-book"],["title","Delete",1,"btn-icon","danger",3,"click"],[1,"fas","fa-trash"],[1,"empty-state"],[1,"fas","fa-receipt","fa-3x"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin","fa-2x"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Expense Management"),a(),o(4,"button",2),_("click",function(){return i.createExpense()}),v(5,"i",3),l(6," New Expense "),a()(),o(7,"div",4)(8,"div",5),_("click",function(){return i.setViewMode("all")}),o(9,"div",6),v(10,"i",7),a(),o(11,"div",8)(12,"span",9),l(13),a(),o(14,"span",10),l(15,"Total"),a()()(),o(16,"div",11),_("click",function(){return i.setViewMode("pending")}),o(17,"div",6),v(18,"i",12),a(),o(19,"div",8)(20,"span",9),l(21),a(),o(22,"span",10),l(23,"Pending Approval"),a()()(),o(24,"div",13),_("click",function(){return i.setViewMode("approved")}),o(25,"div",6),v(26,"i",14),a(),o(27,"div",8)(28,"span",9),l(29),a(),o(30,"span",10),l(31,"Approved"),a()()(),o(32,"div",15),_("click",function(){return i.setViewMode("reimbursement")}),o(33,"div",6),v(34,"i",16),a(),o(35,"div",8)(36,"span",9),l(37),a(),o(38,"span",10),l(39,"Pending Reimbursement"),a()()()(),o(40,"div",17)(41,"div",18),v(42,"i",19),o(43,"input",20),x("ngModelChange",function(s){return b(i.searchTerm,s)||(i.searchTerm=s),s}),_("ngModelChange",function(){return i.applyFilters()}),a()(),o(44,"div",21)(45,"select",22),x("ngModelChange",function(s){return b(i.filterStatus,s)||(i.filterStatus=s),s}),_("ngModelChange",function(){return i.applyFilters()}),o(46,"option",23),l(47,"All Statuses"),a(),M(48,oW,2,2,"option",24),a()()(),M(49,hW,22,1,"div",25)(50,vW,7,2,"div",26)(51,yW,4,0,"div",27),a()),e&2&&(c(8),L("active",i.viewMode==="all"),c(5),f(i.expenses.length),c(3),L("active",i.viewMode==="pending"),c(5),f(i.statistics.totalPending||0),c(3),L("active",i.viewMode==="approved"),c(5),f(i.statistics.totalApproved||0),c(3),L("active",i.viewMode==="reimbursement"),c(5),f(i.statistics.totalApproved||0),c(6),C("ngModel",i.searchTerm),c(2),C("ngModel",i.filterStatus),c(3),u("ngForOf",i.expenseStatuses),c(),u("ngIf",!i.loading&&i.filteredExpenses.length>0),c(),u("ngIf",!i.loading&&i.filteredExpenses.length===0),c(),u("ngIf",i.loading))},dependencies:[Ae,ae,A,N,Fe,z,G,B,H,V,F],styles:[".expense-list-container[_ngcontent-%COMP%]{padding:20px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.stats-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;cursor:pointer;transition:all .2s;border:2px solid transparent}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026}.stat-card.active[_ngcontent-%COMP%]{border-color:teal}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:8px;background:teal;display:flex;align-items:center;justify-content:center;margin-right:16px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff}.stat-card.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#ffc107}.stat-card.success[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#28a745}.stat-card.info[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#17a2b8}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#666}.filters-section[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:20px}.filters-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1;position:relative}.filters-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#999}.filters-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px 10px 36px;border:1px solid #ddd;border-radius:6px;font-size:14px}.filters-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:150px}.filters-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.expense-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #eee}.expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;font-size:13px;color:#666;text-transform:uppercase}.expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f8f9fa}.expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .request-number[_ngcontent-%COMP%]{font-weight:500;color:teal}.expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600}.expense-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{white-space:nowrap}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.status-badge.secondary[_ngcontent-%COMP%]{background:#e9ecef;color:#495057}.status-badge.warning[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-badge.success[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-badge.danger[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.status-badge.info[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.reimbursement-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:500;text-transform:uppercase}.reimbursement-badge.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.reimbursement-badge.in_progress[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.reimbursement-badge.completed[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.reimbursement-badge.cancelled[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:6px 8px;cursor:pointer;color:#666;border-radius:4px;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}.btn-icon.success[_ngcontent-%COMP%]:hover{background:#d4edda;color:#155724}.btn-icon.danger[_ngcontent-%COMP%]:hover{background:#f8d7da;color:#721c24}.btn-icon.info[_ngcontent-%COMP%]:hover{background:#d1ecf1;color:#0c5460}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.empty-state[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;color:#666}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ccc;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px}"]})};function CW(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),a(),o(3,"td"),l(4),a(),o(5,"td"),l(6),a(),o(7,"td"),l(8),a(),o(9,"td"),l(10),a(),o(11,"td"),l(12),a(),o(13,"td",30)(14,"button",31),_("click",function(){let r=m(e).index,s=d(3);return g(s.openItemModal(r))}),v(15,"i",32),a(),o(16,"button",33),_("click",function(){let r=m(e).index,s=d(3);return g(s.removeItem(r))}),v(17,"i",34),a()()()}if(n&2){let e=t.$implicit,i=d(3);c(2),f(i.getCategoryName(e.categoryId||(e.category==null?null:e.category.id))),c(2),f(e.description),c(2),f(e.expenseDate),c(2),f(e.vendor||"-"),c(2),f(i.formatCurrency(e.amount)),c(2),f(i.getPaymentMethodLabel(e.paymentMethod))}}function xW(n,t){if(n&1&&(o(0,"div",26)(1,"table")(2,"thead")(3,"tr")(4,"th"),l(5,"Category"),a(),o(6,"th"),l(7,"Description"),a(),o(8,"th"),l(9,"Date"),a(),o(10,"th"),l(11,"Vendor"),a(),o(12,"th"),l(13,"Amount"),a(),o(14,"th"),l(15,"Payment Method"),a(),o(16,"th"),l(17,"Actions"),a()()(),o(18,"tbody"),M(19,CW,18,6,"tr",27),a(),o(20,"tfoot")(21,"tr")(22,"td",28),l(23,"Total:"),a(),o(24,"td",29),l(25),a()()()()()),n&2){let e=d(2);c(19),u("ngForOf",e.expenseRequest.items),c(6),f(e.formatCurrency(e.expenseRequest.totalAmount))}}function bW(n,t){n&1&&(o(0,"div",35),v(1,"i",36),o(2,"p"),l(3,'No expense items added yet. Click "Add Item" to add expenses.'),a()())}function MW(n,t){if(n&1){let e=O();o(0,"div",5)(1,"div",6)(2,"h3"),l(3,"Expense Details"),a(),o(4,"div",7)(5,"label"),l(6,"Title *"),a(),o(7,"input",8),x("ngModelChange",function(r){m(e);let s=d();return b(s.expenseRequest.title,r)||(s.expenseRequest.title=r),g(r)}),a()(),o(8,"div",7)(9,"label"),l(10,"Description"),a(),o(11,"textarea",9),x("ngModelChange",function(r){m(e);let s=d();return b(s.expenseRequest.description,r)||(s.expenseRequest.description=r),g(r)}),a()(),o(12,"div",10)(13,"div",7)(14,"label"),l(15,"Expense Date"),a(),o(16,"input",11),x("ngModelChange",function(r){m(e);let s=d();return b(s.expenseRequest.expenseDate,r)||(s.expenseRequest.expenseDate=r),g(r)}),a()(),o(17,"div",7)(18,"label"),l(19,"Project Code"),a(),o(20,"input",12),x("ngModelChange",function(r){m(e);let s=d();return b(s.expenseRequest.projectCode,r)||(s.expenseRequest.projectCode=r),g(r)}),a()()(),o(21,"div",10)(22,"div",7)(23,"label"),l(24,"Period From"),a(),o(25,"input",11),x("ngModelChange",function(r){m(e);let s=d();return b(s.expenseRequest.periodFrom,r)||(s.expenseRequest.periodFrom=r),g(r)}),a()(),o(26,"div",7)(27,"label"),l(28,"Period To"),a(),o(29,"input",11),x("ngModelChange",function(r){m(e);let s=d();return b(s.expenseRequest.periodTo,r)||(s.expenseRequest.periodTo=r),g(r)}),a()()(),o(30,"div",13)(31,"label")(32,"input",14),x("ngModelChange",function(r){m(e);let s=d();return b(s.expenseRequest.reimbursementRequired,r)||(s.expenseRequest.reimbursementRequired=r),g(r)}),a(),l(33," Requires Reimbursement "),a()()(),o(34,"div",6)(35,"div",15)(36,"h3"),l(37,"Expense Items"),a(),o(38,"button",16),_("click",function(){m(e);let r=d();return g(r.openItemModal())}),v(39,"i",17),l(40," Add Item "),a()(),M(41,xW,26,2,"div",18)(42,bW,4,0,"div",19),a(),o(43,"div",20)(44,"button",21),_("click",function(){m(e);let r=d();return g(r.cancel())}),l(45,"Cancel"),a(),o(46,"button",22),_("click",function(){m(e);let r=d();return g(r.saveExpense())}),v(47,"i",23),l(48," Save as Draft "),a(),o(49,"button",24),_("click",function(){m(e);let r=d();return g(r.submitExpense())}),v(50,"i",25),l(51," Submit for Approval "),a()()()}if(n&2){let e=d();c(7),C("ngModel",e.expenseRequest.title),c(4),C("ngModel",e.expenseRequest.description),c(5),C("ngModel",e.expenseRequest.expenseDate),c(4),C("ngModel",e.expenseRequest.projectCode),c(5),C("ngModel",e.expenseRequest.periodFrom),c(4),C("ngModel",e.expenseRequest.periodTo),c(3),C("ngModel",e.expenseRequest.reimbursementRequired),c(9),u("ngIf",e.expenseRequest.items&&e.expenseRequest.items.length>0),c(),u("ngIf",!e.expenseRequest.items||e.expenseRequest.items.length===0),c(4),u("disabled",e.saving),c(3),u("disabled",e.saving||!e.expenseRequest.items||e.expenseRequest.items.length===0)}}function SW(n,t){n&1&&(o(0,"div",37),v(1,"i",38),o(2,"p"),l(3,"Loading expense..."),a()())}function PW(n,t){if(n&1&&(o(0,"option",60),l(1),a()),n&2){let e=t.$implicit;u("value",e.id),c(),ne(" ",e.name," (",e.expenseType,") ")}}function EW(n,t){if(n&1&&(o(0,"option",60),l(1),a()),n&2){let e=t.$implicit;u("value",e.value),c(),f(e.label)}}function wW(n,t){if(n&1){let e=O();o(0,"div",7)(1,"label"),l(2,"Client Code"),a(),o(3,"input",61),x("ngModelChange",function(r){m(e);let s=d(2);return b(s.itemForm.clientCode,r)||(s.itemForm.clientCode=r),g(r)}),a()()}if(n&2){let e=d(2);c(3),C("ngModel",e.itemForm.clientCode)}}function OW(n,t){if(n&1){let e=O();o(0,"div",39),_("click",function(){m(e);let r=d();return g(r.closeItemModal())}),o(1,"div",40),_("click",function(r){return m(e),g(r.stopPropagation())}),o(2,"div",41)(3,"h3"),l(4),a(),o(5,"button",42),_("click",function(){m(e);let r=d();return g(r.closeItemModal())}),v(6,"i",43),a()(),o(7,"div",44)(8,"div",7)(9,"label"),l(10,"Category *"),a(),o(11,"select",45),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.categoryId,r)||(s.itemForm.categoryId=r),g(r)}),o(12,"option",46),l(13,"Select Category"),a(),M(14,PW,2,3,"option",47),a()(),o(15,"div",7)(16,"label"),l(17,"Description *"),a(),o(18,"input",48),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.description,r)||(s.itemForm.description=r),g(r)}),a()(),o(19,"div",10)(20,"div",7)(21,"label"),l(22,"Date *"),a(),o(23,"input",11),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.expenseDate,r)||(s.itemForm.expenseDate=r),g(r)}),a()(),o(24,"div",7)(25,"label"),l(26,"Vendor"),a(),o(27,"input",49),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.vendor,r)||(s.itemForm.vendor=r),g(r)}),a()()(),o(28,"div",10)(29,"div",7)(30,"label"),l(31,"Amount *"),a(),o(32,"input",50),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.amount,r)||(s.itemForm.amount=r),g(r)}),a()(),o(33,"div",7)(34,"label"),l(35,"Currency"),a(),o(36,"select",45),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.currency,r)||(s.itemForm.currency=r),g(r)}),o(37,"option",51),l(38,"USD"),a(),o(39,"option",52),l(40,"EUR"),a(),o(41,"option",53),l(42,"GBP"),a(),o(43,"option",54),l(44,"INR"),a()()()(),o(45,"div",10)(46,"div",7)(47,"label"),l(48,"Quantity"),a(),o(49,"input",55),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.quantity,r)||(s.itemForm.quantity=r),g(r)}),a()(),o(50,"div",7)(51,"label"),l(52,"Payment Method"),a(),o(53,"select",45),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.paymentMethod,r)||(s.itemForm.paymentMethod=r),g(r)}),M(54,EW,2,2,"option",47),a()()(),o(55,"div",7)(56,"label"),l(57,"Receipt Number"),a(),o(58,"input",12),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.receiptNumber,r)||(s.itemForm.receiptNumber=r),g(r)}),a()(),o(59,"div",7)(60,"label"),l(61,"Notes"),a(),o(62,"textarea",56),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.notes,r)||(s.itemForm.notes=r),g(r)}),a()(),o(63,"div",13)(64,"label")(65,"input",14),x("ngModelChange",function(r){m(e);let s=d();return b(s.itemForm.billable,r)||(s.itemForm.billable=r),g(r)}),a(),l(66," Billable to Client "),a()(),M(67,wW,4,1,"div",57),a(),o(68,"div",58)(69,"button",21),_("click",function(){m(e);let r=d();return g(r.closeItemModal())}),l(70,"Cancel"),a(),o(71,"button",59),_("click",function(){m(e);let r=d();return g(r.saveItem())}),l(72),a()()()()}if(n&2){let e=d();c(4),f(e.editingItemIndex>=0?"Edit Item":"Add Expense Item"),c(7),C("ngModel",e.itemForm.categoryId),c(3),u("ngForOf",e.categories),c(4),C("ngModel",e.itemForm.description),c(5),C("ngModel",e.itemForm.expenseDate),c(4),C("ngModel",e.itemForm.vendor),c(5),C("ngModel",e.itemForm.amount),c(4),C("ngModel",e.itemForm.currency),c(13),C("ngModel",e.itemForm.quantity),c(4),C("ngModel",e.itemForm.paymentMethod),c(),u("ngForOf",e.paymentMethods),c(4),C("ngModel",e.itemForm.receiptNumber),c(4),C("ngModel",e.itemForm.notes),c(3),C("ngModel",e.itemForm.billable),c(2),u("ngIf",e.itemForm.billable),c(5),E(" ",e.editingItemIndex>=0?"Update":"Add"," Item ")}}var Sa=class n{constructor(t,e,i){this.expenseService=t;this.router=e;this.route=i}expenseRequest={title:"",description:"",items:[],reimbursementRequired:!0};categories=[];expenseTypes=CM;paymentMethods=MM;isEditing=!1;expenseId=null;loading=!1;saving=!1;showItemModal=!1;editingItemIndex=-1;itemForm={};ngOnInit(){this.loadCategories();let t=this.route.snapshot.paramMap.get("id");t&&t!=="new"&&(this.expenseId=parseInt(t),this.isEditing=!0,this.loadExpense())}loadCategories(){this.expenseService.getActiveCategories().subscribe({next:t=>this.categories=t,error:t=>console.error("Error loading categories:",t)})}loadExpense(){this.expenseId&&(this.loading=!0,this.expenseService.getRequestById(this.expenseId).subscribe({next:t=>{this.expenseRequest=t,this.loading=!1},error:t=>{console.error("Error loading expense:",t),this.loading=!1}}))}openItemModal(t=-1){this.editingItemIndex=t,t>=0&&this.expenseRequest.items?this.itemForm=T({},this.expenseRequest.items[t]):this.itemForm={description:"",amount:0,currency:"USD",quantity:1,paymentMethod:"CASH",expenseDate:new Date().toISOString().split("T")[0]},this.showItemModal=!0}closeItemModal(){this.showItemModal=!1,this.itemForm={},this.editingItemIndex=-1}saveItem(){this.expenseRequest.items||(this.expenseRequest.items=[]),this.editingItemIndex>=0?this.expenseRequest.items[this.editingItemIndex]=T({},this.itemForm):this.expenseRequest.items.push(T({},this.itemForm)),this.calculateTotal(),this.closeItemModal()}removeItem(t){this.expenseRequest.items&&(this.expenseRequest.items.splice(t,1),this.calculateTotal())}calculateTotal(){this.expenseRequest.items&&(this.expenseRequest.totalAmount=this.expenseRequest.items.reduce((t,e)=>t+(e.amount||0),0))}saveExpense(){this.saving=!0;let t=me(T({},this.expenseRequest),{items:this.expenseRequest.items?.map(e=>me(T({},e),{categoryId:e.category?.id||e.categoryId}))});this.isEditing&&this.expenseId?this.expenseService.updateRequest(this.expenseId,t).subscribe({next:()=>{this.saving=!1,this.router.navigate(["/app/expenses"])},error:e=>{console.error("Error updating expense:",e),this.saving=!1,alert("Failed to save expense")}}):this.expenseService.createRequest(t).subscribe({next:()=>{this.saving=!1,this.router.navigate(["/app/expenses"])},error:e=>{console.error("Error creating expense:",e),this.saving=!1,alert("Failed to create expense")}})}submitExpense(){this.expenseId?this.expenseService.submitRequest(this.expenseId).subscribe({next:()=>this.router.navigate(["/app/expenses"]),error:t=>{console.error("Error submitting expense:",t),alert("Failed to submit expense")}}):this.expenseService.createRequest(this.expenseRequest).subscribe({next:t=>{this.expenseService.submitRequest(t.id).subscribe({next:()=>this.router.navigate(["/app/expenses"]),error:e=>{console.error("Error submitting expense:",e),alert("Expense created but failed to submit")}})},error:t=>{console.error("Error creating expense:",t),alert("Failed to create expense")}})}cancel(){this.router.navigate(["/app/expenses"])}getCategoryName(t){let e=this.categories.find(i=>i.id===t);return e?e.name:""}getPaymentMethodLabel(t){let e=this.paymentMethods.find(i=>i.value===t);return e?e.label:t}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0)}static \u0275fac=function(e){return new(e||n)(w(Ma),w(ue),w(Ge))};static \u0275cmp=k({type:n,selectors:[["app-expense-form"]],decls:7,vars:4,consts:[[1,"expense-form-container"],[1,"page-header"],["class","form-content",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"form-content"],[1,"form-section"],[1,"form-group"],["type","text","placeholder","Enter expense title",3,"ngModelChange","ngModel"],["rows","3","placeholder","Describe the expense",3,"ngModelChange","ngModel"],[1,"form-row"],["type","date",3,"ngModelChange","ngModel"],["type","text","placeholder","Optional",3,"ngModelChange","ngModel"],[1,"form-group","checkbox-group"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"section-header"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-plus"],["class","items-table",4,"ngIf"],["class","empty-items",4,"ngIf"],[1,"form-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-outline",3,"click","disabled"],[1,"fas","fa-save"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-paper-plane"],[1,"items-table"],[4,"ngFor","ngForOf"],["colspan","4",1,"total-label"],["colspan","3",1,"total-amount"],[1,"actions"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["title","Remove",1,"btn-icon","danger",3,"click"],[1,"fas","fa-trash"],[1,"empty-items"],[1,"fas","fa-receipt"],[1,"loading-state"],[1,"fas","fa-spinner","fa-spin","fa-2x"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","What was this expense for?",3,"ngModelChange","ngModel"],["type","text","placeholder","Merchant/Vendor name",3,"ngModelChange","ngModel"],["type","number","step","0.01","min","0",3,"ngModelChange","ngModel"],["value","USD"],["value","EUR"],["value","GBP"],["value","INR"],["type","number","min","1",3,"ngModelChange","ngModel"],["rows","2","placeholder","Additional notes",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],[3,"value"],["type","text","placeholder","Client code",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3),a()(),M(4,MW,52,11,"div",2)(5,SW,4,0,"div",3),a(),M(6,OW,73,16,"div",4)),e&2&&(c(3),f(i.isEditing?"Edit Expense":"New Expense Request"),c(),u("ngIf",!i.loading),c(),u("ngIf",i.loading),c(),u("ngIf",i.showItemModal))},dependencies:[Ae,A,N,Fe,z,G,B,pe,fe,H,V,Se,F],styles:[".expense-form-container[_ngcontent-%COMP%]{padding:20px;max-width:900px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.form-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.form-section[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #eee}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:16px;color:#333}.form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:14px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:teal}.form-group.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.form-group.checkbox-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.items-table[_ngcontent-%COMP%]{overflow-x:auto}.items-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.items-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .items-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #eee}.items-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;font-size:12px;color:#666;text-transform:uppercase}.items-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.items-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600;background:#f8f9fa}.items-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{text-align:right}.items-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:16px;color:teal}.empty-items[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#999}.empty-items[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:12px}.empty-items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px 24px;background:#f8f9fa;border-radius:0 0 8px 8px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.btn.btn-primary[_ngcontent-%COMP%]{background:teal;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#066}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn.btn-outline[_ngcontent-%COMP%]{background:#fff;border:1px solid #008080;color:teal}.btn.btn-outline[_ngcontent-%COMP%]:hover{background:#f0fafa}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;padding:6px 8px;cursor:pointer;color:#666;border-radius:4px;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}.btn-icon.danger[_ngcontent-%COMP%]:hover{background:#f8d7da;color:#721c24}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:500px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #eee}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#999;cursor:pointer}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;flex:1}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #eee}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ccc;margin-bottom:16px}.actions[_ngcontent-%COMP%]{white-space:nowrap}"]})};var IW=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Gp},{path:"app",component:Kp,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Zp},{path:"settings/general",component:Xp},{path:"settings/finance",component:eu},{path:"settings/finance/tax-rates",component:su},{path:"settings/finance/currencies",component:lu},{path:"settings/finance/payment-modes",component:cu},{path:"settings/finance/expense-categories",component:du},{path:"settings/customer",component:nu},{path:"settings/contract",component:ru},{path:"settings/roles",component:ou},{path:"settings/roles/add",component:hl},{path:"settings/roles/edit/:id",component:hl},{path:"settings/staff",component:au},{path:"settings/staff/add",component:_l},{path:"settings/staff/edit/:id",component:_l},{path:"settings/prefixes",component:em},{path:"settings/integrations",component:Im},{path:"customers",component:pu},{path:"contracts",component:mu},{path:"inventory/groups",component:gu},{path:"inventory/items",component:hu},{path:"inventory/units",component:_u},{path:"inventory/warehouse",component:vu},{path:"inventory/suppliers",component:yu},{path:"inventory/valuation",component:Cu},{path:"inventory/ledger",component:bu},{path:"stock/grn",component:Mu},{path:"stock/issue",component:Su},{path:"stock/transfer",component:Pu},{path:"stock/adjustments",component:Eu},{path:"reports/stock-summary",component:wu},{path:"reports/valuation",component:Ou},{path:"reports/item-movement",component:Iu},{path:"reports/stock-ledger",component:Du},{path:"reports/group-wise",component:Tu},{path:"reports/warehouse-stock",component:ku},{path:"reports/reorder-level",component:Ru},{path:"reports/slow-moving",component:Au},{path:"reports/purchase-grn",component:Nu},{path:"purchase/requisition",component:Fu},{path:"purchase/fulfillment/convert-to-po",component:Vu},{path:"purchase/fulfillment/stock-issue",component:Lu},{path:"purchase/fulfillment/material-transfer",component:Uu},{path:"purchase/direct",component:Bu},{path:"reports/purchase/pr-list",component:Wu},{path:"reports/purchase/pr-pending",component:ju},{path:"reports/purchase/pr-history",component:qu},{path:"reports/purchase/po-list",component:Hu},{path:"reports/purchase/direct-purchase",component:zu},{path:"reports/purchase/stock-issue-transfer",component:Gu},{path:"audit/system",component:$u},{path:"audit/inventory",component:Qu},{path:"audit/purchase",component:Ju},{path:"purchase/requisition/:id/print",component:Ku},{path:"purchase/direct/:id/print",component:Yu},{path:"purchase/invoices",component:Xu},{path:"hr/organization/departments",component:tm},{path:"hr/organization/locations",component:nm},{path:"hr/organization/job-roles",component:im},{path:"hr/organization/grades",component:rm},{path:"hr/organization/designations",component:om},{path:"hr/organization/cost-centers",component:am},{path:"hr/organization/expense-centers",component:sm},{path:"hr/employees",component:lm},{path:"hr/employees/:id",component:cm},{path:"hr/documents/types",component:dm},{path:"hr/documents/reminders",component:pm},{path:"mis/hr-dashboard",component:um},{path:"mis/payroll-dashboard",component:mm},{path:"mis/attendance-dashboard",component:gm},{path:"mis/performance-dashboard",component:fm},{path:"mis/report-builder",component:hm},{path:"attendance/clock-in-out",component:ya},{path:"leave/types",component:Ca},{path:"leave/requests",component:xa},{path:"leave/holidays",component:ba},{path:"payroll/rules/salary-heads",component:ym},{path:"payroll/rules/pay-frequencies",component:Cm},{path:"payroll/rules/overtime-rules",component:xm},{path:"payroll/rules/tax-rules",component:bm},{path:"payroll/rules/statutory-rules",component:Mm},{path:"payroll/timesheets",component:Sm},{path:"payroll/calculation",component:Pm},{path:"payroll/process/:id",component:Em},{path:"payroll/self-service",component:wm},{path:"expenses",component:Dm},{path:"expenses/new",component:Sa},{path:"expenses/:id",component:Sa},{path:"expenses/:id/edit",component:Sa}]}],Tm=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=mt({type:n});static \u0275inj=ut({imports:[mr.forRoot(IW),mr]})};function DW(n,t){if(n&1){let e=O();o(0,"div",2),_("click",function(){let r=m(e).$implicit,s=d();return g(s.removeNotification(r.id))}),v(1,"i",3),o(2,"span",4),l(3),a(),o(4,"button",5),_("click",function(r){let s=m(e).$implicit;return d().removeNotification(s.id),g(r.stopPropagation())}),v(5,"i",6),a()()}if(n&2){let e=t.$implicit,i=d();u("ngClass","notification-"+e.type),c(),u("ngClass",i.getIcon(e.type)),c(2),f(e.message)}}var km=class n{constructor(t){this.notificationService=t}notifications=[];subscription;ngOnInit(){this.subscription=this.notificationService.notifications$.subscribe(t=>this.notifications=t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}removeNotification(t){this.notificationService.remove(t)}getIcon(t){switch(t){case"success":return"fa-check-circle";case"error":return"fa-times-circle";case"warning":return"fa-exclamation-triangle";case"info":return"fa-info-circle";default:return"fa-info-circle"}}static \u0275fac=function(e){return new(e||n)(w(Oe))};static \u0275cmp=k({type:n,selectors:[["app-notification"]],standalone:!1,decls:2,vars:1,consts:[[1,"notification-container"],["class","notification",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"notification",3,"click","ngClass"],[1,"fa",3,"ngClass"],[1,"message"],[1,"close-btn",3,"click"],[1,"fa","fa-times"]],template:function(e,i){e&1&&(o(0,"div",0),M(1,DW,6,3,"div",1),a()),e&2&&(c(),u("ngForOf",i.notifications))},dependencies:[ae,A],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:10px;max-width:400px}.notification[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 16px;border-radius:8px;box-shadow:0 4px 12px #00000026;cursor:pointer;animation:_ngcontent-%COMP%_slideIn .3s ease-out;min-width:300px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.notification[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{font-size:1.25rem}.notification[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{flex:1;font-size:.9rem;font-weight:500}.notification[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:4px;opacity:.7;transition:opacity .2s}.notification[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{opacity:1}.notification-success[_ngcontent-%COMP%]{background:#d4edda;border-left:4px solid #28a745;color:#155724}.notification-success[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#155724}.notification-error[_ngcontent-%COMP%]{background:#f8d7da;border-left:4px solid #dc3545;color:#721c24}.notification-error[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#721c24}.notification-warning[_ngcontent-%COMP%]{background:#fff3cd;border-left:4px solid #ffc107;color:#856404}.notification-warning[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#856404}.notification-info[_ngcontent-%COMP%]{background:#d1ecf1;border-left:4px solid #17a2b8;color:#0c5460}.notification-info[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{color:#0c5460}"]})};var Rm=class n{title="ERP System";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(e,i){e&1&&v(0,"app-notification")(1,"router-outlet")},dependencies:[uo,km],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}"]})};var Am=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=mt({type:n,bootstrap:[Rm]});static \u0275inj=ut({providers:[{provide:Ld,useClass:zp,multi:!0}],imports:[Ns,Rb,Ae,Fe,o2,ch,Tm,ya,Ca,xa,ba]})};th().bootstrapModule(Am,{}).catch(n=>console.error(n));
